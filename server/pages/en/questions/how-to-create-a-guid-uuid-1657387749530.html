<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>How to create a GUID / UUID | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="I&#x27;m trying to create globally-unique identifiers in JavaScript.  I&#x27;m not sure what routines are available on all browsers, how &quot;random&quot; and seeded the built-in random number generator is, etc.
The GUID / UUID should be at least 32 characters and should stay in the ASCII range to avoid trouble when passing them around.
    "/><meta property="og:title" content="How to create a GUID / UUID | Solutions Checker"/><meta property="og:description" content="I&#x27;m trying to create globally-unique identifiers in JavaScript.  I&#x27;m not sure what routines are available on all browsers, how &quot;random&quot; and seeded the built-in random number generator is, etc.
The GUID / UUID should be at least 32 characters and should stay in the ASCII range to avoid trouble when passing them around.
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"How to create a GUID / UUID","text":"I&apos;m trying to create globally-unique identifiers in JavaScript.  I&apos;m not sure what routines are available on all browsers, how &quot;random&quot; and seeded the built-in random number generator is, etc.\nThe GUID / UUID should be at least 32 characters and should stay in the ASCII range to avoid trouble when passing them around.\n    ","answerCount":30,"upVoteCount":500,"suggestedAnswer":[{"text":"[Edited 2021-10-16 to reflect latest best-practices for producing RFC4122-compliant UUIDs]\nMost readers here will want to use the uuid module.  It is well-tested and supported.\nThe crypto.randomUUID() function is an emerging standard that is supported in Node.js and an increasing number of browsers.\nIf neither of those work for you, there is this method (based on the original answer to this question):\n\n\nfunction uuidv4() {\n  return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =&gt;\n    (c ^ crypto.getRandomValues(new Uint8Array(1))[0] &amp; 15 &gt;&gt; c / 4).toString(16)\n  );\n}\n\nconsole.log(uuidv4());\n Run code snippetHide resultsExpand snippet\n\n\nNote: The use of any UUID generator that relies on Math.random() is strongly discouraged (including snippets featured in previous versions of this answer) for reasons best-explained here. TL;DR: Math.random()-based solutions do not provide good uniqueness guarantees.\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"UUIDs (Universally Unique IDentifier), also known as GUIDs (Globally Unique IDentifier), according to RFC 4122, are identifiers designed to provide certain uniqueness guarantees.\nWhile it is possible to implement RFC-compliant UUIDs in a few lines of JavaScript code (e.g., see @broofa&apos;s answer, below) there are several common pitfalls:\n\nInvalid id format (UUIDs must be of the form &quot;xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx&quot;, where x is one of [0-9, a-f] M is one of [1-5], and N is [8, 9, a, or b]\nUse of a low-quality source of randomness (such as Math.random)\n\nThus, developers writing code for production environments are encouraged to use a rigorous, well-maintained implementation such as the uuid module.\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"I really like how clean Broofa&apos;s answer is, but it&apos;s unfortunate that poor implementations of Math.random leave the chance for collision.\nHere&apos;s a similar RFC4122 version 4 compliant solution that solves that issue by offsetting the first 13 hex numbers by a hex portion of the timestamp, and once depleted offsets by a hex portion of the microseconds since pageload.  That way, even if Math.random is on the same seed, both clients would have to generate the UUID the exact same number of microseconds since pageload (if high-perfomance time is supported) AND at the exact same millisecond (or 10,000+ years later) to get the same UUID:\n\n\nfunction generateUUID() { // Public Domain/MIT\n    var d = new Date().getTime();//Timestamp\n    var d2 = ((typeof performance !== &apos;undefined&apos;) &amp;&amp; performance.now &amp;&amp; (performance.now()*1000)) || 0;//Time in microseconds since page-load or 0 if unsupported\n    return &apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&apos;.replace(/[xy]/g, function(c) {\n        var r = Math.random() * 16;//random number between 0 and 16\n        if(d &gt; 0){//Use timestamp until depleted\n            r = (d + r)%16 | 0;\n            d = Math.floor(d/16);\n        } else {//Use microseconds since page-load if supported\n            r = (d2 + r)%16 | 0;\n            d2 = Math.floor(d2/16);\n        }\n        return (c === &apos;x&apos; ? r : (r &amp; 0x3 | 0x8)).toString(16);\n    });\n}\n\nvar onClick = function(){\n    document.getElementById(&apos;uuid&apos;).textContent = generateUUID();\n}\nonClick();\n#uuid { font-family: monospace; font-size: 1.5em; }\n&lt;p id=&quot;uuid&quot;&gt;&lt;/p&gt;\n&lt;button id=&quot;generateUUID&quot; onclick=&quot;onClick();&quot;&gt;Generate UUID&lt;/button&gt;\n Run code snippetHide resultsExpand snippet\n\n\nHere&apos;s a fiddle to test.\n\nModernized snippet for ES6\nShow code snippet\n\nconst generateUUID = () =&gt; {\n  let\n    d = new Date().getTime(),\n    d2 = (performance &amp;&amp; performance.now &amp;&amp; (performance.now() * 1000)) || 0;\n  return &apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&apos;.replace(/[xy]/g, c =&gt; {\n    let r = Math.random() * 16;\n    if (d &gt; 0) {\n      r = (d + r) % 16 | 0;\n      d = Math.floor(d / 16);\n    } else {\n      r = (d2 + r) % 16 | 0;\n      d2 = Math.floor(d2 / 16);\n    }\n    return (c == &apos;x&apos; ? r : (r &amp; 0x7 | 0x8)).toString(16);\n  });\n};\n\nconst onClick = (e) =&gt; document.getElementById(&apos;uuid&apos;).textContent = generateUUID();\n\ndocument.getElementById(&apos;generateUUID&apos;).addEventListener(&apos;click&apos;, onClick);\n\nonClick();\n#uuid { font-family: monospace; font-size: 1.5em; }\n&lt;p id=&quot;uuid&quot;&gt;&lt;/p&gt;\n&lt;button id=&quot;generateUUID&quot;&gt;Generate UUID&lt;/button&gt;\n Run code snippetHide resultsExpand snippet\n\n\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"broofa&apos;s answer is pretty slick, indeed - impressively clever, really...  RFC4122 compliant, somewhat readable, and compact. Awesome!\nBut if you&apos;re looking at that regular expression, those many replace() callbacks, toString()&apos;s and Math.random() function calls (where he&apos;s only using four bits of the result and wasting the rest), you may start to wonder about performance. Indeed, joelpt even decided to toss out an RFC for generic GUID speed with generateQuickGUID.\nBut, can we get speed and RFC compliance? I say, YES! Can we maintain readability? Well... Not really, but it&apos;s easy if you follow along.\nBut first, my results, compared to broofa, guid (the accepted answer), and the non-rfc-compliant generateQuickGuid:\n                  Desktop   Android\n           broofa: 1617ms   12869ms\n               e1:  636ms    5778ms\n               e2:  606ms    4754ms\n               e3:  364ms    3003ms\n               e4:  329ms    2015ms\n               e5:  147ms    1156ms\n               e6:  146ms    1035ms\n               e7:  105ms     726ms\n             guid:  962ms   10762ms\ngenerateQuickGuid:  292ms    2961ms\n  - Note: 500k iterations, results will vary by browser/CPU.\n\nSo by my 6th iteration of optimizations, I beat the most popular answer by over 12 times, the accepted answer by over 9 times, and the fast-non-compliant answer by 2-3 times. And I&apos;m still RFC 4122 compliant.\nInterested in how? I&apos;ve put the full source on http://jsfiddle.net/jcward/7hyaC/3/ and on https://jsben.ch/xczxS\nFor an explanation, let&apos;s start with broofa&apos;s code:\n\n\nfunction broofa() {\n    return &apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&apos;.replace(/[xy]/g, function(c) {\n        var r = Math.random()*16|0, v = c == &apos;x&apos; ? r : (r&amp;0x3|0x8);\n        return v.toString(16);\n    });\n}\n\nconsole.log(broofa())\n Run code snippetHide resultsExpand snippet\n\n\nSo it replaces x with any random hexadecimal digit, y with random data (except forcing the top two bits to 10 per the RFC spec), and the regex doesn&apos;t match the - or 4 characters, so he doesn&apos;t have to deal with them.  Very, very slick.\nThe first thing to know is that function calls are expensive, as are regular expressions (though he only uses 1, it has 32 callbacks, one for each match, and in each of the 32 callbacks it calls Math.random() and v.toString(16)).\nThe first step toward performance is to eliminate the RegEx and its callback functions and use a simple loop instead.  This means we have to deal with the - and 4 characters whereas broofa did not.  Also, note that we can use String Array indexing to keep his slick String template architecture:\n\n\nfunction e1() {\n    var u=&apos;&apos;,i=0;\n    while(i++&lt;36) {\n        var c=&apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&apos;[i-1],r=Math.random()*16|0,v=c==&apos;x&apos;?r:(r&amp;0x3|0x8);\n        u+=(c==&apos;-&apos;||c==&apos;4&apos;)?c:v.toString(16)\n    }\n    return u;\n}\n\nconsole.log(e1())\n Run code snippetHide resultsExpand snippet\n\n\nBasically, the same inner logic, except we check for - or 4, and using a while loop (instead of replace() callbacks) gets us an almost 3X improvement!\nThe next step is a small one on the desktop but makes a decent difference on mobile.  Let&apos;s make fewer Math.random() calls and utilize all those random bits instead of throwing 87% of them away with a random buffer that gets shifted out each iteration.  Let&apos;s also move that template definition out of the loop, just in case it helps:\n\n\nfunction e2() {\n    var u=&apos;&apos;,m=&apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&apos;,i=0,rb=Math.random()*0xffffffff|0;\n    while(i++&lt;36) {\n        var c=m[i-1],r=rb&amp;0xf,v=c==&apos;x&apos;?r:(r&amp;0x3|0x8);\n        u+=(c==&apos;-&apos;||c==&apos;4&apos;)?c:v.toString(16);rb=i%8==0?Math.random()*0xffffffff|0:rb&gt;&gt;4\n    }\n    return u\n}\n\nconsole.log(e2())\n Run code snippetHide resultsExpand snippet\n\n\nThis saves us 10-30% depending on platform.  Not bad.  But the next big step gets rid of the toString function calls altogether with an optimization classic - the look-up table.  A simple 16-element lookup table will perform the job of toString(16) in much less time:\n\n\nfunction e3() {\n    var h=&apos;0123456789abcdef&apos;;\n    var k=&apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&apos;;\n    /* same as e4() below */\n}\nfunction e4() {\n    var h=[&apos;0&apos;,&apos;1&apos;,&apos;2&apos;,&apos;3&apos;,&apos;4&apos;,&apos;5&apos;,&apos;6&apos;,&apos;7&apos;,&apos;8&apos;,&apos;9&apos;,&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;,&apos;e&apos;,&apos;f&apos;];\n    var k=[&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;-&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;-&apos;,&apos;4&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;-&apos;,&apos;y&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;-&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;];\n    var u=&apos;&apos;,i=0,rb=Math.random()*0xffffffff|0;\n    while(i++&lt;36) {\n        var c=k[i-1],r=rb&amp;0xf,v=c==&apos;x&apos;?r:(r&amp;0x3|0x8);\n        u+=(c==&apos;-&apos;||c==&apos;4&apos;)?c:h[v];rb=i%8==0?Math.random()*0xffffffff|0:rb&gt;&gt;4\n    }\n    return u\n}\n\nconsole.log(e4())\n Run code snippetHide resultsExpand snippet\n\n\nThe next optimization is another classic.  Since we&apos;re only handling four bits of output in each loop iteration, let&apos;s cut the number of loops in half and process eight bits in each iteration.  This is tricky since we still have to handle the RFC compliant bit positions, but it&apos;s not too hard.  We then have to make a larger lookup table (16x16, or 256) to store 0x00 - 0xFF, and we build it only once, outside the e5() function.\n\n\nvar lut = []; for (var i=0; i&lt;256; i++) { lut[i] = (i&lt;16?&apos;0&apos;:&apos;&apos;)+(i).toString(16); }\nfunction e5() {\n    var k=[&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;-&apos;,&apos;x&apos;,&apos;x&apos;,&apos;-&apos;,&apos;4&apos;,&apos;x&apos;,&apos;-&apos;,&apos;y&apos;,&apos;x&apos;,&apos;-&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;,&apos;x&apos;];\n    var u=&apos;&apos;,i=0,rb=Math.random()*0xffffffff|0;\n    while(i++&lt;20) {\n        var c=k[i-1],r=rb&amp;0xff,v=c==&apos;x&apos;?r:(c==&apos;y&apos;?(r&amp;0x3f|0x80):(r&amp;0xf|0x40));\n        u+=(c==&apos;-&apos;)?c:lut[v];rb=i%4==0?Math.random()*0xffffffff|0:rb&gt;&gt;8\n    }\n    return u\n}\n\nconsole.log(e5())\n Run code snippetHide resultsExpand snippet\n\n\nI tried an e6() that processes 16-bits at a time, still using the 256-element LUT, and it showed the diminishing returns of optimization.  Though it had fewer iterations, the inner logic was complicated by the increased processing, and it performed the same on desktop, and only ~10% faster on mobile.\nThe final optimization technique to apply - unroll the loop.  Since we&apos;re looping a fixed number of times, we can technically write this all out by hand.  I tried this once with a single random variable, r, that I kept reassigning, and performance tanked.  But with four variables assigned random data up front, then using the lookup table, and applying the proper RFC bits, this version smokes them all:\n\n\nvar lut = []; for (var i=0; i&lt;256; i++) { lut[i] = (i&lt;16?&apos;0&apos;:&apos;&apos;)+(i).toString(16); }\nfunction e7()\n{\n    var d0 = Math.random()*0xffffffff|0;\n    var d1 = Math.random()*0xffffffff|0;\n    var d2 = Math.random()*0xffffffff|0;\n    var d3 = Math.random()*0xffffffff|0;\n    return lut[d0&amp;0xff]+lut[d0&gt;&gt;8&amp;0xff]+lut[d0&gt;&gt;16&amp;0xff]+lut[d0&gt;&gt;24&amp;0xff]+&apos;-&apos;+\n    lut[d1&amp;0xff]+lut[d1&gt;&gt;8&amp;0xff]+&apos;-&apos;+lut[d1&gt;&gt;16&amp;0x0f|0x40]+lut[d1&gt;&gt;24&amp;0xff]+&apos;-&apos;+\n    lut[d2&amp;0x3f|0x80]+lut[d2&gt;&gt;8&amp;0xff]+&apos;-&apos;+lut[d2&gt;&gt;16&amp;0xff]+lut[d2&gt;&gt;24&amp;0xff]+\n    lut[d3&amp;0xff]+lut[d3&gt;&gt;8&amp;0xff]+lut[d3&gt;&gt;16&amp;0xff]+lut[d3&gt;&gt;24&amp;0xff];\n}\n\nconsole.log(e7())\n Run code snippetHide resultsExpand snippet\n\n\nModualized:  http://jcward.com/UUID.js - UUID.generate()\nThe funny thing is, generating 16 bytes of random data is the easy part.  The whole trick is expressing it in string format with RFC compliance, and it&apos;s most tightly accomplished with 16 bytes of random data, an unrolled loop and lookup table.\nI hope my logic is correct -- it&apos;s very easy to make a mistake in this kind of tedious bit work. But the outputs look good to me. I hope you enjoyed this mad ride through code optimization!\nBe advised: my primary goal was to show and teach potential optimization strategies.  Other answers cover important topics such as collisions and truly random numbers, which are important for generating good UUIDs.\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"Use:\nlet uniqueId = Date.now().toString(36) + Math.random().toString(36).substring(2);\n\nShow code snippet\n\ndocument.getElementById(&quot;unique&quot;).innerHTML =\n  Math.random().toString(36).substring(2) + (new Date()).getTime().toString(36);\n&lt;div id=&quot;unique&quot;&gt;\n&lt;/div&gt;\n Run code snippetHide resultsExpand snippet\n\n\nIf IDs are generated more than 1 millisecond apart, they are 100% unique.\nIf two IDs are generated at shorter intervals, and assuming that the random method is truly random, this would generate IDs that are 99.99999999999999% likely to be globally unique (collision in 1 of 10^15).\nYou can increase this number by adding more digits, but to generate 100% unique IDs you will need to use a global counter.\nIf you need RFC compatibility, this formatting will pass as a valid version 4 GUID:\nlet u = Date.now().toString(16) + Math.random().toString(16) + &apos;0&apos;.repeat(16);\nlet guid = [u.substr(0,8), u.substr(8,4), &apos;4000-8&apos; + u.substr(13,3), u.substr(16,12)].join(&apos;-&apos;);\n\nShow code snippet\n\nlet u = Date.now().toString(16)+Math.random().toString(16)+&apos;0&apos;.repeat(16);\nlet guid = [u.substr(0,8), u.substr(8,4), &apos;4000-8&apos; + u.substr(13,3), u.substr(16,12)].join(&apos;-&apos;);\ndocument.getElementById(&quot;unique&quot;).innerHTML = guid;\n&lt;div id=&quot;unique&quot;&gt;\n&lt;/div&gt;\n Run code snippetHide resultsExpand snippet\n\n\nThe above code follow the intention, but not the letter of the RFC. Among other discrepancies it&apos;s a few random digits short. (Add more random digits if you need it) The upside is that this is really fast :)\nYou can test validity of your GUID here\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"Here&apos;s some code based on RFC 4122, section 4.4 (Algorithms for Creating a UUID from Truly Random or Pseudo-Random Number).\n\nfunction createUUID() {\n    // http://www.ietf.org/rfc/rfc4122.txt\n    var s = [];\n    var hexDigits = &quot;0123456789abcdef&quot;;\n    for (var i = 0; i &lt; 36; i++) {\n        s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n    }\n    s[14] = &quot;4&quot;;  // bits 12-15 of the time_hi_and_version field to 0010\n    s[19] = hexDigits.substr((s[19] &amp; 0x3) | 0x8, 1);  // bits 6-7 of the clock_seq_hi_and_reserved to 01\n    s[8] = s[13] = s[18] = s[23] = &quot;-&quot;;\n\n    var uuid = s.join(&quot;&quot;);\n    return uuid;\n}\n\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"This is the fastest GUID-like string generator method in the format XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX. It does not generate a standard-compliant GUID.\nTen million executions of this implementation take just 32.5 seconds, which is the fastest I&apos;ve ever seen in a browser (the only solution without loops/iterations).\nThe function is as simple as:\n/**\n * Generates a GUID string.\n * @returns {string} The generated GUID.\n * @example af8a8416-6e18-a307-bd9c-f2c947bbb3aa\n * @author Slavik Meltser.\n * @link http://slavik.meltser.info/?p=142\n */\nfunction guid() {\n    function _p8(s) {\n        var p = (Math.random().toString(16)+&quot;000000000&quot;).substr(2,8);\n        return s ? &quot;-&quot; + p.substr(0,4) + &quot;-&quot; + p.substr(4,4) : p ;\n    }\n    return _p8() + _p8(true) + _p8(true) + _p8();\n}\n\nTo test the performance, you can run this code:\nconsole.time(&apos;t&apos;);\nfor (var i = 0; i &lt; 10000000; i++) {\n    guid();\n};\nconsole.timeEnd(&apos;t&apos;);\n\nI&apos;m sure most of you will understand what I did there, but maybe there is at least one person that will need an explanation:\nThe algorithm:\n\nThe Math.random() function returns a decimal number between 0 and 1 with 16 digits after the decimal fraction point (for\nexample 0.4363923368509859).\nThen we take this number and convert\nit to a string with base 16 (from the example above we&apos;ll get\n0.6fb7687f).\nMath.random().toString(16).\nThen we cut off the 0. prefix (0.6fb7687f =&gt;\n6fb7687f) and get a string with eight hexadecimal\ncharacters long.\n(Math.random().toString(16).substr(2,8).\nSometimes the Math.random() function will return\nshorter number (for example 0.4363), due to zeros at the end (from the example above, actually the number is 0.4363000000000000). That&apos;s why I&apos;m appending to this string &quot;000000000&quot; (a string with nine zeros) and then cutting it off with substr() function to make it nine characters exactly (filling zeros to the right).\nThe reason for adding exactly nine zeros is because of the worse case scenario, which is when the Math.random() function will return exactly 0 or 1 (probability of 1/10^16 for each one of them). That&apos;s why we needed to add nine zeros to it (&quot;0&quot;+&quot;000000000&quot; or &quot;1&quot;+&quot;000000000&quot;), and then cutting it off from the second index (third character) with a length of eight characters. For the rest of the cases, the addition of zeros will not harm the result because it is cutting it off anyway.\nMath.random().toString(16)+&quot;000000000&quot;).substr(2,8).\n\nThe assembly:\n\nThe GUID is in the following format XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX.\nI divided the GUID into four pieces, each piece divided into two types (or formats): XXXXXXXX and -XXXX-XXXX.\nNow I&apos;m building the GUID using these two types to assemble the GUID with call four pieces, as follows: XXXXXXXX -XXXX-XXXX -XXXX-XXXX XXXXXXXX.\nTo differ between these two types, I added a flag parameter to a pair creator function _p8(s), the s parameter tells the function whether to add dashes or not.\nEventually we build the GUID with the following chaining: _p8() + _p8(true) + _p8(true) + _p8(), and return it.\n\nLink to this post on my blog\nEnjoy! :-)\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"Here is a totally non-compliant but very performant implementation to generate an ASCII-safe GUID-like unique identifier.\n\nfunction generateQuickGuid() {\n    return Math.random().toString(36).substring(2, 15) +\n        Math.random().toString(36).substring(2, 15);\n}\n\n\nGenerates 26 [a-z0-9] characters, yielding a UID that is both shorter and more unique than RFC compliant GUIDs. Dashes can be trivially added if human-readability matters.\n\nHere are usage examples and timings for this function and several of this question&apos;s other answers. The timing was performed under Chrome m25, 10 million iterations each.\n\n&gt;&gt;&gt; generateQuickGuid()\n&quot;nvcjf1hs7tf8yyk4lmlijqkuo9&quot;\n&quot;yq6gipxqta4kui8z05tgh9qeel&quot;\n&quot;36dh5sec7zdj90sk2rx7pjswi2&quot;\nruntime: 32.5s\n\n&gt;&gt;&gt; GUID() // John Millikin\n&quot;7a342ca2-e79f-528e-6302-8f901b0b6888&quot;\nruntime: 57.8s\n\n&gt;&gt;&gt; regexGuid() // broofa\n&quot;396e0c46-09e4-4b19-97db-bd423774a4b3&quot;\nruntime: 91.2s\n\n&gt;&gt;&gt; createUUID() // Kevin Hakanson\n&quot;403aa1ab-9f70-44ec-bc08-5d5ac56bd8a5&quot;\nruntime: 65.9s\n\n&gt;&gt;&gt; UUIDv4() // Jed Schmidt\n&quot;f4d7d31f-fa83-431a-b30c-3e6cc37cc6ee&quot;\nruntime: 282.4s\n\n&gt;&gt;&gt; Math.uuid() // broofa\n&quot;5BD52F55-E68F-40FC-93C2-90EE069CE545&quot;\nruntime: 225.8s\n\n&gt;&gt;&gt; Math.uuidFast() // broofa\n&quot;6CB97A68-23A2-473E-B75B-11263781BBE6&quot;\nruntime: 92.0s\n\n&gt;&gt;&gt; Math.uuidCompact() // broofa\n&quot;3d7b7a06-0a67-4b67-825c-e5c43ff8c1e8&quot;\nruntime: 229.0s\n\n&gt;&gt;&gt; bitwiseGUID() // jablko\n&quot;baeaa2f-7587-4ff1-af23-eeab3e92&quot;\nruntime: 79.6s\n\n&gt;&gt;&gt;&gt; betterWayGUID() // Andrea Turri\n&quot;383585b0-9753-498d-99c3-416582e9662c&quot;\nruntime: 60.0s\n\n&gt;&gt;&gt;&gt; UUID() // John Fowler\n&quot;855f997b-4369-4cdb-b7c9-7142ceaf39e8&quot;\nruntime: 62.2s\n\n\nHere is the timing code.\n\nvar r;\nconsole.time(&apos;t&apos;); \nfor (var i = 0; i &lt; 10000000; i++) { \n    r = FuncToTest(); \n};\nconsole.timeEnd(&apos;t&apos;);\n\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"From sagi shkedy&apos;s technical blog:\nfunction generateGuid() {\n  var result, i, j;\n  result = &apos;&apos;;\n  for(j=0; j&lt;32; j++) {\n    if( j == 8 || j == 12 || j == 16 || j == 20)\n      result = result + &apos;-&apos;;\n    i = Math.floor(Math.random()*16).toString(16).toUpperCase();\n    result = result + i;\n  }\n  return result;\n}\n\nThere are other methods that involve using an ActiveX control, but stay away from these!\nI thought it was worth pointing out that no GUID generator can guarantee unique keys (check the Wikipedia article). There is always a chance of collisions. A GUID simply offers a large enough universe of keys to reduce the change of collisions to almost nil.\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"Here is a combination of the top voted answer, with a workaround for Chrome&apos;s collisions:\ngenerateGUID = (typeof(window.crypto) != &apos;undefined&apos; &amp;&amp;\n                typeof(window.crypto.getRandomValues) != &apos;undefined&apos;) ?\n    function() {\n        // If we have a cryptographically secure PRNG, use that\n        // https://stackoverflow.com/questions/6906916/collisions-when-generating-uuids-in-javascript\n        var buf = new Uint16Array(8);\n        window.crypto.getRandomValues(buf);\n        var S4 = function(num) {\n            var ret = num.toString(16);\n            while(ret.length &lt; 4){\n                ret = &quot;0&quot;+ret;\n            }\n            return ret;\n        };\n        return (S4(buf[0])+S4(buf[1])+&quot;-&quot;+S4(buf[2])+&quot;-&quot;+S4(buf[3])+&quot;-&quot;+S4(buf[4])+&quot;-&quot;+S4(buf[5])+S4(buf[6])+S4(buf[7]));\n    }\n\n    :\n\n    function() {\n        // Otherwise, just use Math.random\n        // https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n        return &apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&apos;.replace(/[xy]/g, function(c) {\n            var r = Math.random()*16|0, v = c == &apos;x&apos; ? r : (r&amp;0x3|0x8);\n            return v.toString(16);\n        });\n    };\n\nIt is on jsbin if you want to test it.\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"Here&apos;s a solution dated Oct. 9, 2011 from a comment by user jed at https://gist.github.com/982883:\n\nUUIDv4 = function b(a){return a?(a^Math.random()*16&gt;&gt;a/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,b)}\n\n\nThis accomplishes the same goal as the current highest-rated answer, but in 50+ fewer bytes by exploiting coercion, recursion, and exponential notation. For those curious how it works, here&apos;s the annotated form of an older version of the function:\n\nUUIDv4 =\n\nfunction b(\n  a // placeholder\n){\n  return a // if the placeholder was passed, return\n    ? ( // a random number from 0 to 15\n      a ^ // unless b is 8,\n      Math.random() // in which case\n      * 16 // a random number from\n      &gt;&gt; a/4 // 8 to 11\n      ).toString(16) // in hexadecimal\n    : ( // or otherwise a concatenated string:\n      [1e7] + // 10000000 +\n      -1e3 + // -1000 +\n      -4e3 + // -4000 +\n      -8e3 + // -80000000 +\n      -1e11 // -100000000000,\n      ).replace( // replacing\n        /[018]/g, // zeroes, ones, and eights with\n        b // random hex digits\n      )\n}\n\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"You can use node-uuid. It provides simple, fast generation of RFC4122 UUIDS.\nFeatures:\n\nGenerate RFC4122 version 1 or version 4 UUIDs\nRuns in Node.js and browsers.\nCryptographically strong random # generation on supporting platforms.\nSmall footprint (Want something smaller? Check this out!)\n\n\nInstall Using NPM:\nnpm install uuid\n\n\nOr using uuid via a browser:\nDownload Raw File (uuid v1): https://raw.githubusercontent.com/kelektiv/node-uuid/master/v1.js\nDownload Raw File (uuid v4): https://raw.githubusercontent.com/kelektiv/node-uuid/master/v4.js\n\nWant even smaller? Check this out: https://gist.github.com/jed/982883\n\nUsage:\n// Generate a v1 UUID (time-based)\nconst uuidV1 = require(&apos;uuid/v1&apos;);\nuuidV1(); // -&gt; &apos;6c84fb90-12c4-11e1-840d-7b25c5ee775a&apos;\n\n// Generate a v4 UUID (random)\nconst uuidV4 = require(&apos;uuid/v4&apos;);\nuuidV4(); // -&gt; &apos;110ec58a-a0f2-4ac4-8393-c866d813b8d1&apos;\n\n// Generate a v5 UUID (namespace)\nconst uuidV5 = require(&apos;uuid/v5&apos;);\n\n// ... using predefined DNS namespace (for domain names)\nuuidV5(&apos;hello.example.com&apos;, v5.DNS)); // -&gt; &apos;fdda765f-fc57-5604-a269-52a7df8164ec&apos;\n\n// ... using predefined URL namespace (for, well, URLs)\nuuidV5(&apos;http://example.com/hello&apos;, v5.URL); // -&gt; &apos;3bbcee75-cecc-5b56-8031-b6641c1ed1f1&apos;\n\n// ... using a custom namespace\nconst MY_NAMESPACE = &apos;(previously generated unique uuid string)&apos;;\nuuidV5(&apos;hello&apos;, MY_NAMESPACE); // -&gt; &apos;90123e1c-7512-523e-bb28-76fab9f2f73d&apos;\n\n\nECMAScript 2015 (ES6):\nimport uuid from &apos;uuid/v4&apos;;\nconst id = uuid();\n\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"var uuid = function() {\n    var buf = new Uint32Array(4);\n    window.crypto.getRandomValues(buf);\n    var idx = -1;\n    return &apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&apos;.replace(/[xy]/g, function(c) {\n        idx++;\n        var r = (buf[idx&gt;&gt;3] &gt;&gt; ((idx%8)*4))&amp;15;\n        var v = c == &apos;x&apos; ? r : (r&amp;0x3|0x8);\n        return v.toString(16);\n    });\n};\n\nThis version is based on Briguy37&apos;s answer and some bitwise operators to extract nibble sized windows from the buffer.\nIt should adhere to the RFC Type 4 (random) schema, since I had problems last time parsing non-compliant UUIDs with Java&apos;s UUID.\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0},{"text":"This creates a version 4 UUID (created from pseudo random numbers):\nfunction uuid()\n{\n   var chars = &apos;0123456789abcdef&apos;.split(&apos;&apos;);\n\n   var uuid = [], rnd = Math.random, r;\n   uuid[8] = uuid[13] = uuid[18] = uuid[23] = &apos;-&apos;;\n   uuid[14] = &apos;4&apos;; // version 4\n\n   for (var i = 0; i &lt; 36; i++)\n   {\n      if (!uuid[i])\n      {\n         r = 0 | rnd()*16;\n\n         uuid[i] = chars[(i == 19) ? (r &amp; 0x3) | 0x8 : r &amp; 0xf];\n      }\n   }\n\n   return uuid.join(&apos;&apos;);\n}\n\nHere is a sample of the UUIDs generated:\n682db637-0f31-4847-9cdf-25ba9613a75c\n97d19478-3ab2-4aa1-b8cc-a1c3540f54aa\n2eed04c9-2692-456d-a0fd-51012f947136\n\n    ","url":"/questions/[slug]#solution14","@type":"Answer","upvoteCount":0},{"text":"Simple JavaScript module as a combination of best answers in this question.\n\n\nvar crypto = window.crypto || window.msCrypto || null; // IE11 fix\n\nvar Guid = Guid || (function() {\n\n  var EMPTY = &apos;00000000-0000-0000-0000-000000000000&apos;;\n\n  var _padLeft = function(paddingString, width, replacementChar) {\n    return paddingString.length &gt;= width ? paddingString : _padLeft(replacementChar + paddingString, width, replacementChar || &apos; &apos;);\n  };\n\n  var _s4 = function(number) {\n    var hexadecimalResult = number.toString(16);\n    return _padLeft(hexadecimalResult, 4, &apos;0&apos;);\n  };\n\n  var _cryptoGuid = function() {\n    var buffer = new window.Uint16Array(8);\n    crypto.getRandomValues(buffer);\n    return [_s4(buffer[0]) + _s4(buffer[1]), _s4(buffer[2]), _s4(buffer[3]), _s4(buffer[4]), _s4(buffer[5]) + _s4(buffer[6]) + _s4(buffer[7])].join(&apos;-&apos;);\n  };\n\n  var _guid = function() {\n    var currentDateMilliseconds = new Date().getTime();\n    return &apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&apos;.replace(/[xy]/g, function(currentChar) {\n      var randomChar = (currentDateMilliseconds + Math.random() * 16) % 16 | 0;\n      currentDateMilliseconds = Math.floor(currentDateMilliseconds / 16);\n      return (currentChar === &apos;x&apos; ? randomChar : (randomChar &amp; 0x7 | 0x8)).toString(16);\n    });\n  };\n\n  var create = function() {\n    var hasCrypto = crypto != &apos;undefined&apos; &amp;&amp; crypto !== null,\n      hasRandomValues = typeof(window.crypto.getRandomValues) != &apos;undefined&apos;;\n    return (hasCrypto &amp;&amp; hasRandomValues) ? _cryptoGuid() : _guid();\n  };\n\n  return {\n    newGuid: create,\n    empty: EMPTY\n  };\n})();\n\n// DEMO: Create and show GUID\nconsole.log(&apos;1. New Guid:   &apos; + Guid.newGuid());\n\n// DEMO: Show empty GUID\nconsole.log(&apos;2. Empty Guid: &apos; + Guid.empty);\n Run code snippetHide resultsExpand snippet\n\n\nUsage:\n\n\nGuid.newGuid()\n\n\n\n\n&quot;c6c2d12f-d76b-5739-e551-07e6de5b0807&quot;\n\n\n\n\nGuid.empty\n\n\n\n\n&quot;00000000-0000-0000-0000-000000000000&quot;\n\n\n    ","url":"/questions/[slug]#solution15","@type":"Answer","upvoteCount":0},{"text":"The version below is an adaptation of broofa&apos;s answer, but updated to include a &quot;true&quot; random function that uses crypto libraries where available, and the Alea() function as a fallback.\n  Math.log2 = Math.log2 || function(n){ return Math.log(n) / Math.log(2); }\n  Math.trueRandom = (function() {\n  var crypt = window.crypto || window.msCrypto;\n\n  if (crypt &amp;&amp; crypt.getRandomValues) {\n      // If we have a crypto library, use it\n      var random = function(min, max) {\n          var rval = 0;\n          var range = max - min;\n          if (range &lt; 2) {\n              return min;\n          }\n\n          var bits_needed = Math.ceil(Math.log2(range));\n          if (bits_needed &gt; 53) {\n            throw new Exception(&quot;We cannot generate numbers larger than 53 bits.&quot;);\n          }\n          var bytes_needed = Math.ceil(bits_needed / 8);\n          var mask = Math.pow(2, bits_needed) - 1;\n          // 7776 -&gt; (2^13 = 8192) -1 == 8191 or 0x00001111 11111111\n\n          // Create byte array and fill with N random numbers\n          var byteArray = new Uint8Array(bytes_needed);\n          crypt.getRandomValues(byteArray);\n\n          var p = (bytes_needed - 1) * 8;\n          for(var i = 0; i &lt; bytes_needed; i++ ) {\n              rval += byteArray[i] * Math.pow(2, p);\n              p -= 8;\n          }\n\n          // Use &amp; to apply the mask and reduce the number of recursive lookups\n          rval = rval &amp; mask;\n\n          if (rval &gt;= range) {\n              // Integer out of acceptable range\n              return random(min, max);\n          }\n          // Return an integer that falls within the range\n          return min + rval;\n      }\n      return function() {\n          var r = random(0, 1000000000) / 1000000000;\n          return r;\n      };\n  } else {\n      // From https://web.archive.org/web/20120502223108/http://baagoe.com/en/RandomMusings/javascript/\n      // Johannes Baagøe &lt;baagoe@baagoe.com&gt;, 2010\n      function Mash() {\n          var n = 0xefc8249d;\n\n          var mash = function(data) {\n              data = data.toString();\n              for (var i = 0; i &lt; data.length; i++) {\n                  n += data.charCodeAt(i);\n                  var h = 0.02519603282416938 * n;\n                  n = h &gt;&gt;&gt; 0;\n                  h -= n;\n                  h *= n;\n                  n = h &gt;&gt;&gt; 0;\n                  h -= n;\n                  n += h * 0x100000000; // 2^32\n              }\n              return (n &gt;&gt;&gt; 0) * 2.3283064365386963e-10; // 2^-32\n          };\n\n          mash.version = &apos;Mash 0.9&apos;;\n          return mash;\n      }\n\n      // From http://baagoe.com/en/RandomMusings/javascript/\n      function Alea() {\n          return (function(args) {\n              // Johannes BaagÃ¸e &lt;baagoe@baagoe.com&gt;, 2010\n              var s0 = 0;\n              var s1 = 0;\n              var s2 = 0;\n              var c = 1;\n\n              if (args.length == 0) {\n                  args = [+new Date()];\n              }\n              var mash = Mash();\n              s0 = mash(&apos; &apos;);\n              s1 = mash(&apos; &apos;);\n              s2 = mash(&apos; &apos;);\n\n              for (var i = 0; i &lt; args.length; i++) {\n                  s0 -= mash(args[i]);\n                  if (s0 &lt; 0) {\n                      s0 += 1;\n                  }\n                  s1 -= mash(args[i]);\n                  if (s1 &lt; 0) {\n                      s1 += 1;\n                  }\n                  s2 -= mash(args[i]);\n                  if (s2 &lt; 0) {\n                      s2 += 1;\n                  }\n              }\n              mash = null;\n\n              var random = function() {\n                  var t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32\n                  s0 = s1;\n                  s1 = s2;\n                  return s2 = t - (c = t | 0);\n              };\n              random.uint32 = function() {\n                  return random() * 0x100000000; // 2^32\n              };\n              random.fract53 = function() {\n                  return random() +\n                      (random() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n              };\n              random.version = &apos;Alea 0.9&apos;;\n              random.args = args;\n              return random;\n\n          }(Array.prototype.slice.call(arguments)));\n      };\n      return Alea();\n  }\n}());\n\nMath.guid = function() {\n    return &apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&apos;.replace(/[xy]/g, function(c)    {\n      var r = Math.trueRandom() * 16 | 0,\n          v = c == &apos;x&apos; ? r : (r &amp; 0x3 | 0x8);\n      return v.toString(16);\n  });\n};\n\n    ","url":"/questions/[slug]#solution16","@type":"Answer","upvoteCount":0},{"text":"JavaScript project on GitHub - https://github.com/LiosK/UUID.js\n\n\n  UUID.js The RFC-compliant UUID generator for JavaScript.\n  \n  See RFC 4122 http://www.ietf.org/rfc/rfc4122.txt.\n  \n  Features Generates RFC 4122 compliant UUIDs.\n  \n  Version 4 UUIDs (UUIDs from random numbers) and version 1 UUIDs\n  (time-based UUIDs) are available.\n  \n  UUID object allows a variety of access to the UUID including access to\n  the UUID fields.\n  \n  Low timestamp resolution of JavaScript is compensated by random\n  numbers.\n\n    ","url":"/questions/[slug]#solution17","@type":"Answer","upvoteCount":0},{"text":"  // RFC 4122\n  //\n  // A UUID is 128 bits long\n  //\n  // String representation is five fields of 4, 2, 2, 2, and 6 bytes.\n  // Fields represented as lowercase, zero-filled, hexadecimal strings, and\n  // are separated by dash characters\n  //\n  // A version 4 UUID is generated by setting all but six bits to randomly\n  // chosen values\n  var uuid = [\n    Math.random().toString(16).slice(2, 10),\n    Math.random().toString(16).slice(2, 6),\n\n    // Set the four most significant bits (bits 12 through 15) of the\n    // time_hi_and_version field to the 4-bit version number from Section\n    // 4.1.3\n    (Math.random() * .0625 /* 0x.1 */ + .25 /* 0x.4 */).toString(16).slice(2, 6),\n\n    // Set the two most significant bits (bits 6 and 7) of the\n    // clock_seq_hi_and_reserved to zero and one, respectively\n    (Math.random() * .25 /* 0x.4 */ + .5 /* 0x.8 */).toString(16).slice(2, 6),\n\n    Math.random().toString(16).slice(2, 14)].join(&apos;-&apos;);\n\n    ","url":"/questions/[slug]#solution18","@type":"Answer","upvoteCount":0},{"text":"One line solution using Blobs.\nwindow.URL.createObjectURL(new Blob([])).substring(31);\n\nThe value at the end (31) depends on the length of the URL.\n\nEDIT:\nA more compact and universal solution, as suggested by rinogo:\nURL.createObjectURL(new Blob([])).substr(-36);\n\n    ","url":"/questions/[slug]#solution19","@type":"Answer","upvoteCount":0},{"text":"For those wanting an RFC 4122 version 4 compliant solution with speed considerations (few calls to Math.random()):\n\n\nvar rand = Math.random;\n\nfunction UUID() {\n    var nbr, randStr = &quot;&quot;;\n    do {\n        randStr += (nbr = rand()).toString(16).substr(3, 6);\n    } while (randStr.length &lt; 30);\n    return (\n        randStr.substr(0, 8) + &quot;-&quot; +\n        randStr.substr(8, 4) + &quot;-4&quot; +\n        randStr.substr(12, 3) + &quot;-&quot; +\n        ((nbr*4|0)+8).toString(16) + // [89ab]\n        randStr.substr(15, 3) + &quot;-&quot; +\n        randStr.substr(18, 12)\n    );\n}\n\nconsole.log( UUID() );\n Run code snippetHide resultsExpand snippet\n\n\nThe above function should have a decent balance between speed and randomness.\n    ","url":"/questions/[slug]#solution20","@type":"Answer","upvoteCount":0},{"text":"I wanted to understand broofa&apos;s answer, so I expanded it and added comments:\nvar uuid = function () {\n    return &apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&apos;.replace(\n        /[xy]/g,\n        function (match) {\n            /*\n            * Create a random nibble. The two clever bits of this code:\n            *\n            * - Bitwise operations will truncate floating point numbers\n            * - For a bitwise OR of any x, x | 0 = x\n            *\n            * So:\n            *\n            * Math.random * 16\n            *\n            * creates a random floating point number\n            * between 0 (inclusive) and 16 (exclusive) and\n            *\n            * | 0\n            *\n            * truncates the floating point number into an integer.\n            */\n            var randomNibble = Math.random() * 16 | 0;\n\n            /*\n            * Resolves the variant field. If the variant field (delineated\n            * as y in the initial string) is matched, the nibble must\n            * match the mask (where x is a do-not-care bit):\n            *\n            * 10xx\n            *\n            * This is achieved by performing the following operations in\n            * sequence (where x is an intermediate result):\n            *\n            * - x &amp; 0x3, which is equivalent to x % 3\n            * - x | 0x8, which is equivalent to x + 8\n            *\n            * This results in a nibble between 8 inclusive and 11 exclusive,\n            * (or 1000 and 1011 in binary), all of which satisfy the variant\n            * field mask above.\n            */\n            var nibble = (match == &apos;y&apos;) ?\n                (randomNibble &amp; 0x3 | 0x8) :\n                randomNibble;\n\n            /*\n            * Ensure the nibble integer is encoded as base 16 (hexadecimal).\n            */\n            return nibble.toString(16);\n        }\n    );\n};\n\n    ","url":"/questions/[slug]#solution21","@type":"Answer","upvoteCount":0},{"text":"I adjusted my own UUID/GUID generator with some extras here.\nI&apos;m using the following Kybos random number generator to be a bit more cryptographically sound.\nBelow is my script with the Mash and Kybos methods from baagoe.com excluded.\n//UUID/Guid Generator\n// use: UUID.create() or UUID.createSequential()\n// convenience:  UUID.empty, UUID.tryParse(string)\n(function(w){\n  // From http://baagoe.com/en/RandomMusings/javascript/\n  // Johannes BaagÃ¸e &lt;baagoe@baagoe.com&gt;, 2010\n  //function Mash() {...};\n\n  // From http://baagoe.com/en/RandomMusings/javascript/\n  //function Kybos() {...};\n\n  var rnd = Kybos();\n\n  //UUID/GUID Implementation from http://frugalcoder.us/post/2012/01/13/javascript-guid-uuid-generator.aspx\n  var UUID = {\n    &quot;empty&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;\n    ,&quot;parse&quot;: function(input) {\n      var ret = input.toString().trim().toLowerCase().replace(/^[\\s\\r\\n]+|[\\{\\}]|[\\s\\r\\n]+$/g, &quot;&quot;);\n      if ((/[a-f0-9]{8}\\-[a-f0-9]{4}\\-[a-f0-9]{4}\\-[a-f0-9]{4}\\-[a-f0-9]{12}/).test(ret))\n        return ret;\n      else\n        throw new Error(&quot;Unable to parse UUID&quot;);\n    }\n    ,&quot;createSequential&quot;: function() {\n      var ret = new Date().valueOf().toString(16).replace(&quot;-&quot;,&quot;&quot;)\n      for (;ret.length &lt; 12; ret = &quot;0&quot; + ret);\n      ret = ret.substr(ret.length-12,12); //only least significant part\n      for (;ret.length &lt; 32;ret += Math.floor(rnd() * 0xffffffff).toString(16));\n      return [ret.substr(0,8), ret.substr(8,4), &quot;4&quot; + ret.substr(12,3), &quot;89AB&quot;[Math.floor(Math.random()*4)] + ret.substr(16,3),  ret.substr(20,12)].join(&quot;-&quot;);\n    }\n    ,&quot;create&quot;: function() {\n      var ret = &quot;&quot;;\n      for (;ret.length &lt; 32;ret += Math.floor(rnd() * 0xffffffff).toString(16));\n      return [ret.substr(0,8), ret.substr(8,4), &quot;4&quot; + ret.substr(12,3), &quot;89AB&quot;[Math.floor(Math.random()*4)] + ret.substr(16,3),  ret.substr(20,12)].join(&quot;-&quot;);\n    }\n    ,&quot;random&quot;: function() {\n      return rnd();\n    }\n    ,&quot;tryParse&quot;: function(input) {\n      try {\n        return UUID.parse(input);\n      } catch(ex) {\n        return UUID.empty;\n      }\n    }\n  };\n  UUID[&quot;new&quot;] = UUID.create;\n\n  w.UUID = w.Guid = UUID;\n}(window || this));\n    ","url":"/questions/[slug]#solution22","@type":"Answer","upvoteCount":0},{"text":"Added in: v15.6.0, v14.17.0 there is a built-in crypto.randomUUID() function.\nimport * as crypto from &quot;crypto&quot;;\n\nconst uuid = crypto.randomUUID();\n\nIn the browser, crypto.randomUUID() is currently supported in Chromium 92+ and Firefox 95+.\n    ","url":"/questions/[slug]#solution23","@type":"Answer","upvoteCount":0},{"text":"ES6 sample\n\nconst guid=()=&gt; {\n  const s4=()=&gt; Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);     \n  return `${s4() + s4()}-${s4()}-${s4()}-${s4()}-${s4() + s4() + s4()}`;\n}\n\n    ","url":"/questions/[slug]#solution24","@type":"Answer","upvoteCount":0},{"text":"The native URL.createObjectURL is generating an UUID. You can take advantage of this.\nfunction uuid() {\n  const url = URL.createObjectURL(new Blob())\n  const [id] = url.toString().split(&apos;/&apos;).reverse()\n  URL.revokeObjectURL(url)\n  return id\n}\n\n    ","url":"/questions/[slug]#solution25","@type":"Answer","upvoteCount":0},{"text":"The better way:\nfunction(\n  a, b               // Placeholders\n){\n  for(               // Loop :)\n      b = a = &apos;&apos;;    // b - result , a - numeric variable\n      a++ &lt; 36;      //\n      b += a*51&amp;52   // If &quot;a&quot; is not 9 or 14 or 19 or 24\n                  ?  //  return a random number or 4\n           (\n               a^15              // If &quot;a&quot; is not 15,\n                  ?              // generate a random number from 0 to 15\n               8^Math.random() *\n               (a^20 ? 16 : 4)   // unless &quot;a&quot; is 20, in which case a random number from 8 to 11,\n                  :\n               4                 //  otherwise 4\n           ).toString(16)\n                  :\n         &apos;-&apos;                     //  In other cases, (if &quot;a&quot; is 9,14,19,24) insert &quot;-&quot;\n      );\n  return b\n }\n\nMinimized:\nfunction(a,b){for(b=a=&apos;&apos;;a++&lt;36;b+=a*51&amp;52?(a^15?8^Math.random()*(a^20?16:4):4).toString(16):&apos;-&apos;);return b}\n\n    ","url":"/questions/[slug]#solution26","@type":"Answer","upvoteCount":0},{"text":"If you just need a random 128 bit string in no particular format, you can use:\nfunction uuid() {\n    return crypto.getRandomValues(new Uint32Array(4)).join(&apos;-&apos;);\n}\n\nWhich will return something like 2350143528-4164020887-938913176-2513998651.\n    ","url":"/questions/[slug]#solution27","@type":"Answer","upvoteCount":0},{"text":"I couldn&apos;t find any answer that uses a single 16-octet TypedArray and a DataView, so I think the following solution for generating a version 4 UUID per the RFC will stand on its own here:\nconst uuid4 = () =&gt; {\n    const ho = (n, p) =&gt; n.toString(16).padStart(p, 0); /// Return the hexadecimal text representation of number `n`, padded with zeroes to be of length `p`\n    const data = crypto.getRandomValues(new Uint8Array(16)); /// Fill the buffer with random data\n    data[6] = (data[6] &amp; 0xf) | 0x40; /// Patch the 6th byte to reflect a version 4 UUID\n    data[8] = (data[8] &amp; 0x3f) | 0x80; /// Patch the 8th byte to reflect a variant 1 UUID (version 4 UUIDs are)\n    const view = new DataView(data.buffer); /// Create a view backed by a 16-byte buffer\n    return `${ho(view.getUint32(0), 8)}-${ho(view.getUint16(4), 4)}-${ho(view.getUint16(6), 4)}-${ho(view.getUint16(8), 4)}-${ho(view.getUint32(10), 8)}${ho(view.getUint16(14), 4)}`; /// Compile the canonical textual form from the array data\n};\n\nI prefer it because it only relies on functions available to the standard ECMAScript platform, where possible -- which is all but one procedure.\nAt the time of writing this, getRandomValues is not something implemented for the crypto object in Node.js. However, it has the equivalent randomBytes function which may be used instead.\n    ","url":"/questions/[slug]#solution28","@type":"Answer","upvoteCount":0},{"text":"Just another more readable variant with just two mutations.\n\nfunction uuid4()\n{\n  function hex (s, b)\n  {\n    return s +\n      (b &gt;&gt;&gt; 4   ).toString (16) +  // high nibble\n      (b &amp; 0b1111).toString (16);   // low nibble\n  }\n\n  let r = crypto.getRandomValues (new Uint8Array (16));\n\n  r[6] = r[6] &gt;&gt;&gt; 4 | 0b01000000; // Set type 4: 0100\n  r[8] = r[8] &gt;&gt;&gt; 3 | 0b10000000; // Set variant: 100\n\n  return r.slice ( 0,  4).reduce (hex, &apos;&apos; ) +\n         r.slice ( 4,  6).reduce (hex, &apos;-&apos;) +\n         r.slice ( 6,  8).reduce (hex, &apos;-&apos;) +\n         r.slice ( 8, 10).reduce (hex, &apos;-&apos;) +\n         r.slice (10, 16).reduce (hex, &apos;-&apos;);\n}\n\n    ","url":"/questions/[slug]#solution29","@type":"Answer","upvoteCount":0},{"text":"If your environment is SharePoint, there is a utility function called SP.Guid.newGuid (MSDN link which creates a new GUID. This function is inside the sp.init.js file. If you rewrite this function (to remove some other dependencies from other private functions), and it looks like this:\nvar newGuid = function () {\n    var result = &apos;&apos;;\n    var hexcodes = &quot;0123456789abcdef&quot;.split(&quot;&quot;);\n\n    for (var index = 0; index &lt; 32; index++) {\n        var value = Math.floor(Math.random() * 16);\n\n        switch (index) {\n        case 8:\n            result += &apos;-&apos;;\n            break;\n        case 12:\n            value = 4;\n            result += &apos;-&apos;;\n            break;\n        case 16:\n            value = value &amp; 3 | 8;\n            result += &apos;-&apos;;\n            break;\n        case 20:\n            result += &apos;-&apos;;\n            break;\n        }\n        result += hexcodes[value];\n    }\n    return result;\n};\n\n    ","url":"/questions/[slug]#solution30","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08d1a634dea6705e.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/150-b06815e21c943e0d.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/108-87de33c23337ff53.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-79a1437acf654019.js" defer=""></script><script src="/_next/static/TQ2eYlCSdocSK-hq6gkM0/_buildManifest.js" defer=""></script><script src="/_next/static/TQ2eYlCSdocSK-hq6gkM0/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-to-create-a-guid-uuid-1657387749530#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-to-create-a-guid-uuid-1657387749530"><h1>How to create a GUID / UUID</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/uuid">uuid</a></div></div><div class="question-content mt-5">
                
<p>I'm trying to create globally-unique identifiers in JavaScript.  I'm not sure what routines are available on all browsers, how "random" and seeded the built-in random number generator is, etc.</p>
<p>The GUID / UUID should be at least 32 characters and should stay in the ASCII range to avoid trouble when passing them around.</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li><li class="pagination-solution-item"><span data-id="#solution15" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">15</span></li><li class="pagination-solution-item"><span data-id="#solution16" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">16</span></li><li class="pagination-solution-item"><span data-id="#solution17" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">17</span></li><li class="pagination-solution-item"><span data-id="#solution18" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">18</span></li><li class="pagination-solution-item"><span data-id="#solution19" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">19</span></li><li class="pagination-solution-item"><span data-id="#solution20" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">20</span></li><li class="pagination-solution-item"><span data-id="#solution21" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">21</span></li><li class="pagination-solution-item"><span data-id="#solution22" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">22</span></li><li class="pagination-solution-item"><span data-id="#solution23" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">23</span></li><li class="pagination-solution-item"><span data-id="#solution24" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">24</span></li><li class="pagination-solution-item"><span data-id="#solution25" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">25</span></li><li class="pagination-solution-item"><span data-id="#solution26" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">26</span></li><li class="pagination-solution-item"><span data-id="#solution27" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">27</span></li><li class="pagination-solution-item"><span data-id="#solution28" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">28</span></li><li class="pagination-solution-item"><span data-id="#solution29" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">29</span></li><li class="pagination-solution-item"><span data-id="#solution30" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">30</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><em>[Edited 2021-10-16 to reflect latest best-practices for producing RFC4122-compliant UUIDs]</em></p>
<p>Most readers here will want to use <a href="https://www.npmjs.com/package/uuid" rel="noreferrer">the <code>uuid</code> module</a>.  It is well-tested and supported.</p>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Crypto/randomUUID" rel="noreferrer"><code>crypto.randomUUID()</code></a> function is an emerging standard that is supported in <a href="https://nodejs.org/dist/latest-v16.x/docs/api/crypto.html#cryptorandomuuidoptions" rel="noreferrer">Node.js</a> and <a href="https://caniuse.com/mdn-api_crypto_randomuuid" rel="noreferrer">an increasing number of browsers</a>.</p>
<p>If neither of those work for you, there is this method (based on the original answer to this question):
</p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">uuidv4</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> ([<span class="hljs-number">1e7</span>]+-<span class="hljs-number">1e3</span>+-<span class="hljs-number">4e3</span>+-<span class="hljs-number">8e3</span>+-<span class="hljs-number">1e11</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[018]/g</span>, <span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span>
    (c ^ crypto.<span class="hljs-title function_">getRandomValues</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">1</span>))[<span class="hljs-number">0</span>] &amp; <span class="hljs-number">15</span> &gt;&gt; c / <span class="hljs-number">4</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>)
  );
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">uuidv4</span>());</code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif1" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p>Note: <strong>The use of <em>any</em> UUID generator that relies on Math.random() is strongly discouraged</strong> (including snippets featured in previous versions of this answer) for <a href="https://bocoup.com/blog/random-numbers" rel="noreferrer">reasons best-explained here</a>. TL;DR: Math.random()-based solutions do not provide good uniqueness guarantees.</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>UUIDs (Universally Unique IDentifier), also known as GUIDs (Globally Unique IDentifier), according to <a href="https://www.ietf.org/rfc/rfc4122.txt" rel="noreferrer">RFC 4122</a>, are identifiers designed to provide certain uniqueness guarantees.</p>
<p>While it is possible to implement RFC-compliant UUIDs in a few lines of JavaScript code (e.g., see <a href="https://stackoverflow.com/a/2117523/109538">@broofa's answer</a>, below) there are several common pitfalls:</p>
<ul>
<li>Invalid id format (UUIDs must be of the form "<code>xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx</code>", where x is one of [0-9, a-f] <em>M</em> is one of [1-5], and <em>N</em> is [8, 9, a, or b]</li>
<li>Use of a low-quality source of randomness (such as <code>Math.random</code>)</li>
</ul>
<p>Thus, developers writing code for production environments are encouraged to use a rigorous, well-maintained implementation such as the <a href="https://github.com/uuidjs/uuid" rel="noreferrer">uuid</a> module.</p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I really like how clean <a href="https://stackoverflow.com/a/2117523/508537">Broofa's answer</a> is, but it's unfortunate that <a href="https://stackoverflow.com/q/6906916/508537">poor implementations of <code>Math.random</code></a> leave the chance for collision.</p>
<p>Here's a similar <a href="http://www.ietf.org/rfc/rfc4122.txt" rel="noreferrer">RFC4122</a> version 4 compliant solution that solves that issue by offsetting the first 13 hex numbers by a hex portion of the timestamp, and once depleted offsets by a hex portion of the microseconds since pageload.  That way, even if <code>Math.random</code> is on the same seed, both clients would have to generate the UUID the exact same number of microseconds since pageload (if high-perfomance time is supported) AND at the exact same millisecond (or 10,000+ years later) to get the same UUID:</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">generateUUID</span>(<span class="hljs-params"></span>) { <span class="hljs-comment">// Public Domain/MIT</span>
    <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getTime</span>();<span class="hljs-comment">//Timestamp</span>
    <span class="hljs-keyword">var</span> d2 = ((<span class="hljs-keyword">typeof</span> performance !== <span class="hljs-string">'undefined'</span>) &amp;&amp; performance.<span class="hljs-property">now</span> &amp;&amp; (performance.<span class="hljs-title function_">now</span>()*<span class="hljs-number">1000</span>)) || <span class="hljs-number">0</span>;<span class="hljs-comment">//Time in microseconds since page-load or 0 if unsupported</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[xy]/g</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) {
        <span class="hljs-keyword">var</span> r = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">16</span>;<span class="hljs-comment">//random number between 0 and 16</span>
        <span class="hljs-keyword">if</span>(d &gt; <span class="hljs-number">0</span>){<span class="hljs-comment">//Use timestamp until depleted</span>
            r = (d + r)%<span class="hljs-number">16</span> | <span class="hljs-number">0</span>;
            d = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(d/<span class="hljs-number">16</span>);
        } <span class="hljs-keyword">else</span> {<span class="hljs-comment">//Use microseconds since page-load if supported</span>
            r = (d2 + r)%<span class="hljs-number">16</span> | <span class="hljs-number">0</span>;
            d2 = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(d2/<span class="hljs-number">16</span>);
        }
        <span class="hljs-keyword">return</span> (c === <span class="hljs-string">'x'</span> ? r : (r &amp; <span class="hljs-number">0x3</span> | <span class="hljs-number">0x8</span>)).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>);
    });
}

<span class="hljs-keyword">var</span> onClick = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>){
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'uuid'</span>).<span class="hljs-property">textContent</span> = <span class="hljs-title function_">generateUUID</span>();
}
<span class="hljs-title function_">onClick</span>();</code></pre>
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#uuid</span> { <span class="hljs-attribute">font-family</span>: monospace; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.5em</span>; }</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"uuid"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"generateUUID"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"onClick();"</span>&gt;</span>Generate UUID<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif2" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p><a href="https://jsfiddle.net/briguy37/8eacgpnq/" rel="noreferrer">Here's a fiddle to test.</a></p>
<hr>
<h3>Modernized snippet for ES6</h3>
<p></p><div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false"><div class="snippet-display" style="vertical-align: center"><p><a class="snippet-show-link-chevron"><span class="expander-arrow-hide" style="vertical-align: middle;"></span></a><a class="snippet-show-link"><span class="show-hide" data-ishidden="true" style="vertical-align: middle">Show code snippet</span></a></p></div>
<div class="snippet-code snippet-currently-hidden" style="display: none;">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">generateUUID</span> = (<span class="hljs-params"></span>) =&gt; {
  <span class="hljs-keyword">let</span>
    d = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getTime</span>(),
    d2 = (performance &amp;&amp; performance.<span class="hljs-property">now</span> &amp;&amp; (performance.<span class="hljs-title function_">now</span>() * <span class="hljs-number">1000</span>)) || <span class="hljs-number">0</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-string">'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[xy]/g</span>, <span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> {
    <span class="hljs-keyword">let</span> r = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">16</span>;
    <span class="hljs-keyword">if</span> (d &gt; <span class="hljs-number">0</span>) {
      r = (d + r) % <span class="hljs-number">16</span> | <span class="hljs-number">0</span>;
      d = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(d / <span class="hljs-number">16</span>);
    } <span class="hljs-keyword">else</span> {
      r = (d2 + r) % <span class="hljs-number">16</span> | <span class="hljs-number">0</span>;
      d2 = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(d2 / <span class="hljs-number">16</span>);
    }
    <span class="hljs-keyword">return</span> (c == <span class="hljs-string">'x'</span> ? r : (r &amp; <span class="hljs-number">0x7</span> | <span class="hljs-number">0x8</span>)).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>);
  });
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">onClick</span> = (<span class="hljs-params">e</span>) =&gt; <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'uuid'</span>).<span class="hljs-property">textContent</span> = <span class="hljs-title function_">generateUUID</span>();

<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'generateUUID'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, onClick);

<span class="hljs-title function_">onClick</span>();</code></pre>
<pre class="snippet-code-css lang-css s-code-block"><code class="hljs language-css"><span class="hljs-selector-id">#uuid</span> { <span class="hljs-attribute">font-family</span>: monospace; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.5em</span>; }</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"uuid"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"generateUUID"</span>&gt;</span>Generate UUID<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif3" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><a href="https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid/2117523#2117523">broofa's answer</a> is pretty slick, indeed - impressively clever, really...  RFC4122 compliant, somewhat readable, and compact. Awesome!</p>
<p>But if you're looking at that regular expression, those many <code>replace()</code> callbacks, <code>toString()</code>'s and <code>Math.random()</code> function calls (where he's only using four bits of the result and wasting the rest), you may start to wonder about performance. Indeed, joelpt even decided to toss out an RFC for generic GUID speed with <code>generateQuickGUID</code>.</p>
<p><strong>But, can we get speed <em>and</em> RFC compliance? I say, YES!</strong> Can we maintain readability? Well... Not really, but it's easy if you follow along.</p>
<p>But first, my results, compared to broofa, <code>guid</code> (the accepted answer), and the non-rfc-compliant <code>generateQuickGuid</code>:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">                  <span class="hljs-title class_">Desktop</span>   <span class="hljs-title class_">Android</span>
           <span class="hljs-attr">broofa</span>: 1617ms   12869ms
               <span class="hljs-attr">e1</span>:  636ms    5778ms
               <span class="hljs-attr">e2</span>:  606ms    4754ms
               <span class="hljs-attr">e3</span>:  364ms    3003ms
               <span class="hljs-attr">e4</span>:  329ms    2015ms
               <span class="hljs-attr">e5</span>:  147ms    1156ms
               <span class="hljs-attr">e6</span>:  146ms    1035ms
               <span class="hljs-attr">e7</span>:  105ms     726ms
             <span class="hljs-attr">guid</span>:  962ms   10762ms
<span class="hljs-attr">generateQuickGuid</span>:  292ms    2961ms
  - <span class="hljs-title class_">Note</span>: 500k iterations, results will vary by browser/<span class="hljs-variable constant_">CPU</span>.
</code></pre>
<p>So by my 6th iteration of optimizations, I beat the most popular answer by over <strong>12 times</strong>, the accepted answer by over <strong>9 times</strong>, and the fast-non-compliant answer by <strong>2-3 times</strong>. And I'm still RFC&nbsp;4122 compliant.</p>
<p>Interested in how? I've put the full source on <a href="http://jsfiddle.net/jcward/7hyaC/3/" rel="noreferrer">http://jsfiddle.net/jcward/7hyaC/3/</a> and on <a href="https://jsben.ch/xczxS" rel="noreferrer">https://jsben.ch/xczxS</a></p>
<p>For an explanation, let's start with broofa's code:</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">broofa</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[xy]/g</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) {
        <span class="hljs-keyword">var</span> r = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">16</span>|<span class="hljs-number">0</span>, v = c == <span class="hljs-string">'x'</span> ? r : (r&amp;<span class="hljs-number">0x3</span>|<span class="hljs-number">0x8</span>);
        <span class="hljs-keyword">return</span> v.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>);
    });
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">broofa</span>())</code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif4" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p>So it replaces <code>x</code> with any random hexadecimal digit, <code>y</code> with random data (except forcing the top two bits to <code>10</code> per the RFC spec), and the regex doesn't match the <code>-</code> or <code>4</code> characters, so he doesn't have to deal with them.  Very, very slick.</p>
<p>The first thing to know is that function calls are expensive, as are regular expressions (though he only uses 1, it has 32 callbacks, one for each match, and in each of the 32 callbacks it calls Math.random() and v.toString(16)).</p>
<p>The first step toward performance is to eliminate the RegEx and its callback functions and use a simple loop instead.  This means we have to deal with the <code>-</code> and <code>4</code> characters whereas broofa did not.  Also, note that we can use String Array indexing to keep his slick String template architecture:</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">e1</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">var</span> u=<span class="hljs-string">''</span>,i=<span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span>(i++<span class="language-xml">&lt;36) {
        var c='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'[i-1],r=Math.random()*16|0,v=c=='x'?r:(r&amp;0x3|0x8);
        u+=(c=='-'||c=='4')?c:v.toString(16)
    }
    return u;
}

console.log(e1())</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif5" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p>Basically, the same inner logic, except we check for <code>-</code> or <code>4</code>, and using a while loop (instead of <code>replace()</code> callbacks) gets us an almost 3X improvement!</p>
<p>The next step is a small one on the desktop but makes a decent difference on mobile.  Let's make fewer Math.random() calls and utilize all those random bits instead of throwing 87% of them away with a random buffer that gets shifted out each iteration.  Let's also move that template definition out of the loop, just in case it helps:</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">e2</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">var</span> u=<span class="hljs-string">''</span>,m=<span class="hljs-string">'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'</span>,i=<span class="hljs-number">0</span>,rb=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">0xffffffff</span>|<span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span>(i++<span class="language-xml">&lt;36) {
        var c=m[i-1],r=rb&amp;0xf,v=c=='x'?r:(r&amp;0x3|0x8);
        u+=(c=='-'||c=='4')?c:v.toString(16);rb=i%8==0?Math.random()*0xffffffff|0:rb&gt;&gt;4
    }
    return u
}

console.log(e2())</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif6" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p>This saves us 10-30% depending on platform.  Not bad.  But the next big step gets rid of the toString function calls altogether with an optimization classic - the look-up table.  A simple 16-element lookup table will perform the job of toString(16) in much less time:</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">e3</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">var</span> h=<span class="hljs-string">'0123456789abcdef'</span>;
    <span class="hljs-keyword">var</span> k=<span class="hljs-string">'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'</span>;
    <span class="hljs-comment">/* same as e4() below */</span>
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">e4</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">var</span> h=[<span class="hljs-string">'0'</span>,<span class="hljs-string">'1'</span>,<span class="hljs-string">'2'</span>,<span class="hljs-string">'3'</span>,<span class="hljs-string">'4'</span>,<span class="hljs-string">'5'</span>,<span class="hljs-string">'6'</span>,<span class="hljs-string">'7'</span>,<span class="hljs-string">'8'</span>,<span class="hljs-string">'9'</span>,<span class="hljs-string">'a'</span>,<span class="hljs-string">'b'</span>,<span class="hljs-string">'c'</span>,<span class="hljs-string">'d'</span>,<span class="hljs-string">'e'</span>,<span class="hljs-string">'f'</span>];
    <span class="hljs-keyword">var</span> k=[<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'-'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'-'</span>,<span class="hljs-string">'4'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'-'</span>,<span class="hljs-string">'y'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'-'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>];
    <span class="hljs-keyword">var</span> u=<span class="hljs-string">''</span>,i=<span class="hljs-number">0</span>,rb=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">0xffffffff</span>|<span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span>(i++<span class="language-xml">&lt;36) {
        var c=k[i-1],r=rb&amp;0xf,v=c=='x'?r:(r&amp;0x3|0x8);
        u+=(c=='-'||c=='4')?c:h[v];rb=i%8==0?Math.random()*0xffffffff|0:rb&gt;&gt;4
    }
    return u
}

console.log(e4())</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif7" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p>The next optimization is another classic.  Since we're only handling four bits of output in each loop iteration, let's cut the number of loops in half and process eight bits in each iteration.  This is tricky since we still have to handle the RFC compliant bit positions, but it's not too hard.  We then have to make a larger lookup table (16x16, or 256) to store 0x00 - 0xFF, and we build it only once, outside the e5() function.</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> lut = []; <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">256</span>; i++) { lut[i] = (i&lt;<span class="hljs-number">16</span>?<span class="hljs-string">'0'</span>:<span class="hljs-string">''</span>)+(i).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>); }
<span class="hljs-keyword">function</span> <span class="hljs-title function_">e5</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">var</span> k=[<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'-'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'-'</span>,<span class="hljs-string">'4'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'-'</span>,<span class="hljs-string">'y'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'-'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>,<span class="hljs-string">'x'</span>];
    <span class="hljs-keyword">var</span> u=<span class="hljs-string">''</span>,i=<span class="hljs-number">0</span>,rb=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">0xffffffff</span>|<span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span>(i++<span class="language-xml">&lt;20) {
        var c=k[i-1],r=rb&amp;0xff,v=c=='x'?r:(c=='y'?(r&amp;0x3f|0x80):(r&amp;0xf|0x40));
        u+=(c=='-')?c:lut[v];rb=i%4==0?Math.random()*0xffffffff|0:rb&gt;&gt;8
    }
    return u
}

console.log(e5())</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif8" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p>I tried an e6() that processes 16-bits at a time, still using the 256-element <a href="https://en.wikipedia.org/wiki/Lookup_table" rel="noreferrer">LUT</a>, and it showed the diminishing returns of optimization.  Though it had fewer iterations, the inner logic was complicated by the increased processing, and it performed the same on desktop, and only ~10% faster on mobile.</p>
<p>The final optimization technique to apply - unroll the loop.  Since we're looping a fixed number of times, we can technically write this all out by hand.  I tried this once with a single random variable, <code>r</code>, that I kept reassigning, and performance tanked.  But with four variables assigned random data up front, then using the lookup table, and applying the proper RFC bits, this version smokes them all:</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> lut = []; <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">256</span>; i++) { lut[i] = (i&lt;<span class="hljs-number">16</span>?<span class="hljs-string">'0'</span>:<span class="hljs-string">''</span>)+(i).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>); }
<span class="hljs-keyword">function</span> <span class="hljs-title function_">e7</span>(<span class="hljs-params"></span>)
{
    <span class="hljs-keyword">var</span> d0 = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">0xffffffff</span>|<span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> d1 = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">0xffffffff</span>|<span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> d2 = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">0xffffffff</span>|<span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> d3 = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">0xffffffff</span>|<span class="hljs-number">0</span>;
    <span class="hljs-keyword">return</span> lut[d0&amp;<span class="hljs-number">0xff</span>]+lut[d0&gt;&gt;<span class="hljs-number">8</span>&amp;<span class="hljs-number">0xff</span>]+lut[d0&gt;&gt;<span class="hljs-number">16</span>&amp;<span class="hljs-number">0xff</span>]+lut[d0&gt;&gt;<span class="hljs-number">24</span>&amp;<span class="hljs-number">0xff</span>]+<span class="hljs-string">'-'</span>+
    lut[d1&amp;<span class="hljs-number">0xff</span>]+lut[d1&gt;&gt;<span class="hljs-number">8</span>&amp;<span class="hljs-number">0xff</span>]+<span class="hljs-string">'-'</span>+lut[d1&gt;&gt;<span class="hljs-number">16</span>&amp;<span class="hljs-number">0x0f</span>|<span class="hljs-number">0x40</span>]+lut[d1&gt;&gt;<span class="hljs-number">24</span>&amp;<span class="hljs-number">0xff</span>]+<span class="hljs-string">'-'</span>+
    lut[d2&amp;<span class="hljs-number">0x3f</span>|<span class="hljs-number">0x80</span>]+lut[d2&gt;&gt;<span class="hljs-number">8</span>&amp;<span class="hljs-number">0xff</span>]+<span class="hljs-string">'-'</span>+lut[d2&gt;&gt;<span class="hljs-number">16</span>&amp;<span class="hljs-number">0xff</span>]+lut[d2&gt;&gt;<span class="hljs-number">24</span>&amp;<span class="hljs-number">0xff</span>]+
    lut[d3&amp;<span class="hljs-number">0xff</span>]+lut[d3&gt;&gt;<span class="hljs-number">8</span>&amp;<span class="hljs-number">0xff</span>]+lut[d3&gt;&gt;<span class="hljs-number">16</span>&amp;<span class="hljs-number">0xff</span>]+lut[d3&gt;&gt;<span class="hljs-number">24</span>&amp;<span class="hljs-number">0xff</span>];
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">e7</span>())</code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif9" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p>Modualized:  <a href="http://jcward.com/UUID.js" rel="noreferrer">http://jcward.com/UUID.js</a> - <code>UUID.generate()</code></p>
<p>The funny thing is, generating 16 bytes of random data is the easy part.  The whole trick is expressing it in <em>string</em> format with RFC compliance, and it's most tightly accomplished with 16 bytes of random data, an unrolled loop and lookup table.</p>
<p>I hope my logic is correct -- it's very easy to make a mistake in this kind of tedious bit work. But the outputs look good to me. I hope you enjoyed this mad ride through code optimization!</p>
<p><strong>Be advised:</strong> my primary goal was to show and teach potential optimization strategies.  Other answers cover important topics such as collisions and truly random numbers, which are important for generating good UUIDs.</p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Use:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">let</span> uniqueId = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">36</span>) + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">36</span>).<span class="hljs-title function_">substring</span>(<span class="hljs-number">2</span>);
</code></pre>
<p></p><div class="snippet" data-lang="js" data-hide="true" data-console="false" data-babel="false"><div class="snippet-display" style="vertical-align: center"><p><a class="snippet-show-link-chevron"><span class="expander-arrow-hide" style="vertical-align: middle;"></span></a><a class="snippet-show-link"><span class="show-hide" data-ishidden="true" style="vertical-align: middle">Show code snippet</span></a></p></div>
<div class="snippet-code snippet-currently-hidden" style="display: none;">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"unique"</span>).<span class="hljs-property">innerHTML</span> =
  <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">36</span>).<span class="hljs-title function_">substring</span>(<span class="hljs-number">2</span>) + (<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()).<span class="hljs-title function_">getTime</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">36</span>);</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"unique"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif10" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p>If IDs are generated more than 1 millisecond apart, they are 100% unique.</p>
<p>If two IDs are generated at shorter intervals, and assuming that the random method is truly random, this would generate IDs that are 99.99999999999999% likely to be globally unique (collision in 1 of 10^15).</p>
<p>You can increase this number by adding more digits, but to generate 100% unique IDs you will need to use a global counter.</p>
<p>If you need RFC compatibility, this formatting will pass as a valid version 4 GUID:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">let</span> u = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>) + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>) + <span class="hljs-string">'0'</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">16</span>);
<span class="hljs-keyword">let</span> guid = [u.<span class="hljs-title function_">substr</span>(<span class="hljs-number">0</span>,<span class="hljs-number">8</span>), u.<span class="hljs-title function_">substr</span>(<span class="hljs-number">8</span>,<span class="hljs-number">4</span>), <span class="hljs-string">'4000-8'</span> + u.<span class="hljs-title function_">substr</span>(<span class="hljs-number">13</span>,<span class="hljs-number">3</span>), u.<span class="hljs-title function_">substr</span>(<span class="hljs-number">16</span>,<span class="hljs-number">12</span>)].<span class="hljs-title function_">join</span>(<span class="hljs-string">'-'</span>);
</code></pre>
<p></p><div class="snippet" data-lang="js" data-hide="true" data-console="false" data-babel="false"><div class="snippet-display" style="vertical-align: center"><p><a class="snippet-show-link-chevron"><span class="expander-arrow-hide" style="vertical-align: middle;"></span></a><a class="snippet-show-link"><span class="show-hide" data-ishidden="true" style="vertical-align: middle">Show code snippet</span></a></p></div>
<div class="snippet-code snippet-currently-hidden" style="display: none;">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">let</span> u = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>)+<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>)+<span class="hljs-string">'0'</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">16</span>);
<span class="hljs-keyword">let</span> guid = [u.<span class="hljs-title function_">substr</span>(<span class="hljs-number">0</span>,<span class="hljs-number">8</span>), u.<span class="hljs-title function_">substr</span>(<span class="hljs-number">8</span>,<span class="hljs-number">4</span>), <span class="hljs-string">'4000-8'</span> + u.<span class="hljs-title function_">substr</span>(<span class="hljs-number">13</span>,<span class="hljs-number">3</span>), u.<span class="hljs-title function_">substr</span>(<span class="hljs-number">16</span>,<span class="hljs-number">12</span>)].<span class="hljs-title function_">join</span>(<span class="hljs-string">'-'</span>);
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"unique"</span>).<span class="hljs-property">innerHTML</span> = guid;</code></pre>
<pre class="snippet-code-html lang-html s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"unique"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif11" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p>The above code follow the intention, but not the letter of the RFC. Among other discrepancies it's a few random digits short. (Add more random digits if you need it) The upside is that this is really fast :)
You can <a href="https://www.freecodeformat.com/validate-uuid-guid.php" rel="noreferrer">test validity of your GUID here</a></p>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here's some code based on <a href="http://www.ietf.org/rfc/rfc4122.txt" rel="noreferrer">RFC 4122</a>, section 4.4 (Algorithms for Creating a UUID from Truly Random or Pseudo-Random Number).</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createUUID</span>(<span class="hljs-params"></span>) {
    <span class="hljs-comment">// http://www.ietf.org/rfc/rfc4122.txt</span>
    <span class="hljs-keyword">var</span> s = [];
    <span class="hljs-keyword">var</span> hexDigits = <span class="hljs-string">"0123456789abcdef"</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">36</span>; i++) {
        s[i] = hexDigits.<span class="hljs-title function_">substr</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">0x10</span>), <span class="hljs-number">1</span>);
    }
    s[<span class="hljs-number">14</span>] = <span class="hljs-string">"4"</span>;  <span class="hljs-comment">// bits 12-15 of the time_hi_and_version field to 0010</span>
    s[<span class="hljs-number">19</span>] = hexDigits.<span class="hljs-title function_">substr</span>((s[<span class="hljs-number">19</span>] &amp; <span class="hljs-number">0x3</span>) | <span class="hljs-number">0x8</span>, <span class="hljs-number">1</span>);  <span class="hljs-comment">// bits 6-7 of the clock_seq_hi_and_reserved to 01</span>
    s[<span class="hljs-number">8</span>] = s[<span class="hljs-number">13</span>] = s[<span class="hljs-number">18</span>] = s[<span class="hljs-number">23</span>] = <span class="hljs-string">"-"</span>;

    <span class="hljs-keyword">var</span> uuid = s.<span class="hljs-title function_">join</span>(<span class="hljs-string">""</span>);
    <span class="hljs-keyword">return</span> uuid;
}
</code></pre>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This is the fastest GUID-like string generator method in the format <code>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</code>. It does not generate a standard-compliant GUID.</p>
<p>Ten million executions of this implementation take just 32.5 seconds, which is the fastest I've ever seen in a browser (the only solution without loops/iterations).</p>
<p>The function is as simple as:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-comment">/**
 * Generates a GUID string.
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">string</span>} The generated GUID.
 * <span class="hljs-doctag">@example</span> <span class="hljs-variable">af8a8416</span>-6e18-a307-bd9c-f2c947bbb3aa
 * <span class="hljs-doctag">@author</span> Slavik Meltser.
 * <span class="hljs-doctag">@link</span> http://slavik.meltser.info/?p=142
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">guid</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">_p8</span>(<span class="hljs-params">s</span>) {
        <span class="hljs-keyword">var</span> p = (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>)+<span class="hljs-string">"000000000"</span>).<span class="hljs-title function_">substr</span>(<span class="hljs-number">2</span>,<span class="hljs-number">8</span>);
        <span class="hljs-keyword">return</span> s ? <span class="hljs-string">"-"</span> + p.<span class="hljs-title function_">substr</span>(<span class="hljs-number">0</span>,<span class="hljs-number">4</span>) + <span class="hljs-string">"-"</span> + p.<span class="hljs-title function_">substr</span>(<span class="hljs-number">4</span>,<span class="hljs-number">4</span>) : p ;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">_p8</span>() + <span class="hljs-title function_">_p8</span>(<span class="hljs-literal">true</span>) + <span class="hljs-title function_">_p8</span>(<span class="hljs-literal">true</span>) + <span class="hljs-title function_">_p8</span>();
}
</code></pre>
<p>To test the performance, you can run this code:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">'t'</span>);
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000000</span>; i++) {
    <span class="hljs-title function_">guid</span>();
};
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">'t'</span>);
</code></pre>
<p>I'm sure most of you will understand what I did there, but maybe there is at least one person that will need an explanation:</p>
<p><strong>The algorithm:</strong></p>
<ul>
<li>The <code>Math.random()</code> function returns a decimal number between 0 and 1 with 16 digits after the decimal fraction point (for
example <code>0.4363923368509859</code>).</li>
<li>Then we take this number and convert
it to a string with base 16 (from the example above we'll get
<code>0.6fb7687f</code>).
<code>Math.random().toString(16)</code>.</li>
<li>Then we cut off the <code>0.</code> prefix (<code>0.6fb7687f</code> =&gt;
<code>6fb7687f</code>) and get a string with eight hexadecimal
characters long.
<code>(Math.random().toString(16).substr(2,8)</code>.</li>
<li>Sometimes the <code>Math.random()</code> function will return
shorter number (for example <code>0.4363</code>), due to zeros at the end (from the example above, actually the number is <code>0.4363000000000000</code>). That's why I'm appending to this string <code>"000000000"</code> (a string with nine zeros) and then cutting it off with <code>substr()</code> function to make it nine characters exactly (filling zeros to the right).</li>
<li>The reason for adding exactly nine zeros is because of the worse case scenario, which is when the <code>Math.random()</code> function will return exactly 0 or 1 (probability of 1/10^16 for each one of them). That's why we needed to add nine zeros to it (<code>"0"+"000000000"</code> or <code>"1"+"000000000"</code>), and then cutting it off from the second index (third character) with a length of eight characters. For the rest of the cases, the addition of zeros will not harm the result because it is cutting it off anyway.
<code>Math.random().toString(16)+"000000000").substr(2,8)</code>.</li>
</ul>
<p><strong>The assembly:</strong></p>
<ul>
<li>The GUID is in the following format <code>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</code>.</li>
<li>I divided the GUID into four pieces, each piece divided into two types (or formats): <code>XXXXXXXX</code> and <code>-XXXX-XXXX</code>.</li>
<li>Now I'm building the GUID using these two types to assemble the GUID with call four pieces, as follows: <code>XXXXXXXX</code> <code>-XXXX-XXXX</code> <code>-XXXX-XXXX</code> <code>XXXXXXXX</code>.</li>
<li>To differ between these two types, I added a flag parameter to a pair creator function <code>_p8(s)</code>, the <code>s</code> parameter tells the function whether to add dashes or not.</li>
<li>Eventually we build the GUID with the following chaining: <code>_p8() + _p8(true) + _p8(true) + _p8()</code>, and return it.</li>
</ul>
<p><a href="http://slavik.meltser.info/the-efficient-way-to-create-guid-uuid-in-javascript/" rel="nofollow noreferrer">Link to this post on my blog</a></p>
<p><strong>Enjoy! :-)</strong></p>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here is a totally non-compliant but very performant implementation to generate an ASCII-safe GUID-like unique identifier.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">generateQuickGuid</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">36</span>).<span class="hljs-title function_">substring</span>(<span class="hljs-number">2</span>, <span class="hljs-number">15</span>) +
        <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">36</span>).<span class="hljs-title function_">substring</span>(<span class="hljs-number">2</span>, <span class="hljs-number">15</span>);
}
</code></pre>

<p>Generates 26 [a-z0-9] characters, yielding a UID that is both shorter and more unique than RFC compliant GUIDs. Dashes can be trivially added if human-readability matters.</p>

<p>Here are usage examples and timings for this function and several of this question's other answers. The timing was performed under Chrome m25, 10 million iterations each.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">&gt;&gt;&gt; <span class="hljs-title function_">generateQuickGuid</span>()
<span class="hljs-string">"nvcjf1hs7tf8yyk4lmlijqkuo9"</span>
<span class="hljs-string">"yq6gipxqta4kui8z05tgh9qeel"</span>
<span class="hljs-string">"36dh5sec7zdj90sk2rx7pjswi2"</span>
<span class="hljs-attr">runtime</span>: <span class="hljs-number">32.</span>5s

&gt;&gt;&gt; <span class="hljs-title function_">GUID</span>() <span class="hljs-comment">// John Millikin</span>
<span class="hljs-string">"7a342ca2-e79f-528e-6302-8f901b0b6888"</span>
<span class="hljs-attr">runtime</span>: <span class="hljs-number">57.</span>8s

&gt;&gt;&gt; <span class="hljs-title function_">regexGuid</span>() <span class="hljs-comment">// broofa</span>
<span class="hljs-string">"396e0c46-09e4-4b19-97db-bd423774a4b3"</span>
<span class="hljs-attr">runtime</span>: <span class="hljs-number">91.</span>2s

&gt;&gt;&gt; <span class="hljs-title function_">createUUID</span>() <span class="hljs-comment">// Kevin Hakanson</span>
<span class="hljs-string">"403aa1ab-9f70-44ec-bc08-5d5ac56bd8a5"</span>
<span class="hljs-attr">runtime</span>: <span class="hljs-number">65.</span>9s

&gt;&gt;&gt; <span class="hljs-title class_">UUIDv4</span>() <span class="hljs-comment">// Jed Schmidt</span>
<span class="hljs-string">"f4d7d31f-fa83-431a-b30c-3e6cc37cc6ee"</span>
<span class="hljs-attr">runtime</span>: <span class="hljs-number">282.</span>4s

&gt;&gt;&gt; <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">uuid</span>() <span class="hljs-comment">// broofa</span>
<span class="hljs-string">"5BD52F55-E68F-40FC-93C2-90EE069CE545"</span>
<span class="hljs-attr">runtime</span>: <span class="hljs-number">225.</span>8s

&gt;&gt;&gt; <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">uuidFast</span>() <span class="hljs-comment">// broofa</span>
<span class="hljs-string">"6CB97A68-23A2-473E-B75B-11263781BBE6"</span>
<span class="hljs-attr">runtime</span>: <span class="hljs-number">92.</span>0s

&gt;&gt;&gt; <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">uuidCompact</span>() <span class="hljs-comment">// broofa</span>
<span class="hljs-string">"3d7b7a06-0a67-4b67-825c-e5c43ff8c1e8"</span>
<span class="hljs-attr">runtime</span>: <span class="hljs-number">229.</span>0s

&gt;&gt;&gt; <span class="hljs-title function_">bitwiseGUID</span>() <span class="hljs-comment">// jablko</span>
<span class="hljs-string">"baeaa2f-7587-4ff1-af23-eeab3e92"</span>
<span class="hljs-attr">runtime</span>: <span class="hljs-number">79.</span>6s

&gt;&gt;&gt;&gt; <span class="hljs-title function_">betterWayGUID</span>() <span class="hljs-comment">// Andrea Turri</span>
<span class="hljs-string">"383585b0-9753-498d-99c3-416582e9662c"</span>
<span class="hljs-attr">runtime</span>: <span class="hljs-number">60.</span>0s

&gt;&gt;&gt;&gt; <span class="hljs-title function_">UUID</span>() <span class="hljs-comment">// John Fowler</span>
<span class="hljs-string">"855f997b-4369-4cdb-b7c9-7142ceaf39e8"</span>
<span class="hljs-attr">runtime</span>: <span class="hljs-number">62.</span>2s
</code></pre>

<p>Here is the timing code.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> r;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">'t'</span>); 
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000000</span>; i++) { 
    r = <span class="hljs-title class_">FuncToTest</span>(); 
};
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">'t'</span>);
</code></pre>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>From <a href="http://blog.shkedy.com/2007/01/createing-guids-with-client-side.html" rel="noreferrer">sagi shkedy's technical blog</a>:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">generateGuid</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">var</span> result, i, j;
  result = <span class="hljs-string">''</span>;
  <span class="hljs-keyword">for</span>(j=<span class="hljs-number">0</span>; j&lt;<span class="hljs-number">32</span>; j++) {
    <span class="hljs-keyword">if</span>( j == <span class="hljs-number">8</span> || j == <span class="hljs-number">12</span> || j == <span class="hljs-number">16</span> || j == <span class="hljs-number">20</span>)
      result = result + <span class="hljs-string">'-'</span>;
    i = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">16</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">toUpperCase</span>();
    result = result + i;
  }
  <span class="hljs-keyword">return</span> result;
}
</code></pre>
<p>There are other methods that involve using an <a href="https://en.wikipedia.org/wiki/ActiveX" rel="noreferrer">ActiveX</a> control, but stay away from these!</p>
<p>I thought it was worth pointing out that no GUID generator can guarantee unique keys (check the <a href="http://en.wikipedia.org/wiki/Globally_Unique_Identifier" rel="noreferrer">Wikipedia article</a>). There is always a chance of collisions. A GUID simply offers a large enough universe of keys to reduce the change of collisions to almost nil.</p>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 10</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here is a combination of the <a href="https://stackoverflow.com/a/2117523/11236">top voted answer</a>, with a workaround for <a href="https://stackoverflow.com/questions/6906916/collisions-when-generating-uuids-in-javascript">Chrome's collisions</a>:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">generateGUID = (<span class="hljs-title function_">typeof</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">crypto</span>) != <span class="hljs-string">'undefined'</span> &amp;&amp;
                <span class="hljs-title function_">typeof</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">crypto</span>.<span class="hljs-property">getRandomValues</span>) != <span class="hljs-string">'undefined'</span>) ?
    <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
        <span class="hljs-comment">// If we have a cryptographically secure PRNG, use that</span>
        <span class="hljs-comment">// https://stackoverflow.com/questions/6906916/collisions-when-generating-uuids-in-javascript</span>
        <span class="hljs-keyword">var</span> buf = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint16Array</span>(<span class="hljs-number">8</span>);
        <span class="hljs-variable language_">window</span>.<span class="hljs-property">crypto</span>.<span class="hljs-title function_">getRandomValues</span>(buf);
        <span class="hljs-keyword">var</span> <span class="hljs-variable constant_">S4</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">num</span>) {
            <span class="hljs-keyword">var</span> ret = num.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>);
            <span class="hljs-keyword">while</span>(ret.<span class="hljs-property">length</span> &lt; <span class="hljs-number">4</span>){
                ret = <span class="hljs-string">"0"</span>+ret;
            }
            <span class="hljs-keyword">return</span> ret;
        };
        <span class="hljs-keyword">return</span> (<span class="hljs-title function_">S4</span>(buf[<span class="hljs-number">0</span>])+<span class="hljs-title function_">S4</span>(buf[<span class="hljs-number">1</span>])+<span class="hljs-string">"-"</span>+<span class="hljs-title function_">S4</span>(buf[<span class="hljs-number">2</span>])+<span class="hljs-string">"-"</span>+<span class="hljs-title function_">S4</span>(buf[<span class="hljs-number">3</span>])+<span class="hljs-string">"-"</span>+<span class="hljs-title function_">S4</span>(buf[<span class="hljs-number">4</span>])+<span class="hljs-string">"-"</span>+<span class="hljs-title function_">S4</span>(buf[<span class="hljs-number">5</span>])+<span class="hljs-title function_">S4</span>(buf[<span class="hljs-number">6</span>])+<span class="hljs-title function_">S4</span>(buf[<span class="hljs-number">7</span>]));
    }

    :

    <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
        <span class="hljs-comment">// Otherwise, just use Math.random</span>
        <span class="hljs-comment">// https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[xy]/g</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) {
            <span class="hljs-keyword">var</span> r = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">16</span>|<span class="hljs-number">0</span>, v = c == <span class="hljs-string">'x'</span> ? r : (r&amp;<span class="hljs-number">0x3</span>|<span class="hljs-number">0x8</span>);
            <span class="hljs-keyword">return</span> v.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>);
        });
    };
</code></pre>
<p>It is <a href="http://jsbin.com/uqives/3" rel="nofollow noreferrer">on jsbin</a> if you want to test it.</p>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 11</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here's a solution dated Oct. 9, 2011 from a comment by user <em>jed</em> at <a href="https://gist.github.com/982883" rel="noreferrer">https://gist.github.com/982883</a>:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">UUIDv4</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">b</span>(<span class="hljs-params">a</span>){<span class="hljs-keyword">return</span> a?(a^<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">16</span>&gt;&gt;a/<span class="hljs-number">4</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>):([<span class="hljs-number">1e7</span>]+-<span class="hljs-number">1e3</span>+-<span class="hljs-number">4e3</span>+-<span class="hljs-number">8e3</span>+-<span class="hljs-number">1e11</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[018]/g</span>,b)}
</code></pre>

<p>This accomplishes the same goal as the <a href="https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523">current highest-rated answer</a>, but in 50+ fewer bytes by exploiting coercion, recursion, and exponential notation. For those curious how it works, here's the annotated form of an older version of the function:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">UUIDv4</span> =

<span class="hljs-keyword">function</span> <span class="hljs-title function_">b</span>(<span class="hljs-params">
  a <span class="hljs-comment">// placeholder</span>
</span>){
  <span class="hljs-keyword">return</span> a <span class="hljs-comment">// if the placeholder was passed, return</span>
    ? ( <span class="hljs-comment">// a random number from 0 to 15</span>
      a ^ <span class="hljs-comment">// unless b is 8,</span>
      <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() <span class="hljs-comment">// in which case</span>
      * <span class="hljs-number">16</span> <span class="hljs-comment">// a random number from</span>
      &gt;&gt; a/<span class="hljs-number">4</span> <span class="hljs-comment">// 8 to 11</span>
      ).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>) <span class="hljs-comment">// in hexadecimal</span>
    : ( <span class="hljs-comment">// or otherwise a concatenated string:</span>
      [<span class="hljs-number">1e7</span>] + <span class="hljs-comment">// 10000000 +</span>
      -<span class="hljs-number">1e3</span> + <span class="hljs-comment">// -1000 +</span>
      -<span class="hljs-number">4e3</span> + <span class="hljs-comment">// -4000 +</span>
      -<span class="hljs-number">8e3</span> + <span class="hljs-comment">// -80000000 +</span>
      -<span class="hljs-number">1e11</span> <span class="hljs-comment">// -100000000000,</span>
      ).<span class="hljs-title function_">replace</span>( <span class="hljs-comment">// replacing</span>
        <span class="hljs-regexp">/[018]/g</span>, <span class="hljs-comment">// zeroes, ones, and eights with</span>
        b <span class="hljs-comment">// random hex digits</span>
      )
}
</code></pre>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 12</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can use <a href="https://github.com/kelektiv/node-uuid" rel="noreferrer">node-uuid</a>. It provides simple, fast generation of <a href="http://www.ietf.org/rfc/rfc4122.txt" rel="noreferrer">RFC4122</a> UUIDS.</p>
<p>Features:</p>
<ul>
<li>Generate RFC4122 version 1 or version 4 UUIDs</li>
<li>Runs in <a href="https://en.wikipedia.org/wiki/Node.js" rel="noreferrer">Node.js</a> and browsers.</li>
<li>Cryptographically strong random # generation on supporting platforms.</li>
<li>Small footprint (Want something smaller? <a href="https://gist.github.com/982883" rel="noreferrer">Check this out!</a>)</li>
</ul>
<hr>
<p><strong>Install Using NPM:</strong></p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">npm install uuid
</code></pre>
<hr>
<p><strong>Or using uuid via a browser:</strong></p>
<p>Download Raw File (uuid v1): <a href="https://raw.githubusercontent.com/kelektiv/node-uuid/master/v1.js" rel="noreferrer">https://raw.githubusercontent.com/kelektiv/node-uuid/master/v1.js</a>
Download Raw File (uuid v4): <a href="https://raw.githubusercontent.com/kelektiv/node-uuid/master/v4.js" rel="noreferrer">https://raw.githubusercontent.com/kelektiv/node-uuid/master/v4.js</a></p>
<hr>
<p>Want even smaller? Check this out: <a href="https://gist.github.com/jed/982883" rel="noreferrer">https://gist.github.com/jed/982883</a></p>
<hr>
<p><strong>Usage:</strong></p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-comment">// Generate a v1 UUID (time-based)</span>
<span class="hljs-keyword">const</span> uuidV1 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'uuid/v1'</span>);
<span class="hljs-title function_">uuidV1</span>(); <span class="hljs-comment">// -&gt; '6c84fb90-12c4-11e1-840d-7b25c5ee775a'</span>

<span class="hljs-comment">// Generate a v4 UUID (random)</span>
<span class="hljs-keyword">const</span> uuidV4 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'uuid/v4'</span>);
<span class="hljs-title function_">uuidV4</span>(); <span class="hljs-comment">// -&gt; '110ec58a-a0f2-4ac4-8393-c866d813b8d1'</span>

<span class="hljs-comment">// Generate a v5 UUID (namespace)</span>
<span class="hljs-keyword">const</span> uuidV5 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'uuid/v5'</span>);

<span class="hljs-comment">// ... using predefined DNS namespace (for domain names)</span>
<span class="hljs-title function_">uuidV5</span>(<span class="hljs-string">'hello.example.com'</span>, v5.<span class="hljs-property">DNS</span>)); <span class="hljs-comment">// -&gt; 'fdda765f-fc57-5604-a269-52a7df8164ec'</span>

<span class="hljs-comment">// ... using predefined URL namespace (for, well, URLs)</span>
<span class="hljs-title function_">uuidV5</span>(<span class="hljs-string">'http://example.com/hello'</span>, v5.<span class="hljs-property">URL</span>); <span class="hljs-comment">// -&gt; '3bbcee75-cecc-5b56-8031-b6641c1ed1f1'</span>

<span class="hljs-comment">// ... using a custom namespace</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">MY_NAMESPACE</span> = <span class="hljs-string">'(previously generated unique uuid string)'</span>;
<span class="hljs-title function_">uuidV5</span>(<span class="hljs-string">'hello'</span>, <span class="hljs-variable constant_">MY_NAMESPACE</span>); <span class="hljs-comment">// -&gt; '90123e1c-7512-523e-bb28-76fab9f2f73d'</span>
</code></pre>
<hr>
<p><strong>ECMAScript&nbsp;2015 (ES6):</strong></p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">import</span> uuid <span class="hljs-keyword">from</span> <span class="hljs-string">'uuid/v4'</span>;
<span class="hljs-keyword">const</span> id = <span class="hljs-title function_">uuid</span>();
</code></pre>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 13</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> uuid = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">var</span> buf = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint32Array</span>(<span class="hljs-number">4</span>);
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">crypto</span>.<span class="hljs-title function_">getRandomValues</span>(buf);
    <span class="hljs-keyword">var</span> idx = -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[xy]/g</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) {
        idx++;
        <span class="hljs-keyword">var</span> r = (buf[idx&gt;&gt;<span class="hljs-number">3</span>] &gt;&gt; ((idx%<span class="hljs-number">8</span>)*<span class="hljs-number">4</span>))&amp;<span class="hljs-number">15</span>;
        <span class="hljs-keyword">var</span> v = c == <span class="hljs-string">'x'</span> ? r : (r&amp;<span class="hljs-number">0x3</span>|<span class="hljs-number">0x8</span>);
        <span class="hljs-keyword">return</span> v.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>);
    });
};
</code></pre>
<p>This version is based on Briguy37's answer and some bitwise operators to extract nibble sized windows from the buffer.</p>
<p>It should adhere to the RFC Type 4 (random) schema, since I had <em>problems</em> last time parsing non-compliant UUIDs with Java's UUID.</p>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 14</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This creates a version 4 UUID (created from pseudo random numbers):</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">uuid</span>(<span class="hljs-params"></span>)
{
   <span class="hljs-keyword">var</span> chars = <span class="hljs-string">'0123456789abcdef'</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">''</span>);

   <span class="hljs-keyword">var</span> uuid = [], rnd = <span class="hljs-title class_">Math</span>.<span class="hljs-property">random</span>, r;
   uuid[<span class="hljs-number">8</span>] = uuid[<span class="hljs-number">13</span>] = uuid[<span class="hljs-number">18</span>] = uuid[<span class="hljs-number">23</span>] = <span class="hljs-string">'-'</span>;
   uuid[<span class="hljs-number">14</span>] = <span class="hljs-string">'4'</span>; <span class="hljs-comment">// version 4</span>

   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">36</span>; i++)
   {
      <span class="hljs-keyword">if</span> (!uuid[i])
      {
         r = <span class="hljs-number">0</span> | <span class="hljs-title function_">rnd</span>()*<span class="hljs-number">16</span>;

         uuid[i] = chars[(i == <span class="hljs-number">19</span>) ? (r &amp; <span class="hljs-number">0x3</span>) | <span class="hljs-number">0x8</span> : r &amp; <span class="hljs-number">0xf</span>];
      }
   }

   <span class="hljs-keyword">return</span> uuid.<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);
}
</code></pre>
<p>Here is a sample of the UUIDs generated:</p>
<pre class="lang-none s-code-block"><code>682db637-0f31-4847-9cdf-25ba9613a75c
97d19478-3ab2-4aa1-b8cc-a1c3540f54aa
2eed04c9-2692-456d-a0fd-51012f947136
</code></pre>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 15</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Simple JavaScript module as a combination of best answers in this question.</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> crypto = <span class="hljs-variable language_">window</span>.<span class="hljs-property">crypto</span> || <span class="hljs-variable language_">window</span>.<span class="hljs-property">msCrypto</span> || <span class="hljs-literal">null</span>; <span class="hljs-comment">// IE11 fix</span>

<span class="hljs-keyword">var</span> <span class="hljs-title class_">Guid</span> = <span class="hljs-title class_">Guid</span> || (<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {

  <span class="hljs-keyword">var</span> <span class="hljs-variable constant_">EMPTY</span> = <span class="hljs-string">'00000000-0000-0000-0000-000000000000'</span>;

  <span class="hljs-keyword">var</span> _padLeft = <span class="hljs-keyword">function</span>(<span class="hljs-params">paddingString, width, replacementChar</span>) {
    <span class="hljs-keyword">return</span> paddingString.<span class="hljs-property">length</span> &gt;= width ? paddingString : <span class="hljs-title function_">_padLeft</span>(replacementChar + paddingString, width, replacementChar || <span class="hljs-string">' '</span>);
  };

  <span class="hljs-keyword">var</span> _s4 = <span class="hljs-keyword">function</span>(<span class="hljs-params">number</span>) {
    <span class="hljs-keyword">var</span> hexadecimalResult = number.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">_padLeft</span>(hexadecimalResult, <span class="hljs-number">4</span>, <span class="hljs-string">'0'</span>);
  };

  <span class="hljs-keyword">var</span> _cryptoGuid = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">var</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-variable language_">window</span>.<span class="hljs-title class_">Uint16Array</span>(<span class="hljs-number">8</span>);
    crypto.<span class="hljs-title function_">getRandomValues</span>(buffer);
    <span class="hljs-keyword">return</span> [<span class="hljs-title function_">_s4</span>(buffer[<span class="hljs-number">0</span>]) + <span class="hljs-title function_">_s4</span>(buffer[<span class="hljs-number">1</span>]), <span class="hljs-title function_">_s4</span>(buffer[<span class="hljs-number">2</span>]), <span class="hljs-title function_">_s4</span>(buffer[<span class="hljs-number">3</span>]), <span class="hljs-title function_">_s4</span>(buffer[<span class="hljs-number">4</span>]), <span class="hljs-title function_">_s4</span>(buffer[<span class="hljs-number">5</span>]) + <span class="hljs-title function_">_s4</span>(buffer[<span class="hljs-number">6</span>]) + <span class="hljs-title function_">_s4</span>(buffer[<span class="hljs-number">7</span>])].<span class="hljs-title function_">join</span>(<span class="hljs-string">'-'</span>);
  };

  <span class="hljs-keyword">var</span> _guid = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">var</span> currentDateMilliseconds = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getTime</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-string">'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[xy]/g</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">currentChar</span>) {
      <span class="hljs-keyword">var</span> randomChar = (currentDateMilliseconds + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">16</span>) % <span class="hljs-number">16</span> | <span class="hljs-number">0</span>;
      currentDateMilliseconds = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(currentDateMilliseconds / <span class="hljs-number">16</span>);
      <span class="hljs-keyword">return</span> (currentChar === <span class="hljs-string">'x'</span> ? randomChar : (randomChar &amp; <span class="hljs-number">0x7</span> | <span class="hljs-number">0x8</span>)).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>);
    });
  };

  <span class="hljs-keyword">var</span> create = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">var</span> hasCrypto = crypto != <span class="hljs-string">'undefined'</span> &amp;&amp; crypto !== <span class="hljs-literal">null</span>,
      hasRandomValues = <span class="hljs-title function_">typeof</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">crypto</span>.<span class="hljs-property">getRandomValues</span>) != <span class="hljs-string">'undefined'</span>;
    <span class="hljs-keyword">return</span> (hasCrypto &amp;&amp; hasRandomValues) ? <span class="hljs-title function_">_cryptoGuid</span>() : <span class="hljs-title function_">_guid</span>();
  };

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">newGuid</span>: create,
    <span class="hljs-attr">empty</span>: <span class="hljs-variable constant_">EMPTY</span>
  };
})();

<span class="hljs-comment">// DEMO: Create and show GUID</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'1. New Guid:   '</span> + <span class="hljs-title class_">Guid</span>.<span class="hljs-title function_">newGuid</span>());

<span class="hljs-comment">// DEMO: Show empty GUID</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'2. Empty Guid: '</span> + <span class="hljs-title class_">Guid</span>.<span class="hljs-property">empty</span>);</code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif12" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p>Usage:</p>
<blockquote>
<blockquote>
<p><strong>Guid.newGuid()</strong></p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>"c6c2d12f-d76b-5739-e551-07e6de5b0807"</p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p><strong>Guid.empty</strong></p>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<p>"00000000-0000-0000-0000-000000000000"</p>
</blockquote>
</blockquote>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 16</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The version below is an adaptation of <a href="https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid/2117523#2117523">broofa's answer</a>, but updated to include a "true" random function that uses crypto libraries where available, and the Alea() function as a fallback.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">  <span class="hljs-title class_">Math</span>.<span class="hljs-property">log2</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-property">log2</span> || <span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>){ <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">log</span>(n) / <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>); }
  <span class="hljs-title class_">Math</span>.<span class="hljs-property">trueRandom</span> = (<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">var</span> crypt = <span class="hljs-variable language_">window</span>.<span class="hljs-property">crypto</span> || <span class="hljs-variable language_">window</span>.<span class="hljs-property">msCrypto</span>;

  <span class="hljs-keyword">if</span> (crypt &amp;&amp; crypt.<span class="hljs-property">getRandomValues</span>) {
      <span class="hljs-comment">// If we have a crypto library, use it</span>
      <span class="hljs-keyword">var</span> random = <span class="hljs-keyword">function</span>(<span class="hljs-params">min, max</span>) {
          <span class="hljs-keyword">var</span> rval = <span class="hljs-number">0</span>;
          <span class="hljs-keyword">var</span> range = max - min;
          <span class="hljs-keyword">if</span> (range &lt; <span class="hljs-number">2</span>) {
              <span class="hljs-keyword">return</span> min;
          }

          <span class="hljs-keyword">var</span> bits_needed = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">log2</span>(range));
          <span class="hljs-keyword">if</span> (bits_needed &gt; <span class="hljs-number">53</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Exception</span>(<span class="hljs-string">"We cannot generate numbers larger than 53 bits."</span>);
          }
          <span class="hljs-keyword">var</span> bytes_needed = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(bits_needed / <span class="hljs-number">8</span>);
          <span class="hljs-keyword">var</span> mask = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>, bits_needed) - <span class="hljs-number">1</span>;
          <span class="hljs-comment">// 7776 -&gt; (2^13 = 8192) -1 == 8191 or 0x00001111 11111111</span>

          <span class="hljs-comment">// Create byte array and fill with N random numbers</span>
          <span class="hljs-keyword">var</span> byteArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(bytes_needed);
          crypt.<span class="hljs-title function_">getRandomValues</span>(byteArray);

          <span class="hljs-keyword">var</span> p = (bytes_needed - <span class="hljs-number">1</span>) * <span class="hljs-number">8</span>;
          <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; bytes_needed; i++ ) {
              rval += byteArray[i] * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>, p);
              p -= <span class="hljs-number">8</span>;
          }

          <span class="hljs-comment">// Use &amp; to apply the mask and reduce the number of recursive lookups</span>
          rval = rval &amp; mask;

          <span class="hljs-keyword">if</span> (rval &gt;= range) {
              <span class="hljs-comment">// Integer out of acceptable range</span>
              <span class="hljs-keyword">return</span> <span class="hljs-title function_">random</span>(min, max);
          }
          <span class="hljs-comment">// Return an integer that falls within the range</span>
          <span class="hljs-keyword">return</span> min + rval;
      }
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
          <span class="hljs-keyword">var</span> r = <span class="hljs-title function_">random</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1000000000</span>) / <span class="hljs-number">1000000000</span>;
          <span class="hljs-keyword">return</span> r;
      };
  } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// From https://web.archive.org/web/20120502223108/http://baagoe.com/en/RandomMusings/javascript/</span>
      <span class="hljs-comment">// Johannes Baagøe &lt;baagoe@baagoe.com&gt;, 2010</span>
      <span class="hljs-keyword">function</span> <span class="hljs-title function_">Mash</span>(<span class="hljs-params"></span>) {
          <span class="hljs-keyword">var</span> n = <span class="hljs-number">0xefc8249d</span>;

          <span class="hljs-keyword">var</span> mash = <span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) {
              data = data.<span class="hljs-title function_">toString</span>();
              <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {
                  n += data.<span class="hljs-title function_">charCodeAt</span>(i);
                  <span class="hljs-keyword">var</span> h = <span class="hljs-number">0.02519603282416938</span> * n;
                  n = h &gt;&gt;&gt; <span class="hljs-number">0</span>;
                  h -= n;
                  h *= n;
                  n = h &gt;&gt;&gt; <span class="hljs-number">0</span>;
                  h -= n;
                  n += h * <span class="hljs-number">0x100000000</span>; <span class="hljs-comment">// 2^32</span>
              }
              <span class="hljs-keyword">return</span> (n &gt;&gt;&gt; <span class="hljs-number">0</span>) * <span class="hljs-number">2.3283064365386963e-10</span>; <span class="hljs-comment">// 2^-32</span>
          };

          mash.<span class="hljs-property">version</span> = <span class="hljs-string">'Mash 0.9'</span>;
          <span class="hljs-keyword">return</span> mash;
      }

      <span class="hljs-comment">// From http://baagoe.com/en/RandomMusings/javascript/</span>
      <span class="hljs-keyword">function</span> <span class="hljs-title function_">Alea</span>(<span class="hljs-params"></span>) {
          <span class="hljs-keyword">return</span> (<span class="hljs-keyword">function</span>(<span class="hljs-params">args</span>) {
              <span class="hljs-comment">// Johannes BaagÃ¸e &lt;baagoe@baagoe.com&gt;, 2010</span>
              <span class="hljs-keyword">var</span> s0 = <span class="hljs-number">0</span>;
              <span class="hljs-keyword">var</span> s1 = <span class="hljs-number">0</span>;
              <span class="hljs-keyword">var</span> s2 = <span class="hljs-number">0</span>;
              <span class="hljs-keyword">var</span> c = <span class="hljs-number">1</span>;

              <span class="hljs-keyword">if</span> (args.<span class="hljs-property">length</span> == <span class="hljs-number">0</span>) {
                  args = [+<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()];
              }
              <span class="hljs-keyword">var</span> mash = <span class="hljs-title class_">Mash</span>();
              s0 = <span class="hljs-title function_">mash</span>(<span class="hljs-string">' '</span>);
              s1 = <span class="hljs-title function_">mash</span>(<span class="hljs-string">' '</span>);
              s2 = <span class="hljs-title function_">mash</span>(<span class="hljs-string">' '</span>);

              <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; args.<span class="hljs-property">length</span>; i++) {
                  s0 -= <span class="hljs-title function_">mash</span>(args[i]);
                  <span class="hljs-keyword">if</span> (s0 &lt; <span class="hljs-number">0</span>) {
                      s0 += <span class="hljs-number">1</span>;
                  }
                  s1 -= <span class="hljs-title function_">mash</span>(args[i]);
                  <span class="hljs-keyword">if</span> (s1 &lt; <span class="hljs-number">0</span>) {
                      s1 += <span class="hljs-number">1</span>;
                  }
                  s2 -= <span class="hljs-title function_">mash</span>(args[i]);
                  <span class="hljs-keyword">if</span> (s2 &lt; <span class="hljs-number">0</span>) {
                      s2 += <span class="hljs-number">1</span>;
                  }
              }
              mash = <span class="hljs-literal">null</span>;

              <span class="hljs-keyword">var</span> random = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
                  <span class="hljs-keyword">var</span> t = <span class="hljs-number">2091639</span> * s0 + c * <span class="hljs-number">2.3283064365386963e-10</span>; <span class="hljs-comment">// 2^-32</span>
                  s0 = s1;
                  s1 = s2;
                  <span class="hljs-keyword">return</span> s2 = t - (c = t | <span class="hljs-number">0</span>);
              };
              random.<span class="hljs-property">uint32</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
                  <span class="hljs-keyword">return</span> <span class="hljs-title function_">random</span>() * <span class="hljs-number">0x100000000</span>; <span class="hljs-comment">// 2^32</span>
              };
              random.<span class="hljs-property">fract53</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
                  <span class="hljs-keyword">return</span> <span class="hljs-title function_">random</span>() +
                      (<span class="hljs-title function_">random</span>() * <span class="hljs-number">0x200000</span> | <span class="hljs-number">0</span>) * <span class="hljs-number">1.1102230246251565e-16</span>; <span class="hljs-comment">// 2^-53</span>
              };
              random.<span class="hljs-property">version</span> = <span class="hljs-string">'Alea 0.9'</span>;
              random.<span class="hljs-property">args</span> = args;
              <span class="hljs-keyword">return</span> random;

          }(<span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">slice</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">arguments</span>)));
      };
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Alea</span>();
  }
}());

<span class="hljs-title class_">Math</span>.<span class="hljs-property">guid</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[xy]/g</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>)    {
      <span class="hljs-keyword">var</span> r = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">trueRandom</span>() * <span class="hljs-number">16</span> | <span class="hljs-number">0</span>,
          v = c == <span class="hljs-string">'x'</span> ? r : (r &amp; <span class="hljs-number">0x3</span> | <span class="hljs-number">0x8</span>);
      <span class="hljs-keyword">return</span> v.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>);
  });
};
</code></pre>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 17</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>JavaScript project on GitHub - <a href="https://github.com/LiosK/UUID.js">https://github.com/LiosK/UUID.js</a></p>

<blockquote>
  <p><strong>UUID.js The RFC-compliant UUID generator for JavaScript.</strong></p>
  
  <p>See RFC 4122 <a href="http://www.ietf.org/rfc/rfc4122.txt">http://www.ietf.org/rfc/rfc4122.txt</a>.</p>
  
  <p><strong>Features Generates RFC 4122 compliant UUIDs.</strong></p>
  
  <p>Version 4 UUIDs (UUIDs from random numbers) and version 1 UUIDs
  (time-based UUIDs) are available.</p>
  
  <p>UUID object allows a variety of access to the UUID including access to
  the UUID fields.</p>
  
  <p>Low timestamp resolution of JavaScript is compensated by random
  numbers.</p>
</blockquote>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 18</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-js s-code-block"><code class="hljs language-javascript">  <span class="hljs-comment">// RFC 4122</span>
  <span class="hljs-comment">//</span>
  <span class="hljs-comment">// A UUID is 128 bits long</span>
  <span class="hljs-comment">//</span>
  <span class="hljs-comment">// String representation is five fields of 4, 2, 2, 2, and 6 bytes.</span>
  <span class="hljs-comment">// Fields represented as lowercase, zero-filled, hexadecimal strings, and</span>
  <span class="hljs-comment">// are separated by dash characters</span>
  <span class="hljs-comment">//</span>
  <span class="hljs-comment">// A version 4 UUID is generated by setting all but six bits to randomly</span>
  <span class="hljs-comment">// chosen values</span>
  <span class="hljs-keyword">var</span> uuid = [
    <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>, <span class="hljs-number">10</span>),
    <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>, <span class="hljs-number">6</span>),

    <span class="hljs-comment">// Set the four most significant bits (bits 12 through 15) of the</span>
    <span class="hljs-comment">// time_hi_and_version field to the 4-bit version number from Section</span>
    <span class="hljs-comment">// 4.1.3</span>
    (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">.0625</span> <span class="hljs-comment">/* 0x.1 */</span> + <span class="hljs-number">.25</span> <span class="hljs-comment">/* 0x.4 */</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>, <span class="hljs-number">6</span>),

    <span class="hljs-comment">// Set the two most significant bits (bits 6 and 7) of the</span>
    <span class="hljs-comment">// clock_seq_hi_and_reserved to zero and one, respectively</span>
    (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">.25</span> <span class="hljs-comment">/* 0x.4 */</span> + <span class="hljs-number">.5</span> <span class="hljs-comment">/* 0x.8 */</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>, <span class="hljs-number">6</span>),

    <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>, <span class="hljs-number">14</span>)].<span class="hljs-title function_">join</span>(<span class="hljs-string">'-'</span>);
</code></pre>
    </div></div></div></div><div id="solution19" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 19</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>One line solution using Blobs.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">window</span>.<span class="hljs-property">URL</span>.<span class="hljs-title function_">createObjectURL</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>([])).<span class="hljs-title function_">substring</span>(<span class="hljs-number">31</span>);
</code></pre>
<p>The value at the end (31) depends on the length of the URL.</p>
<hr>
<p><strong>EDIT:</strong></p>
<p>A more compact and universal solution, as suggested by <a href="https://stackoverflow.com/users/114558/rinogo">rinogo</a>:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">createObjectURL</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>([])).<span class="hljs-title function_">substr</span>(-<span class="hljs-number">36</span>);
</code></pre>
    </div></div></div></div><div id="solution20" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 20</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>For those wanting an <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier#History" rel="nofollow noreferrer">RFC 4122</a> version 4 compliant solution with speed considerations (few calls to Math.random()):</p>
<p></p><div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> rand = <span class="hljs-title class_">Math</span>.<span class="hljs-property">random</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">UUID</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">var</span> nbr, randStr = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">do</span> {
        randStr += (nbr = <span class="hljs-title function_">rand</span>()).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">substr</span>(<span class="hljs-number">3</span>, <span class="hljs-number">6</span>);
    } <span class="hljs-keyword">while</span> (randStr.<span class="hljs-property">length</span> &lt; <span class="hljs-number">30</span>);
    <span class="hljs-keyword">return</span> (
        randStr.<span class="hljs-title function_">substr</span>(<span class="hljs-number">0</span>, <span class="hljs-number">8</span>) + <span class="hljs-string">"-"</span> +
        randStr.<span class="hljs-title function_">substr</span>(<span class="hljs-number">8</span>, <span class="hljs-number">4</span>) + <span class="hljs-string">"-4"</span> +
        randStr.<span class="hljs-title function_">substr</span>(<span class="hljs-number">12</span>, <span class="hljs-number">3</span>) + <span class="hljs-string">"-"</span> +
        ((nbr*<span class="hljs-number">4</span>|<span class="hljs-number">0</span>)+<span class="hljs-number">8</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>) + <span class="hljs-comment">// [89ab]</span>
        randStr.<span class="hljs-title function_">substr</span>(<span class="hljs-number">15</span>, <span class="hljs-number">3</span>) + <span class="hljs-string">"-"</span> +
        randStr.<span class="hljs-title function_">substr</span>(<span class="hljs-number">18</span>, <span class="hljs-number">12</span>)
    );
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>( <span class="hljs-title function_">UUID</span>() );</code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif13" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
<p>The above function should have a decent balance between speed and randomness.</p>
    </div></div></div></div><div id="solution21" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 21</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I wanted to understand <a href="https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid/2117523#2117523">broofa's answer</a>, so I expanded it and added comments:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> uuid = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'</span>.<span class="hljs-title function_">replace</span>(
        <span class="hljs-regexp">/[xy]/g</span>,
        <span class="hljs-keyword">function</span> (<span class="hljs-params">match</span>) {
            <span class="hljs-comment">/*
            * Create a random nibble. The two clever bits of this code:
            *
            * - Bitwise operations will truncate floating point numbers
            * - For a bitwise OR of any x, x | 0 = x
            *
            * So:
            *
            * Math.random * 16
            *
            * creates a random floating point number
            * between 0 (inclusive) and 16 (exclusive) and
            *
            * | 0
            *
            * truncates the floating point number into an integer.
            */</span>
            <span class="hljs-keyword">var</span> randomNibble = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">16</span> | <span class="hljs-number">0</span>;

            <span class="hljs-comment">/*
            * Resolves the variant field. If the variant field (delineated
            * as y in the initial string) is matched, the nibble must
            * match the mask (where x is a do-not-care bit):
            *
            * 10xx
            *
            * This is achieved by performing the following operations in
            * sequence (where x is an intermediate result):
            *
            * - x &amp; 0x3, which is equivalent to x % 3
            * - x | 0x8, which is equivalent to x + 8
            *
            * This results in a nibble between 8 inclusive and 11 exclusive,
            * (or 1000 and 1011 in binary), all of which satisfy the variant
            * field mask above.
            */</span>
            <span class="hljs-keyword">var</span> nibble = (match == <span class="hljs-string">'y'</span>) ?
                (randomNibble &amp; <span class="hljs-number">0x3</span> | <span class="hljs-number">0x8</span>) :
                randomNibble;

            <span class="hljs-comment">/*
            * Ensure the nibble integer is encoded as base 16 (hexadecimal).
            */</span>
            <span class="hljs-keyword">return</span> nibble.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>);
        }
    );
};
</code></pre>
    </div></div></div></div><div id="solution22" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 22</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I adjusted my own UUID/GUID generator with some extras <a href="http://frugalcoder.us/post/2012/01/13/javascript-guid-uuid-generator.aspx" rel="nofollow noreferrer">here</a>.</p>
<p>I'm using <a href="http://baagoe.com/en/RandomMusings/javascript/" rel="nofollow noreferrer">the following Kybos</a> random number generator to be a bit more cryptographically sound.</p>
<p>Below is my script with the Mash and Kybos methods from baagoe.com excluded.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-comment">//UUID/Guid Generator</span>
<span class="hljs-comment">// use: UUID.create() or UUID.createSequential()</span>
<span class="hljs-comment">// convenience:  UUID.empty, UUID.tryParse(string)</span>
(<span class="hljs-keyword">function</span>(<span class="hljs-params">w</span>){
  <span class="hljs-comment">// From http://baagoe.com/en/RandomMusings/javascript/</span>
  <span class="hljs-comment">// Johannes BaagÃ¸e &lt;baagoe@baagoe.com&gt;, 2010</span>
  <span class="hljs-comment">//function Mash() {...};</span>

  <span class="hljs-comment">// From http://baagoe.com/en/RandomMusings/javascript/</span>
  <span class="hljs-comment">//function Kybos() {...};</span>

  <span class="hljs-keyword">var</span> rnd = <span class="hljs-title class_">Kybos</span>();

  <span class="hljs-comment">//UUID/GUID Implementation from http://frugalcoder.us/post/2012/01/13/javascript-guid-uuid-generator.aspx</span>
  <span class="hljs-keyword">var</span> <span class="hljs-variable constant_">UUID</span> = {
    <span class="hljs-string">"empty"</span>: <span class="hljs-string">"00000000-0000-0000-0000-000000000000"</span>
    ,<span class="hljs-string">"parse"</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">input</span>) {
      <span class="hljs-keyword">var</span> ret = input.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">trim</span>().<span class="hljs-title function_">toLowerCase</span>().<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^[\s\r\n]+|[\{\}]|[\s\r\n]+$/g</span>, <span class="hljs-string">""</span>);
      <span class="hljs-keyword">if</span> ((<span class="hljs-regexp">/[a-f0-9]{8}\-[a-f0-9]{4}\-[a-f0-9]{4}\-[a-f0-9]{4}\-[a-f0-9]{12}/</span>).<span class="hljs-title function_">test</span>(ret))
        <span class="hljs-keyword">return</span> ret;
      <span class="hljs-keyword">else</span>
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Unable to parse UUID"</span>);
    }
    ,<span class="hljs-string">"createSequential"</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
      <span class="hljs-keyword">var</span> ret = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">valueOf</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-string">"-"</span>,<span class="hljs-string">""</span>)
      <span class="hljs-keyword">for</span> (;ret.<span class="hljs-property">length</span> &lt; <span class="hljs-number">12</span>; ret = <span class="hljs-string">"0"</span> + ret);
      ret = ret.<span class="hljs-title function_">substr</span>(ret.<span class="hljs-property">length</span>-<span class="hljs-number">12</span>,<span class="hljs-number">12</span>); <span class="hljs-comment">//only least significant part</span>
      <span class="hljs-keyword">for</span> (;ret.<span class="hljs-property">length</span> &lt; <span class="hljs-number">32</span>;ret += <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title function_">rnd</span>() * <span class="hljs-number">0xffffffff</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
      <span class="hljs-keyword">return</span> [ret.<span class="hljs-title function_">substr</span>(<span class="hljs-number">0</span>,<span class="hljs-number">8</span>), ret.<span class="hljs-title function_">substr</span>(<span class="hljs-number">8</span>,<span class="hljs-number">4</span>), <span class="hljs-string">"4"</span> + ret.<span class="hljs-title function_">substr</span>(<span class="hljs-number">12</span>,<span class="hljs-number">3</span>), <span class="hljs-string">"89AB"</span>[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">4</span>)] + ret.<span class="hljs-title function_">substr</span>(<span class="hljs-number">16</span>,<span class="hljs-number">3</span>),  ret.<span class="hljs-title function_">substr</span>(<span class="hljs-number">20</span>,<span class="hljs-number">12</span>)].<span class="hljs-title function_">join</span>(<span class="hljs-string">"-"</span>);
    }
    ,<span class="hljs-string">"create"</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
      <span class="hljs-keyword">var</span> ret = <span class="hljs-string">""</span>;
      <span class="hljs-keyword">for</span> (;ret.<span class="hljs-property">length</span> &lt; <span class="hljs-number">32</span>;ret += <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title function_">rnd</span>() * <span class="hljs-number">0xffffffff</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
      <span class="hljs-keyword">return</span> [ret.<span class="hljs-title function_">substr</span>(<span class="hljs-number">0</span>,<span class="hljs-number">8</span>), ret.<span class="hljs-title function_">substr</span>(<span class="hljs-number">8</span>,<span class="hljs-number">4</span>), <span class="hljs-string">"4"</span> + ret.<span class="hljs-title function_">substr</span>(<span class="hljs-number">12</span>,<span class="hljs-number">3</span>), <span class="hljs-string">"89AB"</span>[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()*<span class="hljs-number">4</span>)] + ret.<span class="hljs-title function_">substr</span>(<span class="hljs-number">16</span>,<span class="hljs-number">3</span>),  ret.<span class="hljs-title function_">substr</span>(<span class="hljs-number">20</span>,<span class="hljs-number">12</span>)].<span class="hljs-title function_">join</span>(<span class="hljs-string">"-"</span>);
    }
    ,<span class="hljs-string">"random"</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">rnd</span>();
    }
    ,<span class="hljs-string">"tryParse"</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">input</span>) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">UUID</span>.<span class="hljs-title function_">parse</span>(input);
      } <span class="hljs-keyword">catch</span>(ex) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">UUID</span>.<span class="hljs-property">empty</span>;
      }
    }
  };
  <span class="hljs-variable constant_">UUID</span>[<span class="hljs-string">"new"</span>] = <span class="hljs-variable constant_">UUID</span>.<span class="hljs-property">create</span>;

  w.<span class="hljs-property">UUID</span> = w.<span class="hljs-property">Guid</span> = <span class="hljs-variable constant_">UUID</span>;
}(<span class="hljs-variable language_">window</span> || <span class="hljs-variable language_">this</span>));</code></pre>
    </div></div></div></div><div id="solution23" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 23</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Added in: v15.6.0, v14.17.0 there is a built-in <a href="https://nodejs.org/api/crypto.html#crypto_crypto_randomuuid_options" rel="noreferrer">crypto.randomUUID()</a> function.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> crypto <span class="hljs-keyword">from</span> <span class="hljs-string">"crypto"</span>;

<span class="hljs-keyword">const</span> uuid = crypto.<span class="hljs-title function_">randomUUID</span>();
</code></pre>
<p>In the browser, <a href="https://developer.mozilla.org/en-US/docs/Web/API/Crypto/randomUUID" rel="noreferrer"><code>crypto.randomUUID()</code></a> is currently supported in Chromium 92+ and Firefox 95+.</p>
    </div></div></div></div><div id="solution24" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 24</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>ES6 sample</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">guid</span>=(<span class="hljs-params"></span>)=&gt; {
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">s4</span>=(<span class="hljs-params"></span>)=&gt; <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((<span class="hljs-number">1</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()) * <span class="hljs-number">0x10000</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>);     
  <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${s4() + s4()}</span>-<span class="hljs-subst">${s4()}</span>-<span class="hljs-subst">${s4()}</span>-<span class="hljs-subst">${s4()}</span>-<span class="hljs-subst">${s4() + s4() + s4()}</span>`</span>;
}
</code></pre>
    </div></div></div></div><div id="solution25" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 25</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The native <code>URL.createObjectURL</code> is generating an UUID. You can take advantage of this.</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">uuid</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> url = <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">createObjectURL</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>())
  <span class="hljs-keyword">const</span> [id] = url.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">'/'</span>).<span class="hljs-title function_">reverse</span>()
  <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">revokeObjectURL</span>(url)
  <span class="hljs-keyword">return</span> id
}
</code></pre>
    </div></div></div></div><div id="solution26" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 26</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The better way:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span>(<span class="hljs-params">
  a, b               <span class="hljs-comment">// Placeholders</span>
</span>){
  <span class="hljs-keyword">for</span>(               <span class="hljs-comment">// Loop :)</span>
      b = a = <span class="hljs-string">''</span>;    <span class="hljs-comment">// b - result , a - numeric variable</span>
      a++ &lt; <span class="hljs-number">36</span>;      <span class="hljs-comment">//</span>
      b += a*<span class="hljs-number">51</span>&amp;<span class="hljs-number">52</span>   <span class="hljs-comment">// If "a" is not 9 or 14 or 19 or 24</span>
                  ?  <span class="hljs-comment">//  return a random number or 4</span>
           (
               a^<span class="hljs-number">15</span>              <span class="hljs-comment">// If "a" is not 15,</span>
                  ?              <span class="hljs-comment">// generate a random number from 0 to 15</span>
               <span class="hljs-number">8</span>^<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() *
               (a^<span class="hljs-number">20</span> ? <span class="hljs-number">16</span> : <span class="hljs-number">4</span>)   <span class="hljs-comment">// unless "a" is 20, in which case a random number from 8 to 11,</span>
                  :
               <span class="hljs-number">4</span>                 <span class="hljs-comment">//  otherwise 4</span>
           ).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>)
                  :
         <span class="hljs-string">'-'</span>                     <span class="hljs-comment">//  In other cases, (if "a" is 9,14,19,24) insert "-"</span>
      );
  <span class="hljs-keyword">return</span> b
 }
</code></pre>
<p>Minimized:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span>(<span class="hljs-params">a,b</span>){<span class="hljs-keyword">for</span>(b=a=<span class="hljs-string">''</span>;a++<span class="language-xml">&lt;36;b+=a*51&amp;52?(a^15?8^Math.random()*(a^20?16:4):4).toString(16):'-');return b}
</span></code></pre>
    </div></div></div></div><div id="solution27" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 27</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you just need a random 128 bit string in no particular format, you can use:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">uuid</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">return</span> crypto.<span class="hljs-title function_">getRandomValues</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint32Array</span>(<span class="hljs-number">4</span>)).<span class="hljs-title function_">join</span>(<span class="hljs-string">'-'</span>);
}
</code></pre>
<p>Which will return something like <code>2350143528-4164020887-938913176-2513998651</code>.</p>
    </div></div></div></div><div id="solution28" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 28</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I couldn't find any answer that uses a single 16-octet <code>TypedArray</code> and a <code>DataView</code>, so I think the following solution for generating a version 4 UUID per <a href="https://www.ietf.org/rfc/rfc4122.txt" rel="nofollow noreferrer">the RFC</a> will stand on its own here:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">uuid4</span> = (<span class="hljs-params"></span>) =&gt; {
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">ho</span> = (<span class="hljs-params">n, p</span>) =&gt; n.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>).<span class="hljs-title function_">padStart</span>(p, <span class="hljs-number">0</span>); <span class="hljs-comment">/// Return the hexadecimal text representation of number `n`, padded with zeroes to be of length `p`</span>
    <span class="hljs-keyword">const</span> data = crypto.<span class="hljs-title function_">getRandomValues</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">16</span>)); <span class="hljs-comment">/// Fill the buffer with random data</span>
    data[<span class="hljs-number">6</span>] = (data[<span class="hljs-number">6</span>] &amp; <span class="hljs-number">0xf</span>) | <span class="hljs-number">0x40</span>; <span class="hljs-comment">/// Patch the 6th byte to reflect a version 4 UUID</span>
    data[<span class="hljs-number">8</span>] = (data[<span class="hljs-number">8</span>] &amp; <span class="hljs-number">0x3f</span>) | <span class="hljs-number">0x80</span>; <span class="hljs-comment">/// Patch the 8th byte to reflect a variant 1 UUID (version 4 UUIDs are)</span>
    <span class="hljs-keyword">const</span> view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataView</span>(data.<span class="hljs-property">buffer</span>); <span class="hljs-comment">/// Create a view backed by a 16-byte buffer</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${ho(view.getUint32(<span class="hljs-number">0</span>), <span class="hljs-number">8</span>)}</span>-<span class="hljs-subst">${ho(view.getUint16(<span class="hljs-number">4</span>), <span class="hljs-number">4</span>)}</span>-<span class="hljs-subst">${ho(view.getUint16(<span class="hljs-number">6</span>), <span class="hljs-number">4</span>)}</span>-<span class="hljs-subst">${ho(view.getUint16(<span class="hljs-number">8</span>), <span class="hljs-number">4</span>)}</span>-<span class="hljs-subst">${ho(view.getUint32(<span class="hljs-number">10</span>), <span class="hljs-number">8</span>)}</span><span class="hljs-subst">${ho(view.getUint16(<span class="hljs-number">14</span>), <span class="hljs-number">4</span>)}</span>`</span>; <span class="hljs-comment">/// Compile the canonical textual form from the array data</span>
};
</code></pre>
<p>I prefer it because it only relies on functions available to the standard ECMAScript platform, where possible -- which is all but one procedure.</p>
<p>At the time of writing this, <code>getRandomValues</code> is not something implemented for the <code>crypto</code> object in Node.js. However, it has the equivalent <code>randomBytes</code> function which may be used instead.</p>
    </div></div></div></div><div id="solution29" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 29</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Just another more readable variant with just two mutations.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">uuid4</span>(<span class="hljs-params"></span>)
{
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">hex</span> (s, b)
  {
    <span class="hljs-keyword">return</span> s +
      (b &gt;&gt;&gt; <span class="hljs-number">4</span>   ).<span class="hljs-property">toString</span> (<span class="hljs-number">16</span>) +  <span class="hljs-comment">// high nibble</span>
      (b &amp; <span class="hljs-number">0b1111</span>).<span class="hljs-property">toString</span> (<span class="hljs-number">16</span>);   <span class="hljs-comment">// low nibble</span>
  }

  <span class="hljs-keyword">let</span> r = crypto.<span class="hljs-property">getRandomValues</span> (<span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span> (<span class="hljs-number">16</span>));

  r[<span class="hljs-number">6</span>] = r[<span class="hljs-number">6</span>] &gt;&gt;&gt; <span class="hljs-number">4</span> | <span class="hljs-number">0b01000000</span>; <span class="hljs-comment">// Set type 4: 0100</span>
  r[<span class="hljs-number">8</span>] = r[<span class="hljs-number">8</span>] &gt;&gt;&gt; <span class="hljs-number">3</span> | <span class="hljs-number">0b10000000</span>; <span class="hljs-comment">// Set variant: 100</span>

  <span class="hljs-keyword">return</span> r.<span class="hljs-property">slice</span> ( <span class="hljs-number">0</span>,  <span class="hljs-number">4</span>).<span class="hljs-property">reduce</span> (hex, <span class="hljs-string">''</span> ) +
         r.<span class="hljs-property">slice</span> ( <span class="hljs-number">4</span>,  <span class="hljs-number">6</span>).<span class="hljs-property">reduce</span> (hex, <span class="hljs-string">'-'</span>) +
         r.<span class="hljs-property">slice</span> ( <span class="hljs-number">6</span>,  <span class="hljs-number">8</span>).<span class="hljs-property">reduce</span> (hex, <span class="hljs-string">'-'</span>) +
         r.<span class="hljs-property">slice</span> ( <span class="hljs-number">8</span>, <span class="hljs-number">10</span>).<span class="hljs-property">reduce</span> (hex, <span class="hljs-string">'-'</span>) +
         r.<span class="hljs-property">slice</span> (<span class="hljs-number">10</span>, <span class="hljs-number">16</span>).<span class="hljs-property">reduce</span> (hex, <span class="hljs-string">'-'</span>);
}
</code></pre>
    </div></div></div></div><div id="solution30" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 30</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/guid">guid</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/uuid">uuid</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If your environment is SharePoint, there is a utility function called <code>SP.Guid.newGuid</code> (<a href="http://msdn.microsoft.com/en-us/library/ee659495(v=office.14).aspx" rel="nofollow noreferrer">MSDN link</a> which creates a new GUID. This function is inside the sp.init.js file. If you rewrite this function (to remove some other dependencies from other private functions), and it looks like this:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">var</span> newGuid = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-keyword">var</span> result = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">var</span> hexcodes = <span class="hljs-string">"0123456789abcdef"</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">""</span>);

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>; index &lt; <span class="hljs-number">32</span>; index++) {
        <span class="hljs-keyword">var</span> value = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">16</span>);

        <span class="hljs-keyword">switch</span> (index) {
        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:
            result += <span class="hljs-string">'-'</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:
            value = <span class="hljs-number">4</span>;
            result += <span class="hljs-string">'-'</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">16</span>:
            value = value &amp; <span class="hljs-number">3</span> | <span class="hljs-number">8</span>;
            result += <span class="hljs-string">'-'</span>;
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">20</span>:
            result += <span class="hljs-string">'-'</span>;
            <span class="hljs-keyword">break</span>;
        }
        result += hexcodes[value];
    }
    <span class="hljs-keyword">return</span> result;
};
</code></pre>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/why-are-global-variables-evil-closed-1657388260006">Why are global variables evil? [closed]</a><a href="/questions/the-use-of-multiple-jframes:-good-or-bad-practice-closed-1657384478184">The Use of Multiple JFrames: Good or Bad Practice? [closed]</a><a href="/questions/how-do-i-access-previous-promise-results-in-a-.then()-chain-1657387705386">How do I access previous promise results in a .then() chain?</a><a href="/questions/how-can-i-read-and-parse-csv-files-in-c++-1657387869219">How can I read and parse CSV files in C++?</a><a href="/questions/how-do-i-clone-a-list-so-that-it-doesn&#x27;t-change-unexpectedly-after-assignment-1657384423195">How do I clone a list so that it doesn&#x27;t change unexpectedly after assignment?</a><a href="/questions/tkinter:-attributeerror:-nonetype-object-has-no-attribute-lessattribute-namegreater-1657385472410">Tkinter: AttributeError: NoneType object has no attribute &lt;attribute name&gt;</a><a href="/questions/performance-optimization-strategies-of-last-resort-closed-1657388420614">Performance optimization strategies of last resort [closed]</a><a href="/questions/how-can-i-validate-an-email-address-using-a-regular-expression-1657384549233">How can I validate an email address using a regular expression?</a><a href="/questions/order-bars-in-ggplot2-bar-graph-1657388099080">Order Bars in ggplot2 bar graph</a><a href="/questions/how-do-i-print-my-java-object-without-getting-%22sometype@2f92e0f4%22-1657384731950">How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?</a><a href="/questions/what-are-drawbacks-or-disadvantages-of-singleton-pattern-closed-1657387360749">What are drawbacks or disadvantages of singleton pattern? [closed]</a><a href="/questions/how-to-choose-the-right-bean-scope-1657387596513">How to choose the right bean scope?</a><a href="/questions/how-do-you-convert-a-byte-array-to-a-hexadecimal-string-and-vice-versa-1657388010428">How do you convert a byte array to a hexadecimal string, and vice versa?</a><a href="/questions/where-should-i-put-lessscriptgreater-tags-in-html-markup-1657388350798">Where should I put &lt;script&gt; tags in HTML markup?</a><a href="/questions/how-do-you-use-bcrypt-for-hashing-passwords-in-php-duplicate-1657387318517">How do you use bcrypt for hashing passwords in PHP? [duplicate]</a><a href="/questions/is-storing-a-delimited-list-in-a-database-column-really-that-bad-1657384474773">Is storing a delimited list in a database column really that bad?</a><a href="/questions/why-is-my-spring-@autowired-field-null-1657384705291">Why is my Spring @Autowired field null?</a><a href="/questions/how-do-i-make-a-list-of-data-frames-1657385480437">How do I make a list of data frames?</a><a href="/questions/how-do-i-pass-data-between-activities-in-android-application-1657384739839">How do I pass data between Activities in Android application?</a><a href="/questions/how-can-i-parse-a-json-file-with-php-duplicate-1657388002325">How can I parse a JSON file with PHP? [duplicate]</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;[Edited 2021-10-16 to reflect latest best-practices for producing RFC4122-compliant UUIDs]\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Most readers here will want to use \u0026lt;a href=\u0026quot;https://www.npmjs.com/package/uuid\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;the \u0026lt;code\u0026gt;uuid\u0026lt;/code\u0026gt; module\u0026lt;/a\u0026gt;.  It is well-tested and supported.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/API/Crypto/randomUUID\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;crypto.randomUUID()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; function is an emerging standard that is supported in \u0026lt;a href=\u0026quot;https://nodejs.org/dist/latest-v16.x/docs/api/crypto.html#cryptorandomuuidoptions\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Node.js\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;https://caniuse.com/mdn-api_crypto_randomuuid\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;an increasing number of browsers\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If neither of those work for you, there is this method (based on the original answer to this question):\n\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;uuidv4\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; ([\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1e7\u0026lt;/span\u0026gt;]+-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1e3\u0026lt;/span\u0026gt;+-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4e3\u0026lt;/span\u0026gt;+-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8e3\u0026lt;/span\u0026gt;+-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1e11\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/[018]/g\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;c\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt;\n    (c ^ crypto.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getRandomValues\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Uint8Array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;))[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;] \u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;15\u0026lt;/span\u0026gt; \u0026amp;gt;\u0026amp;gt; c / \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;)\n  );\n}\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;uuidv4\u0026lt;/span\u0026gt;());\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif1\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Note: \u0026lt;strong\u0026gt;The use of \u0026lt;em\u0026gt;any\u0026lt;/em\u0026gt; UUID generator that relies on Math.random() is strongly discouraged\u0026lt;/strong\u0026gt; (including snippets featured in previous versions of this answer) for \u0026lt;a href=\u0026quot;https://bocoup.com/blog/random-numbers\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;reasons best-explained here\u0026lt;/a\u0026gt;. TL;DR: Math.random()-based solutions do not provide good uniqueness guarantees.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;UUIDs (Universally Unique IDentifier), also known as GUIDs (Globally Unique IDentifier), according to \u0026lt;a href=\u0026quot;https://www.ietf.org/rfc/rfc4122.txt\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;RFC 4122\u0026lt;/a\u0026gt;, are identifiers designed to provide certain uniqueness guarantees.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;While it is possible to implement RFC-compliant UUIDs in a few lines of JavaScript code (e.g., see \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/2117523/109538\u0026quot;\u0026gt;@broofa\u0026apos;s answer\u0026lt;/a\u0026gt;, below) there are several common pitfalls:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Invalid id format (UUIDs must be of the form \u0026quot;\u0026lt;code\u0026gt;xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx\u0026lt;/code\u0026gt;\u0026quot;, where x is one of [0-9, a-f] \u0026lt;em\u0026gt;M\u0026lt;/em\u0026gt; is one of [1-5], and \u0026lt;em\u0026gt;N\u0026lt;/em\u0026gt; is [8, 9, a, or b]\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Use of a low-quality source of randomness (such as \u0026lt;code\u0026gt;Math.random\u0026lt;/code\u0026gt;)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;Thus, developers writing code for production environments are encouraged to use a rigorous, well-maintained implementation such as the \u0026lt;a href=\u0026quot;https://github.com/uuidjs/uuid\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;uuid\u0026lt;/a\u0026gt; module.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I really like how clean \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/2117523/508537\u0026quot;\u0026gt;Broofa\u0026apos;s answer\u0026lt;/a\u0026gt; is, but it\u0026apos;s unfortunate that \u0026lt;a href=\u0026quot;https://stackoverflow.com/q/6906916/508537\u0026quot;\u0026gt;poor implementations of \u0026lt;code\u0026gt;Math.random\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; leave the chance for collision.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Here\u0026apos;s a similar \u0026lt;a href=\u0026quot;http://www.ietf.org/rfc/rfc4122.txt\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;RFC4122\u0026lt;/a\u0026gt; version 4 compliant solution that solves that issue by offsetting the first 13 hex numbers by a hex portion of the timestamp, and once depleted offsets by a hex portion of the microseconds since pageload.  That way, even if \u0026lt;code\u0026gt;Math.random\u0026lt;/code\u0026gt; is on the same seed, both clients would have to generate the UUID the exact same number of microseconds since pageload (if high-perfomance time is supported) AND at the exact same millisecond (or 10,000+ years later) to get the same UUID:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;generateUUID\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) { \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Public Domain/MIT\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; d = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Date\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getTime\u0026lt;/span\u0026gt;();\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Timestamp\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; d2 = ((\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt; performance !== \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;undefined\u0026apos;\u0026lt;/span\u0026gt;) \u0026amp;amp;\u0026amp;amp; performance.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;now\u0026lt;/span\u0026gt; \u0026amp;amp;\u0026amp;amp; (performance.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;now\u0026lt;/span\u0026gt;()*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;)) || \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Time in microseconds since page-load or 0 if unsupported\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/[xy]/g\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;c\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; r = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;() * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//random number between 0 and 16\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(d \u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;){\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Use timestamp until depleted\u0026lt;/span\u0026gt;\n            r = (d + r)%\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n            d = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;floor\u0026lt;/span\u0026gt;(d/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);\n        } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Use microseconds since page-load if supported\u0026lt;/span\u0026gt;\n            r = (d2 + r)%\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n            d2 = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;floor\u0026lt;/span\u0026gt;(d2/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (c === \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt; ? r : (r \u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x3\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x8\u0026lt;/span\u0026gt;)).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);\n    });\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; onClick = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getElementById\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;uuid\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;textContent\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;generateUUID\u0026lt;/span\u0026gt;();\n}\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onClick\u0026lt;/span\u0026gt;();\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#uuid\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;font-family\u0026lt;/span\u0026gt;: monospace; \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;font-size\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.5em\u0026lt;/span\u0026gt;; }\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;uuid\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;button\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;generateUUID\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;onclick\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;onClick();\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Generate UUID\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;button\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif2\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://jsfiddle.net/briguy37/8eacgpnq/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Here\u0026apos;s a fiddle to test.\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;h3\u0026gt;Modernized snippet for ES6\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;true\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-display\u0026quot; style=\u0026quot;vertical-align: center\u0026quot;\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a class=\u0026quot;snippet-show-link-chevron\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;expander-arrow-hide\u0026quot; style=\u0026quot;vertical-align: middle;\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;a class=\u0026quot;snippet-show-link\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;show-hide\u0026quot; data-ishidden=\u0026quot;true\u0026quot; style=\u0026quot;vertical-align: middle\u0026quot;\u0026gt;Show code snippet\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code snippet-currently-hidden\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;generateUUID\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) =\u0026amp;gt; {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt;\n    d = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Date\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getTime\u0026lt;/span\u0026gt;(),\n    d2 = (performance \u0026amp;amp;\u0026amp;amp; performance.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;now\u0026lt;/span\u0026gt; \u0026amp;amp;\u0026amp;amp; (performance.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;now\u0026lt;/span\u0026gt;() * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000\u0026lt;/span\u0026gt;)) || \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/[xy]/g\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;c\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; r = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;() * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (d \u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;) {\n      r = (d + r) % \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n      d = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;floor\u0026lt;/span\u0026gt;(d / \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);\n    } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n      r = (d2 + r) % \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n      d2 = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;floor\u0026lt;/span\u0026gt;(d2 / \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (c == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt; ? r : (r \u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x7\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x8\u0026lt;/span\u0026gt;)).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);\n  });\n};\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onClick\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;e\u0026lt;/span\u0026gt;) =\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getElementById\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;uuid\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;textContent\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;generateUUID\u0026lt;/span\u0026gt;();\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getElementById\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;generateUUID\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;addEventListener\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;click\u0026apos;\u0026lt;/span\u0026gt;, onClick);\n\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onClick\u0026lt;/span\u0026gt;();\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-css lang-css s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-selector-id\u0026quot;\u0026gt;#uuid\u0026lt;/span\u0026gt; { \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;font-family\u0026lt;/span\u0026gt;: monospace; \u0026lt;span class=\u0026quot;hljs-attribute\u0026quot;\u0026gt;font-size\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.5em\u0026lt;/span\u0026gt;; }\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;uuid\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;p\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;button\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;generateUUID\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;Generate UUID\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;button\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif3\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid/2117523#2117523\u0026quot;\u0026gt;broofa\u0026apos;s answer\u0026lt;/a\u0026gt; is pretty slick, indeed - impressively clever, really...  RFC4122 compliant, somewhat readable, and compact. Awesome!\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;But if you\u0026apos;re looking at that regular expression, those many \u0026lt;code\u0026gt;replace()\u0026lt;/code\u0026gt; callbacks, \u0026lt;code\u0026gt;toString()\u0026lt;/code\u0026gt;\u0026apos;s and \u0026lt;code\u0026gt;Math.random()\u0026lt;/code\u0026gt; function calls (where he\u0026apos;s only using four bits of the result and wasting the rest), you may start to wonder about performance. Indeed, joelpt even decided to toss out an RFC for generic GUID speed with \u0026lt;code\u0026gt;generateQuickGUID\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;But, can we get speed \u0026lt;em\u0026gt;and\u0026lt;/em\u0026gt; RFC compliance? I say, YES!\u0026lt;/strong\u0026gt; Can we maintain readability? Well... Not really, but it\u0026apos;s easy if you follow along.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;But first, my results, compared to broofa, \u0026lt;code\u0026gt;guid\u0026lt;/code\u0026gt; (the accepted answer), and the non-rfc-compliant \u0026lt;code\u0026gt;generateQuickGuid\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;                  \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Desktop\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Android\u0026lt;/span\u0026gt;\n           \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;broofa\u0026lt;/span\u0026gt;: 1617ms   12869ms\n               \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;e1\u0026lt;/span\u0026gt;:  636ms    5778ms\n               \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;e2\u0026lt;/span\u0026gt;:  606ms    4754ms\n               \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;e3\u0026lt;/span\u0026gt;:  364ms    3003ms\n               \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;e4\u0026lt;/span\u0026gt;:  329ms    2015ms\n               \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;e5\u0026lt;/span\u0026gt;:  147ms    1156ms\n               \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;e6\u0026lt;/span\u0026gt;:  146ms    1035ms\n               \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;e7\u0026lt;/span\u0026gt;:  105ms     726ms\n             \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;guid\u0026lt;/span\u0026gt;:  962ms   10762ms\n\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;generateQuickGuid\u0026lt;/span\u0026gt;:  292ms    2961ms\n  - \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Note\u0026lt;/span\u0026gt;: 500k iterations, results will vary by browser/\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CPU\u0026lt;/span\u0026gt;.\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;So by my 6th iteration of optimizations, I beat the most popular answer by over \u0026lt;strong\u0026gt;12 times\u0026lt;/strong\u0026gt;, the accepted answer by over \u0026lt;strong\u0026gt;9 times\u0026lt;/strong\u0026gt;, and the fast-non-compliant answer by \u0026lt;strong\u0026gt;2-3 times\u0026lt;/strong\u0026gt;. And I\u0026apos;m still RFC\u0026amp;nbsp;4122 compliant.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Interested in how? I\u0026apos;ve put the full source on \u0026lt;a href=\u0026quot;http://jsfiddle.net/jcward/7hyaC/3/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://jsfiddle.net/jcward/7hyaC/3/\u0026lt;/a\u0026gt; and on \u0026lt;a href=\u0026quot;https://jsben.ch/xczxS\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://jsben.ch/xczxS\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For an explanation, let\u0026apos;s start with broofa\u0026apos;s code:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;broofa\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/[xy]/g\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;c\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; r = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;()*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, v = c == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt; ? r : (r\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x3\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x8\u0026lt;/span\u0026gt;);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; v.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);\n    });\n}\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;broofa\u0026lt;/span\u0026gt;())\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif4\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;So it replaces \u0026lt;code\u0026gt;x\u0026lt;/code\u0026gt; with any random hexadecimal digit, \u0026lt;code\u0026gt;y\u0026lt;/code\u0026gt; with random data (except forcing the top two bits to \u0026lt;code\u0026gt;10\u0026lt;/code\u0026gt; per the RFC spec), and the regex doesn\u0026apos;t match the \u0026lt;code\u0026gt;-\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;4\u0026lt;/code\u0026gt; characters, so he doesn\u0026apos;t have to deal with them.  Very, very slick.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The first thing to know is that function calls are expensive, as are regular expressions (though he only uses 1, it has 32 callbacks, one for each match, and in each of the 32 callbacks it calls Math.random() and v.toString(16)).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The first step toward performance is to eliminate the RegEx and its callback functions and use a simple loop instead.  This means we have to deal with the \u0026lt;code\u0026gt;-\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;4\u0026lt;/code\u0026gt; characters whereas broofa did not.  Also, note that we can use String Array indexing to keep his slick String template architecture:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;e1\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; u=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;,i=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt;(i++\u0026lt;span class=\u0026quot;language-xml\u0026quot;\u0026gt;\u0026amp;lt;36) {\n        var c=\u0026apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\u0026apos;[i-1],r=Math.random()*16|0,v=c==\u0026apos;x\u0026apos;?r:(r\u0026amp;amp;0x3|0x8);\n        u+=(c==\u0026apos;-\u0026apos;||c==\u0026apos;4\u0026apos;)?c:v.toString(16)\n    }\n    return u;\n}\n\nconsole.log(e1())\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif5\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Basically, the same inner logic, except we check for \u0026lt;code\u0026gt;-\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;4\u0026lt;/code\u0026gt;, and using a while loop (instead of \u0026lt;code\u0026gt;replace()\u0026lt;/code\u0026gt; callbacks) gets us an almost 3X improvement!\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The next step is a small one on the desktop but makes a decent difference on mobile.  Let\u0026apos;s make fewer Math.random() calls and utilize all those random bits instead of throwing 87% of them away with a random buffer that gets shifted out each iteration.  Let\u0026apos;s also move that template definition out of the loop, just in case it helps:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;e2\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; u=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;,m=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\u0026apos;\u0026lt;/span\u0026gt;,i=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,rb=\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;()*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xffffffff\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt;(i++\u0026lt;span class=\u0026quot;language-xml\u0026quot;\u0026gt;\u0026amp;lt;36) {\n        var c=m[i-1],r=rb\u0026amp;amp;0xf,v=c==\u0026apos;x\u0026apos;?r:(r\u0026amp;amp;0x3|0x8);\n        u+=(c==\u0026apos;-\u0026apos;||c==\u0026apos;4\u0026apos;)?c:v.toString(16);rb=i%8==0?Math.random()*0xffffffff|0:rb\u0026amp;gt;\u0026amp;gt;4\n    }\n    return u\n}\n\nconsole.log(e2())\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif6\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This saves us 10-30% depending on platform.  Not bad.  But the next big step gets rid of the toString function calls altogether with an optimization classic - the look-up table.  A simple 16-element lookup table will perform the job of toString(16) in much less time:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;e3\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; h=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;0123456789abcdef\u0026apos;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; k=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\u0026apos;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* same as e4() below */\u0026lt;/span\u0026gt;\n}\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;e4\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; h=[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;0\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;1\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;3\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;4\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;5\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;6\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;7\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;8\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;9\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;a\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;b\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;c\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;d\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;f\u0026apos;\u0026lt;/span\u0026gt;];\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; k=[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;4\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;y\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;];\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; u=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;,i=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,rb=\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;()*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xffffffff\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt;(i++\u0026lt;span class=\u0026quot;language-xml\u0026quot;\u0026gt;\u0026amp;lt;36) {\n        var c=k[i-1],r=rb\u0026amp;amp;0xf,v=c==\u0026apos;x\u0026apos;?r:(r\u0026amp;amp;0x3|0x8);\n        u+=(c==\u0026apos;-\u0026apos;||c==\u0026apos;4\u0026apos;)?c:h[v];rb=i%8==0?Math.random()*0xffffffff|0:rb\u0026amp;gt;\u0026amp;gt;4\n    }\n    return u\n}\n\nconsole.log(e4())\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif7\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The next optimization is another classic.  Since we\u0026apos;re only handling four bits of output in each loop iteration, let\u0026apos;s cut the number of loops in half and process eight bits in each iteration.  This is tricky since we still have to handle the RFC compliant bit positions, but it\u0026apos;s not too hard.  We then have to make a larger lookup table (16x16, or 256) to store 0x00 - 0xFF, and we build it only once, outside the e5() function.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; lut = []; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; i=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;256\u0026lt;/span\u0026gt;; i++) { lut[i] = (i\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;?\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;0\u0026apos;\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;)+(i).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;); }\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;e5\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; k=[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;4\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;y\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt;];\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; u=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;,i=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,rb=\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;()*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xffffffff\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt;(i++\u0026lt;span class=\u0026quot;language-xml\u0026quot;\u0026gt;\u0026amp;lt;20) {\n        var c=k[i-1],r=rb\u0026amp;amp;0xff,v=c==\u0026apos;x\u0026apos;?r:(c==\u0026apos;y\u0026apos;?(r\u0026amp;amp;0x3f|0x80):(r\u0026amp;amp;0xf|0x40));\n        u+=(c==\u0026apos;-\u0026apos;)?c:lut[v];rb=i%4==0?Math.random()*0xffffffff|0:rb\u0026amp;gt;\u0026amp;gt;8\n    }\n    return u\n}\n\nconsole.log(e5())\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif8\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I tried an e6() that processes 16-bits at a time, still using the 256-element \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Lookup_table\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;LUT\u0026lt;/a\u0026gt;, and it showed the diminishing returns of optimization.  Though it had fewer iterations, the inner logic was complicated by the increased processing, and it performed the same on desktop, and only ~10% faster on mobile.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The final optimization technique to apply - unroll the loop.  Since we\u0026apos;re looping a fixed number of times, we can technically write this all out by hand.  I tried this once with a single random variable, \u0026lt;code\u0026gt;r\u0026lt;/code\u0026gt;, that I kept reassigning, and performance tanked.  But with four variables assigned random data up front, then using the lookup table, and applying the proper RFC bits, this version smokes them all:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; lut = []; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; i=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;256\u0026lt;/span\u0026gt;; i++) { lut[i] = (i\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;?\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;0\u0026apos;\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;)+(i).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;); }\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;e7\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;)\n{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; d0 = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;()*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xffffffff\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; d1 = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;()*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xffffffff\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; d2 = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;()*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xffffffff\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; d3 = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;()*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xffffffff\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; lut[d0\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xff\u0026lt;/span\u0026gt;]+lut[d0\u0026amp;gt;\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xff\u0026lt;/span\u0026gt;]+lut[d0\u0026amp;gt;\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xff\u0026lt;/span\u0026gt;]+lut[d0\u0026amp;gt;\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;24\u0026lt;/span\u0026gt;\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xff\u0026lt;/span\u0026gt;]+\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;+\n    lut[d1\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xff\u0026lt;/span\u0026gt;]+lut[d1\u0026amp;gt;\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xff\u0026lt;/span\u0026gt;]+\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;+lut[d1\u0026amp;gt;\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x0f\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x40\u0026lt;/span\u0026gt;]+lut[d1\u0026amp;gt;\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;24\u0026lt;/span\u0026gt;\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xff\u0026lt;/span\u0026gt;]+\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;+\n    lut[d2\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x3f\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x80\u0026lt;/span\u0026gt;]+lut[d2\u0026amp;gt;\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xff\u0026lt;/span\u0026gt;]+\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;+lut[d2\u0026amp;gt;\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xff\u0026lt;/span\u0026gt;]+lut[d2\u0026amp;gt;\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;24\u0026lt;/span\u0026gt;\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xff\u0026lt;/span\u0026gt;]+\n    lut[d3\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xff\u0026lt;/span\u0026gt;]+lut[d3\u0026amp;gt;\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xff\u0026lt;/span\u0026gt;]+lut[d3\u0026amp;gt;\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xff\u0026lt;/span\u0026gt;]+lut[d3\u0026amp;gt;\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;24\u0026lt;/span\u0026gt;\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xff\u0026lt;/span\u0026gt;];\n}\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;e7\u0026lt;/span\u0026gt;())\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif9\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Modualized:  \u0026lt;a href=\u0026quot;http://jcward.com/UUID.js\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://jcward.com/UUID.js\u0026lt;/a\u0026gt; - \u0026lt;code\u0026gt;UUID.generate()\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The funny thing is, generating 16 bytes of random data is the easy part.  The whole trick is expressing it in \u0026lt;em\u0026gt;string\u0026lt;/em\u0026gt; format with RFC compliance, and it\u0026apos;s most tightly accomplished with 16 bytes of random data, an unrolled loop and lookup table.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I hope my logic is correct -- it\u0026apos;s very easy to make a mistake in this kind of tedious bit work. But the outputs look good to me. I hope you enjoyed this mad ride through code optimization!\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Be advised:\u0026lt;/strong\u0026gt; my primary goal was to show and teach potential optimization strategies.  Other answers cover important topics such as collisions and truly random numbers, which are important for generating good UUIDs.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Use:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; uniqueId = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Date\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;now\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;36\u0026lt;/span\u0026gt;) + \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;36\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substring\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;true\u0026quot; data-console=\u0026quot;false\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-display\u0026quot; style=\u0026quot;vertical-align: center\u0026quot;\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a class=\u0026quot;snippet-show-link-chevron\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;expander-arrow-hide\u0026quot; style=\u0026quot;vertical-align: middle;\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;a class=\u0026quot;snippet-show-link\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;show-hide\u0026quot; data-ishidden=\u0026quot;true\u0026quot; style=\u0026quot;vertical-align: middle\u0026quot;\u0026gt;Show code snippet\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code snippet-currently-hidden\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getElementById\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;unique\u0026quot;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;innerHTML\u0026lt;/span\u0026gt; =\n  \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;36\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substring\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;) + (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Date\u0026lt;/span\u0026gt;()).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getTime\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;36\u0026lt;/span\u0026gt;);\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;unique\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif10\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If IDs are generated more than 1 millisecond apart, they are 100% unique.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If two IDs are generated at shorter intervals, and assuming that the random method is truly random, this would generate IDs that are 99.99999999999999% likely to be globally unique (collision in 1 of 10^15).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You can increase this number by adding more digits, but to generate 100% unique IDs you will need to use a global counter.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If you need RFC compatibility, this formatting will pass as a valid version 4 GUID:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; u = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Date\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;now\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;) + \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;) + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;0\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;repeat\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; guid = [u.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;), u.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;4000-8\u0026apos;\u0026lt;/span\u0026gt; + u.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;13\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;), u.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;)].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;true\u0026quot; data-console=\u0026quot;false\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-display\u0026quot; style=\u0026quot;vertical-align: center\u0026quot;\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a class=\u0026quot;snippet-show-link-chevron\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;expander-arrow-hide\u0026quot; style=\u0026quot;vertical-align: middle;\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;a class=\u0026quot;snippet-show-link\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;show-hide\u0026quot; data-ishidden=\u0026quot;true\u0026quot; style=\u0026quot;vertical-align: middle\u0026quot;\u0026gt;Show code snippet\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code snippet-currently-hidden\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; u = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Date\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;now\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;)+\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;)+\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;0\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;repeat\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; guid = [u.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;), u.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;4000-8\u0026apos;\u0026lt;/span\u0026gt; + u.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;13\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;), u.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;)].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;document\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getElementById\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;unique\u0026quot;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;innerHTML\u0026lt;/span\u0026gt; = guid;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-html lang-html s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;id\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;unique\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;div\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif11\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The above code follow the intention, but not the letter of the RFC. Among other discrepancies it\u0026apos;s a few random digits short. (Add more random digits if you need it) The upside is that this is really fast :)\nYou can \u0026lt;a href=\u0026quot;https://www.freecodeformat.com/validate-uuid-guid.php\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;test validity of your GUID here\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here\u0026apos;s some code based on \u0026lt;a href=\u0026quot;http://www.ietf.org/rfc/rfc4122.txt\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;RFC 4122\u0026lt;/a\u0026gt;, section 4.4 (Algorithms for Creating a UUID from Truly Random or Pseudo-Random Number).\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;createUUID\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// http://www.ietf.org/rfc/rfc4122.txt\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; s = [];\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; hexDigits = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;0123456789abcdef\u0026quot;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;36\u0026lt;/span\u0026gt;; i++) {\n        s[i] = hexDigits.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;floor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;() * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x10\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;);\n    }\n    s[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14\u0026lt;/span\u0026gt;] = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;4\u0026quot;\u0026lt;/span\u0026gt;;  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// bits 12-15 of the time_hi_and_version field to 0010\u0026lt;/span\u0026gt;\n    s[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;19\u0026lt;/span\u0026gt;] = hexDigits.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;((s[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;19\u0026lt;/span\u0026gt;] \u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x3\u0026lt;/span\u0026gt;) | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x8\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;);  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// bits 6-7 of the clock_seq_hi_and_reserved to 01\u0026lt;/span\u0026gt;\n    s[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;] = s[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;13\u0026lt;/span\u0026gt;] = s[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;18\u0026lt;/span\u0026gt;] = s[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;23\u0026lt;/span\u0026gt;] = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-\u0026quot;\u0026lt;/span\u0026gt;;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; uuid = s.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; uuid;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This is the fastest GUID-like string generator method in the format \u0026lt;code\u0026gt;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\u0026lt;/code\u0026gt;. It does not generate a standard-compliant GUID.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Ten million executions of this implementation take just 32.5 seconds, which is the fastest I\u0026apos;ve ever seen in a browser (the only solution without loops/iterations).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The function is as simple as:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/**\n * Generates a GUID string.\n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@returns\u0026lt;/span\u0026gt; {\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;string\u0026lt;/span\u0026gt;} The generated GUID.\n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@example\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;af8a8416\u0026lt;/span\u0026gt;-6e18-a307-bd9c-f2c947bbb3aa\n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@author\u0026lt;/span\u0026gt; Slavik Meltser.\n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@link\u0026lt;/span\u0026gt; http://slavik.meltser.info/?p=142\n */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;guid\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_p8\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;s\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; p = (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;)+\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;000000000\u0026quot;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; s ? \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-\u0026quot;\u0026lt;/span\u0026gt; + p.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;) + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-\u0026quot;\u0026lt;/span\u0026gt; + p.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;) : p ;\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_p8\u0026lt;/span\u0026gt;() + \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_p8\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;) + \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_p8\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;) + \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_p8\u0026lt;/span\u0026gt;();\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;To test the performance, you can run this code:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;time\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;t\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000000\u0026lt;/span\u0026gt;; i++) {\n    \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;guid\u0026lt;/span\u0026gt;();\n};\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;timeEnd\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;t\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;I\u0026apos;m sure most of you will understand what I did there, but maybe there is at least one person that will need an explanation:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;The algorithm:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;The \u0026lt;code\u0026gt;Math.random()\u0026lt;/code\u0026gt; function returns a decimal number between 0 and 1 with 16 digits after the decimal fraction point (for\nexample \u0026lt;code\u0026gt;0.4363923368509859\u0026lt;/code\u0026gt;).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Then we take this number and convert\nit to a string with base 16 (from the example above we\u0026apos;ll get\n\u0026lt;code\u0026gt;0.6fb7687f\u0026lt;/code\u0026gt;).\n\u0026lt;code\u0026gt;Math.random().toString(16)\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Then we cut off the \u0026lt;code\u0026gt;0.\u0026lt;/code\u0026gt; prefix (\u0026lt;code\u0026gt;0.6fb7687f\u0026lt;/code\u0026gt; =\u0026amp;gt;\n\u0026lt;code\u0026gt;6fb7687f\u0026lt;/code\u0026gt;) and get a string with eight hexadecimal\ncharacters long.\n\u0026lt;code\u0026gt;(Math.random().toString(16).substr(2,8)\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Sometimes the \u0026lt;code\u0026gt;Math.random()\u0026lt;/code\u0026gt; function will return\nshorter number (for example \u0026lt;code\u0026gt;0.4363\u0026lt;/code\u0026gt;), due to zeros at the end (from the example above, actually the number is \u0026lt;code\u0026gt;0.4363000000000000\u0026lt;/code\u0026gt;). That\u0026apos;s why I\u0026apos;m appending to this string \u0026lt;code\u0026gt;\u0026quot;000000000\u0026quot;\u0026lt;/code\u0026gt; (a string with nine zeros) and then cutting it off with \u0026lt;code\u0026gt;substr()\u0026lt;/code\u0026gt; function to make it nine characters exactly (filling zeros to the right).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;The reason for adding exactly nine zeros is because of the worse case scenario, which is when the \u0026lt;code\u0026gt;Math.random()\u0026lt;/code\u0026gt; function will return exactly 0 or 1 (probability of 1/10^16 for each one of them). That\u0026apos;s why we needed to add nine zeros to it (\u0026lt;code\u0026gt;\u0026quot;0\u0026quot;+\u0026quot;000000000\u0026quot;\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;\u0026quot;1\u0026quot;+\u0026quot;000000000\u0026quot;\u0026lt;/code\u0026gt;), and then cutting it off from the second index (third character) with a length of eight characters. For the rest of the cases, the addition of zeros will not harm the result because it is cutting it off anyway.\n\u0026lt;code\u0026gt;Math.random().toString(16)+\u0026quot;000000000\u0026quot;).substr(2,8)\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;The assembly:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;The GUID is in the following format \u0026lt;code\u0026gt;XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;I divided the GUID into four pieces, each piece divided into two types (or formats): \u0026lt;code\u0026gt;XXXXXXXX\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;-XXXX-XXXX\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Now I\u0026apos;m building the GUID using these two types to assemble the GUID with call four pieces, as follows: \u0026lt;code\u0026gt;XXXXXXXX\u0026lt;/code\u0026gt; \u0026lt;code\u0026gt;-XXXX-XXXX\u0026lt;/code\u0026gt; \u0026lt;code\u0026gt;-XXXX-XXXX\u0026lt;/code\u0026gt; \u0026lt;code\u0026gt;XXXXXXXX\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;To differ between these two types, I added a flag parameter to a pair creator function \u0026lt;code\u0026gt;_p8(s)\u0026lt;/code\u0026gt;, the \u0026lt;code\u0026gt;s\u0026lt;/code\u0026gt; parameter tells the function whether to add dashes or not.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Eventually we build the GUID with the following chaining: \u0026lt;code\u0026gt;_p8() + _p8(true) + _p8(true) + _p8()\u0026lt;/code\u0026gt;, and return it.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://slavik.meltser.info/the-efficient-way-to-create-guid-uuid-in-javascript/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Link to this post on my blog\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Enjoy! :-)\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here is a totally non-compliant but very performant implementation to generate an ASCII-safe GUID-like unique identifier.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;generateQuickGuid\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;36\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substring\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;15\u0026lt;/span\u0026gt;) +\n        \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;36\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substring\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;15\u0026lt;/span\u0026gt;);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Generates 26 [a-z0-9] characters, yielding a UID that is both shorter and more unique than RFC compliant GUIDs. Dashes can be trivially added if human-readability matters.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Here are usage examples and timings for this function and several of this question\u0026apos;s other answers. The timing was performed under Chrome m25, 10 million iterations each.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;generateQuickGuid\u0026lt;/span\u0026gt;()\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;nvcjf1hs7tf8yyk4lmlijqkuo9\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;yq6gipxqta4kui8z05tgh9qeel\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;36dh5sec7zdj90sk2rx7pjswi2\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;runtime\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;32.\u0026lt;/span\u0026gt;5s\n\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;GUID\u0026lt;/span\u0026gt;() \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// John Millikin\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;7a342ca2-e79f-528e-6302-8f901b0b6888\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;runtime\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;57.\u0026lt;/span\u0026gt;8s\n\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;regexGuid\u0026lt;/span\u0026gt;() \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// broofa\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;396e0c46-09e4-4b19-97db-bd423774a4b3\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;runtime\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;91.\u0026lt;/span\u0026gt;2s\n\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;createUUID\u0026lt;/span\u0026gt;() \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Kevin Hakanson\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;403aa1ab-9f70-44ec-bc08-5d5ac56bd8a5\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;runtime\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;65.\u0026lt;/span\u0026gt;9s\n\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;UUIDv4\u0026lt;/span\u0026gt;() \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Jed Schmidt\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;f4d7d31f-fa83-431a-b30c-3e6cc37cc6ee\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;runtime\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;282.\u0026lt;/span\u0026gt;4s\n\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;uuid\u0026lt;/span\u0026gt;() \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// broofa\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;5BD52F55-E68F-40FC-93C2-90EE069CE545\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;runtime\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;225.\u0026lt;/span\u0026gt;8s\n\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;uuidFast\u0026lt;/span\u0026gt;() \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// broofa\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;6CB97A68-23A2-473E-B75B-11263781BBE6\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;runtime\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;92.\u0026lt;/span\u0026gt;0s\n\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;uuidCompact\u0026lt;/span\u0026gt;() \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// broofa\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;3d7b7a06-0a67-4b67-825c-e5c43ff8c1e8\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;runtime\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;229.\u0026lt;/span\u0026gt;0s\n\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;bitwiseGUID\u0026lt;/span\u0026gt;() \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// jablko\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;baeaa2f-7587-4ff1-af23-eeab3e92\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;runtime\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;79.\u0026lt;/span\u0026gt;6s\n\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;betterWayGUID\u0026lt;/span\u0026gt;() \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Andrea Turri\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;383585b0-9753-498d-99c3-416582e9662c\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;runtime\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;60.\u0026lt;/span\u0026gt;0s\n\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;UUID\u0026lt;/span\u0026gt;() \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// John Fowler\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;855f997b-4369-4cdb-b7c9-7142ceaf39e8\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;runtime\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;62.\u0026lt;/span\u0026gt;2s\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Here is the timing code.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; r;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;time\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;t\u0026apos;\u0026lt;/span\u0026gt;); \n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000000\u0026lt;/span\u0026gt;; i++) { \n    r = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;FuncToTest\u0026lt;/span\u0026gt;(); \n};\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;timeEnd\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;t\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;From \u0026lt;a href=\u0026quot;http://blog.shkedy.com/2007/01/createing-guids-with-client-side.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;sagi shkedy\u0026apos;s technical blog\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;generateGuid\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; result, i, j;\n  result = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;;\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt;(j=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; j\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;32\u0026lt;/span\u0026gt;; j++) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;( j == \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt; || j == \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt; || j == \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt; || j == \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;)\n      result = result + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;;\n    i = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;floor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;()*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toUpperCase\u0026lt;/span\u0026gt;();\n    result = result + i;\n  }\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; result;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;There are other methods that involve using an \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/ActiveX\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;ActiveX\u0026lt;/a\u0026gt; control, but stay away from these!\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I thought it was worth pointing out that no GUID generator can guarantee unique keys (check the \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Globally_Unique_Identifier\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Wikipedia article\u0026lt;/a\u0026gt;). There is always a chance of collisions. A GUID simply offers a large enough universe of keys to reduce the change of collisions to almost nil.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here is a combination of the \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/2117523/11236\u0026quot;\u0026gt;top voted answer\u0026lt;/a\u0026gt;, with a workaround for \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/6906916/collisions-when-generating-uuids-in-javascript\u0026quot;\u0026gt;Chrome\u0026apos;s collisions\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;generateGUID = (\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;crypto\u0026lt;/span\u0026gt;) != \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;undefined\u0026apos;\u0026lt;/span\u0026gt; \u0026amp;amp;\u0026amp;amp;\n                \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;crypto\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;getRandomValues\u0026lt;/span\u0026gt;) != \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;undefined\u0026apos;\u0026lt;/span\u0026gt;) ?\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// If we have a cryptographically secure PRNG, use that\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// https://stackoverflow.com/questions/6906916/collisions-when-generating-uuids-in-javascript\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; buf = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Uint16Array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;);\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;crypto\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getRandomValues\u0026lt;/span\u0026gt;(buf);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;S4\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;num\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; ret = num.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt;(ret.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;){\n                ret = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;0\u0026quot;\u0026lt;/span\u0026gt;+ret;\n            }\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; ret;\n        };\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;S4\u0026lt;/span\u0026gt;(buf[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;])+\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;S4\u0026lt;/span\u0026gt;(buf[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;])+\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-\u0026quot;\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;S4\u0026lt;/span\u0026gt;(buf[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;])+\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-\u0026quot;\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;S4\u0026lt;/span\u0026gt;(buf[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;])+\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-\u0026quot;\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;S4\u0026lt;/span\u0026gt;(buf[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;])+\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-\u0026quot;\u0026lt;/span\u0026gt;+\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;S4\u0026lt;/span\u0026gt;(buf[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;])+\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;S4\u0026lt;/span\u0026gt;(buf[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;])+\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;S4\u0026lt;/span\u0026gt;(buf[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;]));\n    }\n\n    :\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Otherwise, just use Math.random\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/[xy]/g\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;c\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; r = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;()*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, v = c == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt; ? r : (r\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x3\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x8\u0026lt;/span\u0026gt;);\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; v.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);\n        });\n    };\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;It is \u0026lt;a href=\u0026quot;http://jsbin.com/uqives/3\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;on jsbin\u0026lt;/a\u0026gt; if you want to test it.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here\u0026apos;s a solution dated Oct. 9, 2011 from a comment by user \u0026lt;em\u0026gt;jed\u0026lt;/em\u0026gt; at \u0026lt;a href=\u0026quot;https://gist.github.com/982883\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://gist.github.com/982883\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;UUIDv4\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;b\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;){\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; a?(a^\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;()*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026amp;gt;a/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;):([\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1e7\u0026lt;/span\u0026gt;]+-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1e3\u0026lt;/span\u0026gt;+-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4e3\u0026lt;/span\u0026gt;+-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8e3\u0026lt;/span\u0026gt;+-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1e11\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/[018]/g\u0026lt;/span\u0026gt;,b)}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This accomplishes the same goal as the \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\u0026quot;\u0026gt;current highest-rated answer\u0026lt;/a\u0026gt;, but in 50+ fewer bytes by exploiting coercion, recursion, and exponential notation. For those curious how it works, here\u0026apos;s the annotated form of an older version of the function:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;UUIDv4\u0026lt;/span\u0026gt; =\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;b\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\n  a \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// placeholder\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;){\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; a \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// if the placeholder was passed, return\u0026lt;/span\u0026gt;\n    ? ( \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// a random number from 0 to 15\u0026lt;/span\u0026gt;\n      a ^ \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// unless b is 8,\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;() \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// in which case\u0026lt;/span\u0026gt;\n      * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// a random number from\u0026lt;/span\u0026gt;\n      \u0026amp;gt;\u0026amp;gt; a/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 8 to 11\u0026lt;/span\u0026gt;\n      ).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// in hexadecimal\u0026lt;/span\u0026gt;\n    : ( \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// or otherwise a concatenated string:\u0026lt;/span\u0026gt;\n      [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1e7\u0026lt;/span\u0026gt;] + \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 10000000 +\u0026lt;/span\u0026gt;\n      -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1e3\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// -1000 +\u0026lt;/span\u0026gt;\n      -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4e3\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// -4000 +\u0026lt;/span\u0026gt;\n      -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8e3\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// -80000000 +\u0026lt;/span\u0026gt;\n      -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1e11\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// -100000000000,\u0026lt;/span\u0026gt;\n      ).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// replacing\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/[018]/g\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// zeroes, ones, and eights with\u0026lt;/span\u0026gt;\n        b \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// random hex digits\u0026lt;/span\u0026gt;\n      )\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can use \u0026lt;a href=\u0026quot;https://github.com/kelektiv/node-uuid\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;node-uuid\u0026lt;/a\u0026gt;. It provides simple, fast generation of \u0026lt;a href=\u0026quot;http://www.ietf.org/rfc/rfc4122.txt\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;RFC4122\u0026lt;/a\u0026gt; UUIDS.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Features:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Generate RFC4122 version 1 or version 4 UUIDs\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Runs in \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Node.js\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Node.js\u0026lt;/a\u0026gt; and browsers.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Cryptographically strong random # generation on supporting platforms.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Small footprint (Want something smaller? \u0026lt;a href=\u0026quot;https://gist.github.com/982883\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Check this out!\u0026lt;/a\u0026gt;)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Install Using NPM:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;npm install uuid\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Or using uuid via a browser:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Download Raw File (uuid v1): \u0026lt;a href=\u0026quot;https://raw.githubusercontent.com/kelektiv/node-uuid/master/v1.js\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://raw.githubusercontent.com/kelektiv/node-uuid/master/v1.js\u0026lt;/a\u0026gt;\nDownload Raw File (uuid v4): \u0026lt;a href=\u0026quot;https://raw.githubusercontent.com/kelektiv/node-uuid/master/v4.js\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://raw.githubusercontent.com/kelektiv/node-uuid/master/v4.js\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;Want even smaller? Check this out: \u0026lt;a href=\u0026quot;https://gist.github.com/jed/982883\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://gist.github.com/jed/982883\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Usage:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Generate a v1 UUID (time-based)\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; uuidV1 = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;require\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;uuid/v1\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;uuidV1\u0026lt;/span\u0026gt;(); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// -\u0026amp;gt; \u0026apos;6c84fb90-12c4-11e1-840d-7b25c5ee775a\u0026apos;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Generate a v4 UUID (random)\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; uuidV4 = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;require\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;uuid/v4\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;uuidV4\u0026lt;/span\u0026gt;(); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// -\u0026amp;gt; \u0026apos;110ec58a-a0f2-4ac4-8393-c866d813b8d1\u0026apos;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Generate a v5 UUID (namespace)\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; uuidV5 = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;require\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;uuid/v5\u0026apos;\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ... using predefined DNS namespace (for domain names)\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;uuidV5\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;hello.example.com\u0026apos;\u0026lt;/span\u0026gt;, v5.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;DNS\u0026lt;/span\u0026gt;)); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// -\u0026amp;gt; \u0026apos;fdda765f-fc57-5604-a269-52a7df8164ec\u0026apos;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ... using predefined URL namespace (for, well, URLs)\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;uuidV5\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;http://example.com/hello\u0026apos;\u0026lt;/span\u0026gt;, v5.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;URL\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// -\u0026amp;gt; \u0026apos;3bbcee75-cecc-5b56-8031-b6641c1ed1f1\u0026apos;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ... using a custom namespace\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;MY_NAMESPACE\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;(previously generated unique uuid string)\u0026apos;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;uuidV5\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;hello\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;MY_NAMESPACE\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// -\u0026amp;gt; \u0026apos;90123e1c-7512-523e-bb28-76fab9f2f73d\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;ECMAScript\u0026amp;nbsp;2015 (ES6):\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; uuid \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;uuid/v4\u0026apos;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; id = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;uuid\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; uuid = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; buf = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Uint32Array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;crypto\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getRandomValues\u0026lt;/span\u0026gt;(buf);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; idx = -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/[xy]/g\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;c\u0026lt;/span\u0026gt;) {\n        idx++;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; r = (buf[idx\u0026amp;gt;\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;] \u0026amp;gt;\u0026amp;gt; ((idx%\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;)*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;))\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;15\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; v = c == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt; ? r : (r\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x3\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x8\u0026lt;/span\u0026gt;);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; v.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);\n    });\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This version is based on Briguy37\u0026apos;s answer and some bitwise operators to extract nibble sized windows from the buffer.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;It should adhere to the RFC Type 4 (random) schema, since I had \u0026lt;em\u0026gt;problems\u0026lt;/em\u0026gt; last time parsing non-compliant UUIDs with Java\u0026apos;s UUID.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This creates a version 4 UUID (created from pseudo random numbers):\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;uuid\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;)\n{\n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; chars = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;0123456789abcdef\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;split\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;);\n\n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; uuid = [], rnd = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;, r;\n   uuid[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;] = uuid[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;13\u0026lt;/span\u0026gt;] = uuid[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;18\u0026lt;/span\u0026gt;] = uuid[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;23\u0026lt;/span\u0026gt;] = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;;\n   uuid[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14\u0026lt;/span\u0026gt;] = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;4\u0026apos;\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// version 4\u0026lt;/span\u0026gt;\n\n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;36\u0026lt;/span\u0026gt;; i++)\n   {\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!uuid[i])\n      {\n         r = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;rnd\u0026lt;/span\u0026gt;()*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;;\n\n         uuid[i] = chars[(i == \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;19\u0026lt;/span\u0026gt;) ? (r \u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x3\u0026lt;/span\u0026gt;) | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x8\u0026lt;/span\u0026gt; : r \u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xf\u0026lt;/span\u0026gt;];\n      }\n   }\n\n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; uuid.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Here is a sample of the UUIDs generated:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-none s-code-block\u0026quot;\u0026gt;\u0026lt;code\u0026gt;682db637-0f31-4847-9cdf-25ba9613a75c\n97d19478-3ab2-4aa1-b8cc-a1c3540f54aa\n2eed04c9-2692-456d-a0fd-51012f947136\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Simple JavaScript module as a combination of best answers in this question.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; crypto = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;crypto\u0026lt;/span\u0026gt; || \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;msCrypto\u0026lt;/span\u0026gt; || \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// IE11 fix\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Guid\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Guid\u0026lt;/span\u0026gt; || (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;EMPTY\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;00000000-0000-0000-0000-000000000000\u0026apos;\u0026lt;/span\u0026gt;;\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; _padLeft = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;paddingString, width, replacementChar\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; paddingString.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; \u0026amp;gt;= width ? paddingString : \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_padLeft\u0026lt;/span\u0026gt;(replacementChar + paddingString, width, replacementChar || \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos; \u0026apos;\u0026lt;/span\u0026gt;);\n  };\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; _s4 = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;number\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; hexadecimalResult = number.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_padLeft\u0026lt;/span\u0026gt;(hexadecimalResult, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;0\u0026apos;\u0026lt;/span\u0026gt;);\n  };\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; _cryptoGuid = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; buffer = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Uint16Array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;);\n    crypto.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getRandomValues\u0026lt;/span\u0026gt;(buffer);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; [\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_s4\u0026lt;/span\u0026gt;(buffer[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;]) + \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_s4\u0026lt;/span\u0026gt;(buffer[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;]), \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_s4\u0026lt;/span\u0026gt;(buffer[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;]), \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_s4\u0026lt;/span\u0026gt;(buffer[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;]), \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_s4\u0026lt;/span\u0026gt;(buffer[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;]), \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_s4\u0026lt;/span\u0026gt;(buffer[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;]) + \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_s4\u0026lt;/span\u0026gt;(buffer[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;]) + \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_s4\u0026lt;/span\u0026gt;(buffer[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;])].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;);\n  };\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; _guid = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; currentDateMilliseconds = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Date\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getTime\u0026lt;/span\u0026gt;();\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/[xy]/g\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;currentChar\u0026lt;/span\u0026gt;) {\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; randomChar = (currentDateMilliseconds + \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;() * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;) % \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n      currentDateMilliseconds = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;floor\u0026lt;/span\u0026gt;(currentDateMilliseconds / \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (currentChar === \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt; ? randomChar : (randomChar \u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x7\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x8\u0026lt;/span\u0026gt;)).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);\n    });\n  };\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; create = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; hasCrypto = crypto != \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;undefined\u0026apos;\u0026lt;/span\u0026gt; \u0026amp;amp;\u0026amp;amp; crypto !== \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;,\n      hasRandomValues = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;typeof\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;crypto\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;getRandomValues\u0026lt;/span\u0026gt;) != \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;undefined\u0026apos;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (hasCrypto \u0026amp;amp;\u0026amp;amp; hasRandomValues) ? \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_cryptoGuid\u0026lt;/span\u0026gt;() : \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;_guid\u0026lt;/span\u0026gt;();\n  };\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;newGuid\u0026lt;/span\u0026gt;: create,\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;empty\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;EMPTY\u0026lt;/span\u0026gt;\n  };\n})();\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// DEMO: Create and show GUID\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;1. New Guid:   \u0026apos;\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Guid\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;newGuid\u0026lt;/span\u0026gt;());\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// DEMO: Show empty GUID\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;2. Empty Guid: \u0026apos;\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Guid\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;empty\u0026lt;/span\u0026gt;);\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif12\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Usage:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Guid.newGuid()\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;\u0026quot;c6c2d12f-d76b-5739-e551-07e6de5b0807\u0026quot;\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Guid.empty\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;\u0026quot;00000000-0000-0000-0000-000000000000\u0026quot;\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The version below is an adaptation of \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid/2117523#2117523\u0026quot;\u0026gt;broofa\u0026apos;s answer\u0026lt;/a\u0026gt;, but updated to include a \u0026quot;true\u0026quot; random function that uses crypto libraries where available, and the Alea() function as a fallback.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;  \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;log2\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;log2\u0026lt;/span\u0026gt; || \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;n\u0026lt;/span\u0026gt;){ \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(n) / \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;); }\n  \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;trueRandom\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; crypt = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;crypto\u0026lt;/span\u0026gt; || \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;msCrypto\u0026lt;/span\u0026gt;;\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (crypt \u0026amp;amp;\u0026amp;amp; crypt.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;getRandomValues\u0026lt;/span\u0026gt;) {\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// If we have a crypto library, use it\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; random = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;min, max\u0026lt;/span\u0026gt;) {\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; rval = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; range = max - min;\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (range \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;) {\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; min;\n          }\n\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; bits_needed = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ceil\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log2\u0026lt;/span\u0026gt;(range));\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (bits_needed \u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;53\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;throw\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Exception\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;We cannot generate numbers larger than 53 bits.\u0026quot;\u0026lt;/span\u0026gt;);\n          }\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; bytes_needed = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ceil\u0026lt;/span\u0026gt;(bits_needed / \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;);\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; mask = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pow\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, bits_needed) - \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n          \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 7776 -\u0026amp;gt; (2^13 = 8192) -1 == 8191 or 0x00001111 11111111\u0026lt;/span\u0026gt;\n\n          \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Create byte array and fill with N random numbers\u0026lt;/span\u0026gt;\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; byteArray = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Uint8Array\u0026lt;/span\u0026gt;(bytes_needed);\n          crypt.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getRandomValues\u0026lt;/span\u0026gt;(byteArray);\n\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; p = (bytes_needed - \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;) * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;;\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; bytes_needed; i++ ) {\n              rval += byteArray[i] * \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;pow\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, p);\n              p -= \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;;\n          }\n\n          \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Use \u0026amp;amp; to apply the mask and reduce the number of recursive lookups\u0026lt;/span\u0026gt;\n          rval = rval \u0026amp;amp; mask;\n\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (rval \u0026amp;gt;= range) {\n              \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Integer out of acceptable range\u0026lt;/span\u0026gt;\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;(min, max);\n          }\n          \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Return an integer that falls within the range\u0026lt;/span\u0026gt;\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; min + rval;\n      }\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; r = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000000000\u0026lt;/span\u0026gt;) / \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1000000000\u0026lt;/span\u0026gt;;\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; r;\n      };\n  } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// From https://web.archive.org/web/20120502223108/http://baagoe.com/en/RandomMusings/javascript/\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Johannes Baagøe \u0026amp;lt;baagoe@baagoe.com\u0026amp;gt;, 2010\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;Mash\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; n = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xefc8249d\u0026lt;/span\u0026gt;;\n\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; mash = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;data\u0026lt;/span\u0026gt;) {\n              data = data.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;();\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; data.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt;; i++) {\n                  n += data.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;charCodeAt\u0026lt;/span\u0026gt;(i);\n                  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; h = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.02519603282416938\u0026lt;/span\u0026gt; * n;\n                  n = h \u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n                  h -= n;\n                  h *= n;\n                  n = h \u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n                  h -= n;\n                  n += h * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x100000000\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 2^32\u0026lt;/span\u0026gt;\n              }\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (n \u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;) * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.3283064365386963e-10\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 2^-32\u0026lt;/span\u0026gt;\n          };\n\n          mash.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;version\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Mash 0.9\u0026apos;\u0026lt;/span\u0026gt;;\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; mash;\n      }\n\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// From http://baagoe.com/en/RandomMusings/javascript/\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;Alea\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n          \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;args\u0026lt;/span\u0026gt;) {\n              \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Johannes BaagÃ¸e \u0026amp;lt;baagoe@baagoe.com\u0026amp;gt;, 2010\u0026lt;/span\u0026gt;\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; s0 = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; s1 = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; s2 = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; c = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (args.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; == \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;) {\n                  args = [+\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Date\u0026lt;/span\u0026gt;()];\n              }\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; mash = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Mash\u0026lt;/span\u0026gt;();\n              s0 = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;mash\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos; \u0026apos;\u0026lt;/span\u0026gt;);\n              s1 = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;mash\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos; \u0026apos;\u0026lt;/span\u0026gt;);\n              s2 = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;mash\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos; \u0026apos;\u0026lt;/span\u0026gt;);\n\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; i = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; args.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt;; i++) {\n                  s0 -= \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;mash\u0026lt;/span\u0026gt;(args[i]);\n                  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (s0 \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;) {\n                      s0 += \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n                  }\n                  s1 -= \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;mash\u0026lt;/span\u0026gt;(args[i]);\n                  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (s1 \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;) {\n                      s1 += \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n                  }\n                  s2 -= \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;mash\u0026lt;/span\u0026gt;(args[i]);\n                  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (s2 \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;) {\n                      s2 += \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n                  }\n              }\n              mash = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;;\n\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; random = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n                  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; t = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2091639\u0026lt;/span\u0026gt; * s0 + c * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.3283064365386963e-10\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 2^-32\u0026lt;/span\u0026gt;\n                  s0 = s1;\n                  s1 = s2;\n                  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; s2 = t - (c = t | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n              };\n              random.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;uint32\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n                  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;() * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x100000000\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 2^32\u0026lt;/span\u0026gt;\n              };\n              random.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;fract53\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n                  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;() +\n                      (\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;() * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x200000\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;) * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.1102230246251565e-16\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 2^-53\u0026lt;/span\u0026gt;\n              };\n              random.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;version\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Alea 0.9\u0026apos;\u0026lt;/span\u0026gt;;\n              random.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;args\u0026lt;/span\u0026gt; = args;\n              \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; random;\n\n          }(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Array\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;prototype\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;slice\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;call\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;arguments\u0026lt;/span\u0026gt;)));\n      };\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Alea\u0026lt;/span\u0026gt;();\n  }\n}());\n\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;guid\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/[xy]/g\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;c\u0026lt;/span\u0026gt;)    {\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; r = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;trueRandom\u0026lt;/span\u0026gt;() * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\n          v = c == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;x\u0026apos;\u0026lt;/span\u0026gt; ? r : (r \u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x3\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x8\u0026lt;/span\u0026gt;);\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; v.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);\n  });\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;JavaScript project on GitHub - \u0026lt;a href=\u0026quot;https://github.com/LiosK/UUID.js\u0026quot;\u0026gt;https://github.com/LiosK/UUID.js\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;UUID.js The RFC-compliant UUID generator for JavaScript.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;See RFC 4122 \u0026lt;a href=\u0026quot;http://www.ietf.org/rfc/rfc4122.txt\u0026quot;\u0026gt;http://www.ietf.org/rfc/rfc4122.txt\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Features Generates RFC 4122 compliant UUIDs.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;Version 4 UUIDs (UUIDs from random numbers) and version 1 UUIDs\n  (time-based UUIDs) are available.\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;UUID object allows a variety of access to the UUID including access to\n  the UUID fields.\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;Low timestamp resolution of JavaScript is compensated by random\n  numbers.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// RFC 4122\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// A UUID is 128 bits long\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// String representation is five fields of 4, 2, 2, 2, and 6 bytes.\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Fields represented as lowercase, zero-filled, hexadecimal strings, and\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// are separated by dash characters\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// A version 4 UUID is generated by setting all but six bits to randomly\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// chosen values\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; uuid = [\n    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;slice\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;),\n    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;slice\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;),\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Set the four most significant bits (bits 12 through 15) of the\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// time_hi_and_version field to the 4-bit version number from Section\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// 4.1.3\u0026lt;/span\u0026gt;\n    (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;() * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.0625\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* 0x.1 */\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.25\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* 0x.4 */\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;slice\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;),\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Set the two most significant bits (bits 6 and 7) of the\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// clock_seq_hi_and_reserved to zero and one, respectively\u0026lt;/span\u0026gt;\n    (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;() * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.25\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* 0x.4 */\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.5\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* 0x.8 */\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;slice\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;),\n\n    \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;slice\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14\u0026lt;/span\u0026gt;)].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;One line solution using Blobs.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;URL\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;createObjectURL\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Blob\u0026lt;/span\u0026gt;([])).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substring\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;31\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The value at the end (31) depends on the length of the URL.\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;EDIT:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;A more compact and universal solution, as suggested by \u0026lt;a href=\u0026quot;https://stackoverflow.com/users/114558/rinogo\u0026quot;\u0026gt;rinogo\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;URL\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;createObjectURL\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Blob\u0026lt;/span\u0026gt;([])).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;36\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;For those wanting an \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Universally_unique_identifier#History\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;RFC 4122\u0026lt;/a\u0026gt; version 4 compliant solution with speed considerations (few calls to Math.random()):\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;false\u0026quot; data-console=\u0026quot;true\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; rand = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;UUID\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; nbr, randStr = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;do\u0026lt;/span\u0026gt; {\n        randStr += (nbr = \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;rand\u0026lt;/span\u0026gt;()).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;);\n    } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; (randStr.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (\n        randStr.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;) + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-\u0026quot;\u0026lt;/span\u0026gt; +\n        randStr.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;) + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-4\u0026quot;\u0026lt;/span\u0026gt; +\n        randStr.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;) + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-\u0026quot;\u0026lt;/span\u0026gt; +\n        ((nbr*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;|\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;) + \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// [89ab]\u0026lt;/span\u0026gt;\n        randStr.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;15\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;) + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-\u0026quot;\u0026lt;/span\u0026gt; +\n        randStr.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;18\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;)\n    );\n}\n\n\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;UUID\u0026lt;/span\u0026gt;() );\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif13\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The above function should have a decent balance between speed and randomness.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I wanted to understand \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid/2117523#2117523\u0026quot;\u0026gt;broofa\u0026apos;s answer\u0026lt;/a\u0026gt;, so I expanded it and added comments:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; uuid = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\n        \u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/[xy]/g\u0026lt;/span\u0026gt;,\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;match\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/*\n            * Create a random nibble. The two clever bits of this code:\n            *\n            * - Bitwise operations will truncate floating point numbers\n            * - For a bitwise OR of any x, x | 0 = x\n            *\n            * So:\n            *\n            * Math.random * 16\n            *\n            * creates a random floating point number\n            * between 0 (inclusive) and 16 (exclusive) and\n            *\n            * | 0\n            *\n            * truncates the floating point number into an integer.\n            */\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; randomNibble = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;() * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/*\n            * Resolves the variant field. If the variant field (delineated\n            * as y in the initial string) is matched, the nibble must\n            * match the mask (where x is a do-not-care bit):\n            *\n            * 10xx\n            *\n            * This is achieved by performing the following operations in\n            * sequence (where x is an intermediate result):\n            *\n            * - x \u0026amp;amp; 0x3, which is equivalent to x % 3\n            * - x | 0x8, which is equivalent to x + 8\n            *\n            * This results in a nibble between 8 inclusive and 11 exclusive,\n            * (or 1000 and 1011 in binary), all of which satisfy the variant\n            * field mask above.\n            */\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; nibble = (match == \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;y\u0026apos;\u0026lt;/span\u0026gt;) ?\n                (randomNibble \u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x3\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x8\u0026lt;/span\u0026gt;) :\n                randomNibble;\n\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/*\n            * Ensure the nibble integer is encoded as base 16 (hexadecimal).\n            */\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; nibble.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);\n        }\n    );\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I adjusted my own UUID/GUID generator with some extras \u0026lt;a href=\u0026quot;http://frugalcoder.us/post/2012/01/13/javascript-guid-uuid-generator.aspx\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;here\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I\u0026apos;m using \u0026lt;a href=\u0026quot;http://baagoe.com/en/RandomMusings/javascript/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;the following Kybos\u0026lt;/a\u0026gt; random number generator to be a bit more cryptographically sound.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Below is my script with the Mash and Kybos methods from baagoe.com excluded.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//UUID/Guid Generator\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// use: UUID.create() or UUID.createSequential()\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// convenience:  UUID.empty, UUID.tryParse(string)\u0026lt;/span\u0026gt;\n(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;w\u0026lt;/span\u0026gt;){\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// From http://baagoe.com/en/RandomMusings/javascript/\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Johannes BaagÃ¸e \u0026amp;lt;baagoe@baagoe.com\u0026amp;gt;, 2010\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//function Mash() {...};\u0026lt;/span\u0026gt;\n\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// From http://baagoe.com/en/RandomMusings/javascript/\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//function Kybos() {...};\u0026lt;/span\u0026gt;\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; rnd = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Kybos\u0026lt;/span\u0026gt;();\n\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//UUID/GUID Implementation from http://frugalcoder.us/post/2012/01/13/javascript-guid-uuid-generator.aspx\u0026lt;/span\u0026gt;\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;UUID\u0026lt;/span\u0026gt; = {\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;empty\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;00000000-0000-0000-0000-000000000000\u0026quot;\u0026lt;/span\u0026gt;\n    ,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;parse\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt;) {\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; ret = input.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;trim\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toLowerCase\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/^[\\s\\r\\n]+|[\\{\\}]|[\\s\\r\\n]+$/g\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;);\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; ((\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/[a-f0-9]{8}\\-[a-f0-9]{4}\\-[a-f0-9]{4}\\-[a-f0-9]{4}\\-[a-f0-9]{12}/\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;test\u0026lt;/span\u0026gt;(ret))\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; ret;\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;throw\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Error\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Unable to parse UUID\u0026quot;\u0026lt;/span\u0026gt;);\n    }\n    ,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;createSequential\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; ret = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Date\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;valueOf\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;replace\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;)\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (;ret.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;; ret = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;0\u0026quot;\u0026lt;/span\u0026gt; + ret);\n      ret = ret.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(ret.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//only least significant part\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (;ret.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;32\u0026lt;/span\u0026gt;;ret += \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;floor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;rnd\u0026lt;/span\u0026gt;() * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xffffffff\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;));\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; [ret.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;), ret.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;4\u0026quot;\u0026lt;/span\u0026gt; + ret.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;89AB\u0026quot;\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;floor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;()*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;)] + ret.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;),  ret.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;)].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-\u0026quot;\u0026lt;/span\u0026gt;);\n    }\n    ,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;create\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; ret = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;;\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (;ret.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;length\u0026lt;/span\u0026gt; \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;32\u0026lt;/span\u0026gt;;ret += \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;floor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;rnd\u0026lt;/span\u0026gt;() * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xffffffff\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;));\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; [ret.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;), ret.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;4\u0026quot;\u0026lt;/span\u0026gt; + ret.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;89AB\u0026quot;\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;floor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;()*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;)] + ret.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;),  ret.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substr\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;)].\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-\u0026quot;\u0026lt;/span\u0026gt;);\n    }\n    ,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;random\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;rnd\u0026lt;/span\u0026gt;();\n    }\n    ,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;tryParse\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;input\u0026lt;/span\u0026gt;) {\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;UUID\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;parse\u0026lt;/span\u0026gt;(input);\n      } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt;(ex) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;UUID\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;empty\u0026lt;/span\u0026gt;;\n      }\n    }\n  };\n  \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;UUID\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;new\u0026quot;\u0026lt;/span\u0026gt;] = \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;UUID\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;create\u0026lt;/span\u0026gt;;\n\n  w.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;UUID\u0026lt;/span\u0026gt; = w.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;Guid\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;UUID\u0026lt;/span\u0026gt;;\n}(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;window\u0026lt;/span\u0026gt; || \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;));\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Added in: v15.6.0, v14.17.0 there is a built-in \u0026lt;a href=\u0026quot;https://nodejs.org/api/crypto.html#crypto_crypto_randomuuid_options\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;crypto.randomUUID()\u0026lt;/a\u0026gt; function.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; * \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; crypto \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;crypto\u0026quot;\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; uuid = crypto.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;randomUUID\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;In the browser, \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/API/Crypto/randomUUID\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;crypto.randomUUID()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; is currently supported in Chromium 92+ and Firefox 95+.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;ES6 sample\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;guid\u0026lt;/span\u0026gt;=(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;)=\u0026amp;gt; {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;s4\u0026lt;/span\u0026gt;=(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;)=\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;floor\u0026lt;/span\u0026gt;((\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; + \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;()) * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x10000\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;substring\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;);     \n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;`\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${s4() + s4()}\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${s4()}\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${s4()}\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${s4()}\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${s4() + s4() + s4()}\u0026lt;/span\u0026gt;`\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The native \u0026lt;code\u0026gt;URL.createObjectURL\u0026lt;/code\u0026gt; is generating an UUID. You can take advantage of this.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;uuid\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; url = \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;URL\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;createObjectURL\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Blob\u0026lt;/span\u0026gt;())\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; [id] = url.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;split\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/\u0026apos;\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;reverse\u0026lt;/span\u0026gt;()\n  \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;URL\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;revokeObjectURL\u0026lt;/span\u0026gt;(url)\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; id\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The better way:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\n  a, b               \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Placeholders\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;){\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt;(               \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Loop :)\u0026lt;/span\u0026gt;\n      b = a = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;;    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// b - result , a - numeric variable\u0026lt;/span\u0026gt;\n      a++ \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;36\u0026lt;/span\u0026gt;;      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//\u0026lt;/span\u0026gt;\n      b += a*\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;51\u0026lt;/span\u0026gt;\u0026amp;amp;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;52\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// If \u0026quot;a\u0026quot; is not 9 or 14 or 19 or 24\u0026lt;/span\u0026gt;\n                  ?  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//  return a random number or 4\u0026lt;/span\u0026gt;\n           (\n               a^\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;15\u0026lt;/span\u0026gt;              \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// If \u0026quot;a\u0026quot; is not 15,\u0026lt;/span\u0026gt;\n                  ?              \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// generate a random number from 0 to 15\u0026lt;/span\u0026gt;\n               \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;^\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;() *\n               (a^\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt; ? \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;)   \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// unless \u0026quot;a\u0026quot; is 20, in which case a random number from 8 to 11,\u0026lt;/span\u0026gt;\n                  :\n               \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;                 \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//  otherwise 4\u0026lt;/span\u0026gt;\n           ).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;)\n                  :\n         \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;                     \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//  In other cases, (if \u0026quot;a\u0026quot; is 9,14,19,24) insert \u0026quot;-\u0026quot;\u0026lt;/span\u0026gt;\n      );\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; b\n }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Minimized:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;a,b\u0026lt;/span\u0026gt;){\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt;(b=a=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;;a++\u0026lt;span class=\u0026quot;language-xml\u0026quot;\u0026gt;\u0026amp;lt;36;b+=a*51\u0026amp;amp;52?(a^15?8^Math.random()*(a^20?16:4):4).toString(16):\u0026apos;-\u0026apos;);return b}\n\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you just need a random 128 bit string in no particular format, you can use:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;uuid\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; crypto.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getRandomValues\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Uint32Array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;)).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;join\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Which will return something like \u0026lt;code\u0026gt;2350143528-4164020887-938913176-2513998651\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I couldn\u0026apos;t find any answer that uses a single 16-octet \u0026lt;code\u0026gt;TypedArray\u0026lt;/code\u0026gt; and a \u0026lt;code\u0026gt;DataView\u0026lt;/code\u0026gt;, so I think the following solution for generating a version 4 UUID per \u0026lt;a href=\u0026quot;https://www.ietf.org/rfc/rfc4122.txt\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;the RFC\u0026lt;/a\u0026gt; will stand on its own here:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;uuid4\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) =\u0026amp;gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ho\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;n, p\u0026lt;/span\u0026gt;) =\u0026amp;gt; n.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;padStart\u0026lt;/span\u0026gt;(p, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/// Return the hexadecimal text representation of number `n`, padded with zeroes to be of length `p`\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; data = crypto.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getRandomValues\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Uint8Array\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;)); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/// Fill the buffer with random data\u0026lt;/span\u0026gt;\n    data[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;] = (data[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;] \u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0xf\u0026lt;/span\u0026gt;) | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x40\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/// Patch the 6th byte to reflect a version 4 UUID\u0026lt;/span\u0026gt;\n    data[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;] = (data[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;] \u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x3f\u0026lt;/span\u0026gt;) | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x80\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/// Patch the 8th byte to reflect a variant 1 UUID (version 4 UUIDs are)\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; view = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;DataView\u0026lt;/span\u0026gt;(data.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;buffer\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/// Create a view backed by a 16-byte buffer\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;`\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${ho(view.getUint32(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;)}\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${ho(view.getUint16(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;)}\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${ho(view.getUint16(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;)}\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${ho(view.getUint16(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;)}\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${ho(view.getUint32(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;)}\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-subst\u0026quot;\u0026gt;${ho(view.getUint16(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14\u0026lt;/span\u0026gt;), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;)}\u0026lt;/span\u0026gt;`\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/// Compile the canonical textual form from the array data\u0026lt;/span\u0026gt;\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;I prefer it because it only relies on functions available to the standard ECMAScript platform, where possible -- which is all but one procedure.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;At the time of writing this, \u0026lt;code\u0026gt;getRandomValues\u0026lt;/code\u0026gt; is not something implemented for the \u0026lt;code\u0026gt;crypto\u0026lt;/code\u0026gt; object in Node.js. However, it has the equivalent \u0026lt;code\u0026gt;randomBytes\u0026lt;/code\u0026gt; function which may be used instead.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Just another more readable variant with just two mutations.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;uuid4\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;)\n{\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hex\u0026lt;/span\u0026gt; (s, b)\n  {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; s +\n      (b \u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;   ).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;) +  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// high nibble\u0026lt;/span\u0026gt;\n      (b \u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0b1111\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);   \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// low nibble\u0026lt;/span\u0026gt;\n  }\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; r = crypto.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;getRandomValues\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Uint8Array\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;));\n\n  r[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;] = r[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;] \u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0b01000000\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Set type 4: 0100\u0026lt;/span\u0026gt;\n  r[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;] = r[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;] \u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0b10000000\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Set variant: 100\u0026lt;/span\u0026gt;\n\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; r.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;slice\u0026lt;/span\u0026gt; ( \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt; (hex, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt; ) +\n         r.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;slice\u0026lt;/span\u0026gt; ( \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;,  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt; (hex, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;) +\n         r.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;slice\u0026lt;/span\u0026gt; ( \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;,  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt; (hex, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;) +\n         r.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;slice\u0026lt;/span\u0026gt; ( \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt; (hex, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;) +\n         r.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;slice\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;).\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;reduce\u0026lt;/span\u0026gt; (hex, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If your environment is SharePoint, there is a utility function called \u0026lt;code\u0026gt;SP.Guid.newGuid\u0026lt;/code\u0026gt; (\u0026lt;a href=\u0026quot;http://msdn.microsoft.com/en-us/library/ee659495(v=office.14).aspx\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;MSDN link\u0026lt;/a\u0026gt; which creates a new GUID. This function is inside the sp.init.js file. If you rewrite this function (to remove some other dependencies from other private functions), and it looks like this:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; newGuid = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; result = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; hexcodes = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;0123456789abcdef\u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;split\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;);\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; index = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; index \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;32\u0026lt;/span\u0026gt;; index++) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;var\u0026lt;/span\u0026gt; value = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;floor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Math\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;random\u0026lt;/span\u0026gt;() * \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;);\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;switch\u0026lt;/span\u0026gt; (index) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;:\n            result += \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;:\n            value = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;;\n            result += \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;16\u0026lt;/span\u0026gt;:\n            value = value \u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;;\n            result += \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;case\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;:\n            result += \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;-\u0026apos;\u0026lt;/span\u0026gt;;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;break\u0026lt;/span\u0026gt;;\n        }\n        result += hexcodes[value];\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; result;\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"id":362,"title":"How to create a GUID / UUID","content":"\n                \n\u0026lt;p\u0026gt;I\u0026apos;m trying to create globally-unique identifiers in JavaScript.  I\u0026apos;m not sure what routines are available on all browsers, how \u0026quot;random\u0026quot; and seeded the built-in random number generator is, etc.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The GUID / UUID should be at least 32 characters and should stay in the ASCII range to avoid trouble when passing them around.\u0026lt;/p\u0026gt;\n    ","slug":"how-to-create-a-guid-uuid-1657387749530","postType":"QUESTION","createdAt":"2022-07-09T17:29:09.000Z","updatedAt":"2022-07-09T17:29:09.000Z","tags":[{"id":2013,"name":"guid","slug":"guid","createdAt":"2022-07-09T17:29:09.000Z","updatedAt":"2022-07-09T17:29:09.000Z","Questions_Tags":{"questionId":362,"tagId":2013}},{"id":2014,"name":"uuid","slug":"uuid","createdAt":"2022-07-09T17:29:09.000Z","updatedAt":"2022-07-09T17:29:09.000Z","Questions_Tags":{"questionId":362,"tagId":2014}}],"relatedQuestions":[{"title":"How to create a GUID / UUID","slug":"how-to-create-a-guid-uuid-1657387749530","tags":[{"name":"guid","Questions_Tags":{"questionId":362,"tagId":2013}},{"name":"uuid","Questions_Tags":{"questionId":362,"tagId":2014}}]}]},"randomQuestions":[{"title":"Why are global variables evil? [closed]","slug":"why-are-global-variables-evil-closed-1657388260006"},{"title":"The Use of Multiple JFrames: Good or Bad Practice? [closed]","slug":"the-use-of-multiple-jframes:-good-or-bad-practice-closed-1657384478184"},{"title":"How do I access previous promise results in a .then() chain?","slug":"how-do-i-access-previous-promise-results-in-a-.then()-chain-1657387705386"},{"title":"How can I read and parse CSV files in C++?","slug":"how-can-i-read-and-parse-csv-files-in-c++-1657387869219"},{"title":"How do I clone a list so that it doesn't change unexpectedly after assignment?","slug":"how-do-i-clone-a-list-so-that-it-doesn't-change-unexpectedly-after-assignment-1657384423195"},{"title":"Tkinter: AttributeError: NoneType object has no attribute \u003cattribute name\u003e","slug":"tkinter:-attributeerror:-nonetype-object-has-no-attribute-lessattribute-namegreater-1657385472410"},{"title":"Performance optimization strategies of last resort [closed]","slug":"performance-optimization-strategies-of-last-resort-closed-1657388420614"},{"title":"How can I validate an email address using a regular expression?","slug":"how-can-i-validate-an-email-address-using-a-regular-expression-1657384549233"},{"title":"Order Bars in ggplot2 bar graph","slug":"order-bars-in-ggplot2-bar-graph-1657388099080"},{"title":"How do I print my Java object without getting \"SomeType@2f92e0f4\"?","slug":"how-do-i-print-my-java-object-without-getting-\"sometype@2f92e0f4\"-1657384731950"},{"title":"What are drawbacks or disadvantages of singleton pattern? [closed]","slug":"what-are-drawbacks-or-disadvantages-of-singleton-pattern-closed-1657387360749"},{"title":"How to choose the right bean scope?","slug":"how-to-choose-the-right-bean-scope-1657387596513"},{"title":"How do you convert a byte array to a hexadecimal string, and vice versa?","slug":"how-do-you-convert-a-byte-array-to-a-hexadecimal-string-and-vice-versa-1657388010428"},{"title":"Where should I put \u003cscript\u003e tags in HTML markup?","slug":"where-should-i-put-lessscriptgreater-tags-in-html-markup-1657388350798"},{"title":"How do you use bcrypt for hashing passwords in PHP? [duplicate]","slug":"how-do-you-use-bcrypt-for-hashing-passwords-in-php-duplicate-1657387318517"},{"title":"Is storing a delimited list in a database column really that bad?","slug":"is-storing-a-delimited-list-in-a-database-column-really-that-bad-1657384474773"},{"title":"Why is my Spring @Autowired field null?","slug":"why-is-my-spring-@autowired-field-null-1657384705291"},{"title":"How do I make a list of data frames?","slug":"how-do-i-make-a-list-of-data-frames-1657385480437"},{"title":"How do I pass data between Activities in Android application?","slug":"how-do-i-pass-data-between-activities-in-android-application-1657384739839"},{"title":"How can I parse a JSON file with PHP? [duplicate]","slug":"how-can-i-parse-a-json-file-with-php-duplicate-1657388002325"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-to-create-a-guid-uuid-1657387749530"},"buildId":"TQ2eYlCSdocSK-hq6gkM0","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>