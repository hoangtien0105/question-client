{"pageProps":{"data":{"count":610,"rows":[{"id":575,"title":"Dynamic tabs with user-click chosen components","slug":"dynamic-tabs-with-user-click-chosen-components-1657388465232","postType":"QUESTION","createdAt":"2022-07-09T17:41:05.000Z","updatedAt":"2022-07-09T17:41:05.000Z","tags":[{"id":2764,"name":"angular-template","slug":"angular-template","createdAt":"2022-07-09T17:41:05.000Z","updatedAt":"2022-07-09T17:41:05.000Z","Questions_Tags":{"questionId":575,"tagId":2764}}]},{"id":574,"title":"How to get the difference between two arrays in JavaScript?","slug":"how-to-get-the-difference-between-two-arrays-in-javascript-1657388463384","postType":"QUESTION","createdAt":"2022-07-09T17:41:03.000Z","updatedAt":"2022-07-09T17:41:03.000Z","tags":[{"id":2762,"name":"array-difference","slug":"array-difference","createdAt":"2022-07-09T17:41:03.000Z","updatedAt":"2022-07-09T17:41:03.000Z","Questions_Tags":{"questionId":574,"tagId":2762}}]},{"id":573,"title":"Detecting a mobile browser","slug":"detecting-a-mobile-browser-1657388460071","postType":"QUESTION","createdAt":"2022-07-09T17:41:00.000Z","updatedAt":"2022-07-09T17:41:00.000Z","tags":[{"id":2758,"name":"mobile-browser","slug":"mobile-browser","createdAt":"2022-07-09T17:41:00.000Z","updatedAt":"2022-07-09T17:41:00.000Z","Questions_Tags":{"questionId":573,"tagId":2758}},{"id":2759,"name":"platform-detection","slug":"platform-detection","createdAt":"2022-07-09T17:41:00.000Z","updatedAt":"2022-07-09T17:41:00.000Z","Questions_Tags":{"questionId":573,"tagId":2759}}]},{"id":572,"title":"The definitive guide to form-based website authentication [closed]","slug":"the-definitive-guide-to-form-based-website-authentication-closed-1657388456475","postType":"QUESTION","createdAt":"2022-07-09T17:40:56.000Z","updatedAt":"2022-07-09T17:40:56.000Z","tags":[{"id":2754,"name":"authentication","slug":"authentication","createdAt":"2022-07-09T17:40:56.000Z","updatedAt":"2022-07-09T17:40:56.000Z","Questions_Tags":{"questionId":572,"tagId":2754}}]},{"id":571,"title":"The ViewData item that has the key 'XXX' is of type 'System.Int32' but must be of type 'IEnumerable<SelectListItem>'","slug":"the-viewdata-item-that-has-the-key-'xxx'-is-of-type-'system.int32'-but-must-be-of-type-'ienumerablelessselectlistitemgreater'-1657388454191","postType":"QUESTION","createdAt":"2022-07-09T17:40:54.000Z","updatedAt":"2022-07-09T17:40:54.000Z","tags":[]}]},"answers":{"571":["\n&lt;p&gt;The error means that the value of &lt;code&gt;CategoryList&lt;/code&gt;  is null (and as a result the &lt;code&gt;DropDownListFor()&lt;/code&gt; method expects that the first parameter is of type &lt;code&gt;IEnumerable&amp;lt;SelectListItem&amp;gt;&lt;/code&gt;).&lt;/p&gt;\n\n&lt;p&gt;You are not generating an input for each property of each &lt;code&gt;SelectListItem&lt;/code&gt; in &lt;code&gt;CategoryList&lt;/code&gt; (and nor should you) so no values for the &lt;code&gt;SelectList&lt;/code&gt; are posted to the controller method, and therefore the value of &lt;code&gt;model.CategoryList&lt;/code&gt; in the POST method is &lt;code&gt;null&lt;/code&gt;. If you return the view, you must first reassign the value of &lt;code&gt;CategoryList&lt;/code&gt;, just as you did in the GET method.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; ActionResult &lt;span class=&quot;hljs-title&quot;&gt;Create&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;ProjectVM model&lt;/span&gt;)&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!ModelState.IsValid)\n    {\n        model.CategoryList = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; SelectList(db.Categories, &lt;span class=&quot;hljs-string&quot;&gt;&quot;ID&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;Name&quot;&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// add this&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; View(model);\n    }\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Save and redirect&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To explain the inner workings (the source code can be &lt;a href=&quot;https://aspnetwebstack.codeplex.com/SourceControl/latest#src/System.Web.Mvc/Html/SelectExtensions.cs&quot;&gt;seen here&lt;/a&gt;)&lt;/p&gt;\n\n&lt;p&gt;Each overload of &lt;code&gt;DropDownList()&lt;/code&gt; and &lt;code&gt;DropDownListFor()&lt;/code&gt; eventually calls the following method&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; MvcHtmlString &lt;span class=&quot;hljs-title&quot;&gt;SelectInternal&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; HtmlHelper htmlHelper, ModelMetadata metadata,\n  &lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt; optionLabel, &lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt; name, IEnumerable&amp;lt;SelectListItem&amp;gt; selectList, &lt;span class=&quot;hljs-built_in&quot;&gt;bool&lt;/span&gt; allowMultiple,\n  IDictionary&amp;lt;&lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt;, &lt;span class=&quot;hljs-built_in&quot;&gt;object&lt;/span&gt;&amp;gt; htmlAttributes&lt;/span&gt;)\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;which checks if the &lt;code&gt;selectList&lt;/code&gt; (the second parameter of &lt;code&gt;@Html.DropDownListFor()&lt;/code&gt;) is &lt;code&gt;null&lt;/code&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// If we got a null selectList, try to use ViewData to get the list of items.&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (selectList == &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;)\n{\n    selectList = htmlHelper.GetSelectData(name);\n    usedViewData = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;which in turn calls &lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; IEnumerable&amp;lt;SelectListItem&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;GetSelectData&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; HtmlHelper htmlHelper, &lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt; name&lt;/span&gt;)\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;which evaluates the the first parameter of &lt;code&gt;@Html.DropDownListFor()&lt;/code&gt; (in this case &lt;code&gt;CategoryID&lt;/code&gt;)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;....\no = htmlHelper.ViewData.Eval(name);\n....\nIEnumerable&amp;lt;SelectListItem&amp;gt; selectList = o &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; IEnumerable&amp;lt;SelectListItem&amp;gt;;\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (selectList == &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;)\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; InvalidOperationException(String.Format(CultureInfo.CurrentCulture, \n        MvcResources.HtmlHelper_WrongSelectDataType,\n        name, o.GetType().FullName, &lt;span class=&quot;hljs-string&quot;&gt;&quot;IEnumerable&amp;lt;SelectListItem&amp;gt;&quot;&lt;/span&gt;));\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Because property &lt;code&gt;CategoryID&lt;/code&gt; is typeof &lt;code&gt;int&lt;/code&gt;, it cannot be cast to &lt;code&gt;IEnumerable&amp;lt;SelectListItem&amp;gt;&lt;/code&gt; and the exception is thrown (which is defined in the &lt;code&gt;MvcResources.resx&lt;/code&gt; file as)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-xml s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;HtmlHelper_WrongSelectDataType&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;xml:space&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;preserve&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;value&lt;/span&gt;&amp;gt;&lt;/span&gt;The ViewData item that has the key &apos;{0}&apos; is of type &apos;{1}&apos; but must be of type &apos;{2}&apos;.&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;value&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;data&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;according to stephens (user3559349) &lt;a href=&quot;https://stackoverflow.com/questions/34366305/the-viewdata-item-that-has-the-key-xxx-is-of-type-system-int32-but-must-be-o/#answer-34366306&quot;&gt;answer&lt;/a&gt;, this can be useful:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;@Html.DropDownListFor(m =&amp;gt; m.CategoryID, Model.CategoryList ?? &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;SelectListItem&amp;gt;(), &lt;span class=&quot;hljs-string&quot;&gt;&quot;-Please select-&quot;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;or in ProjectVM:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;ProjectVM&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;ProjectVM&lt;/span&gt;()&lt;/span&gt;\n    {\n        CategoryList = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;SelectListItem&amp;gt;();\n    }\n    ...\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Most Likely Caused some sort of error redirecting to your page and you not initializing your model&apos;s drop down lists again. &lt;/p&gt;\n\n&lt;p&gt;Make sure that you initialize your drop downs in either the model&apos;s constructor or every time before you send said model to the page. &lt;/p&gt;\n\n&lt;p&gt;Otherwise you will need to maintain the state of the drop down lists either through the view bag or through the hidden value helpers. &lt;/p&gt;\n    ","\n&lt;p&gt;OK, the poster&apos;s canned answer neatly explained &lt;em&gt;why&lt;/em&gt; the error occurred, but not how to get it to work. I&apos;m not sure that&apos;s really an answer, but it did point me in the right direction. &lt;/p&gt;\n\n&lt;p&gt;I ran into the same issue and found a slick way to resolve it. I&apos;ll try to capture that here. Disclaimer - I work on web pages once a year or so and really don&apos;t know what I&apos;m doing most of the time. This answer should in no way be considered an &quot;expert&quot; answer, but it does the job with little work...&lt;/p&gt;\n\n&lt;p&gt;Given that I have some data object (most likely a Data Transfer Object) that I want to use a drop-down list to supply valid values for a field, like so:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;MyDataObject&lt;/span&gt;\n{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; id;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt; StrValue;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Then the ViewModel looks like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;MyDataObjectVM&lt;/span&gt;\n{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; id;\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt; StrValue;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; List&amp;lt;SectListItem&amp;gt; strValues;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The real problem here, as @Stephen so eloquently described above, is the select list isn&apos;t populated on the POST method in the controller. So your controller methods would look like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// GET&lt;/span&gt;\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; ActionResult &lt;span class=&quot;hljs-title&quot;&gt;Create&lt;/span&gt;()&lt;/span&gt;\n{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; dataObjectVM = GetNewMyDataObjectVM();\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; View(dataObjectVM); &lt;span class=&quot;hljs-comment&quot;&gt;// I use T4MVC, don&apos;t you?&lt;/span&gt;\n}\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; MyDataObjectVM &lt;span class=&quot;hljs-title&quot;&gt;GetNewMyDataObjectVM&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;MyDataObjectVM model = &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;&lt;/span&gt;)&lt;/span&gt;\n{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; MyDataObjectVM\n  {\n    &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; id = model?.Id ?? &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,\n    &lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt; StrValue = model?.StrValue ?? &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;, \n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; strValues = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;SelectListItem&amp;gt; \n      { \n        &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; SelectListItem {Text = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Select&quot;&lt;/span&gt;, Value = &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;},\n        &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; SelectListITem {Text = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Item1&quot;&lt;/span&gt;, Value = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Item1&quot;&lt;/span&gt;},\n        &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; SelectListItem {Text = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Item2&quot;&lt;/span&gt;, Value = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Item2&quot;&lt;/span&gt;}\n      };\n  };\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// POST&lt;/span&gt;\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; ActionResult &lt;span class=&quot;hljs-title&quot;&gt;Create&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;FormCollection formValues&lt;/span&gt;)&lt;/span&gt;\n{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; dataObject = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; MyDataObject();\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;try&lt;/span&gt;\n  {\n    UpdateModel(dataObject, formValues);\n    AddObjectToObjectStore(dataObject);\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; RedirectToAction(Actions.Index);\n  }\n  &lt;span class=&quot;hljs-keyword&quot;&gt;catch&lt;/span&gt; (Exception ex)\n  {\n    &lt;span class=&quot;hljs-comment&quot;&gt;// fill in the drop-down list for the view model&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; dataObjectVM = GetNewMyDataObjectVM();\n    ModelState.AddModelError(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;, ex.Message);\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; View(dataObjectVM);\n  )\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;There you have it. This is NOT working code, I copy/pasted and edited to make it simple, but you get the idea. If the data members in both the original data model and the derived view model have the same name, UpdateModel() does an awesome job of filling in just the right data for you from the FormCollection values.&lt;/p&gt;\n\n&lt;p&gt;I&apos;m posting this here so I can find the answer when I inevitably run into this issue again -- hopefully it will help someone else out as well.&lt;/p&gt;\n    ","\n&lt;p&gt;I had the same problem, I was getting an invalid ModelState when I tried to post the form. For me, this was caused by setting CategoryId to int, when I changed it to string the ModelState was valid and the Create method worked as expected.&lt;/p&gt;\n    ","\n&lt;p&gt;In my case the first ID in my list was zero, once I changed the ID to start from 1, it worked.&lt;/p&gt;\n    "],"572":["\n&lt;h2&gt;PART I: How To Log In&lt;/h2&gt;\n&lt;p&gt;We&apos;ll assume you already know how to build a login+password HTML form which POSTs the values to a script on the server side for authentication. The sections below will deal with patterns for sound practical auth, and how to avoid the most common security pitfalls.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;To HTTPS or not to HTTPS?&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;Unless the connection is already secure (that is, tunneled through HTTPS using SSL/TLS), your login form values will be sent in cleartext, which allows anyone eavesdropping on the line between browser and web server will be able to read logins as they pass through. This type of wiretapping is done routinely by governments, but in general, we won&apos;t address &apos;owned&apos; wires other than to say this: Just use HTTPS.&lt;/p&gt;\n&lt;p&gt;In essence, the only &lt;strong&gt;practical&lt;/strong&gt; way to protect against wiretapping/packet sniffing during login is by using HTTPS or another certificate-based encryption scheme (for example, &lt;a href=&quot;https://en.wikipedia.org/wiki/Transport_Layer_Security&quot; rel=&quot;noreferrer&quot;&gt;TLS&lt;/a&gt;) or a proven &amp;amp; tested challenge-response scheme (for example, the &lt;a href=&quot;https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange&quot; rel=&quot;noreferrer&quot;&gt;Diffie-Hellman&lt;/a&gt;-based SRP). &lt;em&gt;Any other method can be easily circumvented&lt;/em&gt; by an eavesdropping attacker.&lt;/p&gt;\n&lt;p&gt;Of course, if you are willing to get a little bit impractical, you could also employ some form of two-factor authentication scheme (e.g. the Google Authenticator app, a physical &apos;cold war style&apos; codebook, or an RSA key generator dongle). If applied correctly, this could work even with an unsecured connection, but it&apos;s hard to imagine that a dev would be willing to implement two-factor auth but not SSL.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;(Do not) Roll-your-own JavaScript encryption/hashing&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;Given the perceived (though now &lt;a href=&quot;https://letsencrypt.org/&quot; rel=&quot;noreferrer&quot;&gt;avoidable&lt;/a&gt;) cost and technical difficulty of setting up an SSL certificate on your website, some developers are tempted to roll their own in-browser hashing or encryption schemes in order to avoid passing cleartext logins over an unsecured wire.&lt;/p&gt;\n&lt;p&gt;While this is a noble thought, it is essentially useless (and can be a &lt;a href=&quot;https://stackoverflow.com/questions/1380168/does-it-make-security-sense-to-hash-password-on-client-end&quot;&gt;security flaw&lt;/a&gt;) unless it is combined with one of the above - that is, either securing the line with strong encryption or using a tried-and-tested challenge-response mechanism (if you don&apos;t know what that is, just know that it is one of the most difficult to prove, most difficult to design, and most difficult to implement concepts in digital security).&lt;/p&gt;\n&lt;p&gt;While it is true that hashing the password &lt;em&gt;can be&lt;/em&gt; effective against &lt;strong&gt;password disclosure&lt;/strong&gt;, it is vulnerable to replay attacks, Man-In-The-Middle attacks / hijackings (if an attacker can inject a few bytes into your unsecured HTML page before it reaches your browser, they can simply comment out the hashing in the JavaScript), or brute-force attacks (since you are handing the attacker both username, salt and hashed password).&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;CAPTCHAS against humanity&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/CAPTCHA&quot; rel=&quot;noreferrer&quot;&gt;CAPTCHA&lt;/a&gt; is meant to thwart one specific category of attack: automated dictionary/brute force trial-and-error with no human operator. There is no doubt that this is a real threat, however, there are ways of dealing with it seamlessly that don&apos;t require a CAPTCHA, specifically properly designed server-side login throttling schemes - we&apos;ll discuss those later.&lt;/p&gt;\n&lt;p&gt;Know that CAPTCHA implementations are not created alike; they often aren&apos;t human-solvable, most of them are actually ineffective against bots, all of them are ineffective against cheap third-world labor (according to &lt;a href=&quot;https://en.wikipedia.org/wiki/OWASP&quot; rel=&quot;noreferrer&quot;&gt;OWASP&lt;/a&gt;, the current sweatshop rate is $12 per 500 tests), and some implementations may be technically illegal in some countries (see &lt;a href=&quot;https://www.owasp.org/index.php/Authentication_Cheat_Sheet&quot; rel=&quot;noreferrer&quot;&gt;OWASP Authentication Cheat Sheet&lt;/a&gt;). If you must use a CAPTCHA, use Google&apos;s &lt;a href=&quot;https://en.wikipedia.org/wiki/ReCAPTCHA&quot; rel=&quot;noreferrer&quot;&gt;reCAPTCHA&lt;/a&gt;, since it is OCR-hard by definition (since it uses already OCR-misclassified book scans) and tries very hard to be user-friendly.&lt;/p&gt;\n&lt;p&gt;Personally, I tend to find CAPTCHAS annoying, and use them only as a last resort when a user has failed to log in a number of times and throttling delays are maxed out. This will happen rarely enough to be acceptable, and it strengthens the system as a whole.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Storing Passwords / Verifying logins&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;This may finally be common knowledge after all the highly-publicized hacks and user data leaks we&apos;ve seen in recent years, but it has to be said: Do not store passwords in cleartext in your database. User databases are routinely hacked, leaked or gleaned through SQL injection, and if you are storing raw, plaintext passwords, that is instant game over for your login security.&lt;/p&gt;\n&lt;p&gt;So if you can&apos;t store the password, how do you check that the login+password combination POSTed from the login form is correct? The answer is hashing using a &lt;a href=&quot;https://en.wikipedia.org/wiki/Key_derivation_function&quot; rel=&quot;noreferrer&quot;&gt;key derivation function&lt;/a&gt;. Whenever a new user is created or a password is changed, you take the password and run it through a KDF, such as Argon2, bcrypt, scrypt or PBKDF2, turning the cleartext password (&quot;correcthorsebatterystaple&quot;) into a long, random-looking string, which is a lot safer to store in your database. To verify a login, you run the same hash function on the entered password, this time passing in the salt and compare the resulting hash string to the value stored in your database. Argon2, bcrypt and scrypt store the salt with the hash already. Check out this &lt;a href=&quot;https://security.stackexchange.com/a/31846/8340&quot;&gt;article&lt;/a&gt; on sec.stackexchange for more detailed information.&lt;/p&gt;\n&lt;p&gt;The reason a salt is used is that hashing in itself is not sufficient -- you&apos;ll want to add a so-called &apos;salt&apos; to protect the hash against &lt;a href=&quot;https://en.wikipedia.org/wiki/Rainbow_table&quot; rel=&quot;noreferrer&quot;&gt;rainbow tables&lt;/a&gt;. A salt effectively prevents two passwords that exactly match from being stored as the same hash value, preventing the whole database being scanned in one run if an attacker is executing a password guessing attack.&lt;/p&gt;\n&lt;p&gt;A cryptographic hash should not be used for password storage because user-selected passwords are not strong enough (i.e. do not usually contain enough entropy) and a password guessing attack could be completed in a relatively short time by an attacker with access to the hashes. This is why KDFs are used - these effectively &lt;a href=&quot;https://en.wikipedia.org/wiki/Key_stretching&quot; rel=&quot;noreferrer&quot;&gt;&quot;stretch the key&quot;&lt;/a&gt;, which means that every password guess an attacker makes causes multiple repetitions of the hash algorithm, for example 10,000 times, which causes the attacker to guess the password 10,000 times slower.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Session data - &quot;You are logged in as Spiderman69&quot;&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;Once the server has verified the login and password against your user database and found a match, the system needs a way to remember that the browser has been authenticated. This fact should only ever be stored server side in the session data.&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;If you are unfamiliar with session data, here&apos;s how it works: A single randomly-generated string is stored in an expiring cookie and used to reference a collection of data - the session data - which is stored on the server. If you are using an MVC framework, this is undoubtedly handled already.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;If at all possible, make sure the session cookie has the secure and HTTP Only flags set when sent to the browser. The HttpOnly flag provides some protection against the cookie being read through XSS attack. The secure flag ensures that the cookie is only sent back via HTTPS, and therefore protects against network sniffing attacks. The value of the cookie should not be predictable. Where a cookie referencing a non-existent session is presented, its value should be replaced immediately to prevent &lt;a href=&quot;https://owasp.org/www-community/attacks/Session_fixation&quot; rel=&quot;noreferrer&quot;&gt;session fixation&lt;/a&gt;.&lt;/p&gt;\n&lt;p&gt;Session state can also be maintained on the client side. This is achieved by using techniques like JWT (JSON Web Token).&lt;/p&gt;\n&lt;h2&gt;PART II: How To Remain Logged In - The Infamous &quot;Remember Me&quot; Checkbox&lt;/h2&gt;\n&lt;p&gt;Persistent Login Cookies (&quot;remember me&quot; functionality) are a danger zone; on the one hand, they are entirely as safe as conventional logins when users understand how to handle them; and on the other hand, they are an enormous security risk in the hands of careless users, who may use them on public computers and forget to log out, and who may not know what browser cookies are or how to delete them.&lt;/p&gt;\n&lt;p&gt;Personally, I like persistent logins for the websites I visit on a regular basis, but I know how to handle them safely. If you are positive that your users know the same, you can use persistent logins with a clean conscience. If not - well, then you may subscribe to the philosophy that users who are careless with their login credentials brought it upon themselves if they get hacked. It&apos;s not like we go to our user&apos;s houses and tear off all those facepalm-inducing Post-It notes with passwords they have lined up on the edge of their monitors, either.&lt;/p&gt;\n&lt;p&gt;Of course, some systems can&apos;t afford to have &lt;em&gt;any&lt;/em&gt; accounts hacked; for such systems, there is no way you can justify having persistent logins.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;If you DO decide to implement persistent login cookies, this is how you do it:&lt;/strong&gt;&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;First, take some time to read &lt;a href=&quot;https://paragonie.com/blog/2015/04/secure-authentication-php-with-long-term-persistence&quot; rel=&quot;noreferrer&quot;&gt;Paragon Initiative&apos;s article&lt;/a&gt; on the subject. You&apos;ll need to get a bunch of elements right, and the article does a great job of explaining each.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;And just to reiterate one of the most common pitfalls, &lt;strong&gt;DO NOT STORE THE PERSISTENT LOGIN COOKIE (TOKEN) IN YOUR DATABASE, ONLY A HASH OF IT!&lt;/strong&gt; The login token is Password Equivalent, so if an attacker got their hands on your database, they could use the tokens to log in to any account, just as if they were cleartext login-password combinations. Therefore, use hashing (according to &lt;a href=&quot;https://security.stackexchange.com/a/63438/5002&quot;&gt;https://security.stackexchange.com/a/63438/5002&lt;/a&gt; a weak hash will do just fine for this purpose) when storing persistent login tokens.&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2&gt;PART III: Using Secret Questions&lt;/h2&gt;\n&lt;p&gt;&lt;strong&gt;Don&apos;t implement &apos;secret questions&apos;&lt;/strong&gt;. The &apos;secret questions&apos; feature is a security anti-pattern. Read the paper from link number 4 from the MUST-READ list. You can ask Sarah Palin about that one, after her Yahoo! email account got hacked during a previous presidential campaign because the answer to her security question was... &quot;Wasilla High School&quot;!&lt;/p&gt;\n&lt;p&gt;Even with user-specified questions, it is highly likely that most users will choose either:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;A &apos;standard&apos; secret question like mother&apos;s maiden name or favorite pet&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;A simple piece of trivia that anyone could lift from their blog, LinkedIn profile, or similar&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Any question that is easier to answer than guessing their password. Which, for any decent password, is every question you can imagine&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;&lt;strong&gt;In conclusion, security questions are inherently insecure in virtually all their forms and variations, and should not be employed in an authentication scheme for any reason.&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;The true reason why security questions even exist in the wild is that they conveniently save the cost of a few support calls from users who can&apos;t access their email to get to a reactivation code. This at the expense of security and Sarah Palin&apos;s reputation. Worth it? Probably not.&lt;/p&gt;\n&lt;h2&gt;PART IV: Forgotten Password Functionality&lt;/h2&gt;\n&lt;p&gt;I already mentioned why you should &lt;strong&gt;never use security questions&lt;/strong&gt; for handling forgotten/lost user passwords; it also goes without saying that you should never e-mail users their actual passwords. There are at least two more all-too-common pitfalls to avoid in this field:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;Don&apos;t &lt;em&gt;reset&lt;/em&gt; a forgotten password to an autogenerated strong password - such passwords are notoriously hard to remember, which means the user must either change it or write it down - say, on a bright yellow Post-It on the edge of their monitor. Instead of setting a new password, just let users pick a new one right away - which is what they want to do anyway. (An exception to this might be if the users are universally using a password manager to store/manage passwords that would normally be impossible to remember without writing it down).&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Always hash the lost password code/token in the database. &lt;em&gt;&lt;strong&gt;AGAIN&lt;/strong&gt;&lt;/em&gt;, this code is another example of a Password Equivalent, so it MUST be hashed in case an attacker got their hands on your database. When a lost password code is requested, send the plaintext code to the user&apos;s email address, then hash it, save the hash in your database -- and &lt;em&gt;throw away the original&lt;/em&gt;. Just like a password or a persistent login token.&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;A final note: always make sure your interface for entering the &apos;lost password code&apos; is at least as secure as your login form itself, or an attacker will simply use this to gain access instead. Making sure you generate very long &apos;lost password codes&apos; (for example, 16 case-sensitive alphanumeric characters) is a good start, but consider adding the same throttling scheme that you do for the login form itself.&lt;/p&gt;\n&lt;h2&gt;PART V: Checking Password Strength&lt;/h2&gt;\n&lt;p&gt;First, you&apos;ll want to read this small article for a reality check: &lt;a href=&quot;http://www.whatsmypass.com/?p=415&quot; rel=&quot;noreferrer&quot;&gt;The 500 most common passwords&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Okay, so maybe the list isn&apos;t the &lt;em&gt;canonical&lt;/em&gt; list of most common passwords on &lt;em&gt;any&lt;/em&gt; system &lt;em&gt;anywhere ever&lt;/em&gt;, but it&apos;s a good indication of how poorly people will choose their passwords when there is no enforced policy in place. Plus, the list looks frighteningly close to home when you compare it to publicly available analyses of recently stolen passwords.&lt;/p&gt;\n&lt;p&gt;So: With no minimum password strength requirements, 2% of users use one of the top 20 most common passwords. Meaning: if an attacker gets just 20 attempts, 1 in 50 accounts on your website will be crackable.&lt;/p&gt;\n&lt;p&gt;Thwarting this requires calculating the entropy of a password and then applying a threshold.  The National Institute of Standards and Technology (NIST) &lt;a href=&quot;https://en.wikipedia.org/wiki/Password_strength#NIST_Special_Publication_800-63&quot; rel=&quot;noreferrer&quot;&gt;Special Publication 800-63&lt;/a&gt; has a set of very good suggestions.  That, when combined with a dictionary and keyboard layout analysis (for example, &apos;qwertyuiop&apos; is a bad password), can &lt;a href=&quot;https://cubicspot.blogspot.com/2012/01/how-to-calculate-password-strength-part.html&quot; rel=&quot;noreferrer&quot;&gt;reject 99% of all poorly selected passwords&lt;/a&gt; at a level of 18 bits of entropy.  Simply calculating password strength and &lt;a href=&quot;https://blogs.dropbox.com/tech/2012/04/zxcvbn-realistic-password-strength-estimation/&quot; rel=&quot;noreferrer&quot;&gt;showing a visual strength meter&lt;/a&gt; to a user is good, but insufficient.  Unless it is enforced, a lot of users will most likely ignore it.&lt;/p&gt;\n&lt;p&gt;And for a refreshing take on user-friendliness of high-entropy passwords, Randall Munroe&apos;s &lt;a href=&quot;https://xkcd.com/936/&quot; rel=&quot;noreferrer&quot;&gt;Password Strength xkcd&lt;/a&gt; is highly recommended.&lt;/p&gt;\n&lt;p&gt;Utilize Troy Hunt&apos;s &lt;a href=&quot;https://haveibeenpwned.com/API/&quot; rel=&quot;noreferrer&quot;&gt;Have I Been Pwned API&lt;/a&gt; to check users passwords against passwords compromised in public data breaches.&lt;/p&gt;\n&lt;h2&gt;PART VI: Much More - Or: Preventing Rapid-Fire Login Attempts&lt;/h2&gt;\n&lt;p&gt;First, have a look at the numbers: &lt;a href=&quot;https://www.lockdown.co.uk/?pg=combi&amp;amp;s=articles&quot; rel=&quot;noreferrer&quot;&gt;Password Recovery Speeds - How long will your password stand up&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;If you don&apos;t have the time to look through the tables in that link, here&apos;s the list of them:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;It takes &lt;em&gt;virtually no time&lt;/em&gt; to crack a weak password, even if you&apos;re cracking it with an abacus&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;It takes &lt;em&gt;virtually no time&lt;/em&gt; to crack an alphanumeric 9-character password if it is &lt;strong&gt;case insensitive&lt;/strong&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;It takes &lt;em&gt;virtually no time&lt;/em&gt; to crack an intricate, symbols-and-letters-and-numbers, upper-and-lowercase password if it is &lt;strong&gt;less than 8 characters long&lt;/strong&gt; (a desktop PC can search the entire keyspace up to 7 characters in a matter of days or even hours)&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;It would, however, take an inordinate amount of time to crack even a 6-character password, &lt;em&gt;if you were limited to one attempt per second!&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;So what can we learn from these numbers? Well, lots, but we can focus on the most important part: the fact that preventing large numbers of rapid-fire successive login attempts (ie. the &lt;em&gt;brute force&lt;/em&gt; attack) really isn&apos;t that difficult. But preventing it &lt;em&gt;right&lt;/em&gt; isn&apos;t as easy as it seems.&lt;/p&gt;\n&lt;p&gt;Generally speaking, you have three choices that are all effective against brute-force attacks &lt;em&gt;(and dictionary attacks, but since you are already employing a strong passwords policy, they shouldn&apos;t be an issue)&lt;/em&gt;:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;Present a &lt;strong&gt;CAPTCHA&lt;/strong&gt; after N failed attempts (annoying as hell and often ineffective -- but I&apos;m repeating myself here)&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;Locking accounts&lt;/strong&gt; and requiring email verification after N failed attempts (this is a &lt;a href=&quot;https://en.wikipedia.org/wiki/Denial-of-service_attack&quot; rel=&quot;noreferrer&quot;&gt;DoS&lt;/a&gt; attack waiting to happen)&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;And finally, &lt;strong&gt;login throttling&lt;/strong&gt;: that is, setting a time delay between attempts after N failed attempts (yes, DoS attacks are still possible, but at least they are far less likely and a lot more complicated to pull off).&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;&lt;strong&gt;Best practice #1:&lt;/strong&gt; A short time delay that increases with the number of failed attempts, like:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;1 failed attempt = no delay&lt;/li&gt;\n&lt;li&gt;2 failed attempts = 2 sec delay&lt;/li&gt;\n&lt;li&gt;3 failed attempts = 4 sec delay&lt;/li&gt;\n&lt;li&gt;4 failed attempts = 8 sec delay&lt;/li&gt;\n&lt;li&gt;5 failed attempts = 16 sec delay&lt;/li&gt;\n&lt;li&gt;etc.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;DoS attacking this scheme would be very impractical, since the resulting lockout time is slightly larger than the sum of the previous lockout times.&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;To clarify: The delay is &lt;em&gt;not&lt;/em&gt; a delay before returning the response to the browser. It is more like a timeout or refractory period during which login attempts to a specific account or from a specific IP address will not be accepted or evaluated at all. That is, correct credentials will not return in a successful login, and incorrect credentials will not trigger a delay increase.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;&lt;strong&gt;Best practice #2:&lt;/strong&gt; A medium length time delay that goes into effect after N failed attempts, like:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;1-4 failed attempts = no delay&lt;/li&gt;\n&lt;li&gt;5 failed attempts = 15-30 min delay&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;DoS attacking this scheme would be quite impractical, but certainly doable. Also, it might be relevant to note that such a long delay can be very annoying for a legitimate user. Forgetful users will dislike you.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Best practice #3:&lt;/strong&gt; Combining the two approaches - either a fixed, short time delay that goes into effect after N failed attempts, like:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;1-4 failed attempts = no delay&lt;/li&gt;\n&lt;li&gt;5+ failed attempts = 20 sec delay&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;Or, an increasing delay with a fixed upper bound, like:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;1 failed attempt = 5 sec delay&lt;/li&gt;\n&lt;li&gt;2 failed attempts = 15 sec delay&lt;/li&gt;\n&lt;li&gt;3+ failed attempts = 45 sec delay&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;This final scheme was taken from the OWASP best-practices suggestions (link 1 from the MUST-READ list) and should be considered best practice, even if it is admittedly on the restrictive side.&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;&lt;em&gt;As a rule of thumb, however, I would say: the stronger your password policy is, the less you have to bug users with delays. If you require strong (case-sensitive alphanumerics + required numbers and symbols) 9+ character passwords, you could give the users 2-4 non-delayed password attempts before activating the throttling.&lt;/em&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;DoS attacking this final login throttling scheme would be &lt;em&gt;&lt;strong&gt;very&lt;/strong&gt;&lt;/em&gt; impractical. And as a final touch, always allow persistent (cookie) logins (and/or a CAPTCHA-verified login form) to pass through, so legitimate users won&apos;t even be delayed &lt;em&gt;while the attack is in progress&lt;/em&gt;. That way, the very impractical DoS attack becomes an &lt;em&gt;extremely&lt;/em&gt; impractical attack.&lt;/p&gt;\n&lt;p&gt;Additionally, it makes sense to do more aggressive throttling on admin accounts, since those are the most attractive entry points&lt;/p&gt;\n&lt;h2&gt;PART VII: Distributed Brute Force Attacks&lt;/h2&gt;\n&lt;p&gt;Just as an aside, more advanced attackers will try to circumvent login throttling by &apos;spreading their activities&apos;:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;Distributing the attempts on a botnet to prevent IP address flagging&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Rather than picking one user and trying the 50.000 most common passwords (which they can&apos;t, because of our throttling), they will pick THE most common password and try it against 50.000 users instead. That way, not only do they get around maximum-attempts measures like CAPTCHAs and login throttling, their chance of success increases as well, since the number 1 most common password is far more likely than number 49.995&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Spacing the login requests for each user account, say, 30 seconds apart, to sneak under the radar&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;Here, the best practice would be &lt;strong&gt;logging the number of failed logins, system-wide&lt;/strong&gt;, and using a running average of your site&apos;s bad-login frequency as the basis for an upper limit that you then impose on all users.&lt;/p&gt;\n&lt;p&gt;Too abstract? Let me rephrase:&lt;/p&gt;\n&lt;p&gt;Say your site has had an average of 120 bad logins per day over the past 3 months. Using that (running average), your system might set the global limit to 3 times that -- ie. 360 failed attempts over a 24 hour period. Then, if the total number of failed attempts across all accounts exceeds that number within one day (or even better, monitor the rate of acceleration and trigger on a calculated threshold), it activates system-wide login throttling - meaning short delays for ALL users (still, with the exception of cookie logins and/or backup CAPTCHA logins).&lt;/p&gt;\n&lt;p&gt;I also posted a question with &lt;a href=&quot;https://stackoverflow.com/questions/479233/what-is-the-best-distributed-brute-force-countermeasure&quot;&gt;more details and a really good discussion of how to avoid tricky pitfals&lt;/a&gt; in fending off distributed brute force attacks&lt;/p&gt;\n&lt;h2&gt;PART VIII: Two-Factor Authentication and Authentication Providers&lt;/h2&gt;\n&lt;p&gt;Credentials can be compromised, whether by exploits, passwords being written down and lost, laptops with keys being stolen, or users entering logins into phishing sites.  Logins can be further protected with two-factor authentication, which uses out-of-band factors such as single-use codes received from a phone call, SMS message, app, or dongle. Several providers offer two-factor authentication services.&lt;/p&gt;\n&lt;p&gt;Authentication can be completely delegated to a single-sign-on service, where another provider handles collecting credentials. This pushes the problem to a trusted third party. Google and Twitter both provide standards-based SSO services, while Facebook provides a similar proprietary solution.&lt;/p&gt;\n&lt;h2&gt;MUST-READ LINKS About Web Authentication&lt;/h2&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;a href=&quot;https://www.owasp.org/index.php/Authentication_Cheat_Sheet&quot; rel=&quot;noreferrer&quot;&gt;OWASP Guide To Authentication&lt;/a&gt; / &lt;a href=&quot;https://www.owasp.org/index.php/Authentication_Cheat_Sheet&quot; rel=&quot;noreferrer&quot;&gt;OWASP Authentication Cheat Sheet&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://pdos.csail.mit.edu/papers/webauth:sec10.pdf&quot; rel=&quot;noreferrer&quot;&gt;Dos and Donts of Client Authentication on the Web (very readable MIT research paper)&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/HTTP_cookie#Drawbacks_of_cookies&quot; rel=&quot;noreferrer&quot;&gt;Wikipedia: HTTP cookie&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://cups.cs.cmu.edu/soups/2008/proceedings/p13Rabkin.pdf&quot; rel=&quot;noreferrer&quot;&gt;Personal knowledge questions for fallback authentication: Security questions in the era of Facebook (very readable Berkeley research paper)&lt;/a&gt;&lt;/li&gt;\n&lt;/ol&gt;\n    ","\n&lt;h1&gt;Definitive Article&lt;/h1&gt;\n\n&lt;h3&gt;Sending credentials&lt;/h3&gt;\n\n&lt;p&gt;The only practical way to send credentials 100% securely is by using &lt;a href=&quot;http://en.wikipedia.org/wiki/SSL&quot; rel=&quot;noreferrer&quot;&gt;SSL&lt;/a&gt;. Using JavaScript to hash the password is not safe. Common pitfalls for client-side password hashing:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;If the connection between the client and server is unencrypted, everything you do is &lt;a href=&quot;https://stackoverflow.com/questions/14907581/ssl-and-man-in-the-middle-misunderstanding&quot;&gt;vulnerable to man-in-the-middle attacks&lt;/a&gt;. An attacker could replace the incoming javascript to break the hashing or send all credentials to their server, they could listen to client responses and impersonate the users perfectly, etc. etc. SSL with trusted Certificate Authorities is designed to prevent MitM attacks.&lt;/li&gt;\n&lt;li&gt;The hashed password received by the server is &lt;a href=&quot;https://security.stackexchange.com/questions/45254/owasp-recommendation-on-client-side-password-hashing&quot;&gt;less secure&lt;/a&gt; if you don&apos;t do additional, redundant work on the server.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;There&apos;s another secure method called &lt;strong&gt;SRP&lt;/strong&gt;, but it&apos;s patented (although it is &lt;a href=&quot;http://srp.stanford.edu/license.txt&quot; rel=&quot;noreferrer&quot;&gt;freely licensed&lt;/a&gt;) and there are few good implementations available.&lt;/p&gt;\n\n&lt;h3&gt;Storing passwords&lt;/h3&gt;\n\n&lt;p&gt;Don&apos;t ever store passwords as plaintext in the database. Not even if you don&apos;t care about the security of your own site. Assume that some of your users will reuse the password of their online bank account. So, store the hashed password, and throw away the original. And make sure the password doesn&apos;t show up in access logs or application logs. OWASP &lt;a href=&quot;https://www.owasp.org/index.php/Password_Storage_Cheat_Sheet#Impose_infeasible_verification_on_attacker&quot; rel=&quot;noreferrer&quot;&gt;recommends the use of Argon2&lt;/a&gt; as your first choice for new applications. If this is not available, PBKDF2 or scrypt should be used instead. And finally if none of the above are available, use bcrypt.&lt;/p&gt;\n\n&lt;p&gt;Hashes by themselves are also insecure. For instance, identical passwords mean identical hashes--this makes hash lookup tables an effective way of cracking lots of passwords at once. Instead, store the &lt;strong&gt;salted&lt;/strong&gt; hash. A salt is a string appended to the password prior to hashing - use a different (random) salt per user. The salt is a public value, so you can store them with the hash in the database. See &lt;a href=&quot;http://www.codeproject.com/Articles/704865/Salted-Password-Hashing-Doing-it-Right&quot; rel=&quot;noreferrer&quot;&gt;here&lt;/a&gt; for more on this.&lt;/p&gt;\n\n&lt;p&gt;This means that you can&apos;t send the user their forgotten passwords (because you only have the hash). Don&apos;t reset the user&apos;s password unless you have authenticated the user (users must prove that they are able to read emails sent to the stored (and validated) email address.)&lt;/p&gt;\n\n&lt;h3&gt;Security questions&lt;/h3&gt;\n\n&lt;p&gt;Security questions are insecure - avoid using them. Why? Anything a security question does, a password does better. Read &lt;strong&gt;&lt;em&gt;PART III: Using Secret Questions&lt;/em&gt;&lt;/strong&gt; in &lt;a href=&quot;http://srp.stanford.edu/license.txt&quot; rel=&quot;noreferrer&quot;&gt;@Jens Roland answer&lt;/a&gt; here in this wiki.&lt;/p&gt;\n\n&lt;h3&gt;Session cookies&lt;/h3&gt;\n\n&lt;p&gt;After the user logs in, the server sends the user a session cookie. The server can retrieve the username or id from the cookie, but nobody else can generate such a cookie (TODO explain mechanisms).&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Session_hijacking&quot; rel=&quot;noreferrer&quot;&gt;Cookies can be hijacked&lt;/a&gt;: they are only as secure as the rest of the client&apos;s machine and other communications. They can be read from disk, sniffed in network traffic, lifted by a cross-site scripting attack, phished from a poisoned DNS so the client sends their cookies to the wrong servers. Don&apos;t send persistent cookies. Cookies should expire at the end of the client session (browser close or leaving your domain).&lt;/p&gt;\n\n&lt;p&gt;If you want to autologin your users, you can set a persistent cookie, but it should be distinct from a full-session cookie. You can set an additional flag that the user has auto-logged in, and needs to log in for real for sensitive operations. This is popular with shopping sites that want to provide you with a seamless, personalized shopping experience but still protect your financial details. For example, when you return to visit Amazon, they show you a page that looks like you&apos;re logged in, but when you go to place an order (or change your shipping address, credit card etc.), they ask you to confirm your password.&lt;/p&gt;\n\n&lt;p&gt;Financial websites such as banks and credit cards, on the other hand, only have sensitive data and should not allow auto-login or a low-security mode.&lt;/p&gt;\n\n&lt;h3&gt;List of external resources&lt;/h3&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;http://pdos.csail.mit.edu/papers/webauth:sec10.pdf&quot; rel=&quot;noreferrer&quot;&gt;Dos and Don&apos;ts of Client Authentication on the Web (PDF)&lt;/a&gt;&lt;br&gt;\n21 page academic article with many great tips.  &lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://news.ycombinator.com/item?id=205572&quot; rel=&quot;noreferrer&quot;&gt;Ask YC: Best Practices for User Authentication&lt;/a&gt;&lt;br&gt;\nForum discussion on the subject  &lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://www.codinghorror.com/blog/archives/000953.html&quot; rel=&quot;noreferrer&quot;&gt;You&apos;re Probably Storing Passwords Incorrectly&lt;/a&gt;&lt;br&gt;\nIntroductory article about storing passwords&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://news.ycombinator.com/item?id=55660&quot; rel=&quot;noreferrer&quot;&gt;Discussion: Coding Horror: You&apos;re Probably Storing Passwords Incorrectly&lt;/a&gt;&lt;br&gt;\nForum discussion about a Coding Horror article.&lt;/li&gt;\n&lt;li&gt;Never store passwords in a database!&lt;br&gt;\nAnother warning about storing passwords in the database.&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Password_cracking&quot; rel=&quot;noreferrer&quot;&gt;Password cracking&lt;/a&gt;&lt;br&gt;\nWikipedia article on weaknesses of several password hashing schemes.&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://www.securityfocus.com/blogs/262&quot; rel=&quot;noreferrer&quot;&gt;Enough With The Rainbow Tables: What You Need To Know About Secure Password Schemes&lt;/a&gt;&lt;br&gt;\nDiscussion about rainbow tables and how to defend against them, and against other threads. Includes extensive discussion.&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;First, a strong caveat that this answer is not the best fit for this exact question. It should definitely not be the top answer!&lt;/p&gt;\n\n&lt;p&gt;I will go ahead and mention Mozillas proposed &lt;a href=&quot;https://browserid.org/&quot; rel=&quot;noreferrer&quot;&gt;BrowserID&lt;/a&gt; (or perhaps more precisely, the &lt;a href=&quot;https://wiki.mozilla.org/Identity/Verified_Email_Protocol/Latest&quot; rel=&quot;noreferrer&quot;&gt;Verified Email Protocol&lt;/a&gt;) in the spirit of finding an upgrade path to better approaches to authentication in the future.&lt;/p&gt;\n\n&lt;p&gt;Ill summarize it this way:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;Mozilla is a nonprofit with &lt;a href=&quot;http://www.mozilla.org/about/manifesto.en.html&quot; rel=&quot;noreferrer&quot;&gt;values&lt;/a&gt; that align well with finding good solutions to this problem.&lt;/li&gt;\n&lt;li&gt;The reality today is that most websites use form-based authentication&lt;/li&gt;\n&lt;li&gt;Form-based authentication has a big drawback, which is an increased risk of &lt;a href=&quot;http://en.wikipedia.org/wiki/Phishing&quot; rel=&quot;noreferrer&quot;&gt;phishing&lt;/a&gt;. Users are asked to enter sensitive information into an area controlled by a remote entity, rather than an area controlled by their User Agent (browser).&lt;/li&gt;\n&lt;li&gt;Since browsers are implicitly trusted (the whole idea of a User Agent is to act on behalf of the User), they can help improve this situation.&lt;/li&gt;\n&lt;li&gt;The primary force holding back progress here is &lt;a href=&quot;http://www.w3.org/2011/identity-ws/papers/idbrowser2011_submission_10.pdf&quot; rel=&quot;noreferrer&quot;&gt;deployment deadlock&lt;/a&gt;. Solutions must be decomposed into steps which provide some incremental benefit on their own.&lt;/li&gt;\n&lt;li&gt;The simplest decentralized method for expressing an identity that is built into the internet infrastructure is the domain name.&lt;/li&gt;\n&lt;li&gt;As a second level of expressing identity, each domain manages its own set of accounts.&lt;/li&gt;\n&lt;li&gt;The form account&lt;code&gt;@&lt;/code&gt;domain is concise and supported by a wide range of protocols and URI schemes. Such an identifier is, of course, most universally recognized as an email address.&lt;/li&gt;\n&lt;li&gt;Email providers are already the de-facto primary identity providers online. Current password reset flows usually let you take control of an account if you can prove that you control that accounts associated email address.&lt;/li&gt;\n&lt;li&gt;The Verified Email Protocol was proposed to provide a secure method, based on public key cryptography, for streamlining the process of proving to domain B that you have an account on domain A.&lt;/li&gt;\n&lt;li&gt;For browsers that dont support the Verified Email Protocol (currently all of them), Mozilla provides a shim which implements the protocol in client-side JavaScript code.&lt;/li&gt;\n&lt;li&gt;For email services that dont support the Verified Email Protocol, the protocol allows third parties to act as a trusted intermediary, asserting that theyve verified a users ownership of an account. It is not desirable to have a large number of such third parties; this capability is intended only to allow an upgrade path, and it is much preferred that email services provide these assertions themselves.&lt;/li&gt;\n&lt;li&gt;Mozilla offers their own service to act like such a trusted third party. Service Providers (that is, Relying Parties) implementing the Verified Email Protocol may choose to trust Mozilla&apos;s assertions or not. Mozillas service verifies users account ownership using the conventional means of sending an email with a confirmation link.&lt;/li&gt;\n&lt;li&gt;Service Providers may, of course, offer this protocol as an option in addition to any other method(s) of authentication they might wish to offer.&lt;/li&gt;\n&lt;li&gt;A big user interface benefit being sought here is the identity selector. When a user visits a site and chooses to authenticate, their browser shows them a selection of email addresses (personal, work, political activism, etc.) they may use to identify themselves to the site.&lt;/li&gt;\n&lt;li&gt;Another big user interface benefit being sought as part of this effort is &lt;a href=&quot;https://wiki.mozilla.org/Identity/Verified_Email_Protocol/Latest-Session&quot; rel=&quot;noreferrer&quot;&gt;helping the browser know more about the users session&lt;/a&gt;  who theyre signed in as currently, primarily  so it may display that in the browser chrome.&lt;/li&gt;\n&lt;li&gt;Because of the distributed nature of this system, it avoids lock-in to major sites like Facebook, Twitter, Google, etc. Any individual can own their own domain and therefore act as their own identity provider.&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;This is not strictly form-based authentication for websites. But it is an effort to transition from the current norm of form-based authentication to something more secure: browser-supported authentication.&lt;/p&gt;\n    ","\n&lt;p&gt;I just thought I&apos;d share this solution that I found to be working just fine.&lt;/p&gt;\n&lt;p&gt;I call it the &lt;strong&gt;Dummy Field&lt;/strong&gt; (though I haven&apos;t invented this so don&apos;t credit me). Others know this as a honey pot.&lt;/p&gt;\n&lt;p&gt;In short: you just have to insert this into your &lt;code&gt;&amp;lt;form&amp;gt;&lt;/code&gt; and check for it to be empty at when validating:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;&amp;lt;input type=&quot;text&quot; name=&quot;email&quot; style=&quot;display:none&quot; /&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The trick is to fool a bot into thinking it has to insert data into a required field, that&apos;s why I named the input &quot;email&quot;. If you already have a field called email that you&apos;re using you should try naming the dummy field something else like &quot;company&quot;, &quot;phone&quot; or &quot;emailaddress&quot;. Just pick something you know you don&apos;t need and what sounds like something people would normally find logical to fill in into a web form. Now hide the &lt;code&gt;input&lt;/code&gt; field using CSS or JavaScript/jQuery - whatever fits you best - just &lt;strong&gt;don&apos;t&lt;/strong&gt; set the input &lt;code&gt;type&lt;/code&gt; to &lt;code&gt;hidden&lt;/code&gt; or else the bot won&apos;t fall for it.&lt;/p&gt;\n&lt;p&gt;When you are validating the form (either client or server side) check if your dummy field has been filled to determine if it was sent by a human or a bot.&lt;/p&gt;\n&lt;p&gt;Example:&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;In case of a human:&lt;/strong&gt;\nThe user will not see the dummy field (in my case named &quot;email&quot;) and will not attempt to fill it. So the value of the dummy field should still be empty when the form has been sent.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;In case of a bot:&lt;/strong&gt; The bot will see a field whose type is &lt;code&gt;text&lt;/code&gt; and a name &lt;code&gt;email&lt;/code&gt; (or whatever it is you called it) and will logically attempt to fill it with appropriate data. It doesn&apos;t care if you styled the input form with some fancy CSS, web-developers do it all the time. Whatever the value in the dummy field is, we don&apos;t care as long as it&apos;s larger than &lt;code&gt;0&lt;/code&gt; characters.&lt;/p&gt;\n&lt;p&gt;I used this method on a guestbook in combination with &lt;a href=&quot;http://en.wikipedia.org/wiki/CAPTCHA&quot; rel=&quot;nofollow noreferrer&quot;&gt;CAPTCHA&lt;/a&gt;, and I haven&apos;t seen a single spam post since. I had used a CAPTCHA-only solution before, but eventually, it resulted in about five spam posts every hour. Adding the dummy field in the form has stopped (at least until now) all the spam from appearing.&lt;/p&gt;\n&lt;p&gt;I believe this can also be used just fine with a login/authentication form.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Warning&lt;/strong&gt;: Of course this method is not 100% foolproof. Bots can be programmed to ignore input fields with the style &lt;code&gt;display:none&lt;/code&gt; applied to it. You also have to think about people who use some form of auto-completion (like most browsers have built-in!) to auto-fill all form fields for them. They might just as well pick up a dummy field.&lt;/p&gt;\n&lt;p&gt;You can also vary this up a little by leaving the dummy field visible but outside the boundaries of the screen, but this is totally up to you.&lt;/p&gt;\n&lt;p&gt;Be creative!&lt;/p&gt;\n    ","\n&lt;p&gt;I do not think the above answer is &quot;wrong&quot; but there are large areas of authentication that are not touched upon (or rather the emphasis is on &quot;how to implement cookie sessions&quot;, not on &quot;what options are available and what are the trade-offs&quot;.&lt;/p&gt;\n\n&lt;p&gt;My suggested edits/answers are&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;The problem lies more in account setup than in password checking.&lt;/li&gt;\n&lt;li&gt;The use of two-factor authentication is much more secure than more clever means of password encryption&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Do NOT try to implement your own login form or database storage of passwords, unless \nthe data being stored is valueless at account creation and self-generated (that is, web 2.0 style like Facebook, &lt;a href=&quot;http://en.wikipedia.org/wiki/Flickr&quot; rel=&quot;noreferrer&quot;&gt;Flickr&lt;/a&gt;, etc.)&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;Digest Authentication is a standards-based approach supported in all major browsers and servers, that will not send a password even over a secure channel.&lt;/li&gt;\n&lt;/ol&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;This avoids any need to have &quot;sessions&quot; or cookies as the browser itself will re-encrypt the communication each time. It is the most &quot;lightweight&quot; development approach.&lt;/p&gt;\n\n&lt;p&gt;However, I do not recommend this, except for public, low-value services. This is an issue with some of the other answers above - do not try an re-implement server-side authentication mechanisms - this problem has been solved and is supported by most major browsers. Do not use cookies. Do not store anything in your own hand-rolled database. Just ask, per request, if the request is authenticated. Everything else should be supported by configuration and third-party trusted software.&lt;/p&gt;\n\n&lt;p&gt;So ...&lt;/p&gt;\n\n&lt;p&gt;First, we are confusing the initial creation of an account (with a password) with the re-checking of the password subsequently. If I am Flickr and creating your site for the first time, the new user has access to zero value (blank web space). I truly do not care if the person creating the account is lying about their name. If I am creating an account of the hospital intranet/extranet, the value lies in all the medical records, and so I &lt;em&gt;do&lt;/em&gt; care about the identity (*) of the account creator.&lt;/p&gt;\n\n&lt;p&gt;This is the very very hard part. The &lt;em&gt;only&lt;/em&gt; decent solution is a web of trust. For example, you join the hospital as a doctor. You create a web page hosted somewhere with your photo, your passport number, and a public key, and hash them all with the private key. You then visit the hospital and the system administrator looks at your passport, sees if the photo matches you, and then hashes the web page/photo hash with the hospital private key. From now on we can securely exchange keys and tokens. As can anyone who trusts the hospital (there is the secret sauce BTW). The system administrator can also give you an &lt;a href=&quot;http://en.wikipedia.org/wiki/RSA_%28security_firm%29&quot; rel=&quot;noreferrer&quot;&gt;RSA&lt;/a&gt; dongle or other two-factor authentication.&lt;/p&gt;\n\n&lt;p&gt;But this is a &lt;em&gt;lot&lt;/em&gt; of a hassle, and not very web 2.0. However, it is the only secure way to create new accounts that have access to valuable information that is not self-created.&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;Kerberos and SPNEGO - single sign-on mechanisms with a trusted third party - basically the user verifies against a trusted third party. (NB this is not in any way the not to be trusted &lt;a href=&quot;http://en.wikipedia.org/wiki/OAuth&quot; rel=&quot;noreferrer&quot;&gt;OAuth&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Secure_Remote_Password_protocol&quot; rel=&quot;noreferrer&quot;&gt;SRP&lt;/a&gt; - sort of clever password authentication without a trusted third party. But here we are getting into the realms of &quot;it&apos;s safer to use two-factor authentication, even if that&apos;s costlier&quot;&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/SSL&quot; rel=&quot;noreferrer&quot;&gt;SSL&lt;/a&gt; client side - give the clients a public key certificate (support in all major browsers - but raises questions over client machine security).&lt;/p&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;In the end, it&apos;s a tradeoff - what is the cost of a security breach vs the cost of implementing more secure approaches. One day, we may see a proper &lt;a href=&quot;http://en.wikipedia.org/wiki/Public-key_infrastructure&quot; rel=&quot;noreferrer&quot;&gt;PKI&lt;/a&gt; widely accepted and so no more own rolled authentication forms and databases. One day...&lt;/p&gt;\n    ","\n&lt;p&gt;When hashing, don&apos;t use fast hash algorithms such as MD5 (many hardware implementations exist).  Use something like SHA-512.  For passwords, slower hashes are better.&lt;/p&gt;\n\n&lt;p&gt;The faster you can create hashes, the faster any brute force checker can work. Slower hashes will therefore slow down brute forcing. A slow hash algorithm will make brute forcing impractical for longer passwords (8 digits +)&lt;/p&gt;\n    ","\n&lt;p&gt;My favourite rule in regards to authentication systems: use passphrases, not passwords. Easy to remember, hard to crack.\nMore info: &lt;a href=&quot;http://www.codinghorror.com/blog/2005/07/passwords-vs-pass-phrases.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;Coding Horror: Passwords vs. Pass Phrases&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I&apos;d like to add one suggestion I&apos;ve used, based on defense in depth. You don&apos;t need to have the same auth&amp;amp;auth system for admins as regular users. You can have a separate login form on a separate url executing separate code for requests that will grant high privileges. This one can make choices that would be a total pain to regular users. One such that I&apos;ve used is to actually scramble the login URL for admin access and email the admin the new URL. Stops any brute force attack right away as your new URL can be arbitrarily difficult (very long random string) but your admin user&apos;s only inconvenience is following a link in their email. The attacker no longer knows where to even POST to. &lt;/p&gt;\n    ","\n&lt;p&gt;I dont&apos;t know whether it was best to answer this as an answer or as a comment. I opted for the first option.&lt;/p&gt;\n\n&lt;p&gt;Regarding the poing &lt;strong&gt;PART IV: Forgotten Password Functionality&lt;/strong&gt; in the first answer, I would make a point about Timing Attacks. &lt;/p&gt;\n\n&lt;p&gt;In the &lt;strong&gt;Remember your password&lt;/strong&gt; forms, an attacker could potentially check a full list of emails and detect which are registered to the system (see link below). &lt;/p&gt;\n\n&lt;p&gt;Regarding the Forgotten Password Form, I would add that it is a good idea to equal times between successful and unsucessful queries with some delay function. &lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://crypto.stanford.edu/~dabo/papers/webtiming.pdf&quot;&gt;https://crypto.stanford.edu/~dabo/papers/webtiming.pdf&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I would like to add one very important comment: -&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&quot;In a &lt;em&gt;corporate,&lt;/em&gt; &lt;strong&gt;intra-&lt;/strong&gt; net setting,&quot; most if not all of the foregoing might not apply!&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Many corporations deploy &quot;internal use only&quot; websites which are, effectively, &quot;corporate applications&quot; that happen to have been implemented through URLs. These URLs can &lt;em&gt;(supposedly ...)&lt;/em&gt; only be resolved within &quot;the company&apos;s internal network.&quot; &lt;em&gt;(Which network magically includes all VPN-connected &apos;road warriors.&apos;)&lt;/em&gt; &lt;/p&gt;\n\n&lt;p&gt;When a user is dutifully-connected to the aforesaid network, their identity &lt;em&gt;(&quot;authentication&quot;)&lt;/em&gt; is [already ...] &quot;conclusively known,&quot; as is their permission &lt;em&gt;(&quot;authorization&quot;)&lt;/em&gt; to do certain things ... such as ... &quot;to access this website.&quot;&lt;/p&gt;\n\n&lt;p&gt;This &quot;authentication + authorization&quot; service can be provided by several different technologies, such as LDAP &lt;em&gt;(Microsoft OpenDirectory)&lt;/em&gt;, or Kerberos.&lt;/p&gt;\n\n&lt;p&gt;From your point-of-view, you simply know this: that &lt;em&gt;anyone&lt;/em&gt; who legitimately winds-up at your website &lt;em&gt;must&lt;/em&gt; be accompanied by [an environment-variable magically containing ...] a &quot;token.&quot; (&lt;em&gt;i.e.&lt;/em&gt; The absence of such a token must be immediate grounds for &lt;code&gt;404 Not Found&lt;/code&gt;.)&lt;/p&gt;\n\n&lt;p&gt;The token&apos;s value makes no sense to you, &lt;em&gt;but,&lt;/em&gt; should the need arise, &quot;appropriate means exist&quot; by which your website can &quot;[authoritatively] ask someone who knows (LDAP... etc.)&quot; about any &lt;em&gt;and every(!)&lt;/em&gt; question that you may have. In other words, you do &lt;strong&gt;not&lt;/strong&gt; avail yourself of &lt;em&gt;any&lt;/em&gt; &quot;home-grown logic.&quot; Instead, you inquire of The Authority and implicitly trust its verdict.&lt;/p&gt;\n\n&lt;p&gt;Uh huh ... it&apos;s &lt;em&gt;quite&lt;/em&gt; a mental-switch from the &quot;wild-and-wooly Internet.&quot;&lt;/p&gt;\n    ","\n&lt;p&gt;Use &lt;a href=&quot;http://openid.net/connect/&quot; rel=&quot;noreferrer&quot;&gt;OpenID Connect&lt;/a&gt; or &lt;a href=&quot;https://kantarainitiative.org/confluence/display/uma/Home&quot; rel=&quot;noreferrer&quot;&gt;User-Managed Access&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;As nothing is more efficient than not doing it at all.&lt;/p&gt;\n    "],"573":["\n&lt;h2&gt;Using Regex (from &lt;a href=&quot;http://detectmobilebrowsers.com&quot; rel=&quot;noreferrer&quot;&gt;detectmobilebrowsers.com&lt;/a&gt;):&lt;/h2&gt;\n&lt;p&gt;Here&apos;s a function that uses an insanely long and comprehensive regex which returns a &lt;code&gt;true&lt;/code&gt; or &lt;code&gt;false&lt;/code&gt; value depending on whether or not the user is browsing with a mobile.&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;mobileCheck&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; check = &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n  (&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(a)||&lt;span class=&quot;hljs-regexp&quot;&gt;/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(a.&lt;span class=&quot;hljs-title function_&quot;&gt;substr&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;))) check = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;})(navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;||navigator.&lt;span class=&quot;hljs-property&quot;&gt;vendor&lt;/span&gt;||&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;opera&lt;/span&gt;);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; check;\n};\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;For those wishing to include tablets in this test (though arguably, you shouldn&apos;t), you can use the following function:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;mobileAndTabletCheck&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; check = &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n  (&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(a)||&lt;span class=&quot;hljs-regexp&quot;&gt;/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(a.&lt;span class=&quot;hljs-title function_&quot;&gt;substr&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;))) check = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;})(navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;||navigator.&lt;span class=&quot;hljs-property&quot;&gt;vendor&lt;/span&gt;||&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;opera&lt;/span&gt;);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; check;\n};\n&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h2&gt;Using navigator.userAgentData&lt;/h2&gt;\n&lt;p&gt;You may also use &lt;code&gt;navigator.userAgentData.mobile&lt;/code&gt;, but &lt;code&gt;userAgentData&lt;/code&gt; is still experimental, so it is not recommended for use in production.&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; isMobile = navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgentData&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;mobile&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;//resolves true/false&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;a href=&quot;https://caniuse.com/mdn-api_navigator_useragentdata&quot; rel=&quot;noreferrer&quot;&gt;Compatibility chart for userAgentData&lt;/a&gt;&lt;/p&gt;\n&lt;hr&gt;\n&lt;h2&gt;The Original Answer&lt;/h2&gt;\n&lt;p&gt;You can do this by simply running through a list of devices and checking if the &lt;code&gt;useragent&lt;/code&gt; matches anything like so:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;  &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;detectMob&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; toMatch = [\n        &lt;span class=&quot;hljs-regexp&quot;&gt;/Android/i&lt;/span&gt;,\n        &lt;span class=&quot;hljs-regexp&quot;&gt;/webOS/i&lt;/span&gt;,\n        &lt;span class=&quot;hljs-regexp&quot;&gt;/iPhone/i&lt;/span&gt;,\n        &lt;span class=&quot;hljs-regexp&quot;&gt;/iPad/i&lt;/span&gt;,\n        &lt;span class=&quot;hljs-regexp&quot;&gt;/iPod/i&lt;/span&gt;,\n        &lt;span class=&quot;hljs-regexp&quot;&gt;/BlackBerry/i&lt;/span&gt;,\n        &lt;span class=&quot;hljs-regexp&quot;&gt;/Windows Phone/i&lt;/span&gt;\n    ];\n    \n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; toMatch.&lt;span class=&quot;hljs-title function_&quot;&gt;some&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;toMatchItem&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(toMatchItem);\n    });\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;However since you believe that this method is unreliable, You could assume that any device that had a resolution of &lt;em&gt;800x600&lt;/em&gt; or less was a mobile device too, narrowing your target even more (although these days many mobile devices have much greater resolutions than this)&lt;/p&gt;\n&lt;p&gt;i.e&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;  &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;detectMob&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; ( ( &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerWidth&lt;/span&gt; &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;800&lt;/span&gt; ) &amp;amp;&amp;amp; ( &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHeight&lt;/span&gt; &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;600&lt;/span&gt; ) );\n  }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;Reference:&lt;/strong&gt;&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;http://www.quirksmode.org/js/detect.html&quot; rel=&quot;noreferrer&quot;&gt;Detecting Browser and Devices with javascript&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;How about:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; screen.&lt;span class=&quot;hljs-property&quot;&gt;orientation&lt;/span&gt; !== &lt;span class=&quot;hljs-string&quot;&gt;&apos;undefined&apos;&lt;/span&gt;) { ... }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;...since smartphones usually support this property and desktop browsers don&apos;t. See in &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Window/orientation&quot; rel=&quot;noreferrer&quot;&gt;MDN&lt;/a&gt;.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;EDIT 1:&lt;/strong&gt; As @Gajus pointed out, &lt;code&gt;window.orientation&lt;/code&gt; is now &lt;strong&gt;deprecated&lt;/strong&gt; and shouldn&apos;t be used.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;EDIT 2:&lt;/strong&gt; You can use the experimental &lt;code&gt;screen.orientation&lt;/code&gt; instead of the deprecated &lt;code&gt;window.orientation&lt;/code&gt;. See in &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Screen/orientation&quot; rel=&quot;noreferrer&quot;&gt;MDN&lt;/a&gt;.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;EDIT 3:&lt;/strong&gt; Changed from window.orientation to screen.orientation&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; isMobile = {\n    &lt;span class=&quot;hljs-title class_&quot;&gt;Android&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/Android/i&lt;/span&gt;);\n    },\n    &lt;span class=&quot;hljs-title class_&quot;&gt;BlackBerry&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/BlackBerry/i&lt;/span&gt;);\n    },\n    &lt;span class=&quot;hljs-attr&quot;&gt;iOS&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/iPhone|iPad|iPod/i&lt;/span&gt;);\n    },\n    &lt;span class=&quot;hljs-title class_&quot;&gt;Opera&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/Opera Mini/i&lt;/span&gt;);\n    },\n    &lt;span class=&quot;hljs-title class_&quot;&gt;Windows&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/IEMobile/i&lt;/span&gt;) || navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/WPDesktop/i&lt;/span&gt;);\n    },\n    &lt;span class=&quot;hljs-attr&quot;&gt;any&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (isMobile.&lt;span class=&quot;hljs-title class_&quot;&gt;Android&lt;/span&gt;() || isMobile.&lt;span class=&quot;hljs-title class_&quot;&gt;BlackBerry&lt;/span&gt;() || isMobile.&lt;span class=&quot;hljs-title function_&quot;&gt;iOS&lt;/span&gt;() || isMobile.&lt;span class=&quot;hljs-title class_&quot;&gt;Opera&lt;/span&gt;() || isMobile.&lt;span class=&quot;hljs-title class_&quot;&gt;Windows&lt;/span&gt;());\n    }\n};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;How to use&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;( isMobile.&lt;span class=&quot;hljs-title function_&quot;&gt;any&lt;/span&gt;() ) &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Mobile&apos;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To check to see if the user is on a specific mobile device:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;( isMobile.&lt;span class=&quot;hljs-title function_&quot;&gt;iOS&lt;/span&gt;() ) &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;iOS&apos;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Ref: &lt;a href=&quot;http://www.abeautifulsite.net/blog/2011/11/detecting-mobile-devices-with-javascript&quot;&gt;http://www.abeautifulsite.net/blog/2011/11/detecting-mobile-devices-with-javascript&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Enhanced version on github : &lt;a href=&quot;https://github.com/smali-kazmi/detect-mobile-browser&quot;&gt;https://github.com/smali-kazmi/detect-mobile-browser&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Here is a simple solution from the source of &lt;a href=&quot;https://www.facebook.com/slingshot&quot; rel=&quot;noreferrer&quot;&gt;facebook&apos;s slingshot&lt;/a&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; isMobile = &lt;span class=&quot;hljs-regexp&quot;&gt;/iPhone|iPad|iPod|Android/i&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (isMobile) {\n  &lt;span class=&quot;hljs-comment&quot;&gt;/* your code here */&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Came here looking for a simple, clean way to detect &quot;touch screens devices&quot;, which I class as mobile and tablets. Did not find a clean choice in the current answers but did work out the following which may also help someone.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; touchDevice = (&lt;span class=&quot;hljs-string&quot;&gt;&apos;ontouchstart&apos;&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Edit&lt;/strong&gt;: To support desktops with a touch screen and mobiles at the same time you can use the following:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; touchDevice = (navigator.&lt;span class=&quot;hljs-property&quot;&gt;maxTouchPoints&lt;/span&gt; || &lt;span class=&quot;hljs-string&quot;&gt;&apos;ontouchstart&apos;&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;documentElement&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;According to &lt;strong&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent&quot; rel=&quot;noreferrer&quot;&gt;MDN&apos;s article on Browser detection using the user agent&lt;/a&gt;&lt;/strong&gt;, it is encouraged to avoid this approach if possible and suggest other avenues such as feature detection.&lt;/p&gt;\n\n&lt;p&gt;However, if one must use the user agent as a means to detect if the device is mobile, they suggest:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;In summary, we recommend looking for the string Mobi anywhere in the\n  User Agent to detect a mobile device.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Therefore, this one-liner will suffice:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;const isMobileDevice = window.navigator.userAgent.toLowerCase().includes(&quot;mobi&quot;);&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;[UPDATE]:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;As @zenw0lf suggests in the comments, using a Regular Expression would be better:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;const isMobileDevice = /Mobi/i.test(window.navigator.userAgent)&lt;/code&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;As many have stated, relying on the moving target of the user agent data is problematic. The same can be said for counting on screen size. &lt;/p&gt;\n\n&lt;p&gt;My approach is borrowed from a &lt;strong&gt;CSS technique&lt;/strong&gt; to determine if the interface is touch:&lt;/p&gt;\n\n&lt;p&gt;Using only javascript (support by all modern browsers), a &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries#Media_features&quot; rel=&quot;noreferrer&quot;&gt;media query&lt;/a&gt; match can easily infer whether the device is &lt;em&gt;mobile&lt;/em&gt;.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isMobile&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; match = &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;matchMedia&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;msMatchMedia&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(match) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; mq = &lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;(pointer:coarse)&quot;&lt;/span&gt;);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; mq.&lt;span class=&quot;hljs-property&quot;&gt;matches&lt;/span&gt;;\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;There&apos;s no perfect solution for detecting whether JS code is executed on a mobile browser, but the following two options should work in most cases.&lt;/p&gt;\n&lt;h3&gt;Option 1 : browser sniffing&lt;/h3&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;false&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;!&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; b=&lt;span class=&quot;hljs-regexp&quot;&gt;/iPhone/i&lt;/span&gt;,c=&lt;span class=&quot;hljs-regexp&quot;&gt;/iPod/i&lt;/span&gt;,d=&lt;span class=&quot;hljs-regexp&quot;&gt;/iPad/i&lt;/span&gt;,e=&lt;span class=&quot;hljs-regexp&quot;&gt;/(?=.*\\bAndroid\\b)(?=.*\\bMobile\\b)/i&lt;/span&gt;,f=&lt;span class=&quot;hljs-regexp&quot;&gt;/Android/i&lt;/span&gt;,g=&lt;span class=&quot;hljs-regexp&quot;&gt;/(?=.*\\bAndroid\\b)(?=.*\\bSD4930UR\\b)/i&lt;/span&gt;,h=&lt;span class=&quot;hljs-regexp&quot;&gt;/(?=.*\\bAndroid\\b)(?=.*\\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\\b)/i&lt;/span&gt;,i=&lt;span class=&quot;hljs-regexp&quot;&gt;/IEMobile/i&lt;/span&gt;,j=&lt;span class=&quot;hljs-regexp&quot;&gt;/(?=.*\\bWindows\\b)(?=.*\\bARM\\b)/i&lt;/span&gt;,k=&lt;span class=&quot;hljs-regexp&quot;&gt;/BlackBerry/i&lt;/span&gt;,l=&lt;span class=&quot;hljs-regexp&quot;&gt;/BB10/i&lt;/span&gt;,m=&lt;span class=&quot;hljs-regexp&quot;&gt;/Opera Mini/i&lt;/span&gt;,n=&lt;span class=&quot;hljs-regexp&quot;&gt;/(CriOS|Chrome)(?=.*\\bMobile\\b)/i&lt;/span&gt;,o=&lt;span class=&quot;hljs-regexp&quot;&gt;/(?=.*\\bFirefox\\b)(?=.*\\bMobile\\b)/i&lt;/span&gt;,p=&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RegExp&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;i&quot;&lt;/span&gt;),q=&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a,b&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; a.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(b)},r=&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; r=a||navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;,s=r.&lt;span class=&quot;hljs-title function_&quot;&gt;split&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;[FBAN&quot;&lt;/span&gt;);&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;undefined&quot;&lt;/span&gt;!=&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; s[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]&amp;amp;&amp;amp;(r=s[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]),s=r.&lt;span class=&quot;hljs-title function_&quot;&gt;split&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Twitter&quot;&lt;/span&gt;),&lt;span class=&quot;hljs-string&quot;&gt;&quot;undefined&quot;&lt;/span&gt;!=&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; s[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]&amp;amp;&amp;amp;(r=s[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]),&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;apple&lt;/span&gt;={&lt;span class=&quot;hljs-attr&quot;&gt;phone&lt;/span&gt;:&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(b,r),&lt;span class=&quot;hljs-attr&quot;&gt;ipod&lt;/span&gt;:&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(c,r),&lt;span class=&quot;hljs-attr&quot;&gt;tablet&lt;/span&gt;:!&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(b,r)&amp;amp;&amp;amp;&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(d,r),&lt;span class=&quot;hljs-attr&quot;&gt;device&lt;/span&gt;:&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(b,r)||&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(c,r)||&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(d,r)},&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;amazon&lt;/span&gt;={&lt;span class=&quot;hljs-attr&quot;&gt;phone&lt;/span&gt;:&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(g,r),&lt;span class=&quot;hljs-attr&quot;&gt;tablet&lt;/span&gt;:!&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(g,r)&amp;amp;&amp;amp;&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(h,r),&lt;span class=&quot;hljs-attr&quot;&gt;device&lt;/span&gt;:&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(g,r)||&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(h,r)},&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;android&lt;/span&gt;={&lt;span class=&quot;hljs-attr&quot;&gt;phone&lt;/span&gt;:&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(g,r)||&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(e,r),&lt;span class=&quot;hljs-attr&quot;&gt;tablet&lt;/span&gt;:!&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(g,r)&amp;amp;&amp;amp;!&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(e,r)&amp;amp;&amp;amp;(&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(h,r)||&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(f,r)),&lt;span class=&quot;hljs-attr&quot;&gt;device&lt;/span&gt;:&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(g,r)||&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(h,r)||&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(e,r)||&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(f,r)},&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;windows&lt;/span&gt;={&lt;span class=&quot;hljs-attr&quot;&gt;phone&lt;/span&gt;:&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(i,r),&lt;span class=&quot;hljs-attr&quot;&gt;tablet&lt;/span&gt;:&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(j,r),&lt;span class=&quot;hljs-attr&quot;&gt;device&lt;/span&gt;:&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(i,r)||&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(j,r)},&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;other&lt;/span&gt;={&lt;span class=&quot;hljs-attr&quot;&gt;blackberry&lt;/span&gt;:&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(k,r),&lt;span class=&quot;hljs-attr&quot;&gt;blackberry10&lt;/span&gt;:&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(l,r),&lt;span class=&quot;hljs-attr&quot;&gt;opera&lt;/span&gt;:&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(m,r),&lt;span class=&quot;hljs-attr&quot;&gt;firefox&lt;/span&gt;:&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(o,r),&lt;span class=&quot;hljs-attr&quot;&gt;chrome&lt;/span&gt;:&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(n,r),&lt;span class=&quot;hljs-attr&quot;&gt;device&lt;/span&gt;:&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(k,r)||&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(l,r)||&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(m,r)||&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(o,r)||&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(n,r)},&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;seven_inch&lt;/span&gt;=&lt;span class=&quot;hljs-title function_&quot;&gt;q&lt;/span&gt;(p,r),&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;any&lt;/span&gt;=&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;apple&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;device&lt;/span&gt;||&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;android&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;device&lt;/span&gt;||&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;windows&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;device&lt;/span&gt;||&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;other&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;device&lt;/span&gt;||&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;seven_inch&lt;/span&gt;,&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;phone&lt;/span&gt;=&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;apple&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;phone&lt;/span&gt;||&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;android&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;phone&lt;/span&gt;||&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;windows&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;phone&lt;/span&gt;,&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;tablet&lt;/span&gt;=&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;apple&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;tablet&lt;/span&gt;||&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;android&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;tablet&lt;/span&gt;||&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;windows&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;tablet&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;undefined&quot;&lt;/span&gt;==&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;?&lt;span class=&quot;hljs-attr&quot;&gt;this&lt;/span&gt;:&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;},s=&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a=&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; r;&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; a.&lt;span class=&quot;hljs-property&quot;&gt;Class&lt;/span&gt;=r,a};&lt;span class=&quot;hljs-string&quot;&gt;&quot;undefined&quot;&lt;/span&gt;!=&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;module&lt;/span&gt;&amp;amp;&amp;amp;&lt;span class=&quot;hljs-variable language_&quot;&gt;module&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;exports&lt;/span&gt;&amp;amp;&amp;amp;&lt;span class=&quot;hljs-string&quot;&gt;&quot;undefined&quot;&lt;/span&gt;==&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;?&lt;span class=&quot;hljs-variable language_&quot;&gt;module&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;exports&lt;/span&gt;=&lt;span class=&quot;hljs-attr&quot;&gt;r&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;undefined&quot;&lt;/span&gt;!=&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;module&lt;/span&gt;&amp;amp;&amp;amp;&lt;span class=&quot;hljs-variable language_&quot;&gt;module&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;exports&lt;/span&gt;&amp;amp;&amp;amp;&lt;span class=&quot;hljs-string&quot;&gt;&quot;undefined&quot;&lt;/span&gt;!=&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;?&lt;span class=&quot;hljs-variable language_&quot;&gt;module&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;exports&lt;/span&gt;=&lt;span class=&quot;hljs-title function_&quot;&gt;s&lt;/span&gt;():&lt;span class=&quot;hljs-string&quot;&gt;&quot;function&quot;&lt;/span&gt;==&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; define&amp;amp;&amp;amp;define.&lt;span class=&quot;hljs-property&quot;&gt;amd&lt;/span&gt;?&lt;span class=&quot;hljs-title function_&quot;&gt;define&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;isMobile&quot;&lt;/span&gt;,[],a.&lt;span class=&quot;hljs-property&quot;&gt;isMobile&lt;/span&gt;=&lt;span class=&quot;hljs-title function_&quot;&gt;s&lt;/span&gt;()):a.&lt;span class=&quot;hljs-property&quot;&gt;isMobile&lt;/span&gt;=&lt;span class=&quot;hljs-title function_&quot;&gt;s&lt;/span&gt;()}(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(isMobile.&lt;span class=&quot;hljs-property&quot;&gt;any&lt;/span&gt; ? &lt;span class=&quot;hljs-string&quot;&gt;&apos;Mobile&apos;&lt;/span&gt; : &lt;span class=&quot;hljs-string&quot;&gt;&apos;Not mobile&apos;&lt;/span&gt;);&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif1&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;p&gt;This particular browser sniffing code is that of &lt;a href=&quot;https://github.com/kaimallea/isMobile&quot; rel=&quot;noreferrer&quot;&gt;&lt;strong&gt;a library called isMobile&lt;/strong&gt;&lt;/a&gt;.&lt;/p&gt;\n&lt;hr&gt;\n&lt;h3&gt;Option 2 : window.orientation&lt;/h3&gt;\n&lt;p&gt;Test if &lt;code&gt;window.orientation&lt;/code&gt; is defined :&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;false&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; isMobile = &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;orientation&lt;/span&gt; &amp;gt; -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(isMobile ? &lt;span class=&quot;hljs-string&quot;&gt;&apos;Mobile&apos;&lt;/span&gt; : &lt;span class=&quot;hljs-string&quot;&gt;&apos;Not mobile&apos;&lt;/span&gt;);&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif2&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;hr&gt;\n&lt;h3&gt;Note&lt;/h3&gt;\n&lt;p&gt;Not all touchscreen devices are mobile and vice versa. So, if you want to implement something specifically for touchscreen, you shouldn&apos;t test if your browser is run on a mobile device but rather whether the devices has touchscreen support :&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;false&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; hasTouchscreen = &lt;span class=&quot;hljs-string&quot;&gt;&apos;ontouchstart&apos;&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;;\n&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(hasTouchscreen ? &lt;span class=&quot;hljs-string&quot;&gt;&apos;has touchscreen&apos;&lt;/span&gt; : &lt;span class=&quot;hljs-string&quot;&gt;&apos;doesn\\&apos;t have touchscreen&apos;&lt;/span&gt;);&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif3&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Here is a userAgent solution that is more efficent than match...&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;_isMobile&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-comment&quot;&gt;// if we want a more complete list use this: http://detectmobilebrowsers.com/&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// str.test() is more efficent than str.match()&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// remember str.test is case sensitive&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; isMobile = (&lt;span class=&quot;hljs-regexp&quot;&gt;/iphone|ipod|android|ie|blackberry|fennec/&lt;/span&gt;).&lt;span class=&quot;hljs-property&quot;&gt;test&lt;/span&gt;\n         (navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;toLowerCase&lt;/span&gt;());\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; isMobile;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Feature detection is much better than trying to figure out which device you are on and very hard to keep up with new devices coming out all the time, a library like &lt;a href=&quot;http://modernizr.com/&quot; rel=&quot;noreferrer&quot;&gt;Modernizr&lt;/a&gt; lets you know if a particular feature is available or not.&lt;/p&gt;\n    ","\n&lt;p&gt;To add an extra layer of control I use the HTML5 storage to detect if it is using mobile storage or desktop storage. If the browser does not support storage I have an array of mobile browser names and I compare the user agent with the browsers in the array.&lt;/p&gt;\n\n&lt;p&gt;It is pretty simple. Here is the function:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// Used to detect whether the users browser is an mobile browser&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isMobile&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-comment&quot;&gt;///&amp;lt;summary&amp;gt;Detecting whether the browser is a mobile browser or desktop browser&amp;lt;/summary&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;///&amp;lt;returns&amp;gt;A boolean value indicating whether the browser is a mobile browser or not&amp;lt;/returns&amp;gt;&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (sessionStorage.&lt;span class=&quot;hljs-property&quot;&gt;desktop&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;// desktop storage &lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;localStorage&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;mobile&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;// mobile storage&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// alternative&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; mobile = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;iphone&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;ipad&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;android&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;blackberry&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;nokia&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;opera mini&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;windows mobile&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;windows phone&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;iemobile&apos;&lt;/span&gt;]; \n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; mobile) &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;toLowerCase&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(mobile[i].&lt;span class=&quot;hljs-title function_&quot;&gt;toLowerCase&lt;/span&gt;()) &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// nothing found.. assume desktop&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;How about something like this?&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(\n    (screen.&lt;span class=&quot;hljs-property&quot;&gt;width&lt;/span&gt; &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;640&lt;/span&gt;) || \n    (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;matchMedia&lt;/span&gt; &amp;amp;&amp;amp; \n     &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;matchMedia&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;only screen and (max-width: 640px)&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-property&quot;&gt;matches&lt;/span&gt;\n    )\n  ){\n   &lt;span class=&quot;hljs-comment&quot;&gt;// Do the mobile thing&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;A really good way of detecting mobile or tablet devices is by looking if the browser can create a touch event.&lt;/p&gt;\n\n&lt;p&gt;Plain JavaScript Code:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isMobile&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n   &lt;span class=&quot;hljs-keyword&quot;&gt;try&lt;/span&gt;{ &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;createEvent&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;TouchEvent&quot;&lt;/span&gt;); &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;; }\n   &lt;span class=&quot;hljs-keyword&quot;&gt;catch&lt;/span&gt;(e){ &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;; }\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;isMobile&lt;/span&gt;()) {\n   # &lt;span class=&quot;hljs-keyword&quot;&gt;do&lt;/span&gt; whatever you wanna &lt;span class=&quot;hljs-keyword&quot;&gt;do&lt;/span&gt;!\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This worked for me really well, but there may be a problem with laptop devices which include a touchscreen display.&lt;/p&gt;\n\n&lt;p&gt;I am not sure if a touchscreen Laptop will get detected as a mobile device because I haven&apos;t tested it yet.&lt;/p&gt;\n    ","\n&lt;p&gt;don&apos;t use this method as window.orientation is now deprecated!!!&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isMobile&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;orientation&lt;/span&gt; !== &lt;span class=&quot;hljs-string&quot;&gt;&quot;undefined&quot;&lt;/span&gt;) || (navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;IEMobile&apos;&lt;/span&gt;) !== -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n};\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Once the element gains focus, you immediately blur it. Bootstrap-datepicker, which is a very popular and well-maintained component with almost 10,000 stars in GitHub, uses this approach:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;maxTouchPoints&lt;/span&gt; || &lt;span class=&quot;hljs-string&quot;&gt;&apos;ontouchstart&apos;&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;input&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;blur&lt;/span&gt;();\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://github.com/uxsolutions/bootstrap-datepicker&quot; rel=&quot;noreferrer&quot;&gt;https://github.com/uxsolutions/bootstrap-datepicker&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Thanks to &lt;a href=&quot;https://stackoverflow.com/a/36673184&quot;&gt;Tigger&lt;/a&gt; for assistance.&lt;/p&gt;\n    ","\n&lt;h1&gt;Feature Detection&lt;/h1&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; isMobile = &lt;span class=&quot;hljs-variable language_&quot;&gt;localStorage&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;mobile&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;maxTouchPoints&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;WORKS IN CHROME + SAFARI as of 2022-02-07 :: combining feature detections and trying everything in this thread and other sites. The &lt;code&gt;localStorage.mobile&lt;/code&gt; works in Chrome mobile; the latter works in Safari mobile. Does not trigger desktop browsers with or w/o the dev-tools open and/or on a mobile simulator.  As of writing this, it triggers a real mobile browser but not desktops.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h3&gt;Please consider&lt;/h3&gt;\n&lt;p&gt;&lt;em&gt;I&apos;ve also tested this on a Lenovo X1 Yoga (keyboard or tablet-mode) on Win10&lt;/em&gt;&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;code&gt;localStorage.mobile&lt;/code&gt; is &lt;code&gt;undefined&lt;/code&gt; no matter what&lt;/li&gt;\n&lt;li&gt;When the laptop is in keyboard mode:&lt;br&gt;&lt;code&gt;window.navigator.maxTouchPoints&lt;/code&gt; is &lt;code&gt;1&lt;/code&gt;&lt;br&gt; isMobile is &lt;code&gt;false&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;When the keyboard is flipped back and the laptop is in tablet-mode:&lt;br&gt;&lt;code&gt;window.navigator.maxTouchPoints&lt;/code&gt; is &lt;code&gt;10&lt;/code&gt;&lt;br&gt; isMobile is &lt;code&gt;true&lt;/code&gt;&lt;/li&gt;\n&lt;/ol&gt;\n    ","\n&lt;p&gt;Here is my re-thought solution for the problem. Still not perfect. The only true solution would be if the device manufacturers start to take seriously the &quot;Mobile&quot; and &quot;Tablet&quot; user-agent strings.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;onload&lt;/span&gt; = userAgentDetect;\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;userAgentDetect&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/Mobile/i&lt;/span&gt;)\n  || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/iPhone/i&lt;/span&gt;)\n  || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/iPod/i&lt;/span&gt;)\n  || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/IEMobile/i&lt;/span&gt;)\n  || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/Windows Phone/i&lt;/span&gt;)\n  || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/Android/i&lt;/span&gt;)\n  || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/BlackBerry/i&lt;/span&gt;)\n  || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/webOS/i&lt;/span&gt;)) {\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;body&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;className&lt;/span&gt; += &lt;span class=&quot;hljs-string&quot;&gt;&apos; mobile&apos;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;True - Mobile - &apos;&lt;/span&gt; + navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;);\n  } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n    &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;False - Mobile - &apos;&lt;/span&gt; + navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;);\n  }\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/Tablet/i&lt;/span&gt;)\n  || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/iPad/i&lt;/span&gt;)\n  || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/Nexus 7/i&lt;/span&gt;)\n  || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/Nexus 10/i&lt;/span&gt;)\n  || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/KFAPWI/i&lt;/span&gt;)) {\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;body&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;className&lt;/span&gt; -= &lt;span class=&quot;hljs-string&quot;&gt;&apos; mobile&apos;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;body&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;className&lt;/span&gt; += &lt;span class=&quot;hljs-string&quot;&gt;&apos; tablet&apos;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;True - Tablet - &apos;&lt;/span&gt; + navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;);\n  } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n    &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;False - Tablet - &apos;&lt;/span&gt; + navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;);\n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;What happens when the Nexus 7 tablet only have the Android UA string? First, the Mobile become true, than later on the Tablet also become true, but Tablet will delete the Mobile UA string from the body tag.&lt;/p&gt;\n\n&lt;p&gt;CSS:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;body.&lt;span class=&quot;hljs-property&quot;&gt;tablet&lt;/span&gt; { background-&lt;span class=&quot;hljs-attr&quot;&gt;color&lt;/span&gt;: green; }\nbody.&lt;span class=&quot;hljs-property&quot;&gt;mobile&lt;/span&gt; { background-&lt;span class=&quot;hljs-attr&quot;&gt;color&lt;/span&gt;: red; }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;code&gt;alert&lt;/code&gt; lines added for development. Chrome console can emulate many handheld devices. Test there.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;EDIT:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Just don&apos;t use this, use feature detection instead. There are so many devices and brands out there that targeting a brand NEVER will be the right solution.&lt;/strong&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Depends on the use case. All &lt;em&gt;mobile&lt;/em&gt; devices require a battery. If what you&apos;re after is compute power without draining the battery use the &lt;a href=&quot;https://www.w3.org/TR/battery-status/&quot; rel=&quot;noreferrer&quot;&gt;Battery Status API&lt;/a&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;navigator.&lt;span class=&quot;hljs-title function_&quot;&gt;getBattery&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;then&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;battery&lt;/span&gt; =&amp;gt;&lt;/span&gt; {\n  battery.&lt;span class=&quot;hljs-property&quot;&gt;charging&lt;/span&gt; ? &lt;span class=&quot;hljs-string&quot;&gt;&apos;charging&apos;&lt;/span&gt; : &lt;span class=&quot;hljs-string&quot;&gt;&apos;not charging&apos;&lt;/span&gt;;\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If what you&apos;re looking for is presentational use &lt;a href=&quot;https://devdocs.io/dom/window/matchmedia&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;matchMedia&lt;/code&gt;&lt;/a&gt;, which returns a Boolean value:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;matchMedia&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;(min-width: 400px)&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-property&quot;&gt;matches&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-comment&quot;&gt;/* the viewport is at least 400 pixels wide */&lt;/span&gt;\n} &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n  &lt;span class=&quot;hljs-comment&quot;&gt;/* the viewport is less than 400 pixels wide */&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Or combine them for an even better user experience on tablet devices.&lt;/p&gt;\n    ","\n&lt;p&gt;I advise you check out &lt;a href=&quot;http://wurfl.io/&quot; rel=&quot;nofollow&quot;&gt;http://wurfl.io/&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;In a nutshell, if you import a tiny JS file:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;script type=&lt;span class=&quot;hljs-string&quot;&gt;&apos;text/javascript&apos;&lt;/span&gt; src=&lt;span class=&quot;hljs-string&quot;&gt;&quot;//wurfl.io/wurfl.js&quot;&lt;/span&gt;&amp;gt;&amp;lt;/script&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;you will be left with a JSON object that looks like:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;{\n &lt;span class=&quot;hljs-string&quot;&gt;&quot;complete_device_name&quot;&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;Google Nexus 7&quot;&lt;/span&gt;,\n &lt;span class=&quot;hljs-string&quot;&gt;&quot;is_mobile&quot;&lt;/span&gt;:&lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;,\n &lt;span class=&quot;hljs-string&quot;&gt;&quot;form_factor&quot;&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;Tablet&quot;&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;(that&apos;s assuming you are using a Nexus 7, of course) and you will be able to do things like:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-variable constant_&quot;&gt;WURFL&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;form_factor&lt;/span&gt; == &lt;span class=&quot;hljs-string&quot;&gt;&quot;Tablet&quot;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-comment&quot;&gt;//dostuff();&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This is what you are looking for.&lt;/p&gt;\n\n&lt;p&gt;Disclaimer: I work for the company that offers this free service. Thanks.&lt;/p&gt;\n    ","\n&lt;p&gt;IE10+ solution just using &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia&quot; rel=&quot;nofollow noreferrer&quot;&gt;matchMedia&lt;/a&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isMobile&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) =&amp;gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;matchMedia&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;(max-width: 700px)&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-property&quot;&gt;matches&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;code&gt;isMobile()&lt;/code&gt; returns a boolean&lt;/p&gt;\n    ","\n&lt;p&gt;This is just an es6 port of the &lt;a href=&quot;https://stackoverflow.com/a/11381730&quot;&gt;accepted answer&lt;/a&gt; that I&apos;m using in my project. Note that this also includes tablets.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isMobile&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) =&amp;gt; {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; vendor = navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt; || navigator.&lt;span class=&quot;hljs-property&quot;&gt;vendor&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;opera&lt;/span&gt;;\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; !!(\n    &lt;span class=&quot;hljs-regexp&quot;&gt;/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(\n      vendor\n    ) ||\n    &lt;span class=&quot;hljs-regexp&quot;&gt;/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(\n      vendor.&lt;span class=&quot;hljs-title function_&quot;&gt;substr&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;)\n    )\n  );\n};\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Here is a less obfuscated version of the answer by Michael Zaporozhets. It also uses a check to build the regular expressions only on the first call. See &lt;a href=&quot;https://stackoverflow.com/a/34755045/384670&quot;&gt;this answer&lt;/a&gt; for the technique used to build the string from an array of regular expressions.&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; gRE = &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; gRE4 = &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;PlatformIsMobile&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;)\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; e;\n    \n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ( gRE == &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt; )\n    {\n        e =\n            [\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/(android|bb\\d+|meego).+mobile|avantgo/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/wap|windows ce|xda|xiino|android|ipad|playbook|silk/&lt;/span&gt;\n            ];\n        \n        gRE = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RegExp&lt;/span&gt;(\n            e.&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;( &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt; r &lt;/span&gt;) { &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; r.&lt;span class=&quot;hljs-property&quot;&gt;source&lt;/span&gt; } ).&lt;span class=&quot;hljs-title function_&quot;&gt;join&lt;/span&gt;( &lt;span class=&quot;hljs-string&quot;&gt;&quot;|&quot;&lt;/span&gt; ), &lt;span class=&quot;hljs-string&quot;&gt;&quot;i&quot;&lt;/span&gt;\n        );\n    }\n    \n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ( gRE4 == &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt; )\n    {\n        e =\n            [\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/o2im|op(ti|wv)|oran|owg1/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/r380|r600|raks|rim9|ro(ve|zo)/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)/&lt;/span&gt;,\n                &lt;span class=&quot;hljs-regexp&quot;&gt;/w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/&lt;/span&gt;\n            ];\n        \n        gRE4 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RegExp&lt;/span&gt;(\n            e.&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;( &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt; r &lt;/span&gt;) { &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; r.&lt;span class=&quot;hljs-property&quot;&gt;source&lt;/span&gt; } ).&lt;span class=&quot;hljs-title function_&quot;&gt;join&lt;/span&gt;( &lt;span class=&quot;hljs-string&quot;&gt;&quot;|&quot;&lt;/span&gt; ), &lt;span class=&quot;hljs-string&quot;&gt;&quot;i&quot;&lt;/span&gt;\n        );\n    }\n    \n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; key = navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt; || navigator.&lt;span class=&quot;hljs-property&quot;&gt;vendor&lt;/span&gt; || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;opera&lt;/span&gt;;\n    \n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; gRE.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;( key ) ||\n           gRE4.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;( key.&lt;span class=&quot;hljs-title function_&quot;&gt;substr&lt;/span&gt;( &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; ) );\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;The best must be :&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; isMobile = (&lt;span class=&quot;hljs-regexp&quot;&gt;/Mobile/i&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;));\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;But like like Yoav Barnea says...&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// Seem legit&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; isMobile = (&lt;span class=&quot;hljs-string&quot;&gt;&apos;DeviceOrientationEvent&apos;&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt; || &lt;span class=&quot;hljs-string&quot;&gt;&apos;orientation&apos;&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;);\n&lt;span class=&quot;hljs-comment&quot;&gt;// But with my Chrome on windows, DeviceOrientationEvent == fct()&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-regexp&quot;&gt;/Windows NT|Macintosh|Mac OS X|Linux/i&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;)) isMobile = &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n&lt;span class=&quot;hljs-comment&quot;&gt;// My android have &quot;linux&quot; too&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-regexp&quot;&gt;/Mobile/i&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;)) isMobile = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;After this 3 tests, i hope var isMobile is... ok&lt;/p&gt;\n    ","\n&lt;p&gt;Here is he full function &lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isMobile&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (&lt;span class=&quot;hljs-regexp&quot;&gt;/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;||navigator.&lt;span class=&quot;hljs-property&quot;&gt;vendor&lt;/span&gt;||&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;opera&lt;/span&gt;)||&lt;span class=&quot;hljs-regexp&quot;&gt;/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;((navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;||navigator.&lt;span class=&quot;hljs-property&quot;&gt;vendor&lt;/span&gt;||&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;opera&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;substr&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;)))\n}\n\njQuery.&lt;span class=&quot;hljs-title function_&quot;&gt;noConflict&lt;/span&gt;();\n&lt;span class=&quot;hljs-title function_&quot;&gt;jQuery&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;ready&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;isMobile&lt;/span&gt;()) &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Mobile&quot;&lt;/span&gt;); &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Not Mobile&quot;&lt;/span&gt;);\n});\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;what about using &quot;window.screen.width&quot; ?&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;screen&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;width&lt;/span&gt; &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;800&lt;/span&gt;) {\n&lt;span class=&quot;hljs-comment&quot;&gt;// do something&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;or&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;($(&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;width&lt;/span&gt;() &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;800&lt;/span&gt;) {\n&lt;span class=&quot;hljs-comment&quot;&gt;//do something&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I guess this is the best way because there is a new mobile device every day !&lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;(although I think it&apos;s not that supported in old browsers, but give it a try :) )&lt;/em&gt; &lt;/p&gt;\n    ","\n&lt;p&gt;Here&apos;s an ECMAScript 6 solution (TypeScript ready)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;public &lt;span class=&quot;hljs-title function_&quot;&gt;isMobile&lt;/span&gt;(): boolean {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; check = &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n  ((&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;a&lt;/span&gt; =&amp;gt;&lt;/span&gt; {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-regexp&quot;&gt;/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(a) || &lt;span class=&quot;hljs-regexp&quot;&gt;/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(a.&lt;span class=&quot;hljs-title function_&quot;&gt;substr&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;))) check = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n      }))(navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt; || navigator.&lt;span class=&quot;hljs-property&quot;&gt;vendor&lt;/span&gt;);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; check;\n }\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Note that Most newer-gen mobile devices now have resolutions greater than 600x400. ie, an iPhone 6....&lt;/p&gt;\n\n&lt;p&gt;Proof of test: \nran the most upvoted and most recent posts here, with an optional check once run like so:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a&lt;/span&gt;){\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;isMobile&lt;/span&gt; = (&lt;span class=&quot;hljs-regexp&quot;&gt;/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(a)||&lt;span class=&quot;hljs-regexp&quot;&gt;/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(a.&lt;span class=&quot;hljs-title function_&quot;&gt;substr&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;)))\n})(navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;||navigator.&lt;span class=&quot;hljs-property&quot;&gt;vendor&lt;/span&gt;||&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;opera&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;This browser was found to be a % browser.&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;isMobile&lt;/span&gt; ? &lt;span class=&quot;hljs-string&quot;&gt;&apos;mobile&apos;&lt;/span&gt; : &lt;span class=&quot;hljs-string&quot;&gt;&apos;desktop&apos;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Somehow, the following results were returned on the following Browser Apps. Specs: iPhone 6S, iOS 10.3.1.&lt;/p&gt;\n\n&lt;p&gt;Safari (latest): Detected it as a mobile.&lt;/p&gt;\n\n&lt;p&gt;Chrome (latest): Did not detect it as a mobile.&lt;/p&gt;\n\n&lt;p&gt;SO, i then tested the suggestion from &lt;a href=&quot;https://stackoverflow.com/users/1442219/lanti&quot;&gt;Lanti&lt;/a&gt; (&lt;a href=&quot;https://stackoverflow.com/a/31864119/7183483&quot;&gt;https://stackoverflow.com/a/31864119/7183483&lt;/a&gt;), and it did return the proper results (mobile for all iOS devices, and desktop for my Mac). Therefore, i proceeded to edit it a little since it would fire twice (for both mobile and Tablet). I then noticed when testing on an iPad, that it also returned as a mobile, which makes sense, since the Parameters that &lt;a href=&quot;https://stackoverflow.com/users/1442219/lanti&quot;&gt;Lanti&lt;/a&gt; uses check the OS more than anything. Therefore, i simply moved the tablet IF statement inside the mobile check, which would return mobile is the Tablet check was negative, and tablet otherwise. I then added the else clause for the mobile check to return as desktop/laptop, since both qualify, but then noticed that the browser detects CPU and OS brand. So i added what is returned in there as part of else if statement instead. To cap it, I added a cautionary else statement in case nothing was detected.\nSee bellow, will update with a test on a Windows 10 PC soon. &lt;/p&gt;\n\n&lt;p&gt;Oh, and i also added a &apos;debugMode&apos; variable, to easily switch between debug and normal compiling.&lt;/p&gt;\n\n&lt;p&gt;Dislaimer: Full credit to &lt;a href=&quot;https://stackoverflow.com/users/1442219/lanti&quot;&gt;Lanti&lt;/a&gt;, also that this was not tested on Windows Tablets... which might return desktop/laptop, since the OS is pure Windows. Will check once I find a friend who uses one.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;userAgentDetect&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; debugMode = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/Mobile/i&lt;/span&gt;)\n        || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/iPhone/i&lt;/span&gt;)\n        || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/iPod/i&lt;/span&gt;)\n        || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/IEMobile/i&lt;/span&gt;)\n        || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/Windows Phone/i&lt;/span&gt;)\n        || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/Android/i&lt;/span&gt;)\n        || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/BlackBerry/i&lt;/span&gt;)\n        || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/webOS/i&lt;/span&gt;)) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/Tablet/i&lt;/span&gt;)\n            || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/iPad/i&lt;/span&gt;)\n            || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/Nexus 7/i&lt;/span&gt;)\n            || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/Nexus 10/i&lt;/span&gt;)\n            || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/KFAPWI/i&lt;/span&gt;)) {\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;deviceTypeVar&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;tablet&apos;&lt;/span&gt;;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (debugMode === &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;) {\n                &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Device is a tablet - &apos;&lt;/span&gt; + navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;);\n            }\n        } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (debugMode === &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;) {\n                &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Device is a smartphone - &apos;&lt;/span&gt; + navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;);\n            };\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;deviceTypeVar&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;smartphone&apos;&lt;/span&gt;;\n        }\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/Intel Mac/i&lt;/span&gt;)) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (debugMode === &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Device is a desktop or laptop- &apos;&lt;/span&gt; + navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;);\n        }\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;deviceTypeVar&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;desktop_or_laptop&apos;&lt;/span&gt;;\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/Nexus 7/i&lt;/span&gt;)\n        || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/Nexus 10/i&lt;/span&gt;)\n        || &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;navigator&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/KFAPWI/i&lt;/span&gt;)) {\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;deviceTypeVar&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;tablet&apos;&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (debugMode === &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Device is a tablet - &apos;&lt;/span&gt; + navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;);\n        }\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (debugMode === &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Device is unknown- &apos;&lt;/span&gt; + navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;);\n        }\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;deviceTypeVar&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;Unknown&apos;&lt;/span&gt;;\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I have faced some scenarios where above answers dint work for me. So i came up with this. Might be helpful to someone.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/iPhone|iPad|iPod|Android|webOS|BlackBerry|Windows Phone/i&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;)\n || screen.&lt;span class=&quot;hljs-property&quot;&gt;availWidth&lt;/span&gt; &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;480&lt;/span&gt;){\n&lt;span class=&quot;hljs-comment&quot;&gt;//code for mobile&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It depends on your use case. If you focus on screen use &lt;code&gt;screen.availWidth&lt;/code&gt;, or you can use &lt;code&gt;document.body.clientWidth&lt;/code&gt; if you want to render based on document. &lt;/p&gt;\n    ","\n&lt;p&gt;This is what I use.  I know userAgent sniffing is frowned upon, but my need happens to be one of the exclusions!&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;script&amp;gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; brow = navigator.&lt;span class=&quot;hljs-property&quot;&gt;userAgent&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-regexp&quot;&gt;/mobi/i&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(brow)) {\n        &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Mobile Browser&apos;&lt;/span&gt;);\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Do something for mobile&lt;/span&gt;\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Not on Mobile&apos;&lt;/span&gt;);\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Do something for non mobile&lt;/span&gt;\n    }\n&amp;lt;/script&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Ah yes, the age old question...&lt;/p&gt;\n&lt;p&gt;It really depends on what you want to do in response to the knowledge.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;1. Do you want to change UI so it fits nicely on different screen sizes?&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;Use media queries.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;2. Do you want to show/hide things or change functionality based on mouse vs touch?&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/a/36673184/4793643&quot;&gt;This answer above will do&lt;/a&gt; however there could be cases where a user has both and switches around. In that scenario you can toggle some JS variable and/or add a class to the document body when you detect mouse or touch events&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;  &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;mousemove&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    isTouch = &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;body&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;classList&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;add&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;canHover&quot;&lt;/span&gt;);\n  });\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;touchstart&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    isTouch = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;body&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;classList&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;remove&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;canHover&quot;&lt;/span&gt;);\n  });\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;body.&lt;span class=&quot;hljs-property&quot;&gt;canHover&lt;/span&gt; #&lt;span class=&quot;hljs-attr&quot;&gt;aButtonOrSomething&lt;/span&gt;:hover {\n  &lt;span class=&quot;hljs-comment&quot;&gt;//css attributes&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;  &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;aButtonOrSomething&quot;&lt;/span&gt;)\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;mouseover&quot;&lt;/span&gt;, showTooltip);\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;aButtonOrSomething&quot;&lt;/span&gt;)\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;click&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (isTouch) &lt;span class=&quot;hljs-title function_&quot;&gt;showTooltip&lt;/span&gt;();\n    });\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;3. Do you want to do something specific knowing exactly what device they have?&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/a/11381730/4793643&quot;&gt;Use the accepted answer.&lt;/a&gt;&lt;/p&gt;\n    "],"574":["\n&lt;p&gt;There is a better way using ES7:&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;&lt;strong&gt;Intersection&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; intersection = arr1.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; arr2.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(x));\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/uasoX.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/uasoX.png&quot; alt=&quot;Intersection difference Venn Diagram&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;For &lt;code&gt;[1,2,3] [2,3]&lt;/code&gt; it will yield &lt;code&gt;[2,3]&lt;/code&gt;. On the other hand, for &lt;code&gt;[1,2,3] [2,3,5]&lt;/code&gt; will return the same thing.&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;&lt;strong&gt;Difference&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; difference = arr1.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; !arr2.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(x));\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/mEtro.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/mEtro.png&quot; alt=&quot;Right difference Venn Diagram&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;For &lt;code&gt;[1,2,3] [2,3]&lt;/code&gt; it will yield &lt;code&gt;[1]&lt;/code&gt;. On the other hand, for &lt;code&gt;[1,2,3] [2,3,5]&lt;/code&gt; will return the same thing.&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;For a &lt;strong&gt;symmetric difference&lt;/strong&gt;, you can do:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; difference = arr1\n                 .&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; !arr2.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(x))\n                 .&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(arr2.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; !arr1.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(x)));\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/zb1hW.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/zb1hW.png&quot; alt=&quot;Symmetric difference Venn Diagram&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;This way, you will get an array containing all the elements of arr1 that are not in arr2 and vice-versa&lt;/p&gt;\n&lt;p&gt;As @Joshaven Potter pointed out on his answer, you can add this to Array.prototype so it can be used like this:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;diff&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr2&lt;/span&gt;) { &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; !arr2.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(x)); }\n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;].&lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;])\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;diff&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;i&lt;/span&gt;) {&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; a.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(i) &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;});\n};\n\n&lt;span class=&quot;hljs-comment&quot;&gt;//////////////&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// Examples //&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//////////////&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; dif1 = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;].&lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;( [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;] );  \n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(dif1); &lt;span class=&quot;hljs-comment&quot;&gt;// =&amp;gt; [1, 2, 6]&lt;/span&gt;\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; dif2 = [&lt;span class=&quot;hljs-string&quot;&gt;&quot;test1&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;test2&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;test3&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;test4&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;test5&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;test6&quot;&lt;/span&gt;].&lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;([&lt;span class=&quot;hljs-string&quot;&gt;&quot;test1&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;test2&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;test3&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;test4&quot;&lt;/span&gt;]);  \n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(dif2); &lt;span class=&quot;hljs-comment&quot;&gt;// =&amp;gt; [&quot;test5&quot;, &quot;test6&quot;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif1&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt; &lt;code&gt;.indexOf()&lt;/code&gt; and &lt;code&gt;.filter()&lt;/code&gt; are not available before IE9.&lt;/p&gt;\n    ","\n&lt;p&gt;This answer was written in 2009, so it is a bit outdated, also it&apos;s rather educational for understanding the problem. Best solution I&apos;d use today would be&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; difference = arr1.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; !arr2.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(x));\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;(credits to other author here)&lt;/p&gt;\n&lt;p&gt;I assume you are comparing a normal array. If not, you need to change the &lt;em&gt;for&lt;/em&gt; loop to a &lt;em&gt;for .. in&lt;/em&gt; loop.&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;arr_diff&lt;/span&gt; (a1, a2) {\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a = [], diff = [];\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; a1.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i++) {\n        a[a1[i]] = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; a2.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i++) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (a[a2[i]]) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt; a[a2[i]];\n        } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n            a[a2[i]] = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n        }\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; k &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; a) {\n        diff.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(k);\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; diff;\n}\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;arr_diff&lt;/span&gt;([&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;]));\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;arr_diff&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;abcd&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;abcde&quot;&lt;/span&gt;));\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;arr_diff&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;zxc&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;zxc&quot;&lt;/span&gt;));&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif2&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;This is by far the easiest way to get exactly the result you are looking for, using jQuery:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; diff = $(old_array).&lt;span class=&quot;hljs-title function_&quot;&gt;not&lt;/span&gt;(new_array).&lt;span class=&quot;hljs-title function_&quot;&gt;get&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;code&gt;diff&lt;/code&gt; now contains what was in &lt;code&gt;old_array&lt;/code&gt; that is not in &lt;code&gt;new_array&lt;/code&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;a href=&quot;http://underscorejs.org/#difference&quot;&gt;The difference method in Underscore&lt;/a&gt; (or its drop-in replacement, &lt;a href=&quot;https://github.com/lodash/lodash/&quot;&gt;Lo-Dash&lt;/a&gt;) can do this too:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;(R)eturns the values &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; array that are not present &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; the other arrays\n\n_.&lt;span class=&quot;hljs-title function_&quot;&gt;difference&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;]);\n=&amp;gt; [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;As with any Underscore function, you could also use it in a more object-oriented style:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;_&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]).&lt;span class=&quot;hljs-title function_&quot;&gt;difference&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;]);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;h2&gt;Plain JavaScript&lt;/h2&gt;\n\n&lt;p&gt;There are two possible intepretations for &quot;difference&quot;. I&apos;ll let you choose which one you want. Say you have:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a1 = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;     ];\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a2 = [     &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;];\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;If you want to get &lt;code&gt;[&apos;a&apos;]&lt;/code&gt;, use this function:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;difference&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a1, a2&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; result = [];\n  &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; a1.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i++) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (a2.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(a1[i]) === -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) {\n      result.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(a1[i]);\n    }\n  }\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; result;\n}\n&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;If you want to get &lt;code&gt;[&apos;a&apos;, &apos;c&apos;]&lt;/code&gt; (all elements contained in &lt;em&gt;either&lt;/em&gt; &lt;code&gt;a1&lt;/code&gt; or &lt;code&gt;a2&lt;/code&gt;, but not both -- the so-called &lt;em&gt;symmetric difference&lt;/em&gt;), use this function:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;symmetricDifference&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a1, a2&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; result = [];\n  &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; a1.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i++) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (a2.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(a1[i]) === -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) {\n      result.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(a1[i]);\n    }\n  }\n  &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; a2.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i++) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (a1.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(a2[i]) === -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) {\n      result.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(a2[i]);\n    }\n  }\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; result;\n}\n&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;h2&gt;Lodash / Underscore&lt;/h2&gt;\n\n&lt;p&gt;If you are using lodash, you can use &lt;a href=&quot;https://lodash.com/docs#difference&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;_.difference(a1, a2)&lt;/code&gt;&lt;/a&gt; (case 1 above) or &lt;a href=&quot;https://lodash.com/docs#xor&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;_.xor(a1, a2)&lt;/code&gt;&lt;/a&gt; (case 2).&lt;/p&gt;\n\n&lt;p&gt;If you are using Underscore.js, you can use the &lt;a href=&quot;http://underscorejs.org/#difference&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;_.difference(a1, a2)&lt;/code&gt;&lt;/a&gt; function for case 1.&lt;/p&gt;\n\n&lt;h2&gt;ES6 Set, for very large arrays&lt;/h2&gt;\n\n&lt;p&gt;The code above works on all browsers. However, for large arrays of more than about 10,000 items, it becomes quite slow, because it has O(n) complexity. On many modern browsers, we can take advantage of the ES6 &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;Set&lt;/code&gt;&lt;/a&gt; object to speed things up. Lodash automatically uses &lt;code&gt;Set&lt;/code&gt; when it&apos;s available. If you are not using lodash, use the following implementation, inspired by &lt;a href=&quot;http://www.2ality.com/2015/01/es6-set-operations.html&quot; rel=&quot;noreferrer&quot;&gt;Axel Rauschmayer&apos;s blog post&lt;/a&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;difference&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a1, a2&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a2Set = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Set&lt;/span&gt;(a2);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; a1.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt;) { &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; !a2Set.&lt;span class=&quot;hljs-title function_&quot;&gt;has&lt;/span&gt;(x); });\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;symmetricDifference&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a1, a2&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;difference&lt;/span&gt;(a1, a2).&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;difference&lt;/span&gt;(a2, a1));\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;Notes&lt;/h2&gt;\n\n&lt;p&gt;The behavior for all examples may be surprising or non-obvious if you care about &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness&quot; rel=&quot;noreferrer&quot;&gt;-0, +0, NaN&lt;/a&gt; or sparse arrays. (For most uses, this doesn&apos;t matter.)&lt;/p&gt;\n    ","\n&lt;p&gt;A cleaner approach in ES6 is the following solution.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a1 = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;];\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a2 = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;];\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;&lt;strong&gt;Difference&lt;/strong&gt;&lt;/h2&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;a2.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;d&lt;/span&gt; =&amp;gt;&lt;/span&gt; !a1.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(d)) &lt;span class=&quot;hljs-comment&quot;&gt;// gives [&quot;c&quot;, &quot;d&quot;]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;&lt;strong&gt;Intersection&lt;/strong&gt;&lt;/h2&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;a2.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;d&lt;/span&gt; =&amp;gt;&lt;/span&gt; a1.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(d)) &lt;span class=&quot;hljs-comment&quot;&gt;// gives [&quot;a&quot;, &quot;b&quot;]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;Disjunctive Union (Symmetric Difference)&lt;/h2&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;[ ...a2.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;d&lt;/span&gt; =&amp;gt;&lt;/span&gt; !a1.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(d)),\n  ...a1.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;d&lt;/span&gt; =&amp;gt;&lt;/span&gt; !a2.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(d)) ]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;To get the &lt;strong&gt;symmetric difference&lt;/strong&gt; you need to compare the arrays in both ways (or in all the ways in case of multiple arrays)&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/FID24.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/FID24.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;h2&gt;ES7 (ECMAScript 2016)&lt;/h2&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// diff between just two arrays:&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;arrayDiff&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a, b&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [\n        ...a.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; !b.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(x)),\n        ...b.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; !a.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(x))\n    ];\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// diff between multiple arrays:&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;arrayDiff&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;...arrays&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [].&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(...arrays.&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;( &lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr, i&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; others = arrays.&lt;span class=&quot;hljs-title function_&quot;&gt;slice&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n        others.&lt;span class=&quot;hljs-title function_&quot;&gt;splice&lt;/span&gt;(i, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; unique = [...&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Set&lt;/span&gt;([].&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(...others))];\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; arr.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; !unique.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(x));\n    }));\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;h2&gt;ES6 (ECMAScript 2015)&lt;/h2&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// diff between just two arrays:&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;arrayDiff&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a, b&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [\n        ...a.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; b.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(x) === -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;),\n        ...b.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; a.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(x) === -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n    ];\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// diff between multiple arrays:&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;arrayDiff&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;...arrays&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [].&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(...arrays.&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;( &lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr, i&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; others = arrays.&lt;span class=&quot;hljs-title function_&quot;&gt;slice&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n        others.&lt;span class=&quot;hljs-title function_&quot;&gt;splice&lt;/span&gt;(i, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; unique = [...&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Set&lt;/span&gt;([].&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(...others))];\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; arr.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; unique.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(x) === -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n    }));\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;h2&gt;ES5 (ECMAScript 5.1)&lt;/h2&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// diff between just two arrays:&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;arrayDiff&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a, b&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; arrays = &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;slice&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;call&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;arguments&lt;/span&gt;);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; diff = [];\n\n    arrays.&lt;span class=&quot;hljs-title function_&quot;&gt;forEach&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr, i&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; other = i === &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; ? a : b;\n        arr.&lt;span class=&quot;hljs-title function_&quot;&gt;forEach&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (other.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(x) === -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) {\n                diff.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(x);\n            }\n        });\n    })\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; diff;\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// diff between multiple arrays:&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;arrayDiff&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; arrays = &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;slice&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;call&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;arguments&lt;/span&gt;);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; diff = [];\n\n    arrays.&lt;span class=&quot;hljs-title function_&quot;&gt;forEach&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr, i&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; others = arrays.&lt;span class=&quot;hljs-title function_&quot;&gt;slice&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n        others.&lt;span class=&quot;hljs-title function_&quot;&gt;splice&lt;/span&gt;(i, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; otherValues = &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;concat&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;apply&lt;/span&gt;([], others);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; unique = otherValues.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;x, j&lt;/span&gt;) { \n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; otherValues.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(x) === j; \n        });\n        diff = diff.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(arr.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; unique.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(x) === -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;));\n    });\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; diff;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Example:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// diff between two arrays:&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; a = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;e&apos;&lt;/span&gt;];\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; b = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;];\n&lt;span class=&quot;hljs-title function_&quot;&gt;arrayDiff&lt;/span&gt;(a, b); &lt;span class=&quot;hljs-comment&quot;&gt;// (3) [&quot;e&quot;, &quot;b&quot;, &quot;c&quot;]&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// diff between multiple arrays&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; a = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;e&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;g&apos;&lt;/span&gt;];\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; b = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;];\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; c = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;e&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;f&apos;&lt;/span&gt;];\n&lt;span class=&quot;hljs-title function_&quot;&gt;arrayDiff&lt;/span&gt;(a, b, c); &lt;span class=&quot;hljs-comment&quot;&gt;// (4)&amp;nbsp;[&quot;c&quot;, &quot;d&quot;, &quot;g&quot;, &quot;f&quot;]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;h2&gt;&lt;em&gt;Difference between Arrays of Objects&lt;/em&gt;&lt;/h2&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;arrayDiffByKey&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;key, ...arrays&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [].&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(...arrays.&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;( &lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr, i&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; others = arrays.&lt;span class=&quot;hljs-title function_&quot;&gt;slice&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n        others.&lt;span class=&quot;hljs-title function_&quot;&gt;splice&lt;/span&gt;(i, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; unique = [...&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Set&lt;/span&gt;([].&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(...others))];\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; arr.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;( &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt;\n            !unique.&lt;span class=&quot;hljs-title function_&quot;&gt;some&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;y&lt;/span&gt; =&amp;gt;&lt;/span&gt; x[key] === y[key])\n        );\n    }));\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Example:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; a = [{&lt;span class=&quot;hljs-attr&quot;&gt;k&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;}, {&lt;span class=&quot;hljs-attr&quot;&gt;k&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;}, {&lt;span class=&quot;hljs-attr&quot;&gt;k&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}];\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; b = [{&lt;span class=&quot;hljs-attr&quot;&gt;k&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;}, {&lt;span class=&quot;hljs-attr&quot;&gt;k&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;}, {&lt;span class=&quot;hljs-attr&quot;&gt;k&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;}, {&lt;span class=&quot;hljs-attr&quot;&gt;k&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;}];\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; c = [{&lt;span class=&quot;hljs-attr&quot;&gt;k&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}, {&lt;span class=&quot;hljs-attr&quot;&gt;k&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;}, {&lt;span class=&quot;hljs-attr&quot;&gt;k&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;}];\n&lt;span class=&quot;hljs-title function_&quot;&gt;arrayDiffByKey&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;k&apos;&lt;/span&gt;, a, b, c); &lt;span class=&quot;hljs-comment&quot;&gt;// (4) [{k:2}, {k:4}, {k:6}, {k:7}]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You could use a &lt;a href=&quot;http://jsclass.jcoglan.com/set.html&quot; rel=&quot;noreferrer&quot;&gt;Set&lt;/a&gt; in this case. It is optimized for this kind of operation (union, intersection, difference).&lt;/p&gt;\n\n&lt;p&gt;Make sure it applies to your case, once it allows no duplicates.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-variable constant_&quot;&gt;JS&lt;/span&gt;.&lt;span class=&quot;hljs-title class_&quot;&gt;Set&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]);\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; b = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-variable constant_&quot;&gt;JS&lt;/span&gt;.&lt;span class=&quot;hljs-title class_&quot;&gt;Set&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]);\n\na.&lt;span class=&quot;hljs-title function_&quot;&gt;difference&lt;/span&gt;(b)\n&lt;span class=&quot;hljs-comment&quot;&gt;// -&amp;gt; Set{1,3,5,7,9}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a1, a2&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; a1.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(a2).&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;val, index, arr&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; arr.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(val) === arr.&lt;span class=&quot;hljs-title function_&quot;&gt;lastIndexOf&lt;/span&gt;(val);\n  });\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Merge both the arrays, unique values will appear only once so indexOf() will be the same as lastIndexOf().&lt;/p&gt;\n    ","\n&lt;p&gt;With the arrival of ES6 with sets and splat operator (at the time of being works only in Firefox, check &lt;a href=&quot;http://kangax.github.io/es5-compat-table/es6/&quot; rel=&quot;noreferrer&quot;&gt;compatibility table&lt;/a&gt;), you can write the following one liner:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;];\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; b = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;];\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; b1 = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Set&lt;/span&gt;(b);\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; difference = [...&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Set&lt;/span&gt;(a.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; !b1.&lt;span class=&quot;hljs-title function_&quot;&gt;has&lt;/span&gt;(x)))];\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;which will result in &lt;code&gt;[ &quot;c&quot;, &quot;d&quot; ]&lt;/code&gt;.&lt;/p&gt;\n    ","\n&lt;h3&gt;One Liners&lt;/h3&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;unique&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;a&lt;/span&gt;) =&amp;gt; [...&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Set&lt;/span&gt;(a)];\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;uniqueBy&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;x,f&lt;/span&gt;)=&amp;gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;values&lt;/span&gt;(x.&lt;span class=&quot;hljs-title function_&quot;&gt;reduce&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a,b&lt;/span&gt;)=&amp;gt;&lt;/span&gt;((a[&lt;span class=&quot;hljs-title function_&quot;&gt;f&lt;/span&gt;(b)]=b),a),{}));\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;intersection&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;a, b&lt;/span&gt;) =&amp;gt; a.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;v&lt;/span&gt;) =&amp;gt;&lt;/span&gt; b.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(v));\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;a, b&lt;/span&gt;) =&amp;gt; a.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;v&lt;/span&gt;) =&amp;gt;&lt;/span&gt; !b.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(v));\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;symDiff&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;a, b&lt;/span&gt;) =&amp;gt; &lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;(a, b).&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;(b, a));\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;union&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;a, b&lt;/span&gt;) =&amp;gt; &lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;(a, b).&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(b);\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; a = &lt;span class=&quot;hljs-title function_&quot;&gt;unique&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]);\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(a);\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; b = [&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;];\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;intersection&lt;/span&gt;(a, b), &lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;(a, b), &lt;span class=&quot;hljs-title function_&quot;&gt;symDiff&lt;/span&gt;(a, b), &lt;span class=&quot;hljs-title function_&quot;&gt;union&lt;/span&gt;(a, b));\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;uniqueBy&lt;/span&gt;(\n  [\n{ &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;abc&quot;&lt;/span&gt; },\n{ &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;xyz&quot;&lt;/span&gt; },\n{ &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;abc&quot;&lt;/span&gt; },\n  ],\n  &lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;v&lt;/span&gt;) =&amp;gt;&lt;/span&gt; v.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt;\n));\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;intersectionBy&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;a, b, f&lt;/span&gt;) =&amp;gt; a.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;v&lt;/span&gt;) =&amp;gt;&lt;/span&gt; b.&lt;span class=&quot;hljs-title function_&quot;&gt;some&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;u&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;f&lt;/span&gt;(v, u)));\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;intersectionBy&lt;/span&gt;(\n [\n  { &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;abc&quot;&lt;/span&gt; },\n  { &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;xyz&quot;&lt;/span&gt; },\n ],\n [\n  { &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;abc&quot;&lt;/span&gt; },\n  { &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;pqr&quot;&lt;/span&gt; },\n ],\n &lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;v, u&lt;/span&gt;) =&amp;gt;&lt;/span&gt; v.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt; === u.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt;\n));\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;diffBy&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;a, b, f&lt;/span&gt;) =&amp;gt; a.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;v&lt;/span&gt;) =&amp;gt;&lt;/span&gt; !b.&lt;span class=&quot;hljs-title function_&quot;&gt;some&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;u&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;f&lt;/span&gt;(v, u)));\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;diffBy&lt;/span&gt;(\n [\n  { &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;abc&quot;&lt;/span&gt; },\n  { &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;xyz&quot;&lt;/span&gt; },\n ],\n [\n  { &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;abc&quot;&lt;/span&gt; },\n  { &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;pqr&quot;&lt;/span&gt; },\n ],\n &lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;v, u&lt;/span&gt;) =&amp;gt;&lt;/span&gt; v.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt; === u.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt;\n));&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif3&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;h2&gt;TypeScript&lt;/h2&gt;\n&lt;p&gt;&lt;a href=&quot;https://www.typescriptlang.org/play?jsx=0#code/MYewdgzgLgBArmAlgRzgUxgXhgHgCoB8AFAIYBOZJAngFwx4DaAugJRYEwMB0PYaA7jADKaKKQrUWTANwAoeaEixEYKGjIQ0wKInBZchcZSoBGOoyYAaGOWMAmc8zaYCsmDYmmuAM0QAbNTIiIgA3Zw5bajsuFWA-OAATNAhQlhY5BXBoGATEb299fGJI00crD3sy8LcK6hMff0DgsPYYAEIS6Nj4pJSw9PlZRWyIKgBbABE8guwiozqy606q9hrc-PnTJc87Fi5FYBIxde9Nu23jEzSMoazYBF0wQsMSs3pmC6iVlzXpzZNPlRdvtwIcxJ0BpklDAVIFNNpHgAhKjPYg1V6LdE7THuAAOZDQuTBaDo-wAaiR4iT6IC7BSqeZwjAAEYgEB+NAkMCyJmvBoBdTNXk7LgQEBjNDBOBM-GExDE0LWaXXQbDWAnZGoohYy442pAvWyolHankynocy0+kW+hM1nsznc4WXflNVKtDoisUSqUygnGtSK+BpSG3aEPVBoTWzQw66iG-3yk2kkKWmF0MBwMbM9RLb4caBkFQAcx5q3cAHlmQArLRQLghc3JbXudwlLj+uDASWkYDAayNqnWFRJAAeTIA3jVWzY+wwjUnA4P0MOwGPAVJ9Mu0HIZ+4CVA4GQniQ+7vWwBfawTi82CAwCecADWaFoMELJaY5hgF5YNQGQA&quot; rel=&quot;nofollow noreferrer&quot;&gt;playground link&lt;/a&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; unique = &amp;lt;T&amp;gt;&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;array: T[]&lt;/span&gt;) =&amp;gt;&lt;/span&gt; [...&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Set&lt;/span&gt;(array)];\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; intersection = &amp;lt;T&amp;gt;&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;array1: T[], array2: T[]&lt;/span&gt;) =&amp;gt;&lt;/span&gt;\n  array1.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;v&lt;/span&gt;) =&amp;gt;&lt;/span&gt; array2.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(v));\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; diff = &amp;lt;T&amp;gt;&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;array1: T[], array2: T[]&lt;/span&gt;) =&amp;gt;&lt;/span&gt;\n  array1.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;v&lt;/span&gt;) =&amp;gt;&lt;/span&gt; !array2.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(v));\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; symDiff = &amp;lt;T&amp;gt;&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;array1: T[], array2: T[]&lt;/span&gt;) =&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;(array1, array2).&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;(array2, array1));\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; union = &amp;lt;T&amp;gt;&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;array1: T[], array2: T[]&lt;/span&gt;) =&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;(array1, array2).&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(array2);\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; intersectionBy = &amp;lt;T&amp;gt;&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;\n  array1: T[],\n  array2: T[],\n  predicate: (array1Value: T, array2Value: T) =&amp;gt; boolean\n&lt;/span&gt;) =&amp;gt;&lt;/span&gt; array1.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;v&lt;/span&gt;) =&amp;gt;&lt;/span&gt; array2.&lt;span class=&quot;hljs-title function_&quot;&gt;some&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;u&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;predicate&lt;/span&gt;(v, u)));\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; diffBy = &amp;lt;T&amp;gt;&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;\n  array1: T[],\n  array2: T[],\n  predicate: (array1Value: T, array2Value: T) =&amp;gt; boolean\n&lt;/span&gt;) =&amp;gt;&lt;/span&gt; array1.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;v&lt;/span&gt;) =&amp;gt;&lt;/span&gt; !array2.&lt;span class=&quot;hljs-title function_&quot;&gt;some&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;u&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;predicate&lt;/span&gt;(v, u)));\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; uniqueBy = &amp;lt;T&amp;gt;&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;\n  array: T[],\n  predicate: (v: T, i: number, a: T[]) =&amp;gt; string\n&lt;/span&gt;) =&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;values&lt;/span&gt;(\n    array.&lt;span class=&quot;hljs-title function_&quot;&gt;reduce&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;acc, value, index&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n      acc[&lt;span class=&quot;hljs-title function_&quot;&gt;predicate&lt;/span&gt;(value, index, array)] = value;\n      &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; acc;\n    }, {} &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; { [&lt;span class=&quot;hljs-attr&quot;&gt;key&lt;/span&gt;: string]: T })\n  );\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;to subtract one array from another, simply use the snippet below:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a1 = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;1&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;2&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;3&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;4&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;6&apos;&lt;/span&gt;];\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a2 = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;3&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;4&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;5&apos;&lt;/span&gt;];\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; items = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;();\n\nitems = jQuery.&lt;span class=&quot;hljs-title function_&quot;&gt;grep&lt;/span&gt;(a1,&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;item&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; jQuery.&lt;span class=&quot;hljs-title function_&quot;&gt;inArray&lt;/span&gt;(item, a2) &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It will returns [&apos;1,&apos;2&apos;,&apos;6&apos;] that are items of first array which don&apos;t exist in the second.&lt;/p&gt;\n\n&lt;p&gt;Therefore, according to your problem sample, following code is the exact solution:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; array1 = [&lt;span class=&quot;hljs-string&quot;&gt;&quot;test1&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;test2&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;test3&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;test4&quot;&lt;/span&gt;];\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; array2 = [&lt;span class=&quot;hljs-string&quot;&gt;&quot;test1&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;test2&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;test3&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;test4&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;test5&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;test6&quot;&lt;/span&gt;];\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; _array = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;();\n\n_array = jQuery.&lt;span class=&quot;hljs-title function_&quot;&gt;grep&lt;/span&gt;(array2, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;item&lt;/span&gt;) {\n     &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; jQuery.&lt;span class=&quot;hljs-title function_&quot;&gt;inArray&lt;/span&gt;(item, array1) &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n});\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Another way to solve the problem&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;diffArray&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr1, arr2&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; arr1.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(arr2).&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;val&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!(arr1.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(val) &amp;amp;&amp;amp; arr2.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(val)))\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; val;\n    });\n}\n\n&lt;span class=&quot;hljs-title function_&quot;&gt;diffArray&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]);    &lt;span class=&quot;hljs-comment&quot;&gt;// return [7, 4, 5]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Also, you can use arrow function syntax:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;diffArray&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;arr1, arr2&lt;/span&gt;) =&amp;gt; arr1.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(arr2)\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;val&lt;/span&gt; =&amp;gt;&lt;/span&gt; !(arr1.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(val) &amp;amp;&amp;amp; arr2.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(val)));\n\n&lt;span class=&quot;hljs-title function_&quot;&gt;diffArray&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]);    &lt;span class=&quot;hljs-comment&quot;&gt;// return [7, 4, 5]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;h2&gt;Functional approach with ES2015&lt;/h2&gt;\n\n&lt;p&gt;Computing the &lt;code&gt;difference&lt;/code&gt; between two arrays is one of the &lt;code&gt;Set&lt;/code&gt; operations. The term already indicates that the native &lt;code&gt;Set&lt;/code&gt; type should be used, in order to increase the lookup speed. Anyway, there are three permutations when you compute the difference between two sets:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;[+left difference] [-intersection] [-right difference]\n[-left difference] [-intersection] [+right difference]\n[+left difference] [-intersection] [+right difference]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here is a functional solution that reflects these permutations.&lt;/p&gt;\n\n&lt;h3&gt;Left &lt;code&gt;difference&lt;/code&gt;:&lt;/h3&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// small, reusable auxiliary functions&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;apply&lt;/span&gt; = f =&amp;gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;f&lt;/span&gt;(x);\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flip&lt;/span&gt; = f =&amp;gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;y&lt;/span&gt; =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;f&lt;/span&gt;(x) (y);\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;createSet&lt;/span&gt; = xs =&amp;gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Set&lt;/span&gt;(xs);\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt; = f =&amp;gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;xs&lt;/span&gt; =&amp;gt;&lt;/span&gt; xs.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;apply&lt;/span&gt;(f));\n\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// left difference&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;differencel&lt;/span&gt; = xs =&amp;gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;ys&lt;/span&gt; =&amp;gt;&lt;/span&gt; {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; zs = &lt;span class=&quot;hljs-title function_&quot;&gt;createSet&lt;/span&gt;(ys);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; zs.&lt;span class=&quot;hljs-title function_&quot;&gt;has&lt;/span&gt;(x)\n     ? &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;\n     : &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;\n  ) (xs);\n};\n\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// mock data&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; xs = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;];\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; ys = [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;];\n\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// run the computation&lt;/span&gt;\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;( &lt;span class=&quot;hljs-title function_&quot;&gt;differencel&lt;/span&gt;(xs) (ys) );&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif4&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;h3&gt;Right &lt;code&gt;difference&lt;/code&gt;:&lt;/h3&gt;\n\n&lt;p&gt;&lt;code&gt;differencer&lt;/code&gt; is trivial. It is just &lt;code&gt;differencel&lt;/code&gt; with flipped arguments. You can write a function for convenience: &lt;code&gt;const differencer = flip(differencel)&lt;/code&gt;. That&apos;s all!&lt;/p&gt;\n\n&lt;h3&gt;Symmetric &lt;code&gt;difference&lt;/code&gt;:&lt;/h3&gt;\n\n&lt;p&gt;Now that we have the left and right one, implementing the symmetric &lt;code&gt;difference&lt;/code&gt; gets trivial as well:&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// small, reusable auxiliary functions&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;apply&lt;/span&gt; = f =&amp;gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;f&lt;/span&gt;(x);\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flip&lt;/span&gt; = f =&amp;gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;y&lt;/span&gt; =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;f&lt;/span&gt;(x) (y);\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt; = y =&amp;gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;xs&lt;/span&gt; =&amp;gt;&lt;/span&gt; xs.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(y);\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;createSet&lt;/span&gt; = xs =&amp;gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Set&lt;/span&gt;(xs);\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt; = f =&amp;gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;xs&lt;/span&gt; =&amp;gt;&lt;/span&gt; xs.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;apply&lt;/span&gt;(f));\n\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// left difference&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;differencel&lt;/span&gt; = xs =&amp;gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;ys&lt;/span&gt; =&amp;gt;&lt;/span&gt; {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; zs = &lt;span class=&quot;hljs-title function_&quot;&gt;createSet&lt;/span&gt;(ys);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; zs.&lt;span class=&quot;hljs-title function_&quot;&gt;has&lt;/span&gt;(x)\n     ? &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;\n     : &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;\n  ) (xs);\n};\n\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// symmetric difference&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;difference&lt;/span&gt; = ys =&amp;gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;xs&lt;/span&gt; =&amp;gt;&lt;/span&gt;\n &lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;differencel&lt;/span&gt;(xs) (ys)) (&lt;span class=&quot;hljs-title function_&quot;&gt;flip&lt;/span&gt;(differencel) (xs) (ys));\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// mock data&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; xs = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;];\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; ys = [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;];\n\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// run the computation&lt;/span&gt;\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;( &lt;span class=&quot;hljs-title function_&quot;&gt;difference&lt;/span&gt;(xs) (ys) );&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif5&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;I guess this example is a good starting point to obtain an impression what functional programming means:&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Programming with building blocks that can be plugged together in many different ways.&lt;/strong&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;A solution using &lt;code&gt;indexOf()&lt;/code&gt; will be ok for small arrays but as they grow in length the performance of the algorithm approaches &lt;code&gt;O(n^2)&lt;/code&gt;.  Here&apos;s a solution that will perform better for very large arrays by using objects as associative arrays to store the array entries as keys; it also eliminates duplicate entries automatically but only works with string values (or values which can be safely stored as strings):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-javascript s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;arrayDiff&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a1, a2&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; o1={}, o2={}, diff=[], i, len, k;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (i=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, len=a1.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i&amp;lt;len; i++) { o1[a1[i]] = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;; }\n  &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (i=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, len=a2.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i&amp;lt;len; i++) { o2[a2[i]] = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;; }\n  &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (k &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; o1) { &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!(k &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; o2)) { diff.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(k); } }\n  &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (k &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; o2) { &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!(k &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; o1)) { diff.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(k); } }\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; diff;\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a1 = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;];\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a2 = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;];\n&lt;span class=&quot;hljs-title function_&quot;&gt;arrayDiff&lt;/span&gt;(a1, a2); &lt;span class=&quot;hljs-comment&quot;&gt;// =&amp;gt; [&apos;c&apos;, &apos;d&apos;]&lt;/span&gt;\n&lt;span class=&quot;hljs-title function_&quot;&gt;arrayDiff&lt;/span&gt;(a2, a1); &lt;span class=&quot;hljs-comment&quot;&gt;// =&amp;gt; [&apos;c&apos;, &apos;d&apos;]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;The above answer by Joshaven Potter is great. But it returns elements in array B that are not in array C, but not the other way around. For example, if &lt;code&gt;var a=[1,2,3,4,5,6].diff( [3,4,5,7]);&lt;/code&gt; then it will output: ==&amp;gt; &lt;code&gt;[1,2,6]&lt;/code&gt;, but &lt;strong&gt;not&lt;/strong&gt; &lt;code&gt;[1,2,6,7]&lt;/code&gt;, which is the actual difference between the two. You can still use Potter&apos;s code above but simply redo the comparison once backwards too:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;diff&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;i&lt;/span&gt;) {&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; !(a.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(i) &amp;gt; -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);});\n};\n\n&lt;span class=&quot;hljs-comment&quot;&gt;////////////////////  &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// Examples  &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;////////////////////&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a=[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;].&lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;( [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]);\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; b=[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;].&lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]);\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; c=a.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(b);\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(c);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This should output: &lt;code&gt;[ 1, 2, 6, 7 ]&lt;/code&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Very Simple Solution with the filter function of JavaScript:&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a1 = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;];\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a2 = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;];\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;diffArray&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr1, arr2&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; newArr = [];\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; myArr = arr1.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(arr2);\n  \n    newArr = myArr.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;item&lt;/span&gt;){\n      &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; arr2.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(item) &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; || arr1.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(item) &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n    });\n   &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(newArr);\n}\n\n&lt;span class=&quot;hljs-title function_&quot;&gt;diffArray&lt;/span&gt;(a1, a2);&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif6&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;difference&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;e&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;i&lt;/span&gt;) {&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; e.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(i) &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;});\n};\n\n&lt;span class=&quot;hljs-attr&quot;&gt;eg&lt;/span&gt;:- \n\n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;].&lt;span class=&quot;hljs-title function_&quot;&gt;difference&lt;/span&gt;( [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;] );  \n =&amp;gt; [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt; , &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;How about this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;contains&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;needle&lt;/span&gt;){\n  &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i&amp;lt;&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i++)\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[i] == needle) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n} \n\n&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;diff&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;compare&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;elem&lt;/span&gt;) {&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; !compare.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(elem);})\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; b = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(a.&lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;(b));\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So this way you can do &lt;code&gt;array1.diff(array2)&lt;/code&gt; to get their difference (Horrible time complexity for the algorithm though - O(array1.length x array2.length) I believe)&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;diffArray&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr1, arr2&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; newArr = arr1.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(arr2);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; newArr.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;i&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; newArr.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(i) == newArr.&lt;span class=&quot;hljs-title function_&quot;&gt;lastIndexOf&lt;/span&gt;(i);\n  });\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;this is works for me&lt;/p&gt;\n    ","\n&lt;p&gt;Using &lt;a href=&quot;http://phrogz.net/JS/ArraySetMath.js&quot; rel=&quot;nofollow&quot;&gt;http://phrogz.net/JS/ArraySetMath.js&lt;/a&gt; you can:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; array1 = [&lt;span class=&quot;hljs-string&quot;&gt;&quot;test1&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;test2&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;test3&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;test4&quot;&lt;/span&gt;];\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; array2 = [&lt;span class=&quot;hljs-string&quot;&gt;&quot;test1&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;test2&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;test3&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;test4&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;test5&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;test6&quot;&lt;/span&gt;];\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; array3 = array2.&lt;span class=&quot;hljs-title function_&quot;&gt;subtract&lt;/span&gt;( array1 );\n&lt;span class=&quot;hljs-comment&quot;&gt;// [&quot;test5&quot;, &quot;test6&quot;]&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; array4 = array1.&lt;span class=&quot;hljs-title function_&quot;&gt;exclusion&lt;/span&gt;( array2 );\n&lt;span class=&quot;hljs-comment&quot;&gt;// [&quot;test5&quot;, &quot;test6&quot;]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;ul&gt;\n&lt;li&gt;Pure JavaScript solution (no libraries)&lt;/li&gt;\n&lt;li&gt;Compatible with older browsers (doesn&apos;t use &lt;code&gt;filter&lt;/code&gt;)&lt;/li&gt;\n&lt;li&gt;O(n^2)&lt;/li&gt;\n&lt;li&gt;Optional &lt;code&gt;fn&lt;/code&gt; callback parameter that lets you specify how to compare array items&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a, b, fn&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; max = &lt;span class=&quot;hljs-title class_&quot;&gt;Math&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;max&lt;/span&gt;(a.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;, b.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;);\n        d = [];\n    fn = &lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; fn === &lt;span class=&quot;hljs-string&quot;&gt;&apos;function&apos;&lt;/span&gt; ? fn : &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; max; i++){\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; ac = i &amp;lt; a.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt; ? a[i] : &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt;\n            bc = i &amp;lt; b.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt; ? b[i] : &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; k=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; k &amp;lt; max; k++){\n            ac = ac === &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt; || (k &amp;lt; b.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt; &amp;amp;&amp;amp; (fn ? &lt;span class=&quot;hljs-title function_&quot;&gt;fn&lt;/span&gt;(ac, b[k]) : ac == b[k])) ? &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt; : ac;\n            bc = bc === &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt; || (k &amp;lt; a.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt; &amp;amp;&amp;amp; (fn ? &lt;span class=&quot;hljs-title function_&quot;&gt;fn&lt;/span&gt;(bc, a[k]) : bc == a[k])) ? &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt; : bc;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(ac == &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt; &amp;amp;&amp;amp; bc == &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n        }\n        ac !== &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt; &amp;amp;&amp;amp; d.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(ac);\n        bc !== &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt; &amp;amp;&amp;amp; d.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(bc);\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; d;\n}\n\n&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(\n    &lt;span class=&quot;hljs-string&quot;&gt;&quot;Test 1: &quot;&lt;/span&gt; + \n    &lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;(\n        [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;],\n        [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]\n      ).&lt;span class=&quot;hljs-title function_&quot;&gt;join&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;, &apos;&lt;/span&gt;) +\n    &lt;span class=&quot;hljs-string&quot;&gt;&quot;\\nTest 2: &quot;&lt;/span&gt; +\n    &lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;(\n        [{&lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;toString&lt;/span&gt;:&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt;}},{&lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;toString&lt;/span&gt;:&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt;}},{&lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;toString&lt;/span&gt;:&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt;}},{&lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;toString&lt;/span&gt;:&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt;}}],\n        [{&lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;toString&lt;/span&gt;:&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt;}},{&lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;e&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;toString&lt;/span&gt;:&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt;}},{&lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;f&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;toString&lt;/span&gt;:&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt;}},{&lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-attr&quot;&gt;toString&lt;/span&gt;:&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt;}}],\n        &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a, b&lt;/span&gt;){ &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; a.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt; == b.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt;; }\n    ).&lt;span class=&quot;hljs-title function_&quot;&gt;join&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;, &apos;&lt;/span&gt;)\n);&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif7&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;To find the &lt;strong&gt;difference&lt;/strong&gt; of 2 arrays without duplicates:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;difference&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr1, arr2&lt;/span&gt;){\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; setA = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Set&lt;/span&gt;(arr1);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; differenceSet = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Set&lt;/span&gt;(arr2.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;ele&lt;/span&gt; =&amp;gt;&lt;/span&gt; !setA.&lt;span class=&quot;hljs-title function_&quot;&gt;has&lt;/span&gt;(ele)));\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [...differenceSet ];\n\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;1.&lt;code&gt;difference([2,2,3,4],[2,3,3,4])&lt;/code&gt; will return &lt;code&gt;[]&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;2.&lt;code&gt;difference([1,2,3],[4,5,6])&lt;/code&gt; will return &lt;code&gt;[4,5,6]&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;3.&lt;code&gt;difference([1,2,3,4],[1,2])&lt;/code&gt; will return &lt;code&gt;[]&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;4.&lt;code&gt;difference([1,2],[1,2,3,4])&lt;/code&gt; will return &lt;code&gt;[3,4]&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;Note: The above solution requires that you always send the larger array as the second parameter. To find the absolute difference, you will need to first find the larger array of the two and then work on them.&lt;/p&gt;\n&lt;p&gt;To find the &lt;strong&gt;absolute difference&lt;/strong&gt; of 2 arrays without duplicates:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;absDifference&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr1, arr2&lt;/span&gt;){\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; {larger, smaller} = arr1.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt; &amp;gt; arr2.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt; ? \n  {&lt;span class=&quot;hljs-attr&quot;&gt;larger&lt;/span&gt;: arr1, &lt;span class=&quot;hljs-attr&quot;&gt;smaller&lt;/span&gt;: arr2} : {&lt;span class=&quot;hljs-attr&quot;&gt;larger&lt;/span&gt;: arr2, &lt;span class=&quot;hljs-attr&quot;&gt;smaller&lt;/span&gt;: arr1}\n  \n  &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; setA = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Set&lt;/span&gt;(smaller);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; absDifferenceSet = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Set&lt;/span&gt;(larger.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;ele&lt;/span&gt; =&amp;gt;&lt;/span&gt; !setA.&lt;span class=&quot;hljs-title function_&quot;&gt;has&lt;/span&gt;(ele)));\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [...absDifferenceSet ];\n\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;1.&lt;code&gt;absDifference([2,2,3,4],[2,3,3,4])&lt;/code&gt; will return &lt;code&gt;[]&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;2.&lt;code&gt;absDifference([1,2,3],[4,5,6])&lt;/code&gt; will return &lt;code&gt;[4,5,6]&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;3.&lt;code&gt;absDifference([1,2,3,4],[1,2])&lt;/code&gt; will return &lt;code&gt;[3,4]&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;4.&lt;code&gt;absDifference([1,2],[1,2,3,4])&lt;/code&gt; will return &lt;code&gt;[3,4]&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;Note the &lt;strong&gt;example 3&lt;/strong&gt; from both the solutions&lt;/p&gt;\n    ","\n&lt;p&gt;If you have two list of objects&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; people = [{&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;cesar&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;23&lt;/span&gt;}]\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; morePeople = [{&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;cesar&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;23&lt;/span&gt;}, {&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;kevin&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;26&lt;/span&gt;}, {&lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;pedro&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;age&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;}]\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; result2 = morePeople.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;person&lt;/span&gt; =&amp;gt;&lt;/span&gt; people.&lt;span class=&quot;hljs-title function_&quot;&gt;every&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;person2&lt;/span&gt; =&amp;gt;&lt;/span&gt; !person2.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;includes&lt;/span&gt;(person.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt;)))\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I wanted a similar function which took in an old array and a new array and gave me an array of added items and an array of removed items, and I wanted it to be efficient (so no .contains!).&lt;/p&gt;\n\n&lt;p&gt;You can play with my proposed solution here: &lt;a href=&quot;http://jsbin.com/osewu3/12&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://jsbin.com/osewu3/12&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;Can anyone see any problems/improvements to that algorithm? Thanks!&lt;/p&gt;\n\n&lt;p&gt;Code listing:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;o, n&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-comment&quot;&gt;// deal with empty lists&lt;/span&gt;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (o == &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt;) o = [];\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (n == &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt;) n = [];\n\n  &lt;span class=&quot;hljs-comment&quot;&gt;// sort both arrays (or this won&apos;t work)&lt;/span&gt;\n  o.&lt;span class=&quot;hljs-title function_&quot;&gt;sort&lt;/span&gt;(); n.&lt;span class=&quot;hljs-title function_&quot;&gt;sort&lt;/span&gt;();\n\n  &lt;span class=&quot;hljs-comment&quot;&gt;// don&apos;t compare if either list is empty&lt;/span&gt;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (o.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt; == &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; || n.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt; == &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; {&lt;span class=&quot;hljs-attr&quot;&gt;added&lt;/span&gt;: n, &lt;span class=&quot;hljs-attr&quot;&gt;removed&lt;/span&gt;: o};\n\n  &lt;span class=&quot;hljs-comment&quot;&gt;// declare temporary variables&lt;/span&gt;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; op = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; np = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a = []; &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; r = [];\n\n  &lt;span class=&quot;hljs-comment&quot;&gt;// compare arrays and add to add or remove lists&lt;/span&gt;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (op &amp;lt; o.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt; &amp;amp;&amp;amp; np &amp;lt; n.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (o[op] &amp;lt; n[np]) {\n          &lt;span class=&quot;hljs-comment&quot;&gt;// push to diff?&lt;/span&gt;\n          r.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(o[op]);\n          op++;\n      }\n      &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (o[op] &amp;gt; n[np]) {\n          &lt;span class=&quot;hljs-comment&quot;&gt;// push to diff?&lt;/span&gt;\n          a.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(n[np]);\n          np++;\n      }\n      &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n          op++;np++;\n      }\n  }\n\n  &lt;span class=&quot;hljs-comment&quot;&gt;// add remaining items&lt;/span&gt;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;( np &amp;lt; n.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt; )\n    a = a.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(n.&lt;span class=&quot;hljs-title function_&quot;&gt;slice&lt;/span&gt;(np, n.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;));\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;( op &amp;lt; o.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt; )\n    r = r.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(o.&lt;span class=&quot;hljs-title function_&quot;&gt;slice&lt;/span&gt;(op, o.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;));\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; {&lt;span class=&quot;hljs-attr&quot;&gt;added&lt;/span&gt;: a, &lt;span class=&quot;hljs-attr&quot;&gt;removed&lt;/span&gt;: r}; \n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You can use underscore.js : &lt;a href=&quot;http://underscorejs.org/#intersection&quot; rel=&quot;nofollow&quot;&gt;http://underscorejs.org/#intersection&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;You have needed methods for array : &lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;_.&lt;span class=&quot;hljs-title function_&quot;&gt;difference&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;]);\n=&amp;gt; [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n\n_.&lt;span class=&quot;hljs-title function_&quot;&gt;intersection&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;101&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]);\n=&amp;gt; [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;This is working: basically merge the two arrays, look for the duplicates and push what is not duplicated into a new array which is the difference.&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr1, arr2&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; newArr = [];\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; arr = arr1.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(arr2);\n  \n  &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; arr){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; f = arr[i];\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; t = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (j=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; j&amp;lt;arr.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; j++){\n      &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(arr[j] === f){\n        t++; \n        }\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (t === &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;){\n      newArr.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(f);\n        }\n  } \n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; newArr;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif8&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;//es6 approach   &lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;diff&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a, b&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; u = a.&lt;span class=&quot;hljs-title function_&quot;&gt;slice&lt;/span&gt;(); &lt;span class=&quot;hljs-comment&quot;&gt;//dup the array&lt;/span&gt;\n  b.&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;e&lt;/span&gt; =&amp;gt;&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (u.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(e) &amp;gt; -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt; u[u.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(e)]\n    &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; u.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(e)   &lt;span class=&quot;hljs-comment&quot;&gt;//add non existing item to temp array&lt;/span&gt;\n  })\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; u.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (x != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;)}) &lt;span class=&quot;hljs-comment&quot;&gt;//flatten result&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;Symmetric&lt;/strong&gt; and &lt;strong&gt;linear complexity&lt;/strong&gt;. Requires ES6.  &lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;arrDiff&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr1, arr2&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; arrays = [arr1, arr2].&lt;span class=&quot;hljs-title function_&quot;&gt;sort&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a, b&lt;/span&gt;) =&amp;gt;&lt;/span&gt; a.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt; - b.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; smallSet = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Set&lt;/span&gt;(arrays[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]);\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; arrays[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;].&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; !smallSet.&lt;span class=&quot;hljs-title function_&quot;&gt;has&lt;/span&gt;(x));\n}\n&lt;/code&gt;&lt;/pre&gt;\n    "],"575":["\n&lt;p&gt;\n&lt;strong&gt;update&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://stackblitz.com/edit/angular-ygz3jg&quot; rel=&quot;noreferrer&quot;&gt;&lt;strong&gt;Angular 5 StackBlitz example&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;update&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;ngComponentOutlet&lt;/code&gt; was added to 4.0.0-beta.3&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;update&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;There is a &lt;code&gt;NgComponentOutlet&lt;/code&gt; work in progress that does something similar &lt;a href=&quot;https://github.com/angular/angular/pull/11235&quot; rel=&quot;noreferrer&quot;&gt;https://github.com/angular/angular/pull/11235&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;RC.7&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;http://plnkr.co/edit/UGzoPTCHlXKWrn4p8gd1?p=preview&quot; rel=&quot;noreferrer&quot;&gt;&lt;strong&gt;Plunker example RC.7&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-ts s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// Helper component to add dynamic components&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;@Component&lt;/span&gt;({\n  &lt;span class=&quot;hljs-attr&quot;&gt;selector&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;dcl-wrapper&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-attr&quot;&gt;template&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;`&amp;lt;div #target&amp;gt;&amp;lt;/div&amp;gt;`&lt;/span&gt;\n})\n&lt;span class=&quot;hljs-keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;DclWrapper&lt;/span&gt; {\n  &lt;span class=&quot;hljs-meta&quot;&gt;@ViewChild&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;target&apos;&lt;/span&gt;, {&lt;span class=&quot;hljs-attr&quot;&gt;read&lt;/span&gt;: &lt;span class=&quot;hljs-title class_&quot;&gt;ViewContainerRef&lt;/span&gt;}) &lt;span class=&quot;hljs-attr&quot;&gt;target&lt;/span&gt;: &lt;span class=&quot;hljs-title class_&quot;&gt;ViewContainerRef&lt;/span&gt;;\n  &lt;span class=&quot;hljs-meta&quot;&gt;@Input&lt;/span&gt;() &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;hljs-title class_&quot;&gt;Type&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title class_&quot;&gt;Component&lt;/span&gt;&amp;gt;;\n  &lt;span class=&quot;hljs-attr&quot;&gt;cmpRef&lt;/span&gt;: &lt;span class=&quot;hljs-title class_&quot;&gt;ComponentRef&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title class_&quot;&gt;Component&lt;/span&gt;&amp;gt;;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;isViewInitialized&lt;/span&gt;:&lt;span class=&quot;hljs-built_in&quot;&gt;boolean&lt;/span&gt; = &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;constructor&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; componentFactoryResolver: ComponentFactoryResolver, &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; compiler: Compiler&lt;/span&gt;) {}\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;updateComponent&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(!&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;isViewInitialized&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt;;\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-comment&quot;&gt;// when the `type` input changes we destroy a previously &lt;/span&gt;\n      &lt;span class=&quot;hljs-comment&quot;&gt;// created component before creating the new one&lt;/span&gt;\n      &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;destroy&lt;/span&gt;();\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; factory = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;componentFactoryResolver&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;resolveComponentFactory&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;type&lt;/span&gt;);\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt; = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;target&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;createComponent&lt;/span&gt;(factory)\n    &lt;span class=&quot;hljs-comment&quot;&gt;// to access the created instance use&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// this.compRef.instance.someProperty = &apos;someValue&apos;;&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// this.compRef.instance.someOutput.subscribe(val =&amp;gt; doSomething());&lt;/span&gt;\n  }\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;ngOnChanges&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;updateComponent&lt;/span&gt;();\n  }\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;ngAfterViewInit&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;isViewInitialized&lt;/span&gt; = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;updateComponent&lt;/span&gt;();  \n  }\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;ngOnDestroy&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;destroy&lt;/span&gt;();\n    }    \n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Usage example&lt;/p&gt;\n\n&lt;pre class=&quot;lang-ts s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// Use dcl-wrapper component&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;@Component&lt;/span&gt;({\n  &lt;span class=&quot;hljs-attr&quot;&gt;selector&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;my-tabs&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-attr&quot;&gt;template&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;`\n  &amp;lt;h2&amp;gt;Tabs&amp;lt;/h2&amp;gt;\n  &amp;lt;div *ngFor=&quot;let tab of tabs&quot;&amp;gt;\n    &amp;lt;dcl-wrapper [type]=&quot;tab&quot;&amp;gt;&amp;lt;/dcl-wrapper&amp;gt;\n  &amp;lt;/div&amp;gt;\n`&lt;/span&gt;\n})\n&lt;span class=&quot;hljs-keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Tabs&lt;/span&gt; {\n  &lt;span class=&quot;hljs-meta&quot;&gt;@Input&lt;/span&gt;() tabs;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n\n\n&lt;pre class=&quot;lang-ts s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;@Component&lt;/span&gt;({\n  &lt;span class=&quot;hljs-attr&quot;&gt;selector&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;my-app&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-attr&quot;&gt;template&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;`\n  &amp;lt;h2&amp;gt;Hello {{name}}&amp;lt;/h2&amp;gt;\n  &amp;lt;my-tabs [tabs]=&quot;types&quot;&amp;gt;&amp;lt;/my-tabs&amp;gt;\n`&lt;/span&gt;\n})\n&lt;span class=&quot;hljs-keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;App&lt;/span&gt; {\n  &lt;span class=&quot;hljs-comment&quot;&gt;// The list of components to create tabs from&lt;/span&gt;\n  types = [&lt;span class=&quot;hljs-variable constant_&quot;&gt;C3&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;C1&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;C2&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;C3&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;C3&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;C1&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;C1&lt;/span&gt;];\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n\n\n&lt;pre class=&quot;lang-ts s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;@NgModule&lt;/span&gt;({\n  &lt;span class=&quot;hljs-attr&quot;&gt;imports&lt;/span&gt;: [ &lt;span class=&quot;hljs-title class_&quot;&gt;BrowserModule&lt;/span&gt; ],\n  &lt;span class=&quot;hljs-attr&quot;&gt;declarations&lt;/span&gt;: [ &lt;span class=&quot;hljs-title class_&quot;&gt;App&lt;/span&gt;, &lt;span class=&quot;hljs-title class_&quot;&gt;DclWrapper&lt;/span&gt;, &lt;span class=&quot;hljs-title class_&quot;&gt;Tabs&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;C1&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;C2&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;C3&lt;/span&gt;],\n  &lt;span class=&quot;hljs-attr&quot;&gt;entryComponents&lt;/span&gt;: [&lt;span class=&quot;hljs-variable constant_&quot;&gt;C1&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;C2&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;C3&lt;/span&gt;],\n  &lt;span class=&quot;hljs-attr&quot;&gt;bootstrap&lt;/span&gt;: [ &lt;span class=&quot;hljs-title class_&quot;&gt;App&lt;/span&gt; ]\n})\n&lt;span class=&quot;hljs-keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;AppModule&lt;/span&gt; {}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;See also &lt;a href=&quot;https://angular.io/docs/ts/latest/cookbook/dynamic-component-loader.html&quot; rel=&quot;noreferrer&quot;&gt;angular.io DYNAMIC COMPONENT LOADER&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;older versions&lt;/strong&gt; &lt;strong&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;This changed again in Angular2 RC.5&lt;/p&gt;\n\n&lt;p&gt;I will update the example below but it&apos;s the last day before vacation.&lt;/p&gt;\n\n&lt;p&gt;This &lt;a href=&quot;http://plnkr.co/edit/3dzkMVXe4AGSRhk11TXG?p=preview&quot; rel=&quot;noreferrer&quot;&gt;Plunker example&lt;/a&gt; demonstrates how to dynamically create components in RC.5&lt;/p&gt;\n\n\n\n&lt;p&gt;&lt;strong&gt;Update - use &lt;a href=&quot;https://angular.io/docs/ts/latest/api/core/index/ViewContainerRef-class.html&quot; rel=&quot;noreferrer&quot;&gt;ViewContainerRef&lt;/a&gt;.createComponent()&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Because &lt;code&gt;DynamicComponentLoader&lt;/code&gt; is deprecated, the approach needs to be update again.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-ts s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;@Component&lt;/span&gt;({\n  &lt;span class=&quot;hljs-attr&quot;&gt;selector&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;dcl-wrapper&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-attr&quot;&gt;template&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;`&amp;lt;div #target&amp;gt;&amp;lt;/div&amp;gt;`&lt;/span&gt;\n})\n&lt;span class=&quot;hljs-keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;DclWrapper&lt;/span&gt; {\n  &lt;span class=&quot;hljs-meta&quot;&gt;@ViewChild&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;target&apos;&lt;/span&gt;, {&lt;span class=&quot;hljs-attr&quot;&gt;read&lt;/span&gt;: &lt;span class=&quot;hljs-title class_&quot;&gt;ViewContainerRef&lt;/span&gt;}) target;\n  &lt;span class=&quot;hljs-meta&quot;&gt;@Input&lt;/span&gt;() &lt;span class=&quot;hljs-keyword&quot;&gt;type&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attr&quot;&gt;cmpRef&lt;/span&gt;:&lt;span class=&quot;hljs-title class_&quot;&gt;ComponentRef&lt;/span&gt;;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;isViewInitialized&lt;/span&gt;:&lt;span class=&quot;hljs-built_in&quot;&gt;boolean&lt;/span&gt; = &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;constructor&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; resolver: ComponentResolver&lt;/span&gt;) {}\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;updateComponent&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(!&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;isViewInitialized&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt;;\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;destroy&lt;/span&gt;();\n    }\n   &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;resolver&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;resolveComponent&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;type&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;then&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;factory:ComponentFactory&amp;lt;&lt;span class=&quot;hljs-built_in&quot;&gt;any&lt;/span&gt;&amp;gt;&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n      &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt; = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;target&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;createComponent&lt;/span&gt;(factory)\n      &lt;span class=&quot;hljs-comment&quot;&gt;// to access the created instance use&lt;/span&gt;\n      &lt;span class=&quot;hljs-comment&quot;&gt;// this.compRef.instance.someProperty = &apos;someValue&apos;;&lt;/span&gt;\n      &lt;span class=&quot;hljs-comment&quot;&gt;// this.compRef.instance.someOutput.subscribe(val =&amp;gt; doSomething());&lt;/span&gt;\n    });\n  }\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;ngOnChanges&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;updateComponent&lt;/span&gt;();\n  }\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;ngAfterViewInit&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;isViewInitialized&lt;/span&gt; = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;updateComponent&lt;/span&gt;();  \n  }\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;ngOnDestroy&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;destroy&lt;/span&gt;();\n    }    \n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;a href=&quot;http://plnkr.co/edit/GJTLrnQdRDBvZenX59PZ?p=preview&quot; rel=&quot;noreferrer&quot;&gt;&lt;strong&gt;Plunker example RC.4&lt;/strong&gt;&lt;/a&gt;&lt;br&gt;\n&lt;a href=&quot;https://plnkr.co/edit/PpgMvS?p=preview&quot; rel=&quot;noreferrer&quot;&gt;&lt;strong&gt;Plunker example beta.17&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Update - use loadNextToLocation&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-ts s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;DclWrapper&lt;/span&gt; {\n  &lt;span class=&quot;hljs-meta&quot;&gt;@ViewChild&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;target&apos;&lt;/span&gt;, {&lt;span class=&quot;hljs-attr&quot;&gt;read&lt;/span&gt;: &lt;span class=&quot;hljs-title class_&quot;&gt;ViewContainerRef&lt;/span&gt;}) target;\n  &lt;span class=&quot;hljs-meta&quot;&gt;@Input&lt;/span&gt;() &lt;span class=&quot;hljs-keyword&quot;&gt;type&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attr&quot;&gt;cmpRef&lt;/span&gt;:&lt;span class=&quot;hljs-title class_&quot;&gt;ComponentRef&lt;/span&gt;;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;isViewInitialized&lt;/span&gt;:&lt;span class=&quot;hljs-built_in&quot;&gt;boolean&lt;/span&gt; = &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;constructor&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; dcl:DynamicComponentLoader&lt;/span&gt;) {}\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;updateComponent&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-comment&quot;&gt;// should be executed every time `type` changes but not before `ngAfterViewInit()` was called &lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// to have `target` initialized&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(!&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;isViewInitialized&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt;;\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;destroy&lt;/span&gt;();\n    }\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;dcl&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;loadNextToLocation&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;type&lt;/span&gt;, &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;target&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;then&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;cmpRef&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n      &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt; = cmpRef;\n    });\n  }\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;ngOnChanges&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;updateComponent&lt;/span&gt;();\n  }\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;ngAfterViewInit&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;isViewInitialized&lt;/span&gt; = &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;updateComponent&lt;/span&gt;();  \n  }\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;ngOnDestroy&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;destroy&lt;/span&gt;();\n    }    \n  }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://plnkr.co/edit/kc2Bgg?p=preview&quot; rel=&quot;noreferrer&quot;&gt;&lt;strong&gt;Plunker example beta.17&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;original&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Not entirely sure from your question what your requirements are but I think this should do what you want.&lt;/p&gt;\n\n&lt;p&gt;The &lt;code&gt;Tabs&lt;/code&gt; component gets an array of types passed and it creates &quot;tabs&quot; for each item in the array.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-ts s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;@Component&lt;/span&gt;({\n  &lt;span class=&quot;hljs-attr&quot;&gt;selector&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;dcl-wrapper&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-attr&quot;&gt;template&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;`&amp;lt;div #target&amp;gt;&amp;lt;/div&amp;gt;`&lt;/span&gt;\n})\n&lt;span class=&quot;hljs-keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;DclWrapper&lt;/span&gt; {\n  &lt;span class=&quot;hljs-title function_&quot;&gt;constructor&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; elRef:ElementRef, &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; dcl:DynamicComponentLoader&lt;/span&gt;) {}\n  &lt;span class=&quot;hljs-meta&quot;&gt;@Input&lt;/span&gt;() &lt;span class=&quot;hljs-keyword&quot;&gt;type&lt;/span&gt;;\n\n  &lt;span class=&quot;hljs-title function_&quot;&gt;ngOnChanges&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;dispose&lt;/span&gt;();\n    }\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;dcl&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;loadIntoLocation&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;type&lt;/span&gt;, &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;elRef&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;target&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;then&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;cmpRef&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n      &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt; = cmpRef;\n    });\n  }\n}\n\n&lt;span class=&quot;hljs-meta&quot;&gt;@Component&lt;/span&gt;({\n  &lt;span class=&quot;hljs-attr&quot;&gt;selector&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;c1&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-attr&quot;&gt;template&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;`&amp;lt;h2&amp;gt;c1&amp;lt;/h2&amp;gt;`&lt;/span&gt;\n\n})\n&lt;span class=&quot;hljs-keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;C1&lt;/span&gt; {\n}\n\n&lt;span class=&quot;hljs-meta&quot;&gt;@Component&lt;/span&gt;({\n  &lt;span class=&quot;hljs-attr&quot;&gt;selector&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;c2&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-attr&quot;&gt;template&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;`&amp;lt;h2&amp;gt;c2&amp;lt;/h2&amp;gt;`&lt;/span&gt;\n\n})\n&lt;span class=&quot;hljs-keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;C2&lt;/span&gt; {\n}\n\n&lt;span class=&quot;hljs-meta&quot;&gt;@Component&lt;/span&gt;({\n  &lt;span class=&quot;hljs-attr&quot;&gt;selector&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;c3&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-attr&quot;&gt;template&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;`&amp;lt;h2&amp;gt;c3&amp;lt;/h2&amp;gt;`&lt;/span&gt;\n\n})\n&lt;span class=&quot;hljs-keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;C3&lt;/span&gt; {\n}\n\n&lt;span class=&quot;hljs-meta&quot;&gt;@Component&lt;/span&gt;({\n  &lt;span class=&quot;hljs-attr&quot;&gt;selector&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;my-tabs&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-attr&quot;&gt;directives&lt;/span&gt;: [&lt;span class=&quot;hljs-title class_&quot;&gt;DclWrapper&lt;/span&gt;],\n  &lt;span class=&quot;hljs-attr&quot;&gt;template&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;`\n  &amp;lt;h2&amp;gt;Tabs&amp;lt;/h2&amp;gt;\n  &amp;lt;div *ngFor=&quot;let tab of tabs&quot;&amp;gt;\n    &amp;lt;dcl-wrapper [type]=&quot;tab&quot;&amp;gt;&amp;lt;/dcl-wrapper&amp;gt;\n  &amp;lt;/div&amp;gt;\n`&lt;/span&gt;\n})\n&lt;span class=&quot;hljs-keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Tabs&lt;/span&gt; {\n  &lt;span class=&quot;hljs-meta&quot;&gt;@Input&lt;/span&gt;() tabs;\n}\n\n\n&lt;span class=&quot;hljs-meta&quot;&gt;@Component&lt;/span&gt;({\n  &lt;span class=&quot;hljs-attr&quot;&gt;selector&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;my-app&apos;&lt;/span&gt;,\n  &lt;span class=&quot;hljs-attr&quot;&gt;directives&lt;/span&gt;: [&lt;span class=&quot;hljs-title class_&quot;&gt;Tabs&lt;/span&gt;]\n  &lt;span class=&quot;hljs-attr&quot;&gt;template&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;`\n  &amp;lt;h2&amp;gt;Hello {{name}}&amp;lt;/h2&amp;gt;\n  &amp;lt;my-tabs [tabs]=&quot;types&quot;&amp;gt;&amp;lt;/my-tabs&amp;gt;\n`&lt;/span&gt;\n})\n&lt;span class=&quot;hljs-keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;App&lt;/span&gt; {\n  types = [&lt;span class=&quot;hljs-variable constant_&quot;&gt;C3&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;C1&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;C2&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;C3&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;C3&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;C1&lt;/span&gt;, &lt;span class=&quot;hljs-variable constant_&quot;&gt;C1&lt;/span&gt;];\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://plnkr.co/edit/kc2Bgg?p=preview&quot; rel=&quot;noreferrer&quot;&gt;&lt;strong&gt;Plunker example beta.15&lt;/strong&gt;&lt;/a&gt; (not based on your Plunker)&lt;/p&gt;\n\n&lt;p&gt;There is also a way to pass data along that can be passed to the dynamically created component like (&lt;code&gt;someData&lt;/code&gt; would need to be passed like &lt;code&gt;type&lt;/code&gt;)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-ts s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;    &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;dcl&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;loadIntoLocation&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;type&lt;/span&gt;, &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;elRef&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;target&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;then&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;cmpRef&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n  cmpRef.&lt;span class=&quot;hljs-property&quot;&gt;instance&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;someProperty&lt;/span&gt; = someData;\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cmpRef&lt;/span&gt; = cmpRef;\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;There is also some support to use dependency injection with shared services.&lt;/p&gt;\n\n&lt;p&gt;For more details see &lt;a href=&quot;https://angular.io/docs/ts/latest/cookbook/dynamic-component-loader.html&quot; rel=&quot;noreferrer&quot;&gt;https://angular.io/docs/ts/latest/cookbook/dynamic-component-loader.html&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I&apos;m not cool enough for comments. I fixed the plunker from the accepted answer to work for rc2. Nothing fancy, links to the CDN were just broken is all.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;&apos;@angular/core&apos;: {\n  main: &apos;bundles/core.umd.js&apos;,\n  defaultExtension: &apos;js&apos;\n},\n&apos;@angular/compiler&apos;: {\n  main: &apos;bundles/compiler.umd.js&apos;,\n  defaultExtension: &apos;js&apos;\n},\n&apos;@angular/common&apos;: {\n  main: &apos;bundles/common.umd.js&apos;,\n  defaultExtension: &apos;js&apos;\n},\n&apos;@angular/platform-browser-dynamic&apos;: {\n  main: &apos;bundles/platform-browser-dynamic.umd.js&apos;,\n  defaultExtension: &apos;js&apos;\n},\n&apos;@angular/platform-browser&apos;: {\n  main: &apos;bundles/platform-browser.umd.js&apos;,\n  defaultExtension: &apos;js&apos;\n},\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://plnkr.co/edit/kVJvI1vkzrLZJeRFsZuv?p=preview&quot; rel=&quot;noreferrer&quot;&gt;https://plnkr.co/edit/kVJvI1vkzrLZJeRFsZuv?p=preview&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;there is component ready to use (rc5 compatible)\n&lt;a href=&quot;https://github.com/neuronetpl/ng2-steps&quot; rel=&quot;noreferrer&quot;&gt;ng2-steps&lt;/a&gt;\nwhich uses &lt;code&gt;Compiler&lt;/code&gt; to inject component to step container\nand service for wiring everything together (data sync)&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;    import { Directive , Input, OnInit, Compiler , ViewContainerRef } from &apos;@angular/core&apos;;\n\nimport { StepsService } from &apos;./ng2-steps&apos;;\n\n@Directive({\n  selector:&apos;[ng2-step]&apos;\n})\nexport class StepDirective implements OnInit{\n\n  @Input(&apos;content&apos;) content:any;\n  @Input(&apos;index&apos;) index:string;\n  public instance;\n\n  constructor(\n    private compiler:Compiler,\n    private viewContainerRef:ViewContainerRef,\n    private sds:StepsService\n  ){}\n\n  ngOnInit(){\n    //Magic!\n    this.compiler.compileComponentAsync(this.content).then((cmpFactory)=&amp;gt;{\n      const injector = this.viewContainerRef.injector;\n      this.viewContainerRef.createComponent(cmpFactory, 0,  injector);\n    });\n  }\n\n}\n&lt;/code&gt;&lt;/pre&gt;\n    "]},"page":"8","randomQuestions":[{"title":"How to remove all duplicates from an array of objects?","slug":"how-to-remove-all-duplicates-from-an-array-of-objects-1657388256190"},{"title":"MySQL Error 1093 - Can't specify target table for update in FROM clause","slug":"mysql-error-1093-can't-specify-target-table-for-update-in-from-clause-1657388078961"},{"title":"Relative imports for the billionth time","slug":"relative-imports-for-the-billionth-time-1657387756383"},{"title":"How do I create variable variables?","slug":"how-do-i-create-variable-variables-1657384387679"},{"title":"What are the rules about using an underscore in a C++ identifier?","slug":"what-are-the-rules-about-using-an-underscore-in-a-c++-identifier-1657384557197"},{"title":"Why does std::getline() skip input after a formatted extraction?","slug":"why-does-std::getline()-skip-input-after-a-formatted-extraction-1657384756118"},{"title":"How do I redirect to another webpage?","slug":"how-do-i-redirect-to-another-webpage-1657384869767"},{"title":"How to center an element horizontally and vertically","slug":"how-to-center-an-element-horizontally-and-vertically-1657388132330"},{"title":"What's the simplest way to print a Java array?","slug":"what's-the-simplest-way-to-print-a-java-array-1657384702397"},{"title":"What is the strict aliasing rule?","slug":"what-is-the-strict-aliasing-rule-1657384742852"},{"title":"Is there a \"previous sibling\" selector?","slug":"is-there-a-\"previous-sibling\"-selector-1657384771067"},{"title":"Preview an image before it is uploaded","slug":"preview-an-image-before-it-is-uploaded-1657388048128"},{"title":"What is the \"N+1 selects problem\" in ORM (Object-Relational Mapping)?","slug":"what-is-the-\"n+1-selects-problem\"-in-orm-(object-relational-mapping)-1657388055597"},{"title":"Is Java \"pass-by-reference\" or \"pass-by-value\"?","slug":"is-java-\"pass-by-reference\"-or-\"pass-by-value\"-1657384319828"},{"title":"How do I split a delimited string so I can access individual items?","slug":"how-do-i-split-a-delimited-string-so-i-can-access-individual-items-1657388042385"},{"title":"Selecting and manipulating CSS pseudo-elements such as ::before and ::after using javascript (or jQuery)","slug":"selecting-and-manipulating-css-pseudo-elements-such-as-::before-and-::after-using-javascript-(or-jquery)-1657387406132"},{"title":"Why does Date.parse give incorrect results?","slug":"why-does-date.parse-give-incorrect-results-1657384642821"},{"title":"Where and why do I have to put the \"template\" and \"typename\" keywords?","slug":"where-and-why-do-i-have-to-put-the-\"template\"-and-\"typename\"-keywords-1657384467606"},{"title":"UTF-8 all the way through","slug":"utf-8-all-the-way-through-1657384323434"},{"title":"Calculate distance between two latitude-longitude points? (Haversine formula)","slug":"calculate-distance-between-two-latitude-longitude-points-(haversine-formula)-1657388500103"}]},"__N_SSG":true}