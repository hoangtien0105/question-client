{"pageProps":{"data":{"count":610,"rows":[{"id":390,"title":"Are dictionaries ordered in Python 3.6+?","slug":"are-dictionaries-ordered-in-python-3.6+-1657387834234","postType":"QUESTION","createdAt":"2022-07-09T17:30:34.000Z","updatedAt":"2022-07-09T17:30:34.000Z","tags":[{"id":2115,"name":"python-3.6","slug":"python-3.6","createdAt":"2022-07-09T17:30:34.000Z","updatedAt":"2022-07-09T17:30:34.000Z","Questions_Tags":{"questionId":390,"tagId":2115}}]},{"id":389,"title":"How to affect other elements when one element is hovered","slug":"how-to-affect-other-elements-when-one-element-is-hovered-1657387832363","postType":"QUESTION","createdAt":"2022-07-09T17:30:32.000Z","updatedAt":"2022-07-09T17:30:32.000Z","tags":[{"id":2110,"name":"hover","slug":"hover","createdAt":"2022-07-09T17:30:32.000Z","updatedAt":"2022-07-09T17:30:32.000Z","Questions_Tags":{"questionId":389,"tagId":2110}}]},{"id":388,"title":"C++ Singleton design pattern","slug":"c++-singleton-design-pattern-1657387830040","postType":"QUESTION","createdAt":"2022-07-09T17:30:30.000Z","updatedAt":"2022-07-09T17:30:30.000Z","tags":[]},{"id":387,"title":"Merge/flatten an array of arrays","slug":"mergeflatten-an-array-of-arrays-1657387827427","postType":"QUESTION","createdAt":"2022-07-09T17:30:27.000Z","updatedAt":"2022-07-09T17:30:27.000Z","tags":[]},{"id":386,"title":"What is the difference between char s[] and char *s?","slug":"what-is-the-difference-between-char-s-and-char-*s-1657387823570","postType":"QUESTION","createdAt":"2022-07-09T17:30:23.000Z","updatedAt":"2022-07-09T17:30:23.000Z","tags":[{"id":2098,"name":"char","slug":"char","createdAt":"2022-07-09T17:30:23.000Z","updatedAt":"2022-07-09T17:30:23.000Z","Questions_Tags":{"questionId":386,"tagId":2098}},{"id":2099,"name":"constants","slug":"constants","createdAt":"2022-07-09T17:30:23.000Z","updatedAt":"2022-07-09T17:30:23.000Z","Questions_Tags":{"questionId":386,"tagId":2099}}]}]},"answers":{"386":["\n&lt;p&gt;The difference here is that &lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *s = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Hello world&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;will place &lt;code&gt;&quot;Hello world&quot;&lt;/code&gt; in the &lt;em&gt;read-only parts of the memory&lt;/em&gt;, and making &lt;code&gt;s&lt;/code&gt; a pointer to that makes any writing operation on this memory illegal. &lt;/p&gt;\n\n&lt;p&gt;While doing:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; s[] = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Hello world&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;puts the literal string in read-only memory and copies the string to newly allocated memory on the stack. Thus making&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;s[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-string&quot;&gt;&apos;J&apos;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;legal.&lt;/p&gt;\n    ","\n&lt;p&gt;First off, in function arguments, they are exactly equivalent:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *x)&lt;/span&gt;;\n&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; x[])&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// exactly the same in all respects&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;In other contexts, &lt;code&gt;char *&lt;/code&gt; allocates a pointer, while &lt;code&gt;char []&lt;/code&gt; allocates an array. Where does the string go in the former case, you ask? The compiler secretly allocates a static anonymous array to hold the string literal. So:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *x = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Foo&quot;&lt;/span&gt;;\n&lt;span class=&quot;hljs-comment&quot;&gt;// is approximately equivalent to:&lt;/span&gt;\n&lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; __secret_anonymous_array[] = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Foo&quot;&lt;/span&gt;;\n&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *x = (&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *) __secret_anonymous_array;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Note that you must not ever attempt to modify the contents of this anonymous array via this pointer; the effects are undefined (often meaning a crash):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;x[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] = &lt;span class=&quot;hljs-string&quot;&gt;&apos;O&apos;&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// BAD. DON&apos;T DO THIS.&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Using the array syntax directly allocates it into new memory. Thus modification is safe:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; x[] = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Foo&quot;&lt;/span&gt;;\nx[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] = &lt;span class=&quot;hljs-string&quot;&gt;&apos;O&apos;&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// No problem.&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;However the array only lives as long as its contaning scope, so if you do this in a function, don&apos;t return or leak a pointer to this array - make a copy instead with &lt;code&gt;strdup()&lt;/code&gt; or similar. If the array is allocated in global scope, of course, no problem.&lt;/p&gt;\n    ","\n&lt;p&gt;This declaration:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; s[] = &lt;span class=&quot;hljs-string&quot;&gt;&quot;hello&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Creates &lt;em&gt;one&lt;/em&gt; object - a &lt;code&gt;char&lt;/code&gt; array of size 6, called &lt;code&gt;s&lt;/code&gt;, initialised with the values &lt;code&gt;&apos;h&apos;, &apos;e&apos;, &apos;l&apos;, &apos;l&apos;, &apos;o&apos;, &apos;\\0&apos;&lt;/code&gt;.  Where this array is allocated in memory, and how long it lives for, depends on where the declaration appears.  If the declaration is within a function, it will live until the end of the block that it is declared in, and almost certainly be allocated on the stack; if it&apos;s outside a function, it will &lt;em&gt;probably&lt;/em&gt; be stored within an &quot;initialised data segment&quot; that is loaded from the executable file into writeable memory when the program is run.&lt;/p&gt;\n\n&lt;p&gt;On the other hand, this declaration:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *s =&lt;span class=&quot;hljs-string&quot;&gt;&quot;hello&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Creates &lt;em&gt;two&lt;/em&gt; objects:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;a &lt;strong&gt;read-only&lt;/strong&gt; array of 6 &lt;code&gt;char&lt;/code&gt;s containing the values &lt;code&gt;&apos;h&apos;, &apos;e&apos;, &apos;l&apos;, &apos;l&apos;, &apos;o&apos;, &apos;\\0&apos;&lt;/code&gt;, which has no name and has &lt;em&gt;static storage duration&lt;/em&gt; (meaning that it lives for the entire life of the program); and&lt;/li&gt;\n&lt;li&gt;a variable of type pointer-to-char, called &lt;code&gt;s&lt;/code&gt;, which is initialised with the location of the first character in that unnamed, read-only array.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;The unnamed read-only array is typically located in the &quot;text&quot; segment of the program, which means it is loaded from disk into read-only memory, along with the code itself.  The location of the &lt;code&gt;s&lt;/code&gt; pointer variable in memory depends on where the declaration appears (just like in the first example).&lt;/p&gt;\n    ","\n&lt;p&gt;Given the declarations&lt;/p&gt;\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *s0 = &lt;span class=&quot;hljs-string&quot;&gt;&quot;hello world&quot;&lt;/span&gt;;\n&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; s1[] = &lt;span class=&quot;hljs-string&quot;&gt;&quot;hello world&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;assume the following hypothetical memory map (the columns represent characters at offsets 0 to 3 from the given row address, so e.g. the &lt;code&gt;0x00&lt;/code&gt; in the bottom right corner is at address &lt;code&gt;0x0001000C + 3&lt;/code&gt; = &lt;code&gt;0x0001000F&lt;/code&gt;):&lt;/p&gt;\n&lt;pre&gt;                     +0    +1    +2    +3\n        0x00008000: &apos;h&apos;   &apos;e&apos;   &apos;l&apos;   &apos;l&apos;\n        0x00008004: &apos;o&apos;   &apos; &apos;   &apos;w&apos;   &apos;o&apos;\n        0x00008008: &apos;r&apos;   &apos;l&apos;   &apos;d&apos;   0x00\n        ...\ns0:     0x00010000: 0x00  0x00  0x80  0x00\ns1:     0x00010004: &apos;h&apos;   &apos;e&apos;   &apos;l&apos;   &apos;l&apos;\n        0x00010008: &apos;o&apos;   &apos; &apos;   &apos;w&apos;   &apos;o&apos;\n        0x0001000C: &apos;r&apos;   &apos;l&apos;   &apos;d&apos;   0x00\n&lt;/pre&gt;\n&lt;p&gt;The string literal &lt;code&gt;&quot;hello world&quot;&lt;/code&gt; is a 12-element array of &lt;code&gt;char&lt;/code&gt; (&lt;code&gt;const char&lt;/code&gt; in C++) with static storage duration, meaning that the memory for it is allocated when the program starts up and remains allocated until the program terminates.  Attempting to modify the contents of a string literal invokes undefined behavior.&lt;/p&gt;\n&lt;p&gt;The line&lt;/p&gt;\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *s0 = &lt;span class=&quot;hljs-string&quot;&gt;&quot;hello world&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;defines &lt;code&gt;s0&lt;/code&gt; as a pointer to &lt;code&gt;char&lt;/code&gt; with auto storage duration (meaning the variable &lt;code&gt;s0&lt;/code&gt; only exists for the scope in which it is declared) and copies the &lt;em&gt;address&lt;/em&gt; of the string literal (&lt;code&gt;0x00008000&lt;/code&gt; in this example) to it. Note that since &lt;code&gt;s0&lt;/code&gt; points to a string literal, it should not be used as an argument to any function that would try to modify it (e.g., &lt;code&gt;strtok()&lt;/code&gt;, &lt;code&gt;strcat()&lt;/code&gt;, &lt;code&gt;strcpy()&lt;/code&gt;, etc.).&lt;/p&gt;\n&lt;p&gt;The line&lt;/p&gt;\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; s1[] = &lt;span class=&quot;hljs-string&quot;&gt;&quot;hello world&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;defines &lt;code&gt;s1&lt;/code&gt; as a 12-element array of &lt;code&gt;char&lt;/code&gt; (length is taken from the string literal) with auto storage duration and copies the &lt;em&gt;contents&lt;/em&gt; of the literal to the array.  As you can see from the memory map, we have two copies of the string &lt;code&gt;&quot;hello world&quot;&lt;/code&gt;; the difference is that you can modify the string contained in &lt;code&gt;s1&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;&lt;code&gt;s0&lt;/code&gt; and &lt;code&gt;s1&lt;/code&gt; are interchangeable in most contexts; here are the exceptions:&lt;/p&gt;\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;sizeof&lt;/span&gt; s0 == &lt;span class=&quot;hljs-keyword&quot;&gt;sizeof&lt;/span&gt; (&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt;*)\n&lt;span class=&quot;hljs-keyword&quot;&gt;sizeof&lt;/span&gt; s1 == &lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;\n\ntype of &amp;amp;s0 == &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; **\ntype of &amp;amp;s1 == &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; (*)[&lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;] &lt;span class=&quot;hljs-comment&quot;&gt;// pointer to a 12-element array of char&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;You can reassign the variable &lt;code&gt;s0&lt;/code&gt; to point to a different string literal or to another variable.  You cannot reassign the variable &lt;code&gt;s1&lt;/code&gt; to point to a different array.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;C99 N1256 draft&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;There are two different uses of character string literals:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;Initialize &lt;code&gt;char[]&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; c[] = &lt;span class=&quot;hljs-string&quot;&gt;&quot;abc&quot;&lt;/span&gt;;      \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This is &quot;more magic&quot;, and described at 6.7.8/14 &quot;Initialization&quot;:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;An array of character type may be initialized by a character string literal, optionally\n  enclosed in braces. Successive characters of the character string literal (including the\n  terminating null character if there is room or if the array is of unknown size) initialize the\n  elements of the array.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;So this is just a shortcut for:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; c[] = {&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\0&apos;&lt;/span&gt;};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Like any other regular array, &lt;code&gt;c&lt;/code&gt; can be modified.&lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Everywhere else: it generates an:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;unnamed&lt;/li&gt;\n&lt;li&gt;array of char &lt;a href=&quot;https://stackoverflow.com/questions/2245664/what-is-the-type-of-string-literals-in-c-c&quot;&gt;What is the type of string literals in C and C++?&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;with static storage&lt;/li&gt;\n&lt;li&gt;that gives UB if modified&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;So when you write:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *c = &lt;span class=&quot;hljs-string&quot;&gt;&quot;abc&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This is similar to:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;/* __unnamed is magic because modifying it gives UB. */&lt;/span&gt;\n&lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; __unnamed[] = &lt;span class=&quot;hljs-string&quot;&gt;&quot;abc&quot;&lt;/span&gt;;\n&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *c = __unnamed;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Note the implicit cast from &lt;code&gt;char[]&lt;/code&gt; to &lt;code&gt;char *&lt;/code&gt;, which is always legal.&lt;/p&gt;\n\n&lt;p&gt;Then if you modify &lt;code&gt;c[0]&lt;/code&gt;, you also modify &lt;code&gt;__unnamed&lt;/code&gt;, which is UB.&lt;/p&gt;\n\n&lt;p&gt;This is documented at 6.4.5 &quot;String literals&quot;:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;5 In translation phase 7, a byte or code of value zero is appended to each multibyte\n  character sequence that results from a string literal or literals. The multibyte character\n  sequence is then used to initialize an array of static storage duration and length just\n  sufficient to contain the sequence. For character string literals, the array elements have\n  type char, and are initialized with the individual bytes of the multibyte character\n  sequence [...]&lt;/p&gt;\n  \n  &lt;p&gt;6 It is unspecified whether these arrays are distinct provided their elements have the\n  appropriate values. If the program attempts to modify such an array, the behavior is\n  undefined.&lt;/p&gt;\n&lt;/blockquote&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;6.7.8/32 &quot;Initialization&quot; gives a direct example:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;EXAMPLE 8: The declaration&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; s[] = &lt;span class=&quot;hljs-string&quot;&gt;&quot;abc&quot;&lt;/span&gt;, t[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;] = &lt;span class=&quot;hljs-string&quot;&gt;&quot;abc&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n  \n  &lt;p&gt;defines &quot;plain&quot; char array objects &lt;code&gt;s&lt;/code&gt; and &lt;code&gt;t&lt;/code&gt; whose elements are initialized with character string literals.&lt;/p&gt;\n  \n  &lt;p&gt;This declaration is identical to&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; s[] = { &lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\0&apos;&lt;/span&gt; },\nt[] = { &lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt; };\n&lt;/code&gt;&lt;/pre&gt;\n  \n  &lt;p&gt;The contents of the arrays are modifiable. On the other hand, the declaration&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *p = &lt;span class=&quot;hljs-string&quot;&gt;&quot;abc&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n  \n  &lt;p&gt;defines &lt;code&gt;p&lt;/code&gt; with type &quot;pointer to char&quot; and initializes it to point to an object with type &quot;array of char&quot; with length 4 whose elements are initialized with a character string literal. If an attempt is made to use &lt;code&gt;p&lt;/code&gt; to modify the contents of the array, the behavior is undefined.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;strong&gt;GCC 4.8 x86-64 ELF implementation&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Program:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt;)&lt;/span&gt; {\n    &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *s = &lt;span class=&quot;hljs-string&quot;&gt;&quot;abc&quot;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;%s\\n&quot;&lt;/span&gt;, s);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Compile and decompile:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;gcc -ggdb -&lt;span class=&quot;hljs-built_in&quot;&gt;std&lt;/span&gt;=c99 -c main.c\nobjdump -Sr main.o\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Output contains:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt; &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *s = &lt;span class=&quot;hljs-string&quot;&gt;&quot;abc&quot;&lt;/span&gt;;\n&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;:  &lt;span class=&quot;hljs-number&quot;&gt;48&lt;/span&gt; c7 &lt;span class=&quot;hljs-number&quot;&gt;45&lt;/span&gt; f8 &lt;span class=&quot;hljs-number&quot;&gt;00&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;00&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;00&lt;/span&gt;    movq   $&lt;span class=&quot;hljs-number&quot;&gt;0x0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;-0x8&lt;/span&gt;(%rbp)\nf:  &lt;span class=&quot;hljs-number&quot;&gt;00&lt;/span&gt; \n        c: R_X86_64_32S .rodata\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Conclusion: GCC stores &lt;code&gt;char*&lt;/code&gt; it in &lt;code&gt;.rodata&lt;/code&gt; section, not in &lt;code&gt;.text&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Note however that the default linker script puts &lt;code&gt;.rodata&lt;/code&gt; and &lt;code&gt;.text&lt;/code&gt; in the same &lt;a href=&quot;https://stackoverflow.com/questions/14361248/whats-the-difference-of-section-and-segment-in-elf-file-format/38117710#38117710&quot;&gt;segment&lt;/a&gt;, which has execute but no write permission. This can be observed with:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;readelf -l a.out\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;which contains:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt; Section to Segment mapping:\n  Segment Sections...\n   &lt;span class=&quot;hljs-number&quot;&gt;02&lt;/span&gt;     .text .rodata\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If we do the same for &lt;code&gt;char[]&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt; &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; s[] = &lt;span class=&quot;hljs-string&quot;&gt;&quot;abc&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;we obtain:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-number&quot;&gt;17&lt;/span&gt;:   c7 &lt;span class=&quot;hljs-number&quot;&gt;45&lt;/span&gt; f0 &lt;span class=&quot;hljs-number&quot;&gt;61&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;62&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;63&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;00&lt;/span&gt;    movl   $&lt;span class=&quot;hljs-number&quot;&gt;0x636261&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;-0x10&lt;/span&gt;(%rbp)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;so it gets stored in the stack (relative to &lt;code&gt;%rbp&lt;/code&gt;).&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; s[] = &lt;span class=&quot;hljs-string&quot;&gt;&quot;hello&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;declares &lt;code&gt;s&lt;/code&gt; to be an array of &lt;code&gt;char&lt;/code&gt; which is long enough to hold the initializer (5 + 1 &lt;code&gt;char&lt;/code&gt;s) and initializes the array by copying the members of the given string literal into the array.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *s = &lt;span class=&quot;hljs-string&quot;&gt;&quot;hello&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;declares &lt;code&gt;s&lt;/code&gt; to be a pointer to one or more (in this case more) &lt;code&gt;char&lt;/code&gt;s and points it directly at a fixed (read-only) location containing the literal &lt;code&gt;&quot;hello&quot;&lt;/code&gt;.&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; s[] = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Hello world&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here, &lt;code&gt;s&lt;/code&gt; is an array of characters, which can be overwritten if we wish.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *s = &lt;span class=&quot;hljs-string&quot;&gt;&quot;hello&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;A string literal is used to create these character blocks somewhere in the memory which this pointer &lt;code&gt;s&lt;/code&gt; is pointing to. We can here reassign the object it is pointing to by changing that, but as long as it points to a string literal the block of characters to which it points can&apos;t be changed.&lt;/p&gt;\n    ","\n&lt;p&gt;As an addition, consider that, as for read-only purposes the use of both is identical, you can access a char by indexing either with &lt;code&gt;[]&lt;/code&gt; or &lt;code&gt;*(&amp;lt;var&amp;gt; + &amp;lt;index&amp;gt;)&lt;/code&gt;\nformat:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;%c&quot;&lt;/span&gt;, x[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]);     &lt;span class=&quot;hljs-comment&quot;&gt;//Prints r&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;%c&quot;&lt;/span&gt;, *(x + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)); &lt;span class=&quot;hljs-comment&quot;&gt;//Prints r&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Obviously, if you attempt to do&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;*(x + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) = &lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You will probably get a Segmentation Fault, as you are trying to access read-only memory.&lt;/p&gt;\n    ","\n&lt;p&gt;Just to add: you also get different values for their sizes.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;sizeof s[] = %zu\\n&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;sizeof&lt;/span&gt;(s));  &lt;span class=&quot;hljs-comment&quot;&gt;//6&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;sizeof *s  = %zu\\n&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;sizeof&lt;/span&gt;(s));  &lt;span class=&quot;hljs-comment&quot;&gt;//4 or 8&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;As mentioned above, for an array &lt;code&gt;&apos;\\0&apos;&lt;/code&gt; will be allocated as the final element.&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *str = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Hello&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The above sets str to point to the literal value &quot;Hello&quot; which is hard-coded in the program&apos;s binary image, which is flagged as read-only in memory, means any change in this String literal is illegal and that would throw segmentation faults.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; str[] = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Hello&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;copies the string to newly allocated memory on the stack. Thus making any change in it is allowed and legal.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;means str[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-string&quot;&gt;&apos;M&apos;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;will change the str to &quot;Mello&quot;.&lt;/p&gt;\n\n&lt;p&gt;For more details, please go through the similar question:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/164194/why-do-i-get-a-segmentation-fault-when-writing-to-a-string-initialized-with-cha&quot;&gt;Why do I get a segmentation fault when writing to a string initialized with &quot;char *s&quot; but not &quot;char s[]&quot;?&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;An example to the difference:&lt;/p&gt;\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;hello&quot;&lt;/span&gt; + &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;//llo&lt;/span&gt;\n&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; a[] = &lt;span class=&quot;hljs-string&quot;&gt;&quot;hello&quot;&lt;/span&gt; + &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;//error&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;In the first case pointer arithmetics are working (arrays passed to a function decay to pointers).&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *s1 = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Hello world&quot;&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// Points to fixed character string which is not allowed to modify&lt;/span&gt;\n&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; s2[] = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Hello world&quot;&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// As good as fixed array of characters in string so allowed to modify&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// s1[0] = &apos;J&apos;; // Illegal&lt;/span&gt;\ns2[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] = &lt;span class=&quot;hljs-string&quot;&gt;&apos;J&apos;&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// Legal&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;In the case of:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *x = &lt;span class=&quot;hljs-string&quot;&gt;&quot;fred&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;x is an &lt;a href=&quot;http://en.wikipedia.org/wiki/Lvalue&quot; rel=&quot;nofollow noreferrer&quot;&gt;lvalue&lt;/a&gt; -- it can be assigned to. But in the case of:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; x[] = &lt;span class=&quot;hljs-string&quot;&gt;&quot;fred&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;x is not an lvalue, it is an rvalue -- you cannot assign to it.&lt;/p&gt;\n    ","\n&lt;p&gt;In the light of comments here it should be obvious that : char * s = &quot;hello&quot; ;\nIs a bad idea, and should be used in very narrow scope. &lt;/p&gt;\n\n&lt;p&gt;This might be a good opportunity to point out that &quot;const correctness&quot; is a &quot;good thing&quot;. Whenever and wherever You can, use the &quot;const&quot; keyword to protect your code, from &quot;relaxed&quot; callers or programmers, which are usually most &quot;relaxed&quot; when pointers come into play.&lt;/p&gt;\n\n&lt;p&gt;Enough melodrama, here is what one can achieve when adorning pointers with &quot;const&quot;.\n(Note: One has to read pointer declarations right-to-left.)\nHere are the 3 different ways to protect yourself when playing with pointers :&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; DBJ* p means &lt;span class=&quot;hljs-string&quot;&gt;&quot;p points to a DBJ that is const&quot;&lt;/span&gt; \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt; that is, the DBJ object can&apos;t be changed via p.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;DBJ* &lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; p means &lt;span class=&quot;hljs-string&quot;&gt;&quot;p is a const pointer to a DBJ&quot;&lt;/span&gt; \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt; that is, you can change the DBJ object via p, but you can&apos;t change the pointer p itself.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; DBJ* &lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; p means &lt;span class=&quot;hljs-string&quot;&gt;&quot;p is a const pointer to a const DBJ&quot;&lt;/span&gt; \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt; that is, you can&apos;t change the pointer p itself, nor can you change the DBJ object via p.&lt;/p&gt;\n\n&lt;p&gt;The errors related to attempted const-ant mutations are caught at compile time. There is no runtime space or speed penalty for const.&lt;/p&gt;\n\n&lt;p&gt;(Assumption is you are using C++ compiler, of course ?)&lt;/p&gt;\n\n&lt;p&gt;--DBJ&lt;/p&gt;\n    "],"387":["\n&lt;p&gt;You can use &lt;code&gt;concat&lt;/code&gt; to merge arrays:&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; arrays = [\n  [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$6&quot;&lt;/span&gt;],\n  [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$12&quot;&lt;/span&gt;],\n  [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$25&quot;&lt;/span&gt;],\n  [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$25&quot;&lt;/span&gt;],\n  [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$18&quot;&lt;/span&gt;],\n  [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$22&quot;&lt;/span&gt;],\n  [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$10&quot;&lt;/span&gt;]\n];\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; merged = [].&lt;span class=&quot;hljs-property&quot;&gt;concat&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;apply&lt;/span&gt;([], arrays);\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(merged);&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif1&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;Using the &lt;code&gt;apply&lt;/code&gt; method of &lt;code&gt;concat&lt;/code&gt; will just take the second parameter as an array, so the last line is identical to this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; merged2 = [].&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;([&lt;span class=&quot;hljs-string&quot;&gt;&quot;$6&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$12&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$25&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$25&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$18&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$22&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$10&quot;&lt;/span&gt;]);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;There is also the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;Array.prototype.flat()&lt;/code&gt;&lt;/a&gt; method (introduced in ES2019) which you could use to flatten the arrays, although &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat#Browser_compatibility&quot; rel=&quot;noreferrer&quot;&gt;it is only available in Node.js starting with version 11, and not at all in Internet Explorer&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; arrays = [\n      [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$6&quot;&lt;/span&gt;],\n      [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$12&quot;&lt;/span&gt;],\n      [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$25&quot;&lt;/span&gt;],\n      [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$25&quot;&lt;/span&gt;],\n      [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$18&quot;&lt;/span&gt;],\n      [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$22&quot;&lt;/span&gt;],\n      [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$10&quot;&lt;/span&gt;]\n    ];\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; merge3 = arrays.&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;//The depth level specifying how deep a nested array structure should be flattened. Defaults to 1.&lt;/span&gt;\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(merge3);\n    &lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif2&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Here&apos;s a short function that uses some of the newer JavaScript array methods to flatten an n-dimensional array.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; arr.&lt;span class=&quot;hljs-title function_&quot;&gt;reduce&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;flat, toFlatten&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; flat.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;isArray&lt;/span&gt;(toFlatten) ? &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(toFlatten) : toFlatten);\n  }, []);\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Usage:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;([[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]]); &lt;span class=&quot;hljs-comment&quot;&gt;// [1, 2, 3, 4, 5]&lt;/span&gt;\n&lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;([[[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;1.1&lt;/span&gt;]], &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]]); &lt;span class=&quot;hljs-comment&quot;&gt;// [1, 1.1, 2, 3, 4, 5]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;There is a confusingly hidden method, which constructs a new array without mutating the original one:&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; oldArray = [[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;],[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;],[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]];\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; newArray = &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;concat&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;apply&lt;/span&gt;([], oldArray);\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(newArray); &lt;span class=&quot;hljs-comment&quot;&gt;// [ 1, 2, 3, 4 ]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif3&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;It can be best done by javascript reduce function.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; arrays = [[&lt;span class=&quot;hljs-string&quot;&gt;&quot;$6&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$12&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$25&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$25&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$18&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$22&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$10&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$0&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$15&quot;&lt;/span&gt;],[&lt;span class=&quot;hljs-string&quot;&gt;&quot;$3&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$75&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$5&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$100&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$7&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$3&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$75&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$5&quot;&lt;/span&gt;]];\n\narrays = arrays.&lt;span class=&quot;hljs-title function_&quot;&gt;reduce&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a, b&lt;/span&gt;){\n     &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; a.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(b);\n}, []);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Or, with ES2015:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;arrays = arrays.&lt;span class=&quot;hljs-title function_&quot;&gt;reduce&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a, b&lt;/span&gt;) =&amp;gt;&lt;/span&gt; a.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(b), []);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;a href=&quot;http://jsfiddle.net/zAzaH/&quot; rel=&quot;noreferrer&quot;&gt;js-fiddle&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce?v=control&quot; rel=&quot;noreferrer&quot;&gt;Mozilla docs&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;There&apos;s a new native method called &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat&quot; rel=&quot;noreferrer&quot;&gt;flat&lt;/a&gt; to do this exactly. &lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;(As of late 2019, &lt;code&gt;flat&lt;/code&gt; is now published in the ECMA 2019 standard, and &lt;code&gt;core-js@3&lt;/code&gt; (babel&apos;s library)  includes it in their polyfill &lt;a href=&quot;https://github.com/zloirock/core-js/blob/master/docs/2019-03-19-core-js-3-babel-and-a-look-into-the-future.md#what-changed-in-core-js3&quot; rel=&quot;noreferrer&quot;&gt;library&lt;/a&gt;)&lt;/em&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; arr1 = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]];\narr1.&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;(); \n&lt;span class=&quot;hljs-comment&quot;&gt;// [1, 2, 3, 4]&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; arr2 = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]]];\narr2.&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;();\n&lt;span class=&quot;hljs-comment&quot;&gt;// [1, 2, 3, 4, [5, 6]]&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Flatten 2 levels deep&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; arr3 = [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]], &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]];\narr3.&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;);\n&lt;span class=&quot;hljs-comment&quot;&gt;// [2, 2, 5, 5, 5, [6], 7];&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Flatten all levels&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; arr4 = [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]], &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]];\narr4.&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Infinity&lt;/span&gt;);\n&lt;span class=&quot;hljs-comment&quot;&gt;// [2, 2, 5, 5, 5, 6, 7];&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Most of the answers here don&apos;t work on huge (e.g. 200 000 elements) arrays, and even if they do, they&apos;re slow. &lt;a href=&quot;https://stackoverflow.com/a/25804569/3853934&quot;&gt;polkovnikov.ph&apos;s answer&lt;/a&gt; has the best performance, but it doesn&apos;t work for deep flattening.&lt;/p&gt;\n\n&lt;p&gt;Here is &lt;strong&gt;the fastest solution, which works also on arrays with multiple levels of nesting&lt;/strong&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; flatten = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr, result = []&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, length = arr.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i &amp;lt; length; i++) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; value = arr[i];\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;isArray&lt;/span&gt;(value)) {\n      &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(value, result);\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n      result.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(value);\n    }\n  }\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; result;\n};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;Examples&lt;/h2&gt;\n\n&lt;h3&gt;Huge arrays&lt;/h3&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;200000&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;fill&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]));\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It handles huge arrays just fine. On my machine this code takes about 14 ms to execute.&lt;/p&gt;\n\n&lt;h3&gt;Nested arrays&lt;/h3&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;fill&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;fill&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;fill&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]))));\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It works with nested arrays. This code produces &lt;code&gt;[1, 1, 1, 1, 1, 1, 1, 1]&lt;/code&gt;.&lt;/p&gt;\n\n&lt;h3&gt;Arrays with different levels of nesting&lt;/h3&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], [[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]]]);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It doesn&apos;t have any problems with flattening arrays like this one.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;Update: it turned out that this solution doesn&apos;t work with large arrays. It you&apos;re looking for a better, faster solution, check out &lt;a href=&quot;https://stackoverflow.com/a/39000004/3853934&quot;&gt;this answer&lt;/a&gt;.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [].&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(...arr)\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Is simply expands &lt;code&gt;arr&lt;/code&gt; and passes it as arguments to &lt;code&gt;concat()&lt;/code&gt;, which merges all the arrays into one. It&apos;s equivalent to &lt;code&gt;[].concat.apply([], arr)&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;You can also try this for deep flattening:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;deepFlatten&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(           &lt;span class=&quot;hljs-comment&quot;&gt;// return shalowly flattened array&lt;/span&gt;\n    arr.&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt;=&amp;gt;&lt;/span&gt;             &lt;span class=&quot;hljs-comment&quot;&gt;// with each x in array&lt;/span&gt;\n      &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;isArray&lt;/span&gt;(x)      &lt;span class=&quot;hljs-comment&quot;&gt;// is x an array?&lt;/span&gt;\n        ? &lt;span class=&quot;hljs-title function_&quot;&gt;deepFlatten&lt;/span&gt;(x)    &lt;span class=&quot;hljs-comment&quot;&gt;// if yes, return deeply flattened x&lt;/span&gt;\n        : x                 &lt;span class=&quot;hljs-comment&quot;&gt;// if no, return just x&lt;/span&gt;\n    )\n  )\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;See demo on &lt;a href=&quot;https://jsbin.com/pimici/2/edit?js,console&quot; rel=&quot;noreferrer&quot;&gt;JSBin&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;References for ECMAScript 6 elements used in this answer:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator&quot; rel=&quot;noreferrer&quot;&gt;Spread operator&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions&quot; rel=&quot;noreferrer&quot;&gt;Arrow functions&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;Side note: methods like &lt;code&gt;find()&lt;/code&gt; and arrow functions are not supported by all browsers, but it doesn&apos;t mean that you can&apos;t use these features right now. Just use &lt;a href=&quot;https://babeljs.io/&quot; rel=&quot;noreferrer&quot;&gt;Babel&lt;/a&gt;  it transforms ES6 code into ES5.&lt;/p&gt;\n    ","\n&lt;p&gt;You can use &lt;a href=&quot;http://underscorejs.org/&quot; rel=&quot;noreferrer&quot;&gt;Underscore&lt;/a&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; x = [[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]];\n\n_.&lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(x); &lt;span class=&quot;hljs-comment&quot;&gt;// =&amp;gt; [1, 2, 3, 4]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Generic procedures mean we don&apos;t have to rewrite complexity each time we need to utilize a specific behaviour.&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;concatMap&lt;/code&gt; (or &lt;code&gt;flatMap&lt;/code&gt;) is exactly what we need in this situation.&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// concat :: ([a],[a]) -&amp;gt; [a]&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;xs,ys&lt;/span&gt;) =&amp;gt;\n  xs.&lt;span class=&quot;hljs-property&quot;&gt;concat&lt;/span&gt; (ys)\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// concatMap :: (a -&amp;gt; [b]) -&amp;gt; [a] -&amp;gt; [b]&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;concatMap&lt;/span&gt; = f =&amp;gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;xs&lt;/span&gt; =&amp;gt;&lt;/span&gt;\n  xs.&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;(f).&lt;span class=&quot;hljs-title function_&quot;&gt;reduce&lt;/span&gt;(concat, [])\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// id :: a -&amp;gt; a&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;id&lt;/span&gt; = x =&amp;gt;\n  x\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// flatten :: [[a]] -&amp;gt; [a]&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; flatten =\n  concatMap (id)\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// your sample data&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; data =\n  [[&lt;span class=&quot;hljs-string&quot;&gt;&quot;$6&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$12&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$25&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$25&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$18&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$22&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$10&quot;&lt;/span&gt;]]\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;log&lt;/span&gt; (flatten (data))&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif4&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;h3&gt;foresight&lt;/h3&gt;\n\n&lt;p&gt;And yes, you guessed it correctly, it only flattens &lt;strong&gt;one&lt;/strong&gt; level, which is exactly how it &lt;em&gt;should&lt;/em&gt; work&lt;/p&gt;\n\n&lt;p&gt;Imagine some data set like this&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// Player :: (String, Number) -&amp;gt; Player&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;Player&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;name,number&lt;/span&gt;) =&amp;gt;\n  [ name, number ]\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// team :: ( . Player) -&amp;gt; Team&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;Team&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;...players&lt;/span&gt;) =&amp;gt;\n  players\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Game :: (Team, Team) -&amp;gt; Game&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;Game&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;teamA, teamB&lt;/span&gt;) =&amp;gt;\n  [ teamA, teamB ]\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// sample data&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; teamA =\n  &lt;span class=&quot;hljs-title class_&quot;&gt;Team&lt;/span&gt; (&lt;span class=&quot;hljs-title class_&quot;&gt;Player&lt;/span&gt; (&lt;span class=&quot;hljs-string&quot;&gt;&apos;bob&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;hljs-title class_&quot;&gt;Player&lt;/span&gt; (&lt;span class=&quot;hljs-string&quot;&gt;&apos;alice&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;))\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; teamB =\n  &lt;span class=&quot;hljs-title class_&quot;&gt;Team&lt;/span&gt; (&lt;span class=&quot;hljs-title class_&quot;&gt;Player&lt;/span&gt; (&lt;span class=&quot;hljs-string&quot;&gt;&apos;ricky&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;), &lt;span class=&quot;hljs-title class_&quot;&gt;Player&lt;/span&gt; (&lt;span class=&quot;hljs-string&quot;&gt;&apos;julian&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;))\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; game =\n  &lt;span class=&quot;hljs-title class_&quot;&gt;Game&lt;/span&gt; (teamA, teamB)\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;log&lt;/span&gt; (game)\n&lt;span class=&quot;hljs-comment&quot;&gt;// [ [ [ &apos;bob&apos;, 5 ], [ &apos;alice&apos;, 6 ] ],&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//   [ [ &apos;ricky&apos;, 4 ], [ &apos;julian&apos;, 2 ] ] ]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif5&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;Ok, now say we want to print a roster that shows all the players that will be participating in &lt;code&gt;game&lt;/code&gt; &lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;gamePlayers&lt;/span&gt; = game =&amp;gt;\n  flatten (game)\n\ngamePlayers (game)\n&lt;span class=&quot;hljs-comment&quot;&gt;// =&amp;gt; [ [ &apos;bob&apos;, 5 ], [ &apos;alice&apos;, 6 ], [ &apos;ricky&apos;, 4 ], [ &apos;julian&apos;, 2 ] ]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If our &lt;code&gt;flatten&lt;/code&gt; procedure flattened nested arrays too, we&apos;d end up with this garbage result &lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;gamePlayers&lt;/span&gt; = game =&amp;gt;\n  &lt;span class=&quot;hljs-title function_&quot;&gt;badGenericFlatten&lt;/span&gt;(game)\n\ngamePlayers (game)\n&lt;span class=&quot;hljs-comment&quot;&gt;// =&amp;gt; [ &apos;bob&apos;, 5, &apos;alice&apos;, 6, &apos;ricky&apos;, 4, &apos;julian&apos;, 2 ]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;h3&gt;rollin&apos; deep, baby&lt;/h3&gt;\n\n&lt;p&gt;That&apos;s not to say sometimes you don&apos;t want to flatten nested arrays, too  only that shouldn&apos;t be the default behaviour.&lt;/p&gt;\n\n&lt;p&gt;We can make a &lt;code&gt;deepFlatten&lt;/code&gt; procedure with ease &lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// concat :: ([a],[a]) -&amp;gt; [a]&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;xs,ys&lt;/span&gt;) =&amp;gt;\n  xs.&lt;span class=&quot;hljs-property&quot;&gt;concat&lt;/span&gt; (ys)\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// concatMap :: (a -&amp;gt; [b]) -&amp;gt; [a] -&amp;gt; [b]&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;concatMap&lt;/span&gt; = f =&amp;gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;xs&lt;/span&gt; =&amp;gt;&lt;/span&gt;\n  xs.&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;(f).&lt;span class=&quot;hljs-title function_&quot;&gt;reduce&lt;/span&gt;(concat, [])\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// id :: a -&amp;gt; a&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;id&lt;/span&gt; = x =&amp;gt;\n  x\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// flatten :: [[a]] -&amp;gt; [a]&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; flatten =\n  concatMap (id)\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// deepFlatten :: [[a]] -&amp;gt; [a]&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; deepFlatten =\n  concatMap (&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;isArray&lt;/span&gt; (x) ? deepFlatten (x) : x)\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// your sample data&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; data =\n  [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;], &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]]], [&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]], &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;log&lt;/span&gt; (flatten (data))\n&lt;span class=&quot;hljs-comment&quot;&gt;// [ 0, 1, [ 2, [ 3, [ 4, 5 ], 6 ] ], 7, [ 8 ], 9 ]&lt;/span&gt;\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;log&lt;/span&gt; (deepFlatten (data))\n&lt;span class=&quot;hljs-comment&quot;&gt;// [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 ]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif6&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;There. Now you have a tool for each job  one for squashing one level of nesting, &lt;code&gt;flatten&lt;/code&gt;, and one for obliterating all nesting &lt;code&gt;deepFlatten&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Maybe you can call it &lt;code&gt;obliterate&lt;/code&gt; or &lt;code&gt;nuke&lt;/code&gt; if you don&apos;t like the name &lt;code&gt;deepFlatten&lt;/code&gt;.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;&lt;strong&gt;Don&apos;t iterate twice !&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Of course the above implementations are clever and concise, but using a &lt;code&gt;.map&lt;/code&gt; followed by a call to &lt;code&gt;.reduce&lt;/code&gt; means we&apos;re actually doing more iterations than necessary&lt;/p&gt;\n\n&lt;p&gt;Using a trusty combinator I&apos;m calling &lt;code&gt;mapReduce&lt;/code&gt; helps keep the iterations to a minium; it takes a mapping function &lt;code&gt;m :: a -&amp;gt; b&lt;/code&gt;, a reducing function &lt;code&gt;r :: (b,a) -&amp;gt;b&lt;/code&gt; and returns a new reducing function - this combinator is at the heart of &lt;em&gt;transducers&lt;/em&gt;; if you&apos;re interested, &lt;a href=&quot;https://stackoverflow.com/search?q=user%3A633183+transducer&quot;&gt;I&apos;ve written other answers about them&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// mapReduce = (a -&amp;gt; b, (b,a) -&amp;gt; b, (b,a) -&amp;gt; b)&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;mapReduce&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;m,r&lt;/span&gt;) =&amp;gt;\n  &lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;acc,x&lt;/span&gt;) =&amp;gt;&lt;/span&gt; r (acc, m (x))\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// concatMap :: (a -&amp;gt; [b]) -&amp;gt; [a] -&amp;gt; [b]&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;concatMap&lt;/span&gt; = f =&amp;gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;xs&lt;/span&gt; =&amp;gt;&lt;/span&gt;\n  xs.&lt;span class=&quot;hljs-property&quot;&gt;reduce&lt;/span&gt; (mapReduce (f, concat), [])\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// concat :: ([a],[a]) -&amp;gt; [a]&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;xs,ys&lt;/span&gt;) =&amp;gt;\n  xs.&lt;span class=&quot;hljs-property&quot;&gt;concat&lt;/span&gt; (ys)\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// id :: a -&amp;gt; a&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;id&lt;/span&gt; = x =&amp;gt;\n  x\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// flatten :: [[a]] -&amp;gt; [a]&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; flatten =\n  concatMap (id)\n  \n&lt;span class=&quot;hljs-comment&quot;&gt;// deepFlatten :: [[a]] -&amp;gt; [a]&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; deepFlatten =\n  concatMap (&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;isArray&lt;/span&gt; (x) ? deepFlatten (x) : x)\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// your sample data&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; data =\n  [ [ [ &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; ],\n      [ &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; ] ],\n    [ [ &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt; ],\n      [ &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt; ] ] ]\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;log&lt;/span&gt; (flatten (data))\n&lt;span class=&quot;hljs-comment&quot;&gt;// [ [ 1. 2 ], [ 3, 4 ], [ 5, 6 ], [ 7, 8 ] ]&lt;/span&gt;\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;log&lt;/span&gt; (deepFlatten (data))\n&lt;span class=&quot;hljs-comment&quot;&gt;// [ 1, 2, 3, 4, 5, 6, 7, 8 ]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif7&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;To flatten an array of single element arrays, you don&apos;t need to import a library, a simple loop is both the simplest and &lt;a href=&quot;http://jsperf.com/flatten-constant-depht-array&quot; rel=&quot;noreferrer&quot;&gt;most efficient&lt;/a&gt; solution :&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; a.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i++) {\n  a[i] = a[i][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;];\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To downvoters: please read the question, don&apos;t downvote because it doesn&apos;t suit your very different problem. This solution is both the fastest and simplest for the asked question.&lt;/p&gt;\n    ","\n&lt;p&gt;A solution for the more general case, when you may have some non-array elements in your array.&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flattenArrayOfArrays&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a, r&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(!r){ r = []}\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i&amp;lt;a.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i++){\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(a[i].&lt;span class=&quot;hljs-property&quot;&gt;constructor&lt;/span&gt; == &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;){\n            &lt;span class=&quot;hljs-title function_&quot;&gt;flattenArrayOfArrays&lt;/span&gt;(a[i], r);\n        }&lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;{\n            r.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(a[i]);\n        }\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; r;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Another ECMAScript 6 solution in functional style:&lt;/p&gt;\n\n&lt;p&gt;Declare a function: &lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt; = arr =&amp;gt; arr.&lt;span class=&quot;hljs-title function_&quot;&gt;reduce&lt;/span&gt;(\n  &lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a, b&lt;/span&gt;) =&amp;gt;&lt;/span&gt; a.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;isArray&lt;/span&gt;(b) ? &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(b) : b), []\n);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and use it:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;( [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]]]] ) &lt;span class=&quot;hljs-comment&quot;&gt;// -&amp;gt; [1,2,3,4,5,6]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt; = arr =&amp;gt; arr.&lt;span class=&quot;hljs-title function_&quot;&gt;reduce&lt;/span&gt;(\n         &lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a, b&lt;/span&gt;) =&amp;gt;&lt;/span&gt; a.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;isArray&lt;/span&gt;(b) ? &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(b) : b), []\n       );\n\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;( &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;],[&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;],&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;],&lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;],[&lt;span class=&quot;hljs-number&quot;&gt;12&lt;/span&gt;],&lt;span class=&quot;hljs-number&quot;&gt;13&lt;/span&gt;]) )&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif8&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;Consider also a native function &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat&quot; rel=&quot;noreferrer&quot;&gt;Array.prototype.flat()&lt;/a&gt; (proposal for ES6) available in last releases of modern browsers. &lt;em&gt;Thanks to @( ) and @(Mark Amery) mentioned it in the comments.&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;The &lt;code&gt;flat&lt;/code&gt; function has one parameter, specifying the expected depth of array nesting, which equals &lt;code&gt;1&lt;/code&gt; by default.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]].&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;();                  &lt;span class=&quot;hljs-comment&quot;&gt;// -&amp;gt; [1, 2, 3, 4]&lt;/span&gt;\n\n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]]].&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;();          &lt;span class=&quot;hljs-comment&quot;&gt;// -&amp;gt; [1, 2, 3, 4, [5, 6]]&lt;/span&gt;\n\n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]]].&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;);         &lt;span class=&quot;hljs-comment&quot;&gt;// -&amp;gt; [1, 2, 3, 4, 5, 6]&lt;/span&gt;\n\n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]]].&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Infinity&lt;/span&gt;);  &lt;span class=&quot;hljs-comment&quot;&gt;// -&amp;gt; [1, 2, 3, 4, 5, 6]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; arr = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]];\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;( arr.&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;() );\n\narr =  [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]]];\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;( arr.&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;() );\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;( arr.&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) );\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;( arr.&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;) );\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;( arr.&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Infinity&lt;/span&gt;) );&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif9&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;You can also try the new &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;Array.flat()&lt;/code&gt;&lt;/a&gt; method. It works in the following manner:&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; arr = [[&lt;span class=&quot;hljs-string&quot;&gt;&quot;$6&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$12&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$25&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$25&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$18&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$22&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$10&quot;&lt;/span&gt;]].&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;()\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(arr);&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif10&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;p&gt;The &lt;code&gt;flat()&lt;/code&gt; method creates a new array with all sub-array elements concatenated into it recursively up to the 1 layer of depth (i.e. arrays inside arrays)&lt;/p&gt;\n&lt;p&gt;If you want to also flatten out 3 dimensional or even higher dimensional arrays you simply call the flat method multiple times. For example (3 dimensions):&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; arr = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]]].&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;();\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(arr);&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif11&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;h2&gt;Be careful!&lt;/h2&gt;\n&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;Array.flat()&lt;/code&gt;&lt;/a&gt; method is relatively new. Older browsers like ie might not have implemented the method. If you want you code to work on all browsers you might have to transpile your JS to an older version. Check for &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat&quot; rel=&quot;noreferrer&quot;&gt;MDN web docs&lt;/a&gt; for current browser compatibility.&lt;/p&gt;\n    ","\n&lt;p&gt;What about using &lt;code&gt;reduce(callback[, initialValue])&lt;/code&gt; method of &lt;code&gt;JavaScript 1.8&lt;/code&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;list.&lt;span class=&quot;hljs-title function_&quot;&gt;reduce&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;p,n&lt;/span&gt;) =&amp;gt;&lt;/span&gt; p.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(n),[]);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Would do the job.&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; common = arr.&lt;span class=&quot;hljs-title function_&quot;&gt;reduce&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a, b&lt;/span&gt;) =&amp;gt;&lt;/span&gt; [...a, ...b], [])\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You can use &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;Array.flat()&lt;/code&gt;&lt;/a&gt; with &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;Infinity&lt;/code&gt;&lt;/a&gt; for any depth of nested array.&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; arr = [ [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]], [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]]], [[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;], [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]], [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]]]] ];\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; flatten = arr.&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Infinity&lt;/span&gt;)\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(flatten)&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif12&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;check here for browser &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flat#Browser_compatibility&quot; rel=&quot;noreferrer&quot;&gt;compatibility&lt;/a&gt; &lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;Please note:&lt;/strong&gt; When &lt;code&gt;Function.prototype.apply&lt;/code&gt; (&lt;code&gt;[].concat.apply([], arrays)&lt;/code&gt;) or the spread operator (&lt;code&gt;[].concat(...arrays)&lt;/code&gt;) is used in order to flatten an array, both can cause stack overflows for large arrays, because every argument of a function is stored on the stack.&lt;/p&gt;\n\n&lt;p&gt;Here is a stack-safe implementation in functional style that weighs up the most important requirements against one another:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;reusability&lt;/li&gt;\n&lt;li&gt;readability&lt;/li&gt;\n&lt;li&gt;conciseness&lt;/li&gt;\n&lt;li&gt;performance&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// small, reusable auxiliary functions:&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;foldl&lt;/span&gt; = f =&amp;gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;acc&lt;/span&gt; =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;xs&lt;/span&gt; =&amp;gt;&lt;/span&gt; xs.&lt;span class=&quot;hljs-title function_&quot;&gt;reduce&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;uncurry&lt;/span&gt;(f), acc); &lt;span class=&quot;hljs-comment&quot;&gt;// aka reduce&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;uncurry&lt;/span&gt; = f =&amp;gt; &lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;a, b&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;f&lt;/span&gt;(a) (b);\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt; = xs =&amp;gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;y&lt;/span&gt; =&amp;gt;&lt;/span&gt; xs.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(y);\n\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// the actual function to flatten an array - a self-explanatory one-line:&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt; = xs =&amp;gt; &lt;span class=&quot;hljs-title function_&quot;&gt;foldl&lt;/span&gt;(concat) ([]) (xs);\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// arbitrary array sizes (until the heap blows up :D)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; xs = [[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;],[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;],[&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]];\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(xs));\n\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Deriving a recursive solution for deeply nested arrays is trivially now&lt;/span&gt;\n\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// yet more small, reusable auxiliary functions:&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt; = f =&amp;gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;xs&lt;/span&gt; =&amp;gt;&lt;/span&gt; xs.&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;apply&lt;/span&gt;(f));\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;apply&lt;/span&gt; = f =&amp;gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;a&lt;/span&gt; =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;f&lt;/span&gt;(a);\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; isArray = &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;isArray&lt;/span&gt;;\n\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// the derived recursive function:&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flattenr&lt;/span&gt; = xs =&amp;gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isArray&lt;/span&gt;(x) ? &lt;span class=&quot;hljs-title function_&quot;&gt;flattenr&lt;/span&gt;(x) : x) (xs));\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; ys = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;],&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;,],&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;],&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;],&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;];\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;flattenr&lt;/span&gt;(ys));&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif13&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;As soon as you get used to small arrow functions in curried form, function composition and higher order functions, this code reads like prose. Programming then merely consists of putting together small building blocks that always work as expected, because they don&apos;t contain any side effects.&lt;/p&gt;\n    ","\n&lt;h1&gt;ES6 One Line Flatten&lt;/h1&gt;\n\n&lt;p&gt;&lt;em&gt;See &lt;a href=&quot;https://lodash.com/docs/4.17.5#flatten&quot; rel=&quot;noreferrer&quot;&gt;lodash flatten&lt;/a&gt;, &lt;a href=&quot;http://underscorejs.org/#flatten&quot; rel=&quot;noreferrer&quot;&gt;underscore flatten (shallow &lt;code&gt;true&lt;/code&gt;)&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; arr.&lt;span class=&quot;hljs-title function_&quot;&gt;reduce&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;acc, e&lt;/span&gt;) =&amp;gt;&lt;/span&gt; acc.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(e), []);\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/a/10865042/2013580&quot;&gt;or&lt;/a&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [].&lt;span class=&quot;hljs-property&quot;&gt;concat&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;apply&lt;/span&gt;([], arr);\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Tested with&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;already flatted&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-function&quot;&gt;() =&amp;gt;&lt;/span&gt; {\n  &lt;span class=&quot;hljs-title function_&quot;&gt;expect&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])).&lt;span class=&quot;hljs-title function_&quot;&gt;toEqual&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]);\n});\n\n&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;flats first level&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-function&quot;&gt;() =&amp;gt;&lt;/span&gt; {\n  &lt;span class=&quot;hljs-title function_&quot;&gt;expect&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]], &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]])).&lt;span class=&quot;hljs-title function_&quot;&gt;toEqual&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]], &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]);\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;ES6 One Line Deep Flatten&lt;/h1&gt;\n\n&lt;p&gt;&lt;em&gt;See &lt;a href=&quot;https://lodash.com/docs/4.17.5#flattenDeep&quot; rel=&quot;noreferrer&quot;&gt;lodash flattenDeep&lt;/a&gt;, &lt;a href=&quot;http://underscorejs.org/#flatten&quot; rel=&quot;noreferrer&quot;&gt;underscore flatten&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flattenDeep&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; arr.&lt;span class=&quot;hljs-title function_&quot;&gt;reduce&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;acc, e&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;isArray&lt;/span&gt;(e) ? acc.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;flattenDeep&lt;/span&gt;(e)) : acc.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(e), []);\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Tested with&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;already flatted&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-function&quot;&gt;() =&amp;gt;&lt;/span&gt; {\n  &lt;span class=&quot;hljs-title function_&quot;&gt;expect&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;flattenDeep&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])).&lt;span class=&quot;hljs-title function_&quot;&gt;toEqual&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]);\n});\n\n&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;flats&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-function&quot;&gt;() =&amp;gt;&lt;/span&gt; {\n  &lt;span class=&quot;hljs-title function_&quot;&gt;expect&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;flattenDeep&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]], &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]])).&lt;span class=&quot;hljs-title function_&quot;&gt;toEqual&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]);\n});\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Using the spread operator:&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; input = [[&lt;span class=&quot;hljs-string&quot;&gt;&quot;$6&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$12&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$25&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$25&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$18&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$22&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$10&quot;&lt;/span&gt;]];\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; output = [].&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(...input);\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(output); &lt;span class=&quot;hljs-comment&quot;&gt;// --&amp;gt; [&quot;$6&quot;, &quot;$12&quot;, &quot;$25&quot;, &quot;$25&quot;, &quot;$18&quot;, &quot;$22&quot;, &quot;$10&quot;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif14&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; array = [[&lt;span class=&quot;hljs-string&quot;&gt;&quot;$6&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$12&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;$16&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$25&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$25&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$18&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$22&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$10&quot;&lt;/span&gt;]]\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a = array.&lt;span class=&quot;hljs-title function_&quot;&gt;flat&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Infinity&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(a);&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif15&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;If you only have arrays with 1 string element:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;[[&lt;span class=&quot;hljs-string&quot;&gt;&quot;$6&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$12&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$25&quot;&lt;/span&gt;], [&lt;span class=&quot;hljs-string&quot;&gt;&quot;$25&quot;&lt;/span&gt;]].&lt;span class=&quot;hljs-title function_&quot;&gt;join&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;,&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;split&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;,&apos;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;will do the job. Bt that specifically matches your code example.&lt;/p&gt;\n    ","\n&lt;p&gt;I recommend a space-efficient &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*&quot; rel=&quot;noreferrer&quot;&gt;generator function&lt;/a&gt;:&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;* &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;isArray&lt;/span&gt;(arr)) &lt;span class=&quot;hljs-keyword&quot;&gt;yield&lt;/span&gt; arr;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; el &lt;span class=&quot;hljs-keyword&quot;&gt;of&lt;/span&gt; arr) &lt;span class=&quot;hljs-keyword&quot;&gt;yield&lt;/span&gt;* &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(el);\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Example:&lt;/span&gt;\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(...&lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]]]])); &lt;span class=&quot;hljs-comment&quot;&gt;// 1 2 3 4&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif16&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;If desired, create an array of flattened values as follows:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; flattened = [...&lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]]]])]; &lt;span class=&quot;hljs-comment&quot;&gt;// [1, 2, 3, 4]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;A Haskellesque approach&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flatArray&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;[x,...xs]&lt;/span&gt;){\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; x ? [...&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;isArray&lt;/span&gt;(x) ? &lt;span class=&quot;hljs-title function_&quot;&gt;flatArray&lt;/span&gt;(x) : [x], ...&lt;span class=&quot;hljs-title function_&quot;&gt;flatArray&lt;/span&gt;(xs)] : [];\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; na = [[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;],[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]],[&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;,[[[&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;],&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]]],&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;];\n    fa = &lt;span class=&quot;hljs-title function_&quot;&gt;flatArray&lt;/span&gt;(na);\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(fa);&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif17&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I have done it using recursion and closures&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr&lt;/span&gt;) {\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; temp = [];\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;recursiveFlatten&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr&lt;/span&gt;) { \n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; arr.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i++) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;isArray&lt;/span&gt;(arr[i])) {\n        &lt;span class=&quot;hljs-title function_&quot;&gt;recursiveFlatten&lt;/span&gt;(arr[i]);\n      } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        temp.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(arr[i]);\n      }\n    }\n  }\n  &lt;span class=&quot;hljs-title function_&quot;&gt;recursiveFlatten&lt;/span&gt;(arr);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; temp;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;ES6 way:&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;true&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt; = arr =&amp;gt; arr.&lt;span class=&quot;hljs-title function_&quot;&gt;reduce&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;acc, next&lt;/span&gt;) =&amp;gt;&lt;/span&gt; acc.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;isArray&lt;/span&gt;(next) ? &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(next) : next), [])\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; a = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]]]]]\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(a))&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif18&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;ES5 way for &lt;code&gt;flatten&lt;/code&gt; function with ES3 fallback for N-times nested arrays:&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; flatten = (&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!!&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;reduce&lt;/span&gt; &amp;amp;&amp;amp; !!&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;isArray&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;array&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; array.&lt;span class=&quot;hljs-title function_&quot;&gt;reduce&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;prev, next&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; prev.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;isArray&lt;/span&gt;(next) ? &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(next) : next);\n      }, []);\n    };\n  } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;array&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; arr = [];\n      &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n      &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; len = array.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;;\n      &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; target;\n\n      &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (; i &amp;lt; len; i++) {\n        target = array[i];\n        arr = arr.&lt;span class=&quot;hljs-title function_&quot;&gt;concat&lt;/span&gt;(\n          (&lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;toString&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;call&lt;/span&gt;(target) === &lt;span class=&quot;hljs-string&quot;&gt;&apos;[object Array]&apos;&lt;/span&gt;) ? &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(target) : target\n        );\n      }\n\n      &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; arr;\n    };\n  }\n}());\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]]]]];\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(a));&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif19&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I was goofing with &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*&quot; rel=&quot;noreferrer&quot;&gt;ES6 Generators&lt;/a&gt; the other day and wrote &lt;a href=&quot;https://gist.github.com/ashwell/3dcc6702158604978d96&quot; rel=&quot;noreferrer&quot;&gt;this gist&lt;/a&gt;. Which contains...&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arrayOfArrays=[]&lt;/span&gt;){\n  &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;* &lt;span class=&quot;hljs-title function_&quot;&gt;flatgen&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;( &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; item &lt;span class=&quot;hljs-keyword&quot;&gt;of&lt;/span&gt; arrayOfArrays ) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ( &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;isArray&lt;/span&gt;( item )) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;yield&lt;/span&gt;* &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(item)\n      } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;yield&lt;/span&gt; item\n      }\n    }\n  }\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [...&lt;span class=&quot;hljs-title function_&quot;&gt;flatgen&lt;/span&gt;()];\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; flatArray = &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;([[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, [&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]],[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;],[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]]);\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(flatArray);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Basically I&apos;m creating a generator that loops over the original input array, if it finds an array it uses the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/yield*&quot; rel=&quot;noreferrer&quot;&gt;yield*&lt;/a&gt; operator in combination with recursion to continually flatten the internal arrays. If the item is not an array it just &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/yield&quot; rel=&quot;noreferrer&quot;&gt;yields&lt;/a&gt; the single item. Then using the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator&quot; rel=&quot;noreferrer&quot;&gt;ES6 Spread operator&lt;/a&gt; (aka splat operator) I flatten out the generator into a new array instance.&lt;/p&gt;\n\n&lt;p&gt;I haven&apos;t tested the performance of this, but I figure it is a nice simple example of using generators and the yield* operator.&lt;/p&gt;\n\n&lt;p&gt;But again, I was just goofing so I&apos;m sure there are more performant ways to do this.&lt;/p&gt;\n    ","\n&lt;p&gt;just the best solution without lodash&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt; = arr =&amp;gt; [].&lt;span class=&quot;hljs-property&quot;&gt;concat&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;apply&lt;/span&gt;([], arr.&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;item&lt;/span&gt; =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;isArray&lt;/span&gt;(item) ? &lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(item) : item))\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I would rather transform the whole array, as-is, to a string, but unlike other answers, would do that using &lt;code&gt;JSON.stringify&lt;/code&gt; and not use the &lt;code&gt;toString()&lt;/code&gt; method, which produce an unwanted result.&lt;/p&gt;\n\n&lt;p&gt;With that &lt;code&gt;JSON.stringify&lt;/code&gt; output, all that&apos;s left is to remove all brackets, wrap the result with start &amp;amp; ending brackets yet again, and serve the result with &lt;code&gt;JSON.parse&lt;/code&gt; which brings the string back to &quot;life&quot;.&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Can handle infinite nested arrays without any speed costs.&lt;/li&gt;\n&lt;li&gt;Can rightly handle Array items which are strings containing commas.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h2&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; arr = [&lt;span class=&quot;hljs-string&quot;&gt;&quot;abc&quot;&lt;/span&gt;,[[[&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]]],[&lt;span class=&quot;hljs-string&quot;&gt;&quot;3,4&quot;&lt;/span&gt;],&lt;span class=&quot;hljs-string&quot;&gt;&quot;2&quot;&lt;/span&gt;];\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; s = &lt;span class=&quot;hljs-string&quot;&gt;&quot;[&quot;&lt;/span&gt; + &lt;span class=&quot;hljs-title class_&quot;&gt;JSON&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;stringify&lt;/span&gt;(arr).&lt;span class=&quot;hljs-title function_&quot;&gt;replace&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/\\[|]/g&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;) +&lt;span class=&quot;hljs-string&quot;&gt;&quot;]&quot;&lt;/span&gt;;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; flattened = &lt;span class=&quot;hljs-title class_&quot;&gt;JSON&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;parse&lt;/span&gt;(s);\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(flattened)&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif20&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;/h2&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;em&gt;Only for multidimensional Array of Strings/Numbers (not Objects)&lt;/em&gt;&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;if you use lodash, you can just use its &lt;code&gt;flatten&lt;/code&gt; method: &lt;a href=&quot;https://lodash.com/docs/4.17.14#flatten&quot; rel=&quot;noreferrer&quot;&gt;https://lodash.com/docs/4.17.14#flatten&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;The nice thing about lodash is that it also has methods to flatten the arrays: &lt;/p&gt;\n\n&lt;p&gt;i) recursively: &lt;a href=&quot;https://lodash.com/docs/4.17.14#flattenDeep&quot; rel=&quot;noreferrer&quot;&gt;https://lodash.com/docs/4.17.14#flattenDeep&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;ii) upto n levels of nesting: &lt;a href=&quot;https://lodash.com/docs/4.17.14#flattenDepth&quot; rel=&quot;noreferrer&quot;&gt;https://lodash.com/docs/4.17.14#flattenDepth&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;For example&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; _ = &lt;span class=&quot;hljs-built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;lodash&quot;&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; pancake =  _.&lt;span class=&quot;hljs-title function_&quot;&gt;flatten&lt;/span&gt;(array)\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I think array.flat(Infinity) is a perfect solution. But flat function is a relatively new function and may not run in older versions of browsers. We can use recursive function for solving this.&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; arr = [&lt;span class=&quot;hljs-string&quot;&gt;&quot;A&quot;&lt;/span&gt;, [&lt;span class=&quot;hljs-string&quot;&gt;&quot;B&quot;&lt;/span&gt;, [[&lt;span class=&quot;hljs-string&quot;&gt;&quot;B11&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;B12&quot;&lt;/span&gt;, [&lt;span class=&quot;hljs-string&quot;&gt;&quot;B131&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;B132&quot;&lt;/span&gt;]], &lt;span class=&quot;hljs-string&quot;&gt;&quot;B2&quot;&lt;/span&gt;]], &lt;span class=&quot;hljs-string&quot;&gt;&quot;C&quot;&lt;/span&gt;, [&lt;span class=&quot;hljs-string&quot;&gt;&quot;D&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;E&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;F&quot;&lt;/span&gt;, [&lt;span class=&quot;hljs-string&quot;&gt;&quot;G&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;H&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;I&quot;&lt;/span&gt;]]]\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;flatArray&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;arr&lt;/span&gt;) =&amp;gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; res = []\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; item &lt;span class=&quot;hljs-keyword&quot;&gt;of&lt;/span&gt; arr) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;isArray&lt;/span&gt;(item)) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; subRes = &lt;span class=&quot;hljs-title function_&quot;&gt;flatArray&lt;/span&gt;(item)\n            res.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(...subRes)\n        } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n            res.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(item)\n        }\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; res\n}\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;flatArray&lt;/span&gt;(arr))&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif21&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    "],"388":["\n&lt;p&gt;In 2008 I provided a C++98 implementation of the Singleton design pattern that is lazy-evaluated, guaranteed-destruction, not-technically-thread-safe:&lt;br&gt;\n&lt;a href=&quot;https://stackoverflow.com/a/271104/364696&quot;&gt;Can any one provide me a sample of Singleton in c++?&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Here is an updated C++11 implementation of the Singleton design pattern that is lazy-evaluated, correctly-destroyed, and &lt;a href=&quot;https://stackoverflow.com/a/449823/52074&quot;&gt;thread-safe&lt;/a&gt;.&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;S&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n        &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; S&amp;amp; &lt;span class=&quot;hljs-title&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;\n        &lt;/span&gt;{\n            &lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; S    instance; &lt;span class=&quot;hljs-comment&quot;&gt;// Guaranteed to be destroyed.&lt;/span&gt;\n                                  &lt;span class=&quot;hljs-comment&quot;&gt;// Instantiated on first use.&lt;/span&gt;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; instance;\n        }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt;:\n        &lt;span class=&quot;hljs-built_in&quot;&gt;S&lt;/span&gt;() {}                    &lt;span class=&quot;hljs-comment&quot;&gt;// Constructor? (the {} brackets) are needed here.&lt;/span&gt;\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;// C++ 03&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// ========&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Don&apos;t forget to declare these two. You want to make sure they&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// are inaccessible(especially from outside), otherwise, you may accidentally get copies of&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// your singleton appearing.&lt;/span&gt;\n        &lt;span class=&quot;hljs-built_in&quot;&gt;S&lt;/span&gt;(S &lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt;&amp;amp;);              &lt;span class=&quot;hljs-comment&quot;&gt;// Don&apos;t Implement&lt;/span&gt;\n        &lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(S &lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt;&amp;amp;); &lt;span class=&quot;hljs-comment&quot;&gt;// Don&apos;t implement&lt;/span&gt;\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;// C++ 11&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// =======&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// We can use the better technique of deleting the methods&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// we don&apos;t want.&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n        &lt;span class=&quot;hljs-built_in&quot;&gt;S&lt;/span&gt;(S &lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt;&amp;amp;)               = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\n        &lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(S &lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt;&amp;amp;)  = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\n\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Note: Scott Meyers mentions in his Effective Modern&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;//       C++ book, that deleted functions should generally&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;//       be public as it results in better error messages&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;//       due to the compilers behavior to check accessibility&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;//       before deleted status&lt;/span&gt;\n};\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;See this article about when to use a singleton: (not often)&lt;br&gt;\n&lt;a href=&quot;https://stackoverflow.com/questions/86582/singleton-how-should-it-be-used&quot;&gt;Singleton: How should it be used&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;See this two article about initialization order and how to cope:&lt;br&gt;\n&lt;a href=&quot;https://stackoverflow.com/questions/211237/c-static-variables-initialisation-order/211307#211307&quot;&gt;Static variables initialisation order&lt;/a&gt;&lt;br&gt;\n&lt;a href=&quot;https://stackoverflow.com/questions/335369/finding-c-static-initialization-order-problems/335746#335746&quot;&gt;Finding C++ static initialization order problems&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;See this article describing lifetimes:&lt;br&gt;\n&lt;a href=&quot;https://stackoverflow.com/questions/246564/what-is-the-lifetime-of-a-static-variable-in-a-c-function&quot;&gt;What is the lifetime of a static variable in a C++ function?&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;See this article that discusses some threading implications to singletons:&lt;br&gt;\n&lt;a href=&quot;https://stackoverflow.com/questions/449436/singleton-instance-declared-as-static-variable-of-getinstance-method/449823#449823&quot;&gt;Singleton instance declared as static variable of GetInstance method, is it thread-safe?&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;See this article that explains why double checked locking will not work on C++:&lt;br&gt;\n&lt;a href=&quot;https://stackoverflow.com/questions/367633/what-are-all-the-common-undefined-behaviour-that-c-programmer-should-know-about/367690#367690&quot;&gt;What are all the common undefined behaviours that a C++ programmer should know about?&lt;/a&gt;&lt;br&gt;\n&lt;a href=&quot;http://www.drdobbs.com/cpp/c-and-the-perils-of-double-checked-locki/184405726&quot; rel=&quot;noreferrer&quot;&gt;Dr Dobbs: C++ and The Perils of Double-Checked Locking: Part I&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;You could avoid memory allocation. There are many variants, all having problems in case of multithreading environment.&lt;/p&gt;\n\n&lt;p&gt;I prefer this kind of implementation (actually, it is not correctly said I prefer, because I avoid singletons as much as possible):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Singleton&lt;/span&gt;\n{\n&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt;:\n   &lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;();\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n   &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; Singleton&amp;amp; &lt;span class=&quot;hljs-title&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;\n   &lt;/span&gt;{\n      &lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; Singleton INSTANCE;\n      &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; INSTANCE;\n   }\n};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It has no dynamic memory allocation.&lt;/p&gt;\n    ","\n&lt;p&gt;Being a Singleton, you usually do not want it to be destructed.&lt;/p&gt;\n\n&lt;p&gt;It will get torn down and deallocated when the program terminates, which is the normal, desired behavior for a singleton.  If you want to be able to explicitly clean it, it&apos;s fairly easy to add a static method to the class that allows you to restore it to a clean state, and have it reallocate next time it&apos;s used, but that&apos;s outside of the scope of a &quot;classic&quot; singleton.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/a/1008289/3807729&quot;&gt;@Loki Astari&apos;s answer&lt;/a&gt; is excellent. &lt;/p&gt;\n\n&lt;p&gt;However there are times with multiple static objects where you need to be able to guarantee that the &lt;em&gt;singleton&lt;/em&gt; will not be destroyed until all your static objects that use the &lt;em&gt;singleton&lt;/em&gt; no longer need it.&lt;/p&gt;\n\n&lt;p&gt;In this case &lt;code&gt;std::shared_ptr&lt;/code&gt; can be used to keep the &lt;em&gt;singleton&lt;/em&gt; alive for all users even when the static destructors are being called at the end of the program:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Singleton&lt;/span&gt;\n{\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n    &lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;(Singleton &lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt;&amp;amp;) = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\n    Singleton&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(Singleton &lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt;&amp;amp;) = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; std::shared_ptr&amp;lt;Singleton&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;\n    &lt;/span&gt;{\n        &lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; std::shared_ptr&amp;lt;Singleton&amp;gt; s{&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Singleton};\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; s;\n    }\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt;:\n    &lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;() {}\n};\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Another non-allocating alternative: create a singleton, say of class &lt;code&gt;C&lt;/code&gt;, as you need it:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;singleton&lt;/span&gt;&amp;lt;C&amp;gt;()\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;using&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;template&lt;/span&gt; &amp;lt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;X&lt;/span&gt;&amp;gt;\n&lt;span class=&quot;hljs-function&quot;&gt;X&amp;amp; &lt;span class=&quot;hljs-title&quot;&gt;singleton&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;\n&lt;/span&gt;{\n    &lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; X x;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; x;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Neither this nor Ctlin&apos;s answer is automatically thread-safe in current C++, but will be in C++0x.&lt;/p&gt;\n    ","\n&lt;p&gt;I did not find a CRTP implementation among the answers, so here it is:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;template&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-keyword&quot;&gt;typename&lt;/span&gt; HeirT&amp;gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Singleton&lt;/span&gt;\n{\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n    &lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;() = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; Singleton &amp;amp;) = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\n\n    Singleton &amp;amp;&lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; Singleton &amp;amp;) = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; HeirT &amp;amp;&lt;span class=&quot;hljs-title&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;\n    &lt;/span&gt;{\n        &lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; HeirT instance;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; instance;\n    }\n};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To use just inherit your class from this, like: &lt;code&gt;class Test : public Singleton&amp;lt;Test&amp;gt;&lt;/code&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;We went over this topic recently in my EECS class. If you want to look at the lecture notes in detail, visit &lt;a href=&quot;http://umich.edu/%7Eeecs381/lecture/IdiomsDesPattsCreational.pdf&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://umich.edu/~eecs381/lecture/IdiomsDesPattsCreational.pdf&lt;/a&gt;. These notes (and quotations I give in this answer) were created by my Professor, David Kieras.&lt;/p&gt;\n&lt;p&gt;There are two ways that I know to create a Singleton class correctly.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;First Way:&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;Implement it similar to the way you have it in your example. As for destruction, &quot;Singletons usually endure for the length of the program run; most OSs will recover memory and most other resources when a program terminates, so there is an argument for not worrying about this.&quot;&lt;/p&gt;\n&lt;p&gt;However, it is good practice to clean up at program termination. Therefore, you can do this with an auxiliary static SingletonDestructor class and declare that as a friend in your Singleton.&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Singleton&lt;/span&gt; {\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n  &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; Singleton* &lt;span class=&quot;hljs-title&quot;&gt;get_instance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;;\n  \n  &lt;span class=&quot;hljs-comment&quot;&gt;// disable copy/move -- this is a Singleton&lt;/span&gt;\n  &lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; Singleton&amp;amp;) = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\n  &lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;(Singleton&amp;amp;&amp;amp;) = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\n  Singleton&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; Singleton&amp;amp;) = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\n  Singleton&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(Singleton&amp;amp;&amp;amp;) = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;friend&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Singleton_destroyer&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt;:\n  &lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;();  &lt;span class=&quot;hljs-comment&quot;&gt;// no one else can create one&lt;/span&gt;\n  ~&lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;(); &lt;span class=&quot;hljs-comment&quot;&gt;// prevent accidental deletion&lt;/span&gt;\n\n  &lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; Singleton* ptr;\n};\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// auxiliary static object for destroying the memory of Singleton&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Singleton_destroyer&lt;/span&gt; {\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n  ~Singleton_destroyer { &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt; Singleton::ptr; }\n};\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// somewhere in code (Singleton.cpp is probably the best place) &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// create a global static Singleton_destroyer object&lt;/span&gt;\nSingleton_destoyer the_destroyer;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The Singleton_destroyer will be created on program startup, and &quot;when program terminates, all global/static objects are destroyed by the runtime library shutdown code (inserted by the linker), so the_destroyer will be destroyed; its destructor will delete the Singleton, running its destructor.&quot;&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Second Way&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;This is called the Meyers Singleton, created by C++ wizard Scott Meyers. Simply define get_instance() differently. Now you can also get rid of the pointer member variable.&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// public member function&lt;/span&gt;\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; Singleton&amp;amp; &lt;span class=&quot;hljs-title&quot;&gt;Singleton::get_instance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;\n&lt;/span&gt;{\n  &lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; Singleton s;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; s;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This is neat because the value returned is by reference and you can use &lt;code&gt;.&lt;/code&gt; syntax instead of &lt;code&gt;-&amp;gt;&lt;/code&gt; to access member variables.&lt;/p&gt;\n&lt;p&gt;&quot;Compiler automatically builds code that creates &apos;s&apos; first time through the\ndeclaration, not thereafter, and then deletes the static object at program\ntermination.&quot;&lt;/p&gt;\n&lt;p&gt;Note also that with the Meyers Singleton you &quot;can get into very difficult situation if objects rely on each other at the time of\ntermination - when does the Singleton disappear relative to other objects? But for simple applications, this works fine.&quot;&lt;/p&gt;\n    ","\n&lt;p&gt;Here is an easy implementation.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;Windows.h&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;namespace&lt;/span&gt; std;\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;SingletonClass&lt;/span&gt; {\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; SingletonClass* &lt;span class=&quot;hljs-title&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (!m_instanceSingleton) ?\n        m_instanceSingleton = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; SingletonClass : \n        m_instanceSingleton;\n    }\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt;:\n    &lt;span class=&quot;hljs-comment&quot;&gt;// private constructor and destructor&lt;/span&gt;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;SingletonClass&lt;/span&gt;() { cout &amp;lt;&amp;lt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;SingletonClass instance created!\\n&quot;&lt;/span&gt;; }\n    ~&lt;span class=&quot;hljs-built_in&quot;&gt;SingletonClass&lt;/span&gt;() {}\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// private copy constructor and assignment operator&lt;/span&gt;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;SingletonClass&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; SingletonClass&amp;amp;);\n    SingletonClass&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; SingletonClass&amp;amp;);\n\n    &lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; SingletonClass *m_instanceSingleton;\n};\n\nSingletonClass* SingletonClass::m_instanceSingleton = &lt;span class=&quot;hljs-literal&quot;&gt;nullptr&lt;/span&gt;;\n\n\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; argc, &lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; * argv[])&lt;/span&gt; &lt;/span&gt;{\n\n    SingletonClass *singleton;\n    singleton = singleton-&amp;gt;&lt;span class=&quot;hljs-built_in&quot;&gt;getInstance&lt;/span&gt;();\n    cout &amp;lt;&amp;lt; singleton &amp;lt;&amp;lt; endl;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Another object gets the reference of the first object!&lt;/span&gt;\n    SingletonClass *anotherSingleton;\n    anotherSingleton = anotherSingleton-&amp;gt;&lt;span class=&quot;hljs-built_in&quot;&gt;getInstance&lt;/span&gt;();\n    cout &amp;lt;&amp;lt; anotherSingleton &amp;lt;&amp;lt; endl;\n\n    &lt;span class=&quot;hljs-built_in&quot;&gt;Sleep&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;5000&lt;/span&gt;);\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Only one object created and this object reference is returned each and every time afterwords.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;SingletonClass instance created!\n&lt;span class=&quot;hljs-number&quot;&gt;00915&lt;/span&gt;CB8\n&lt;span class=&quot;hljs-number&quot;&gt;00915&lt;/span&gt;CB8\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here 00915CB8 is the memory location of singleton Object, same for the duration of the program but (normally!) different each time the program is run.&lt;/p&gt;\n\n&lt;p&gt;N.B. This is not a thread safe one.You have to ensure thread safety.&lt;/p&gt;\n    ","\n&lt;p&gt;The solution in the accepted answer has a significant drawback - the destructor for the singleton is called after the control leaves the &lt;code&gt;main()&lt;/code&gt; function. There may be problems really, when some dependent objects are allocated inside &lt;code&gt;main&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;I met this problem, when trying to introduce a Singleton in the Qt application. I decided, that all my setup dialogs must be Singletons, and adopted the pattern above. Unfortunately, Qt&apos;s main class &lt;code&gt;QApplication&lt;/code&gt; was allocated on stack in the &lt;code&gt;main&lt;/code&gt; function, and Qt forbids creating/destroying dialogs when no application object is available.&lt;/p&gt;\n\n&lt;p&gt;That is why I prefer heap-allocated singletons. I provide an explicit &lt;code&gt;init()&lt;/code&gt; and &lt;code&gt;term()&lt;/code&gt; methods for all the singletons and call them inside &lt;code&gt;main&lt;/code&gt;. Thus I have a full control over the order of singletons creation/destruction, and also I guarantee that singletons will be created, no matter whether someone called &lt;code&gt;getInstance()&lt;/code&gt; or not.&lt;/p&gt;\n    ","\n&lt;p&gt;Has anyone mentioned &lt;code&gt;std::call_once&lt;/code&gt; and &lt;code&gt;std::once_flag&lt;/code&gt;?\nMost other approaches - including double checked locking - are broken.&lt;/p&gt;\n\n&lt;p&gt;One major problem in singleton pattern implementation is safe initialization. The only safe way is to guard the initialization sequence with synchronizing barriers. But those barriers themselves need to be safely initiated. &lt;code&gt;std::once_flag&lt;/code&gt; is the mechanism to get guaranteed safe initialization.&lt;/p&gt;\n    ","\n&lt;p&gt;If you want to allocate the object in heap, why don&apos;t use a unique pointer. Memory will also be deallocated since we are using a unique pointer.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;S&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n        &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; S&amp;amp; &lt;span class=&quot;hljs-title&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;\n        &lt;/span&gt;{\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;( m_s.&lt;span class=&quot;hljs-built_in&quot;&gt;get&lt;/span&gt;() == &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; )\n            {\n              m_s.&lt;span class=&quot;hljs-built_in&quot;&gt;reset&lt;/span&gt;( &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;S&lt;/span&gt;() );\n            }\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; *m_s;\n        }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt;:\n        &lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; std::unique_ptr&amp;lt;S&amp;gt; m_s;\n\n        &lt;span class=&quot;hljs-built_in&quot;&gt;S&lt;/span&gt;();\n        &lt;span class=&quot;hljs-built_in&quot;&gt;S&lt;/span&gt;(S &lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt;&amp;amp;);            &lt;span class=&quot;hljs-comment&quot;&gt;// Don&apos;t Implement&lt;/span&gt;\n        &lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(S &lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt;&amp;amp;); &lt;span class=&quot;hljs-comment&quot;&gt;// Don&apos;t implement&lt;/span&gt;\n};\n\n&lt;span class=&quot;hljs-function&quot;&gt;std::unique_ptr&amp;lt;S&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;S::m_s&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;C++11 Thread safe implementation:&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt; &lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;/span&gt;\n &lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;thread&amp;gt;&lt;/span&gt;&lt;/span&gt;\n\n\n &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Singleton&lt;/span&gt;\n {\n     &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt;:\n         &lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; Singleton * _instance;\n         &lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; std::mutex mutex_;\n\n     &lt;span class=&quot;hljs-keyword&quot;&gt;protected&lt;/span&gt;:\n         &lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; std::string value): &lt;span class=&quot;hljs-built_in&quot;&gt;value_&lt;/span&gt;(value)\n         {\n         }\n         ~&lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;() {}\n         std::string value_;\n\n     &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n         &lt;span class=&quot;hljs-comment&quot;&gt;/**\n          * Singletons should not be cloneable.\n          */&lt;/span&gt;\n         &lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;(Singleton &amp;amp;other) = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\n         &lt;span class=&quot;hljs-comment&quot;&gt;/**\n          * Singletons should not be assignable.\n          */&lt;/span&gt;\n         &lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; Singleton &amp;amp;) = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\n\n         &lt;span class=&quot;hljs-comment&quot;&gt;//static Singleton *GetInstance(const std::string&amp;amp; value);&lt;/span&gt;\n         &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; Singleton *&lt;span class=&quot;hljs-title&quot;&gt;GetInstance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; std::string&amp;amp; value)&lt;/span&gt;\n         &lt;/span&gt;{\n             &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (_instance == &lt;span class=&quot;hljs-literal&quot;&gt;nullptr&lt;/span&gt;)\n             {\n                 &lt;span class=&quot;hljs-function&quot;&gt;std::lock_guard&amp;lt;std::mutex&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(mutex_)&lt;/span&gt;&lt;/span&gt;;\n                 &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (_instance == &lt;span class=&quot;hljs-literal&quot;&gt;nullptr&lt;/span&gt;)\n                 {\n                     _instance = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;(value);\n                 }\n             }\n             &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; _instance;\n         }\n\n         &lt;span class=&quot;hljs-function&quot;&gt;std::string &lt;span class=&quot;hljs-title&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt;&lt;/span&gt;{\n             &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; value_;\n         }\n };\n\n &lt;span class=&quot;hljs-comment&quot;&gt;/**\n  * Static methods should be defined outside the class.\n  */&lt;/span&gt;\n Singleton* Singleton::_instance = &lt;span class=&quot;hljs-literal&quot;&gt;nullptr&lt;/span&gt;;\n std::mutex Singleton::mutex_;\n\n\n &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;ThreadFoo&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;{\n     std::this_thread::&lt;span class=&quot;hljs-built_in&quot;&gt;sleep_for&lt;/span&gt;(std::chrono::&lt;span class=&quot;hljs-built_in&quot;&gt;milliseconds&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;));\n     Singleton* singleton = Singleton::&lt;span class=&quot;hljs-built_in&quot;&gt;GetInstance&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;FOO&quot;&lt;/span&gt;);\n     std::cout &amp;lt;&amp;lt; singleton-&amp;gt;&lt;span class=&quot;hljs-built_in&quot;&gt;value&lt;/span&gt;() &amp;lt;&amp;lt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;\\n&quot;&lt;/span&gt;;\n }\n\n &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;ThreadBar&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;{\n     std::this_thread::&lt;span class=&quot;hljs-built_in&quot;&gt;sleep_for&lt;/span&gt;(std::chrono::&lt;span class=&quot;hljs-built_in&quot;&gt;milliseconds&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1000&lt;/span&gt;));\n     Singleton* singleton = Singleton::&lt;span class=&quot;hljs-built_in&quot;&gt;GetInstance&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;BAR&quot;&lt;/span&gt;);\n     std::cout &amp;lt;&amp;lt; singleton-&amp;gt;&lt;span class=&quot;hljs-built_in&quot;&gt;value&lt;/span&gt;() &amp;lt;&amp;lt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;\\n&quot;&lt;/span&gt;;\n }\n\n &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;\n &lt;/span&gt;{\n     std::cout &amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;If you see the same value, then singleton was reused (yay!\\n&quot;&lt;/span&gt; &amp;lt;&amp;lt;\n                 &lt;span class=&quot;hljs-string&quot;&gt;&quot;If you see different values, then 2 singletons were created (booo!!)\\n\\n&quot;&lt;/span&gt; &amp;lt;&amp;lt;\n                 &lt;span class=&quot;hljs-string&quot;&gt;&quot;RESULT:\\n&quot;&lt;/span&gt;;\n     &lt;span class=&quot;hljs-function&quot;&gt;std::thread &lt;span class=&quot;hljs-title&quot;&gt;t1&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(ThreadFoo)&lt;/span&gt;&lt;/span&gt;;\n     &lt;span class=&quot;hljs-function&quot;&gt;std::thread &lt;span class=&quot;hljs-title&quot;&gt;t2&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(ThreadBar)&lt;/span&gt;&lt;/span&gt;;\n     t1.&lt;span class=&quot;hljs-built_in&quot;&gt;join&lt;/span&gt;();\n     t2.&lt;span class=&quot;hljs-built_in&quot;&gt;join&lt;/span&gt;();\n     std::cout &amp;lt;&amp;lt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Complete!&quot;&lt;/span&gt; &amp;lt;&amp;lt; std::endl;\n\n     &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n }\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;It is indeed probably allocated from the heap, but without the sources there is no way of knowing.&lt;/p&gt;\n\n&lt;p&gt;The typical implementation (taken from some code I have in emacs already) would be:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;Singleton * &lt;span class=&quot;hljs-title&quot;&gt;Singleton::getInstance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!instance) {\n        instance = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;();\n    };\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; instance;\n};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;...and rely on the program going out of scope to clean up afterwards.&lt;/p&gt;\n\n&lt;p&gt;If you work on a platform where cleanup must be done manually, I&apos;d probably add a manual cleanup routine.&lt;/p&gt;\n\n&lt;p&gt;Another issue with doing it this way is that it isn&apos;t thread-safe. In a multithreaded environment, two threads could get through the &quot;if&quot; before either has a chance to allocate the new instance (so both would). This still isn&apos;t too big of a deal if you are relying on program termination to clean up anyway.&lt;/p&gt;\n    ","\n&lt;p&gt;In addition to the other discussion here, it may be worth noting that you can have global-ness, without limiting usage to one instance. For example, consider the case of reference counting something...&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Store&lt;/span&gt;{\n   std::array&amp;lt;Something, 1024&amp;gt; data;\n   &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;size_t&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;size_t&lt;/span&gt; idx)&lt;/span&gt;&lt;/span&gt;{ &lt;span class=&quot;hljs-comment&quot;&gt;/* ... */&lt;/span&gt; }\n   &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;incr_ref&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;size_t&lt;/span&gt; idx)&lt;/span&gt;&lt;/span&gt;{ &lt;span class=&quot;hljs-comment&quot;&gt;/* ... */&lt;/span&gt;}\n   &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;decr_ref&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;size_t&lt;/span&gt; idx)&lt;/span&gt;&lt;/span&gt;{ &lt;span class=&quot;hljs-comment&quot;&gt;/* ... */&lt;/span&gt;}\n};\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;template&lt;/span&gt;&amp;lt;Store* store_p&amp;gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ItemRef&lt;/span&gt;{\n   &lt;span class=&quot;hljs-type&quot;&gt;size_t&lt;/span&gt; idx;\n   &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;auto&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;{ &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; store_p-&amp;gt;&lt;span class=&quot;hljs-built_in&quot;&gt;get&lt;/span&gt;(idx); };\n   &lt;span class=&quot;hljs-built_in&quot;&gt;ItemRef&lt;/span&gt;() { store_p-&amp;gt;&lt;span class=&quot;hljs-built_in&quot;&gt;incr_ref&lt;/span&gt;(idx); };\n   ~&lt;span class=&quot;hljs-built_in&quot;&gt;ItemRef&lt;/span&gt;() { store_p-&amp;gt;&lt;span class=&quot;hljs-built_in&quot;&gt;decr_ref&lt;/span&gt;(idx); };\n};\n\nStore store1_g;\nStore store2_g; &lt;span class=&quot;hljs-comment&quot;&gt;// we don&apos;t restrict the number of global Store instances&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now somewhere inside a function (such as &lt;code&gt;main&lt;/code&gt;) you can do:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;auto&lt;/span&gt; ref1_a = &lt;span class=&quot;hljs-built_in&quot;&gt;ItemRef&lt;/span&gt;&amp;lt;&amp;amp;store1_g&amp;gt;(&lt;span class=&quot;hljs-number&quot;&gt;101&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;auto&lt;/span&gt; ref2_a = &lt;span class=&quot;hljs-built_in&quot;&gt;ItemRef&lt;/span&gt;&amp;lt;&amp;amp;store2_g&amp;gt;(&lt;span class=&quot;hljs-number&quot;&gt;201&lt;/span&gt;); \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The refs don&apos;t need to store a pointer back to their respective &lt;code&gt;Store&lt;/code&gt; because that information is supplied at compile-time. You also don&apos;t have to worry about the &lt;code&gt;Store&lt;/code&gt;&apos;s lifetime because the compiler requires that it is global.  If there is indeed only one instance of &lt;code&gt;Store&lt;/code&gt; then there&apos;s no overhead in this approach; with more than one instance it&apos;s up to the compiler to be clever about code generation. If necessary, the &lt;code&gt;ItemRef&lt;/code&gt; class can even be made a &lt;code&gt;friend&lt;/code&gt; of &lt;code&gt;Store&lt;/code&gt; (you can have templated friends!).&lt;/p&gt;\n\n&lt;p&gt;If &lt;code&gt;Store&lt;/code&gt; itself is a templated class then things get messier, but it is still possible to use this method, perhaps by implementing a helper class with the following signature:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;template&lt;/span&gt; &amp;lt;&lt;span class=&quot;hljs-keyword&quot;&gt;typename&lt;/span&gt; Store_t, Store_t* store_p&amp;gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;StoreWrapper&lt;/span&gt;{ &lt;span class=&quot;hljs-comment&quot;&gt;/* stuff to access store_p, e.g. methods returning \n                       instances of ItemRef&amp;lt;Store_t, store_p&amp;gt;. */&lt;/span&gt; };\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The user can now create a &lt;code&gt;StoreWrapper&lt;/code&gt; type (and global instance) for each global &lt;code&gt;Store&lt;/code&gt; instance, and always access the stores via their wrapper instance (thus forgetting about the gory details of the template parameters needed for using &lt;code&gt;Store&lt;/code&gt;).&lt;/p&gt;\n    ","\n&lt;p&gt;Here is a &lt;a href=&quot;https://github.com/canonical/multipass/blob/7d3de5fb1a4402b4438dae4806677fdd6c776450/include/multipass/singleton.h&quot; rel=&quot;nofollow noreferrer&quot;&gt;mockable singleton&lt;/a&gt; using &lt;a href=&quot;https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern&quot; rel=&quot;nofollow noreferrer&quot;&gt;CRTP&lt;/a&gt;. It relies on &lt;a href=&quot;https://github.com/canonical/multipass/blob/7d3de5fb1a4402b4438dae4806677fdd6c776450/include/multipass/private_pass_provider.h&quot; rel=&quot;nofollow noreferrer&quot;&gt;a little helper&lt;/a&gt; to enforce a single object at any one time (at most). To enforce a single object over program execution, remove the reset (which we find useful for tests).&lt;/p&gt;\n&lt;p&gt;A &lt;code&gt;ConcreteSinleton&lt;/code&gt; can be implemented like this:&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ConcreteSingleton&lt;/span&gt; : &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; Singleton&amp;lt;ConcreteSingleton&amp;gt;\n{\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n  &lt;span class=&quot;hljs-built_in&quot;&gt;ConcreteSingleton&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; Singleton&amp;lt;ConcreteSingleton&amp;gt;::PrivatePass&amp;amp;)\n      : Singleton&amp;lt;StandardPaths&amp;gt;::Singleton{pass}\n  {}\n  \n  &lt;span class=&quot;hljs-comment&quot;&gt;// ... concrete interface&lt;/span&gt;\n  &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; &lt;/span&gt;{&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;42&lt;/span&gt;;}\n\n};\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;And then used with&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;ConcreteSingleton::&lt;span class=&quot;hljs-built_in&quot;&gt;instance&lt;/span&gt;().&lt;span class=&quot;hljs-built_in&quot;&gt;f&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;This is about object life-time management. Suppose you have more than singletons in your software. And they depend on Logger singleton. During application destruction, suppose another singleton object uses Logger to log its destruction steps. You have to guarantee that Logger should be cleaned up last. Therefore, please also check out this paper:\n&lt;a href=&quot;http://www.cs.wustl.edu/~schmidt/PDF/ObjMan.pdf&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://www.cs.wustl.edu/~schmidt/PDF/ObjMan.pdf&lt;/a&gt; &lt;/p&gt;\n    ","\n&lt;p&gt;My implementation is similar to Galik&apos;s. The difference is my implementation allows the shared pointers to clean up allocated memory, as opposed to holding onto the memory until the application is exited and the static pointers are cleaned up.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;pragma&lt;/span&gt; once&lt;/span&gt;\n\n&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;memory&amp;gt;&lt;/span&gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;template&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-keyword&quot;&gt;typename&lt;/span&gt; T&amp;gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Singleton&lt;/span&gt;\n{\n&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt;:\n  &lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; std::weak_ptr&amp;lt;T&amp;gt; _singleton;\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n  &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; std::shared_ptr&amp;lt;T&amp;gt; &lt;span class=&quot;hljs-title&quot;&gt;singleton&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;\n  &lt;/span&gt;{\n    std::shared_ptr&amp;lt;T&amp;gt; singleton = _singleton.&lt;span class=&quot;hljs-built_in&quot;&gt;lock&lt;/span&gt;();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!singleton) \n    {\n      singleton.&lt;span class=&quot;hljs-built_in&quot;&gt;reset&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;T&lt;/span&gt;());\n      _singleton = singleton;\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; singleton;\n  }\n};\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;template&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-keyword&quot;&gt;typename&lt;/span&gt; T&amp;gt;\nstd::weak_ptr&amp;lt;T&amp;gt; Singleton&amp;lt;T&amp;gt;::_singleton;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Your code is correct, except that &lt;em&gt;you didn&apos;t declare the instance pointer outside the class&lt;/em&gt;. The inside class declarations of static variables are not considered declarations in C++, however this is allowed in other languages like &lt;strong&gt;C#&lt;/strong&gt; or &lt;strong&gt;Java&lt;/strong&gt; etc.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Singleton&lt;/span&gt;\n{\n   &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n       &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; Singleton* &lt;span class=&quot;hljs-title&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;( )&lt;/span&gt;&lt;/span&gt;;\n   &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt;:\n       &lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;( );\n       &lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; Singleton* instance;\n};\nSingleton* Singleton::instance; &lt;span class=&quot;hljs-comment&quot;&gt;//we need to declare outside because static variables are global&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You must know that Singleton instance &lt;em&gt;doesn&apos;t need to be manually deleted by us&lt;/em&gt;. We need a single object of it throughout the whole program, so &lt;em&gt;at the end of program execution, it will be automatically deallocated.&lt;/em&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Here is my view on how to do proper singletons (and other non-trivial static objects): &lt;a href=&quot;https://github.com/alex4747-pub/proper_singleton&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://github.com/alex4747-pub/proper_singleton&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Summary:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;Use static initialization list to instantiate singletons at the right time: after entering main and before enabling multi-threading&lt;/li&gt;\n&lt;li&gt;Add minor improvements to make it unit-test friendly.&lt;/li&gt;\n&lt;/ol&gt;\n    ","\n&lt;p&gt;I would like to show here another example of a singleton in C++. It makes sense to use template programming. Besides, it makes sense to derive your singleton class from a not copyable and not movabe classes. Here how it looks like in the code:&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;string&amp;gt;&lt;/span&gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;DoNotCopy&lt;/span&gt;\n{\n&lt;span class=&quot;hljs-keyword&quot;&gt;protected&lt;/span&gt;:\n    &lt;span class=&quot;hljs-built_in&quot;&gt;DoNotCopy&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt;) = &lt;span class=&quot;hljs-keyword&quot;&gt;default&lt;/span&gt;;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;DoNotCopy&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; DoNotCopy&amp;amp;) = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\n    DoNotCopy&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; DoNotCopy&amp;amp;) = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\n};\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;DoNotMove&lt;/span&gt;\n{\n&lt;span class=&quot;hljs-keyword&quot;&gt;protected&lt;/span&gt;:\n    &lt;span class=&quot;hljs-built_in&quot;&gt;DoNotMove&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt;) = &lt;span class=&quot;hljs-keyword&quot;&gt;default&lt;/span&gt;;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;DoNotMove&lt;/span&gt;(DoNotMove&amp;amp;&amp;amp;) = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\n    DoNotMove&amp;amp; &lt;span class=&quot;hljs-keyword&quot;&gt;operator&lt;/span&gt;=(DoNotMove&amp;amp;&amp;amp;) = &lt;span class=&quot;hljs-keyword&quot;&gt;delete&lt;/span&gt;;\n};\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;DoNotCopyMove&lt;/span&gt; : &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; DoNotCopy,\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; DoNotMove\n{\n&lt;span class=&quot;hljs-keyword&quot;&gt;protected&lt;/span&gt;:\n    &lt;span class=&quot;hljs-built_in&quot;&gt;DoNotCopyMove&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt;) = &lt;span class=&quot;hljs-keyword&quot;&gt;default&lt;/span&gt;;\n};\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;template&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;T&lt;/span&gt;&amp;gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Singleton&lt;/span&gt; : &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; DoNotCopyMove\n{\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; T&amp;amp; &lt;span class=&quot;hljs-title&quot;&gt;Instance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt;)&lt;/span&gt;\n    &lt;/span&gt;{\n        &lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; T instance;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; instance;\n    }\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;protected&lt;/span&gt;:\n    &lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt;) = &lt;span class=&quot;hljs-keyword&quot;&gt;default&lt;/span&gt;;\n};\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Logger&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;final&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; Singleton&amp;lt;Logger&amp;gt;\n{\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; std::string&amp;amp; str)&lt;/span&gt; &lt;/span&gt;{ std::cout &amp;lt;&amp;lt; str &amp;lt;&amp;lt; std::endl; }\n};\n\n\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;\n&lt;/span&gt;{\n    Logger::&lt;span class=&quot;hljs-built_in&quot;&gt;Instance&lt;/span&gt;().&lt;span class=&quot;hljs-built_in&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;xx&quot;&lt;/span&gt;);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The splitting into NotCopyable and NotMovable clases allows you to define your singleton more specific (sometimes you want to move your single instance).&lt;/p&gt;\n    ","\n&lt;p&gt;It restrict instantiation of a class to one object. This is useful when exactly one object is needed to coordinate actions across the system&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Singleton&lt;/span&gt; {\n&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt;:\n    &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; data;\n    &lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; Singleton* instance;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;();\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; Singleton* &lt;span class=&quot;hljs-title&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;;\n};\nSingleton* Singleton::instance = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\nSingleton::&lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;()\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;-&amp;gt;data = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n    cout &amp;lt;&amp;lt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;constructor called..&quot;&lt;/span&gt; &amp;lt;&amp;lt; endl;\n}\n\n \n\n&lt;span class=&quot;hljs-function&quot;&gt;Singleton* &lt;span class=&quot;hljs-title&quot;&gt;Singleton::getInstance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!instance) {\n        instance = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;Singleton&lt;/span&gt;();\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; instance;\n    }\n}\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{\n    Singleton *s = s-&amp;gt;&lt;span class=&quot;hljs-built_in&quot;&gt;getInstance&lt;/span&gt;();\n    Singleton *s1 =s1-&amp;gt;&lt;span class=&quot;hljs-built_in&quot;&gt;getInstance&lt;/span&gt;();\n    }\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;The paper that was linked to above describes the shortcoming of double checked locking is that the compiler may allocate the memory for the object and set a pointer to the address of the allocated memory, before the object&apos;s constructor has been called. It is quite easy in c++ however to use allocaters to allocate the memory manually, and then use a construct call to initialize the memory. Using this appraoch, the double-checked locking works just fine.&lt;/p&gt;\n    ","\n&lt;p&gt;Simple singleton class, This must be your header class file&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;ifndef&lt;/span&gt; SC_SINGLETON_CLASS_H&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;define&lt;/span&gt; SC_SINGLETON_CLASS_H&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;SingletonClass&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n        &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; SingletonClass* &lt;span class=&quot;hljs-title&quot;&gt;Instance&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;\n        &lt;/span&gt;{\n           &lt;span class=&quot;hljs-type&quot;&gt;static&lt;/span&gt; SingletonClass* instance = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;SingletonClass&lt;/span&gt;();\n           &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; instance;\n        }\n\n        &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Relocate&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; X, &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; Y, &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; Z)&lt;/span&gt;&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt;:\n        &lt;span class=&quot;hljs-built_in&quot;&gt;SingletonClass&lt;/span&gt;();\n        ~&lt;span class=&quot;hljs-built_in&quot;&gt;SingletonClass&lt;/span&gt;();\n};\n\n&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;define&lt;/span&gt; sSingletonClass SingletonClass::Instance()&lt;/span&gt;\n\n&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;endif&lt;/span&gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Access your singleton like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;sSingletonClass-&amp;gt;&lt;span class=&quot;hljs-built_in&quot;&gt;Relocate&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;define&lt;/span&gt; INS(c) private:void operator=(c const&amp;amp;){};public:static c&amp;amp; I(){static c _instance;return _instance;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;   &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;CCtrl&lt;/span&gt;\n    {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt;:\n        &lt;span class=&quot;hljs-built_in&quot;&gt;CCtrl&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt;);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;virtual&lt;/span&gt; ~&lt;span class=&quot;hljs-built_in&quot;&gt;CCtrl&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt;);\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n        &lt;span class=&quot;hljs-built_in&quot;&gt;INS&lt;/span&gt;(CCtrl);\n&lt;/code&gt;&lt;/pre&gt;\n    "],"389":["\n&lt;p&gt;If the cube is directly inside the container:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#container&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-id&quot;&gt;#cube&lt;/span&gt; { &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: yellow; }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If cube is next to (after containers closing tag) the container:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#container&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; + &lt;span class=&quot;hljs-selector-id&quot;&gt;#cube&lt;/span&gt; { &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: yellow; }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If the cube is somewhere inside the container:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#container&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; &lt;span class=&quot;hljs-selector-id&quot;&gt;#cube&lt;/span&gt; { &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: yellow; }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If the cube is a sibling of the container:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#container&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; ~ &lt;span class=&quot;hljs-selector-id&quot;&gt;#cube&lt;/span&gt; { &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: yellow; }\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;In this particular example, you can use:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#container&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; &lt;span class=&quot;hljs-selector-id&quot;&gt;#cube&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: yellow;   \n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This example only works since &lt;code&gt;cube&lt;/code&gt; is a child of &lt;code&gt;container&lt;/code&gt;. For more complicated scenarios, you&apos;d need to use different CSS, or use JavaScript.&lt;/p&gt;\n    ","\n&lt;p&gt;Using the sibling selector is the general solution for styling other elements when hovering over a given one, &lt;strong&gt;but&lt;/strong&gt; it works &lt;em&gt;only if the other elements follow the given one in the DOM&lt;/em&gt;. What can we do when the other elements should actually be before the hovered one? Say we want to implement a signal bar rating widget like the one below:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/R2g8o.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/R2g8o.png&quot; alt=&quot;Signal bar rating widget&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;This can actually be done easily using the CSS flexbox model, by setting &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/flex-direction&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;flex-direction&lt;/code&gt;&lt;/a&gt; to &lt;code&gt;reverse&lt;/code&gt;, so that the elements are displayed in the opposite order from the one they&apos;re in the DOM. The screenshot above is from such a widget, implemented with pure CSS.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;http://caniuse.com/#search=flexbox&quot; rel=&quot;noreferrer&quot;&gt;Flexbox is very well supported&lt;/a&gt; by 95% of modern browsers.&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;true&quot; data-console=&quot;false&quot; data-babel=&quot;false&quot;&gt;&lt;div class=&quot;snippet-display&quot; style=&quot;vertical-align: center&quot;&gt;&lt;p&gt;&lt;a class=&quot;snippet-show-link-chevron&quot;&gt;&lt;span class=&quot;expander-arrow-hide&quot; style=&quot;vertical-align: middle;&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;a class=&quot;snippet-show-link&quot;&gt;&lt;span class=&quot;show-hide&quot; data-ishidden=&quot;true&quot; style=&quot;vertical-align: middle&quot;&gt;Show code snippet&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;\n&lt;div class=&quot;snippet-code snippet-currently-hidden&quot; style=&quot;display: none;&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.rating&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;: flex;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;flex-direction&lt;/span&gt;: row-reverse;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;9rem&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.rating&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;flex&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;align-self&lt;/span&gt;: flex-end;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: black;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0.1rem&lt;/span&gt; solid white;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.rating&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: lightblue;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.rating&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;hljs-selector-attr&quot;&gt;[data-rating=&lt;span class=&quot;hljs-string&quot;&gt;&quot;1&quot;&lt;/span&gt;]&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;5rem&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.rating&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;hljs-selector-attr&quot;&gt;[data-rating=&lt;span class=&quot;hljs-string&quot;&gt;&quot;2&quot;&lt;/span&gt;]&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;4rem&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.rating&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;hljs-selector-attr&quot;&gt;[data-rating=&lt;span class=&quot;hljs-string&quot;&gt;&quot;3&quot;&lt;/span&gt;]&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;3rem&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.rating&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;hljs-selector-attr&quot;&gt;[data-rating=&lt;span class=&quot;hljs-string&quot;&gt;&quot;4&quot;&lt;/span&gt;]&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2rem&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.rating&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;hljs-selector-attr&quot;&gt;[data-rating=&lt;span class=&quot;hljs-string&quot;&gt;&quot;5&quot;&lt;/span&gt;]&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1rem&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.rating&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; ~ &lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: lightblue;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;rating&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;data-rating&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;1&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;data-rating&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;2&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;data-rating&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;3&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;data-rating&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;4&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;data-rating&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;5&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif2&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Only this worked for me:&lt;/p&gt;\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;#container:hover .cube { background-color: yellow; }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Where &lt;code&gt;.cube&lt;/code&gt; is CssClass somewhere inside of the &lt;code&gt;#container&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;Tested in &lt;strong&gt;Firefox&lt;/strong&gt;, &lt;strong&gt;Chrome&lt;/strong&gt; and &lt;strong&gt;Edge&lt;/strong&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;Big thanks to Mike and Robertc for their helpful posts!&lt;/p&gt;\n\n&lt;p&gt;If you have two elements in your HTML and you want to &lt;code&gt;:hover&lt;/code&gt; over one and target a style change in the other the two elements must be directly related--parents, children or siblings. This means that the two elements either must be one inside the other or must both be contained within the same larger element. &lt;/p&gt;\n\n&lt;p&gt;I wanted to display definitions in a box on the right side of the browser as my users read through my site and &lt;code&gt;:hover&lt;/code&gt; over highlighted terms; therefore, I did not want the &apos;definition&apos; element to be displayed inside the &apos;text&apos; element.&lt;/p&gt;\n\n&lt;p&gt;I almost gave up and just added javascript to my page, but this is the future dang it! We should not have to put up with back sass from CSS and HTML telling us where we have to place our elements to achieve the effects we want! In the end we compromised.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;While the actual HTML elements in the file must be either nested or contained in a single element to be valid &lt;code&gt;:hover&lt;/code&gt; targets to each other, the css &lt;code&gt;position&lt;/code&gt; attribute can be used to display any element where ever you want. I used position:fixed to place the target of my &lt;code&gt;:hover&lt;/code&gt; action where I wanted it on the user&apos;s screen regardless to its location in the HTML document.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;The html:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;explainBox&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;explainBox&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt; /*Common parent*/\n\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;defP&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;light&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://en.wikipedia.or/wiki/Light&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Light                            /*highlighted term in text*/\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt; is as ubiquitous as it is mysterious. /*plain text*/\n\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;definitions&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt; /*Container for :hover-displayed definitions*/\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;def&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;light&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt; /*example definition entry*/ Light:\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;/&amp;gt;&lt;/span&gt;Short Answer: The type of energy you see\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The css:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;/*read: &quot;when user hovers over #light somewhere inside #explainBox\n    set display to inline-block for #light directly inside of #definitions.*/\n\n#explainBox #light:hover~#definitions&amp;gt;#light {\n  display: inline-block;\n}\n\n.def {\n  display: none;\n}\n\n#definitions {\n  background-color: black;\n  position: fixed;\n  /*position attribute*/\n  top: 5em;\n  /*position attribute*/\n  right: 2em;\n  /*position attribute*/\n  width: 20em;\n  height: 30em;\n  border: 1px solid orange;\n  border-radius: 12px;\n  padding: 10px;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;In this example the target of a &lt;code&gt;:hover&lt;/code&gt; command from an element within &lt;code&gt;#explainBox&lt;/code&gt; must either be &lt;code&gt;#explainBox&lt;/code&gt; or also within &lt;code&gt;#explainBox&lt;/code&gt;. The position attributes assigned to #definitions force it to appear in the desired location (outside &lt;code&gt;#explainBox&lt;/code&gt;) even though it is technically located in an unwanted position within the HTML document.&lt;/p&gt;\n\n&lt;p&gt;I understand it is considered bad form to use the same &lt;code&gt;#id&lt;/code&gt; for more than one HTML element; however, in this case the instances of &lt;code&gt;#light&lt;/code&gt; can be described independently due to their respective positions in uniquely &lt;code&gt;#id&lt;/code&gt;&apos;d elements. Is there any reason not to repeat the &lt;code&gt;id&lt;/code&gt; &lt;code&gt;#light&lt;/code&gt; in this case?&lt;/p&gt;\n    ","\n&lt;p&gt;Here is another idea that allow you to affect other elements without considering any specific selector and by only using the &lt;code&gt;:hover&lt;/code&gt; state of the main element. &lt;/p&gt;\n\n&lt;p&gt;For this, I will rely on the use of custom properties (CSS variables). As we can read in the &lt;a href=&quot;https://www.w3.org/TR/css-variables-1/&quot; rel=&quot;noreferrer&quot;&gt;specification&lt;/a&gt;:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;Custom properties are &lt;strong&gt;ordinary properties&lt;/strong&gt;, so they can be declared on\n  any element, are resolved &lt;strong&gt;with the normal inheritance&lt;/strong&gt; and &lt;strong&gt;cascade&lt;/strong&gt;\n  &lt;strong&gt;rules&lt;/strong&gt; ...&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;The idea is to define custom properties within the main element and use them to style child elements and since these properties are inherited we simply need to change them within the main element on hover.  &lt;/p&gt;\n\n&lt;p&gt;Here is an example:&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;false&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#container&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;200px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;30px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid &lt;span class=&quot;hljs-built_in&quot;&gt;var&lt;/span&gt;(--c);\n  &lt;span class=&quot;hljs-attr&quot;&gt;--c&lt;/span&gt;:red;\n}\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#container&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attr&quot;&gt;--c&lt;/span&gt;:blue;\n}\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#container&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;30px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;var&lt;/span&gt;(--c);\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;container&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif3&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Why this can be better than using specific selector combined with hover?&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;I can provide at least 2 reasons that make this method a good one to consider:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;If we have many nested elements that share the same styles, this will avoid us complex selector to target all of them on hover. Using Custom properties, we simply change the value when hovering on the parent element.&lt;/li&gt;\n&lt;li&gt;A custom property can be used to replace a value of any property and also a partial value of it. For example we can define a custom property for a color and we use it within a &lt;code&gt;border&lt;/code&gt;, &lt;code&gt;linear-gradient&lt;/code&gt;, &lt;code&gt;background-color&lt;/code&gt;, &lt;code&gt;box-shadow&lt;/code&gt; etc. This will avoid us reseting all these properties on hover.&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;Here is a more complex example:&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.container&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attr&quot;&gt;--c&lt;/span&gt;:red;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;400px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;:flex;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid &lt;span class=&quot;hljs-built_in&quot;&gt;var&lt;/span&gt;(--c);\n  &lt;span class=&quot;hljs-attribute&quot;&gt;justify-content&lt;/span&gt;:space-between;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;hljs-built_in&quot;&gt;linear-gradient&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;var&lt;/span&gt;(--c),&lt;span class=&quot;hljs-built_in&quot;&gt;var&lt;/span&gt;(--c)) &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;50%&lt;/span&gt;/&lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3px&lt;/span&gt; no-repeat;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.box&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;30%&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;hljs-built_in&quot;&gt;var&lt;/span&gt;(--c);\n  &lt;span class=&quot;hljs-attribute&quot;&gt;box-shadow&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;0px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;var&lt;/span&gt;(--c);\n  &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;:relative;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.box&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:before&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;content&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;A&quot;&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;:block;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;15px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; auto;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;:&lt;span class=&quot;hljs-built_in&quot;&gt;var&lt;/span&gt;(--c);\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;#fff&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/*Hover*/&lt;/span&gt;\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.container&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attr&quot;&gt;--c&lt;/span&gt;:blue;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;container&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;box&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;box&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif4&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;As we can see above, we only need &lt;strong&gt;one CSS declaration&lt;/strong&gt; in order to change many properties of different elements.&lt;/p&gt;\n    ","\n&lt;blockquote&gt;\n&lt;p&gt;&lt;strong&gt;WARNING:&lt;/strong&gt; If you are able to use CSS: Use CSS without Javascript!&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;If you want to select an &lt;strong&gt;element with an unknown&lt;/strong&gt; / or &lt;strong&gt;not reachable position&lt;/strong&gt; you could use JavaScript.&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; cube = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;cube&apos;&lt;/span&gt;)\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; container = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;container&apos;&lt;/span&gt;)\n\ncube.&lt;span class=&quot;hljs-title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;mouseover&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-function&quot;&gt;() =&amp;gt;&lt;/span&gt; container.&lt;span class=&quot;hljs-property&quot;&gt;style&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;backgroundColor&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;blue&quot;&lt;/span&gt;)\ncube.&lt;span class=&quot;hljs-title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;mouseleave&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-function&quot;&gt;() =&amp;gt;&lt;/span&gt; container.&lt;span class=&quot;hljs-property&quot;&gt;style&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;backgroundColor&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;white&quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;outline&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid red;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;200px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;30px&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#cube&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: red;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;main&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;container&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;main&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;cube&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif5&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;#imageDiv:hover  #detailDiv\n{\n    z-index: -999 !important;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;here&lt;/p&gt;\n&lt;p&gt;&lt;code&gt;#imageDiv&lt;/code&gt; is first div that to be hover and&lt;/p&gt;\n&lt;p&gt;&lt;code&gt;#detailDiv&lt;/code&gt; is second div on that css will apply on hover&lt;/p&gt;\n&lt;p&gt;so if i hover on first &lt;code&gt;div&lt;/code&gt; then &lt;code&gt;zindex&lt;/code&gt; will assign to second &lt;code&gt;div&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;Works for me&lt;/p&gt;\n    "],"390":["\n&lt;blockquote&gt;\n&lt;p&gt;&lt;strong&gt;Are dictionaries ordered in Python 3.6+?&lt;/strong&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;They are &lt;strong&gt;insertion ordered&lt;/strong&gt;&lt;sup&gt;&lt;strong&gt;[1]&lt;/strong&gt;&lt;/sup&gt;.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;As of Python 3.6&lt;/strong&gt;, for the CPython implementation of Python, dictionaries &lt;em&gt;remember the order of items inserted&lt;/em&gt;. &lt;em&gt;This is considered an implementation detail in Python 3.6&lt;/em&gt;; you need to use &lt;code&gt;OrderedDict&lt;/code&gt; if you want insertion ordering that&apos;s &lt;em&gt;guaranteed&lt;/em&gt; across other implementations of Python (and other ordered behavior&lt;sup&gt;&lt;strong&gt;[1]&lt;/strong&gt;&lt;/sup&gt;).&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;As of Python 3.7&lt;/strong&gt;, this is a guaranteed language feature, not merely an implementation detail. &lt;a href=&quot;https://mail.python.org/pipermail/python-dev/2017-December/151283.html&quot; rel=&quot;noreferrer&quot;&gt;From a python-dev message by GvR&lt;/a&gt;:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Make it so. &quot;Dict keeps insertion order&quot; is the ruling. Thanks!&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;This simply means that &lt;em&gt;you can depend on it&lt;/em&gt;. Other implementations of Python must also offer an insertion ordered dictionary if they wish to be a conforming implementation of Python 3.7.&lt;/p&gt;\n&lt;hr&gt;\n&lt;blockquote&gt;\n&lt;p&gt;&lt;strong&gt;How does the Python &lt;code&gt;3.6&lt;/code&gt; dictionary implementation perform better&lt;sup&gt;[2]&lt;/sup&gt; than the older one while preserving element order?&lt;/strong&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;Essentially, by &lt;em&gt;keeping two arrays&lt;/em&gt;.&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;The first array, &lt;a href=&quot;https://github.com/python/cpython/blob/474ef63e38726d4bcde14f6104984a742c6cb747/Objects/dictobject.c#L551&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;dk_entries&lt;/code&gt;&lt;/a&gt;, holds the entries (&lt;a href=&quot;https://github.com/python/cpython/blob/c30098c8c6014f3340a369a31df9c74bdbacc269/Objects/dict-common.h#L4&quot; rel=&quot;noreferrer&quot;&gt;of type &lt;code&gt; PyDictKeyEntry&lt;/code&gt;&lt;/a&gt;) for the dictionary in the order that they were inserted. Preserving order is achieved by this being an append only array where new items are always inserted at the end (insertion order).&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;The second, &lt;a href=&quot;https://github.com/python/cpython/blob/c30098c8c6014f3340a369a31df9c74bdbacc269/Objects/dict-common.h#L70&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;dk_indices&lt;/code&gt;&lt;/a&gt;, holds the indices for the &lt;code&gt;dk_entries&lt;/code&gt; array (that is, values that indicate the position of the corresponding entry in &lt;code&gt;dk_entries&lt;/code&gt;). This array acts as the hash table. When a key is hashed it leads to one of the indices stored in &lt;code&gt;dk_indices&lt;/code&gt; and the corresponding entry is fetched by indexing &lt;code&gt;dk_entries&lt;/code&gt;. Since only indices are kept, the type of this array depends on the overall size of the dictionary (ranging from type &lt;a href=&quot;https://github.com/python/cpython/blob/c30098c8c6014f3340a369a31df9c74bdbacc269/Objects/dict-common.h#L64&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;int8_t&lt;/code&gt;&lt;/a&gt;(&lt;code&gt;1&lt;/code&gt; byte) to &lt;a href=&quot;https://github.com/python/cpython/blob/c30098c8c6014f3340a369a31df9c74bdbacc269/Objects/dict-common.h#L66&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;int32_t&lt;/code&gt;&lt;/a&gt;/&lt;a href=&quot;https://github.com/python/cpython/blob/c30098c8c6014f3340a369a31df9c74bdbacc269/Objects/dict-common.h#L68&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;int64_t&lt;/code&gt;&lt;/a&gt; (&lt;code&gt;4&lt;/code&gt;/&lt;code&gt;8&lt;/code&gt; bytes) on &lt;code&gt;32&lt;/code&gt;/&lt;code&gt;64&lt;/code&gt; bit builds)&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;In the previous implementation, a sparse array of type &lt;code&gt;PyDictKeyEntry&lt;/code&gt; and size &lt;code&gt;dk_size&lt;/code&gt; had to be allocated; unfortunately, it also resulted in a lot of empty space since that array was not allowed to be more than &lt;code&gt;2/3 * dk_size&lt;/code&gt; full &lt;a href=&quot;https://github.com/python/cpython/blob/474ef63e38726d4bcde14f6104984a742c6cb747/Objects/dictobject.c#L375&quot; rel=&quot;noreferrer&quot;&gt;for performance reasons&lt;/a&gt;. (and the empty space &lt;em&gt;still&lt;/em&gt; had &lt;code&gt;PyDictKeyEntry&lt;/code&gt; size!).&lt;/p&gt;\n&lt;p&gt;This is not the case now since only the &lt;em&gt;required&lt;/em&gt; entries are stored (those that have been inserted) and a sparse array of type &lt;code&gt;intX_t&lt;/code&gt; (&lt;code&gt;X&lt;/code&gt; depending on dict size) &lt;code&gt;2/3 * dk_size&lt;/code&gt;s full is kept. The empty space changed from type &lt;code&gt;PyDictKeyEntry&lt;/code&gt; to &lt;code&gt;intX_t&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;So, obviously, creating a sparse array of type &lt;code&gt;PyDictKeyEntry&lt;/code&gt; is much more memory demanding than a sparse array for storing &lt;code&gt;int&lt;/code&gt;s.&lt;/p&gt;\n&lt;p&gt;You can see the full conversation &lt;a href=&quot;https://mail.python.org/pipermail/python-dev/2016-September/146327.html&quot; rel=&quot;noreferrer&quot;&gt;on Python-Dev&lt;/a&gt; regarding this feature if interested, it is a good read.&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;&lt;a href=&quot;https://mail.python.org/pipermail/python-dev/2012-December/123028.html&quot; rel=&quot;noreferrer&quot;&gt;In the original proposal made by Raymond Hettinger&lt;/a&gt;, a visualization of the data structures used can be seen which captures the gist of the idea.&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;For example, the dictionary:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;d = {&lt;span class=&quot;hljs-string&quot;&gt;&apos;timmy&apos;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;red&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;barry&apos;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;green&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;guido&apos;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;blue&apos;&lt;/span&gt;}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;is currently stored as [keyhash, key, value]:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;entries = [[&lt;span class=&quot;hljs-string&quot;&gt;&apos;--&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;--&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;--&apos;&lt;/span&gt;],\n           [-&lt;span class=&quot;hljs-number&quot;&gt;8522787127447073495&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;barry&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;green&apos;&lt;/span&gt;],\n           [&lt;span class=&quot;hljs-string&quot;&gt;&apos;--&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;--&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;--&apos;&lt;/span&gt;],\n           [&lt;span class=&quot;hljs-string&quot;&gt;&apos;--&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;--&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;--&apos;&lt;/span&gt;],\n           [&lt;span class=&quot;hljs-string&quot;&gt;&apos;--&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;--&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;--&apos;&lt;/span&gt;],\n           [-&lt;span class=&quot;hljs-number&quot;&gt;9092791511155847987&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;timmy&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;red&apos;&lt;/span&gt;],\n           [&lt;span class=&quot;hljs-string&quot;&gt;&apos;--&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;--&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;--&apos;&lt;/span&gt;],\n           [-&lt;span class=&quot;hljs-number&quot;&gt;6480567542315338377&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;guido&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;blue&apos;&lt;/span&gt;]]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Instead, the data should be organized as follows:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;indices =  [&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]\nentries =  [[-&lt;span class=&quot;hljs-number&quot;&gt;9092791511155847987&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;timmy&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;red&apos;&lt;/span&gt;],\n            [-&lt;span class=&quot;hljs-number&quot;&gt;8522787127447073495&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;barry&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;green&apos;&lt;/span&gt;],\n            [-&lt;span class=&quot;hljs-number&quot;&gt;6480567542315338377&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;guido&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;blue&apos;&lt;/span&gt;]]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;As you can visually now see, in the original proposal, a lot of space is essentially empty to reduce collisions and make look-ups faster. With the new approach, you reduce the memory required by moving the sparseness where it&apos;s really required, in the indices.&lt;/p&gt;\n&lt;hr&gt;\n&lt;sub&gt;\n[1]: I say &quot;insertion ordered&quot; and not &quot;ordered&quot; since, with the existence of OrderedDict, &quot;ordered&quot; suggests further behavior that the `dict` object *doesn&apos;t provide*. OrderedDicts are reversible, provide order sensitive methods and, mainly, provide an order-sensive equality tests (`==`, `!=`). `dict`s currently don&apos;t offer any of those behaviors/methods.\n&lt;/sub&gt;\n&lt;hr&gt;\n&lt;sub&gt;\n[2]: The new dictionary implementations performs better **memory wise** by being designed more compactly; that&apos;s the main benefit here. Speed wise, the difference isn&apos;t so drastic, there&apos;s places where the new dict might introduce slight regressions (&lt;a href=&quot;https://github.com/python/cpython/blob/474ef63e38726d4bcde14f6104984a742c6cb747/Objects/dictobject.c#L375&quot; rel=&quot;noreferrer&quot;&gt;key-lookups, for example&lt;/a&gt;) while in others (iteration and resizing come to mind) a performance boost should be present. \n&lt;/sub&gt;\n&lt;sub&gt;\nOverall, the performance of the dictionary, especially in real-life situations, improves due to the compactness introduced.  \n&lt;/sub&gt;\n    ","\n&lt;p&gt;Below is answering the original first question:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;Should I use &lt;code&gt;dict&lt;/code&gt; or &lt;code&gt;OrderedDict&lt;/code&gt; in Python 3.6?&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;I think this sentence from the documentation is actually enough to answer your question&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;The order-preserving aspect of this new implementation is considered an implementation detail and should not be relied upon&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;code&gt;dict&lt;/code&gt; is not explicitly meant to be an ordered collection, so if you want to stay consistent and not rely on a side effect of the new implementation you should stick with &lt;code&gt;OrderedDict&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Make your code future proof :)&lt;/p&gt;\n\n&lt;p&gt;There&apos;s a debate about that &lt;a href=&quot;https://news.ycombinator.com/item?id=12460936&quot; rel=&quot;noreferrer&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;EDIT: &lt;strong&gt;Python 3.7 will keep this as a feature&lt;/strong&gt; &lt;a href=&quot;https://stackoverflow.com/a/47837132/1447525&quot;&gt;see&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Update:\nGuido van Rossum &lt;a href=&quot;https://mail.python.org/pipermail/python-dev/2017-December/151283.html&quot; rel=&quot;noreferrer&quot;&gt;announced on the mailing list&lt;/a&gt; that as of Python 3.7 &lt;code&gt;dict&lt;/code&gt;s in all Python implementations must preserve insertion order.&lt;/p&gt;\n    ","\n&lt;p&gt;I wanted to add to the discussion above but don&apos;t have the reputation to comment.&lt;/p&gt;\n&lt;p&gt;Python 3.8 includes the &lt;code&gt;reversed()&lt;/code&gt; function on dictionaries (removing another difference from &lt;code&gt;OrderedDict&lt;/code&gt;.&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Dict and dictviews are now iterable in reversed insertion order using reversed(). (Contributed by Rmi Lapeyre in bpo-33462.)\n&lt;a href=&quot;https://docs.python.org/3.8/whatsnew/3.8.html&quot; rel=&quot;noreferrer&quot;&gt;See what&apos;s new in python 3.8&lt;/a&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;I don&apos;t see any mention of the equality operator or other features of &lt;code&gt;OrderedDict&lt;/code&gt; so they are still not entirely the same.&lt;/p&gt;\n    ","\n&lt;p&gt;To fully answer this question in 2020, let me quote several statements from &lt;a href=&quot;https://docs.python.org/3/library/stdtypes.html?highlight=dict#mapping-types-dict&quot; rel=&quot;noreferrer&quot;&gt;official Python docs&lt;/a&gt;:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Changed in version 3.7: Dictionary order is guaranteed to be insertion order. This behavior was an implementation detail of CPython from 3.6.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Changed in version 3.7: Dictionary order is guaranteed to be insertion order.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Changed in version 3.8: Dictionaries are now reversible.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Dictionaries and dictionary views are reversible.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;A &lt;a href=&quot;https://docs.python.org/3/library/collections.html#collections.OrderedDict&quot; rel=&quot;noreferrer&quot;&gt;statement&lt;/a&gt; regarding OrderedDict vs Dict:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Ordered dictionaries are just like regular dictionaries but have some extra capabilities relating to ordering operations. They have become less important now that the built-in dict class gained the ability to remember insertion order (this new behavior became guaranteed in Python 3.7).&lt;/p&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;p&gt;If order is so important to determine like whether two dictionaries are equal, you still need to use &lt;code&gt;OrderedDict&lt;/code&gt;.&lt;br&gt;\nTo implement this feature, OrderedDict uses more memory (a bidirectional linked list is maintained internally)&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; collections &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; OrderedDict\n\na = {&lt;span class=&quot;hljs-string&quot;&gt;&quot;a&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;b&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;}\nb = {&lt;span class=&quot;hljs-string&quot;&gt;&quot;b&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;a&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;}\nc = OrderedDict({&lt;span class=&quot;hljs-string&quot;&gt;&quot;a&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;b&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;})\nd = OrderedDict({&lt;span class=&quot;hljs-string&quot;&gt;&quot;b&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;a&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;})\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(a == b)  &lt;span class=&quot;hljs-comment&quot;&gt;# True&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(c == d)  &lt;span class=&quot;hljs-comment&quot;&gt;# False&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(a == c)  &lt;span class=&quot;hljs-comment&quot;&gt;# True&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(a == d)  &lt;span class=&quot;hljs-comment&quot;&gt;# True&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    "]},"page":"45","randomQuestions":[{"title":"How to add JTable in JPanel with null layout?","slug":"how-to-add-jtable-in-jpanel-with-null-layout-1657384590912"},{"title":"I just assigned a variable, but echo $variable shows something else","slug":"i-just-assigned-a-variable-but-echo-dollarvariable-shows-something-else-1657387574561"},{"title":"What is the purpose of the var keyword and when should I use it (or omit it)?","slug":"what-is-the-purpose-of-the-var-keyword-and-when-should-i-use-it-(or-omit-it)-1657387525538"},{"title":"How to make function decorators and chain them together?","slug":"how-to-make-function-decorators-and-chain-them-together-1657388180803"},{"title":"How does the SQL injection from the \"Bobby Tables\" XKCD comic work?","slug":"how-does-the-sql-injection-from-the-\"bobby-tables\"-xkcd-comic-work-1657384621653"},{"title":"Why is iostream::eof inside a loop condition (i.e. `while (!stream.eof())`) considered wrong?","slug":"why-is-iostream::eof-inside-a-loop-condition-(i.e.-while-(!stream.eof()))-considered-wrong-1657384355427"},{"title":"How to horizontally center an element","slug":"how-to-horizontally-center-an-element-1657384634147"},{"title":"Random number generator only generating one random number","slug":"random-number-generator-only-generating-one-random-number-1657385468315"},{"title":"Parameterize an SQL IN clause","slug":"parameterize-an-sql-in-clause-1657387536064"},{"title":"Which equals operator (== vs ===) should be used in JavaScript comparisons?","slug":"which-equals-operator-(-vs-)-should-be-used-in-javascript-comparisons-1657384663105"},{"title":"List of lists changes reflected across sublists unexpectedly","slug":"list-of-lists-changes-reflected-across-sublists-unexpectedly-1657384393720"},{"title":"Sort ArrayList of custom Objects by property","slug":"sort-arraylist-of-custom-objects-by-property-1657387678339"},{"title":"Why is using 'eval' a bad practice?","slug":"why-is-using-'eval'-a-bad-practice-1657387348760"},{"title":"Why does this PDO statement silently fail?","slug":"why-does-this-pdo-statement-silently-fail-1657384892133"},{"title":"What is the !! (not not) operator in JavaScript?","slug":"what-is-the-!!-(not-not)-operator-in-javascript-1657387947844"},{"title":"Reshaping data.frame from wide to long format","slug":"reshaping-data.frame-from-wide-to-long-format-1657384678522"},{"title":"JSTL in JSF2 Facelets... makes sense?","slug":"jstl-in-jsf2-facelets...-makes-sense-1657387667435"},{"title":"How do I pass a variable by reference?","slug":"how-do-i-pass-a-variable-by-reference-1657384657232"},{"title":"Reference - What does this regex mean?","slug":"reference-what-does-this-regex-mean-1657384291445"},{"title":"CSS margin terror; Margin adds space outside parent element [duplicate]","slug":"css-margin-terror-margin-adds-space-outside-parent-element-duplicate-1657388142199"}]},"__N_SSG":true}