{"pageProps":{"data":{"count":610,"rows":[{"id":455,"title":"CSS selector for first element with class","slug":"css-selector-for-first-element-with-class-1657388028765","postType":"QUESTION","createdAt":"2022-07-09T17:33:48.000Z","updatedAt":"2022-07-09T17:33:48.000Z","tags":[]},{"id":454,"title":"Creating multiline strings in JavaScript","slug":"creating-multiline-strings-in-javascript-1657388025414","postType":"QUESTION","createdAt":"2022-07-09T17:33:45.000Z","updatedAt":"2022-07-09T17:33:45.000Z","tags":[{"id":2338,"name":"heredoc","slug":"heredoc","createdAt":"2022-07-09T17:33:45.000Z","updatedAt":"2022-07-09T17:33:45.000Z","Questions_Tags":{"questionId":454,"tagId":2338}}]},{"id":453,"title":"How can I transition height: 0; to height: auto; using CSS?","slug":"how-can-i-transition-height:-0-to-height:-auto-using-css-1657388022100","postType":"QUESTION","createdAt":"2022-07-09T17:33:42.000Z","updatedAt":"2022-07-09T17:33:42.000Z","tags":[]},{"id":452,"title":"Reshaping multiple sets of measurement columns (wide format) into single columns (long format)","slug":"reshaping-multiple-sets-of-measurement-columns-(wide-format)-into-single-columns-(long-format)-1657388016983","postType":"QUESTION","createdAt":"2022-07-09T17:33:36.000Z","updatedAt":"2022-07-09T17:33:36.000Z","tags":[{"id":2329,"name":"tidyr","slug":"tidyr","createdAt":"2022-07-09T17:33:37.000Z","updatedAt":"2022-07-09T17:33:37.000Z","Questions_Tags":{"questionId":452,"tagId":2329}},{"id":2330,"name":"reshape2","slug":"reshape2","createdAt":"2022-07-09T17:33:37.000Z","updatedAt":"2022-07-09T17:33:37.000Z","Questions_Tags":{"questionId":452,"tagId":2330}}]},{"id":451,"title":"Get the row(s) which have the max value in groups using groupby","slug":"get-the-row(s)-which-have-the-max-value-in-groups-using-groupby-1657388014787","postType":"QUESTION","createdAt":"2022-07-09T17:33:34.000Z","updatedAt":"2022-07-09T17:33:34.000Z","tags":[{"id":2326,"name":"max","slug":"max","createdAt":"2022-07-09T17:33:34.000Z","updatedAt":"2022-07-09T17:33:34.000Z","Questions_Tags":{"questionId":451,"tagId":2326}}]}]},"answers":{"451":["\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]: df\nOut[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]:\n    Sp  Mt Value  count\n&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;  MM1  S1     a      &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  MM1  S1     n      &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  MM1  S3    cb      &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  MM2  S3    mk      &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  MM2  S4    bg     &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  MM2  S4   dgd      &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;  MM4  S2    rd      &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;  MM4  S2    cb      &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;  MM4  S2   uyi      &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]: df.groupby([&lt;span class=&quot;hljs-string&quot;&gt;&apos;Mt&apos;&lt;/span&gt;], sort=&lt;span class=&quot;hljs-literal&quot;&gt;False&lt;/span&gt;)[&lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt;].&lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;()\nOut[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]:\nMt\nS1     &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\nS3     &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;\nS4    &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;\nS2     &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;\nName: count\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To get the indices of the original DF you can do:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]: idx = df.groupby([&lt;span class=&quot;hljs-string&quot;&gt;&apos;Mt&apos;&lt;/span&gt;])[&lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt;].transform(&lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;) == df[&lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt;]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]: df[idx]\nOut[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]:\n    Sp  Mt Value  count\n&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;  MM1  S1     a      &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  MM2  S3    mk      &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  MM2  S4    bg     &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;  MM4  S2   uyi      &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Note that if you have multiple max values per group, all will be returned.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;On a hail mary chance that this is what the OP is requesting:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]: df[&lt;span class=&quot;hljs-string&quot;&gt;&apos;count_max&apos;&lt;/span&gt;] = df.groupby([&lt;span class=&quot;hljs-string&quot;&gt;&apos;Mt&apos;&lt;/span&gt;])[&lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt;].transform(&lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;)\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]: df\nOut[&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]:\n    Sp  Mt Value  count  count_max\n&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;  MM1  S1     a      &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;          &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  MM1  S1     n      &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;          &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  MM1  S3    cb      &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;          &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  MM2  S3    mk      &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;          &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  MM2  S4    bg     &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  MM2  S4   dgd      &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;  MM4  S2    rd      &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;          &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;  MM4  S2    cb      &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;          &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;  MM4  S2   uyi      &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;          &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You can sort the dataFrame by count and then remove duplicates. I think it&apos;s easier:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;df.sort_values(&lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt;, ascending=&lt;span class=&quot;hljs-literal&quot;&gt;False&lt;/span&gt;).drop_duplicates([&lt;span class=&quot;hljs-string&quot;&gt;&apos;Sp&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;Mt&apos;&lt;/span&gt;])\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Easy solution would be to apply the &lt;code&gt;idxmax()&lt;/code&gt; function to get indices of rows with max values.\nThis would filter out all the rows with max value in the group.&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;365&lt;/span&gt;]: &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; pandas &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; pd\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;366&lt;/span&gt;]: df = pd.DataFrame({\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;sp&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;],\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;mt&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;S1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S3&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S3&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;],\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;val&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;cb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;mk&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;bg&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;dgb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;rd&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;cb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;uyi&apos;&lt;/span&gt;],\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]\n})\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;367&lt;/span&gt;]: df                                                                                                       \nOut[&lt;span class=&quot;hljs-number&quot;&gt;367&lt;/span&gt;]: \n   count  mt   sp  val\n&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  S1  MM1    a\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  S1  MM1    n\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  S3  MM1   cb\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;  S3  MM2   mk\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;  S4  MM2   bg\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  S4  MM2  dgb\n&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  S2  MM4   rd\n&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  S2  MM4   cb\n&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;  S2  MM4  uyi\n\n\n&lt;span class=&quot;hljs-comment&quot;&gt;### Apply idxmax() and use .loc() on dataframe to filter the rows with max values:&lt;/span&gt;\nIn [&lt;span class=&quot;hljs-number&quot;&gt;368&lt;/span&gt;]: df.loc[df.groupby([&lt;span class=&quot;hljs-string&quot;&gt;&quot;sp&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;mt&quot;&lt;/span&gt;])[&lt;span class=&quot;hljs-string&quot;&gt;&quot;count&quot;&lt;/span&gt;].idxmax()]                                                       \nOut[&lt;span class=&quot;hljs-number&quot;&gt;368&lt;/span&gt;]: \n   count  mt   sp  val\n&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  S1  MM1    a\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  S3  MM1   cb\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;  S3  MM2   mk\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;  S4  MM2   bg\n&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;  S2  MM4  uyi\n\n&lt;span class=&quot;hljs-comment&quot;&gt;### Just to show what values are returned by .idxmax() above:&lt;/span&gt;\nIn [&lt;span class=&quot;hljs-number&quot;&gt;369&lt;/span&gt;]: df.groupby([&lt;span class=&quot;hljs-string&quot;&gt;&quot;sp&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;mt&quot;&lt;/span&gt;])[&lt;span class=&quot;hljs-string&quot;&gt;&quot;count&quot;&lt;/span&gt;].idxmax().values                                                        \nOut[&lt;span class=&quot;hljs-number&quot;&gt;369&lt;/span&gt;]: array([&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;])\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You may not need to do with group by , using &lt;code&gt;sort_values&lt;/code&gt;+ &lt;code&gt;drop_duplicates&lt;/code&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;df.sort_values(&lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt;).drop_duplicates([&lt;span class=&quot;hljs-string&quot;&gt;&apos;Sp&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;Mt&apos;&lt;/span&gt;],keep=&lt;span class=&quot;hljs-string&quot;&gt;&apos;last&apos;&lt;/span&gt;)\nOut[&lt;span class=&quot;hljs-number&quot;&gt;190&lt;/span&gt;]: \n    Sp  Mt Value  count\n&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;  MM1  S1     a      &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  MM1  S3    cb      &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;  MM4  S2   uyi      &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  MM2  S3    mk      &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  MM2  S4    bg     &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Also almost same logic by using &lt;code&gt;tail&lt;/code&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;df.sort_values(&lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt;).groupby([&lt;span class=&quot;hljs-string&quot;&gt;&apos;Sp&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;Mt&apos;&lt;/span&gt;]).tail(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\nOut[&lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt;]: \n    Sp  Mt Value  count\n&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;  MM1  S1     a      &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  MM1  S3    cb      &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;  MM4  S2   uyi      &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  MM2  S3    mk      &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  MM2  S4    bg     &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Having tried the solution suggested by Zelazny on a relatively large DataFrame (~400k rows) I found it to be very slow.  Here is an alternative that I found to run orders of magnitude faster on my data set.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;df = pd.DataFrame({\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;sp&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;],\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;mt&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;S1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S3&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S3&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;],\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;val&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;cb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;mk&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;bg&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;dgb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;rd&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;cb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;uyi&apos;&lt;/span&gt;],\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]\n    })\n\ndf_grouped = df.groupby([&lt;span class=&quot;hljs-string&quot;&gt;&apos;sp&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;mt&apos;&lt;/span&gt;]).agg({&lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;max&apos;&lt;/span&gt;})\n\ndf_grouped = df_grouped.reset_index()\n\ndf_grouped = df_grouped.rename(columns={&lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;count_max&apos;&lt;/span&gt;})\n\ndf = pd.merge(df, df_grouped, how=&lt;span class=&quot;hljs-string&quot;&gt;&apos;left&apos;&lt;/span&gt;, on=[&lt;span class=&quot;hljs-string&quot;&gt;&apos;sp&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;mt&apos;&lt;/span&gt;])\n\ndf = df[df[&lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt;] == df[&lt;span class=&quot;hljs-string&quot;&gt;&apos;count_max&apos;&lt;/span&gt;]]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Use &lt;code&gt;groupby&lt;/code&gt; and &lt;code&gt;idxmax&lt;/code&gt; methods:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;transfer col &lt;code&gt;date&lt;/code&gt; to &lt;code&gt;datetime&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;df[&lt;span class=&quot;hljs-string&quot;&gt;&apos;date&apos;&lt;/span&gt;]=pd.to_datetime(df[&lt;span class=&quot;hljs-string&quot;&gt;&apos;date&apos;&lt;/span&gt;])\n&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;get the index of &lt;code&gt;max&lt;/code&gt; of column &lt;code&gt;date&lt;/code&gt;, after &lt;code&gt;groupyby ad_id&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;idx=df.groupby(by=&lt;span class=&quot;hljs-string&quot;&gt;&apos;ad_id&apos;&lt;/span&gt;)[&lt;span class=&quot;hljs-string&quot;&gt;&apos;date&apos;&lt;/span&gt;].idxmax()\n&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;get the wanted data:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;df_max=df.loc[idx,]\n&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;Out[54]:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;ad_id  price       date\n&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;22&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2018&lt;/span&gt;-06-&lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;23&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2018&lt;/span&gt;-06-&lt;span class=&quot;hljs-number&quot;&gt;22&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;24&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2018&lt;/span&gt;-06-&lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;28&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2018&lt;/span&gt;-06-&lt;span class=&quot;hljs-number&quot;&gt;22&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;For me, the easiest solution would be keep value when count is equal to the maximum. Therefore, the following one line command is enough : &lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;df[df[&lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt;] == df.groupby([&lt;span class=&quot;hljs-string&quot;&gt;&apos;Mt&apos;&lt;/span&gt;])[&lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt;].transform(&lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;)]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Summarizing, there are many ways, but which one is faster?&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; pandas &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; pd\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; numpy &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; np\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; time\n\ndf = pd.DataFrame(np.random.randint(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;,size=(&lt;span class=&quot;hljs-number&quot;&gt;1000000&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;)), columns=&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;AB&apos;&lt;/span&gt;))\n\nstart_time = time.time()\ndf1idx = df.groupby([&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;])[&lt;span class=&quot;hljs-string&quot;&gt;&apos;B&apos;&lt;/span&gt;].transform(&lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;) == df[&lt;span class=&quot;hljs-string&quot;&gt;&apos;B&apos;&lt;/span&gt;]\ndf1 = df[df1idx]\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;---1 ) %s seconds ---&quot;&lt;/span&gt; % (time.time() - start_time))\n\nstart_time = time.time()\ndf2 = df.sort_values(&lt;span class=&quot;hljs-string&quot;&gt;&apos;B&apos;&lt;/span&gt;).groupby([&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;]).tail(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;---2 ) %s seconds ---&quot;&lt;/span&gt; % (time.time() - start_time))\n\nstart_time = time.time()\ndf3 = df.sort_values(&lt;span class=&quot;hljs-string&quot;&gt;&apos;B&apos;&lt;/span&gt;).drop_duplicates([&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;],keep=&lt;span class=&quot;hljs-string&quot;&gt;&apos;last&apos;&lt;/span&gt;)\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;---3 ) %s seconds ---&quot;&lt;/span&gt; % (time.time() - start_time))\n\nstart_time = time.time()\ndf3b = df.sort_values(&lt;span class=&quot;hljs-string&quot;&gt;&apos;B&apos;&lt;/span&gt;, ascending=&lt;span class=&quot;hljs-literal&quot;&gt;False&lt;/span&gt;).drop_duplicates([&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;])\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;---3b) %s seconds ---&quot;&lt;/span&gt; % (time.time() - start_time))\n\nstart_time = time.time()\ndf4 = df[df[&lt;span class=&quot;hljs-string&quot;&gt;&apos;B&apos;&lt;/span&gt;] == df.groupby([&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;])[&lt;span class=&quot;hljs-string&quot;&gt;&apos;B&apos;&lt;/span&gt;].transform(&lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;)]\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;---4 ) %s seconds ---&quot;&lt;/span&gt; % (time.time() - start_time))\n\nstart_time = time.time()\nd = df.groupby(&lt;span class=&quot;hljs-string&quot;&gt;&apos;A&apos;&lt;/span&gt;)[&lt;span class=&quot;hljs-string&quot;&gt;&apos;B&apos;&lt;/span&gt;].nlargest(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\ndf5 = df.iloc[[i[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; d.index], :]\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;---5 ) %s seconds ---&quot;&lt;/span&gt; % (time.time() - start_time))\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;And the winner is...&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;--1 ) 0.03337574005126953 seconds ---&lt;/li&gt;\n&lt;li&gt;--2 ) 0.1346898078918457 seconds ---&lt;/li&gt;\n&lt;li&gt;--3 ) 0.10243558883666992 seconds ---&lt;/li&gt;\n&lt;li&gt;--3b) 0.1004343032836914 seconds ---&lt;/li&gt;\n&lt;li&gt;--4 ) 0.028397560119628906 seconds ---&lt;/li&gt;\n&lt;li&gt;--5 ) 0.07552886009216309 seconds ---&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;Try using &quot;nlargest&quot; on the groupby object. The advantage of using nlargest is that it returns the index of the rows where &quot;the nlargest item(s)&quot; were fetched from.\nNote: we slice the second(1) element of our index since our index in this case consist of tuples(eg.(s1, 0)).&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;df = pd.DataFrame({\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;sp&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;],\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;mt&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;S1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S3&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S3&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;],\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;val&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;cb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;mk&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;bg&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;dgb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;rd&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;cb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;uyi&apos;&lt;/span&gt;],\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]\n})\n\nd = df.groupby(&lt;span class=&quot;hljs-string&quot;&gt;&apos;mt&apos;&lt;/span&gt;)[&lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt;].nlargest(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;# pass 1 since we want the max&lt;/span&gt;\n\ndf.iloc[[i[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; d.index], :] &lt;span class=&quot;hljs-comment&quot;&gt;# pass the index of d as list comprehension&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/F2h7N.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/F2h7N.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Realizing that &lt;strong&gt;&quot;applying&quot; &quot;nlargest&quot;&lt;/strong&gt; to &lt;strong&gt;groupby object&lt;/strong&gt; works just as fine:&lt;/p&gt;\n\n&lt;p&gt;Additional advantage - &lt;strong&gt;also can fetch&lt;/strong&gt; &lt;strong&gt;top n values&lt;/strong&gt; if required:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;85&lt;/span&gt;]: &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; pandas &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; pd\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;86&lt;/span&gt;]: df = pd.DataFrame({\n    ...: &lt;span class=&quot;hljs-string&quot;&gt;&apos;sp&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;],\n    ...: &lt;span class=&quot;hljs-string&quot;&gt;&apos;mt&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;S1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S3&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S3&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;],\n    ...: &lt;span class=&quot;hljs-string&quot;&gt;&apos;val&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;cb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;mk&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;bg&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;dgb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;rd&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;cb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;uyi&apos;&lt;/span&gt;],\n    ...: &lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]\n    ...: })\n\n&lt;span class=&quot;hljs-comment&quot;&gt;## Apply nlargest(1) to find the max val df, and nlargest(n) gives top n values for df:&lt;/span&gt;\nIn [&lt;span class=&quot;hljs-number&quot;&gt;87&lt;/span&gt;]: df.groupby([&lt;span class=&quot;hljs-string&quot;&gt;&quot;sp&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;mt&quot;&lt;/span&gt;]).apply(&lt;span class=&quot;hljs-keyword&quot;&gt;lambda&lt;/span&gt; x: x.nlargest(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;count&quot;&lt;/span&gt;)).reset_index(drop=&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;)\nOut[&lt;span class=&quot;hljs-number&quot;&gt;87&lt;/span&gt;]:\n   count  mt   sp  val\n&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  S1  MM1    a\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  S3  MM1   cb\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;  S3  MM2   mk\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;  S4  MM2   bg\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;      &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;  S2  MM4  uyi\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If you sort your DataFrame that ordering will be preserved in the groupby.  You can then just grab the first or last element and reset the index.&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;df = pd.DataFrame({\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;sp&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;],\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;mt&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;S1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S3&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S3&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;],\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;val&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;cb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;mk&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;bg&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;dgb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;rd&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;cb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;uyi&apos;&lt;/span&gt;],\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]\n})\n\ndf.sort_values(&lt;span class=&quot;hljs-string&quot;&gt;&quot;count&quot;&lt;/span&gt;, ascending=&lt;span class=&quot;hljs-literal&quot;&gt;False&lt;/span&gt;).groupby([&lt;span class=&quot;hljs-string&quot;&gt;&quot;sp&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;mt&quot;&lt;/span&gt;]).first().reset_index()\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;df = pd.DataFrame({\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;sp&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;],\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;mt&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;S1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S3&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S3&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;],\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;val&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;cb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;mk&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;bg&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;dgb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;rd&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;cb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;uyi&apos;&lt;/span&gt;],\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]\n})\n\ndf.groupby([&lt;span class=&quot;hljs-string&quot;&gt;&apos;sp&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;mt&apos;&lt;/span&gt;]).apply(&lt;span class=&quot;hljs-keyword&quot;&gt;lambda&lt;/span&gt; grp: grp.nlargest(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;count&apos;&lt;/span&gt;))\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I&apos;ve been using this functional style for many group operations:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;df = pd.DataFrame({\n   &lt;span class=&quot;hljs-string&quot;&gt;&apos;Sp&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;MM4&apos;&lt;/span&gt;],\n   &lt;span class=&quot;hljs-string&quot;&gt;&apos;Mt&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;S1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S1&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S3&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S3&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S4&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;S2&apos;&lt;/span&gt;],\n   &lt;span class=&quot;hljs-string&quot;&gt;&apos;Val&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;n&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;cb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;mk&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;bg&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;dgb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;rd&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;cb&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;uyi&apos;&lt;/span&gt;],\n   &lt;span class=&quot;hljs-string&quot;&gt;&apos;Count&apos;&lt;/span&gt; : [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]\n})\n\ndf.groupby(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Mt&apos;&lt;/span&gt;)\\\n  .apply(&lt;span class=&quot;hljs-keyword&quot;&gt;lambda&lt;/span&gt; group: group[group.Count == group.Count.&lt;span class=&quot;hljs-built_in&quot;&gt;max&lt;/span&gt;()])\\\n  .reset_index(drop=&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;)\n\n    sp  mt  val  count\n&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;  MM1  S1    a      &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  MM4  S2  uyi      &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  MM2  S3   mk      &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  MM2  S4   bg     &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;code&gt;.reset_index(drop=True)&lt;/code&gt; gets you back to the original index by dropping the group-index.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;code&gt;df.loc[df.groupby(&apos;mt&apos;)[&apos;count&apos;].idxmax()]&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;if the &lt;code&gt;df&lt;/code&gt; index isn&apos;t unique you may need this step &lt;code&gt;df.reset_index(inplace=True)&lt;/code&gt; first.&lt;/p&gt;\n    "],"452":["\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;reshape&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; idvar&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;ID&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; direction&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;long&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n             varying&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Start&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; End&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; Value&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n             v.names &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;DateRangeStart&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;DateRangeEnd&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Value&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#-------------&lt;/span&gt;\n    ID time DateRangeStart DateRangeEnd Value\n&lt;span class=&quot;hljs-number&quot;&gt;1.1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;          &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;90&lt;/span&gt;        &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;90&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;4.4&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1.2&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;          &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;        &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;6.2&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1.3&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;          &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;95&lt;/span&gt;        &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;96&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;3.3&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;(Added the v.names per Josh&apos;s suggestion.)&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;code&gt;data.table&lt;/code&gt;&apos;s &lt;code&gt;melt&lt;/code&gt; function can melt into multiple columns. Using that, we can simply do:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;require&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nmelt&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;setDT&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; id&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n     measure&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;patterns&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Start$&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;End$&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;^Value&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n     value.name&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;DateRangeStart&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;DateRangeEnd&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Value&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;#    ID variable DateRangeStart DateRangeEnd Value&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 1:  1        1         1/1/90       3/1/90   4.4&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 2:  1        2         4/5/91       6/7/91   6.2&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 3:  1        3         5/5/95       6/6/96   3.3&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;Alternatively, you can also reference the three sets of measure columns by the column position:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;melt&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;setDT&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; id &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n     measure &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n     value.name &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;DateRangeStart&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;DateRangeEnd&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Value&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Reshaping from wide to long format with multiple value/measure columns is possible with the function &lt;code&gt;pivot_longer()&lt;/code&gt; of the &lt;em&gt;tidyr&lt;/em&gt; package since version &lt;em&gt;1.0.0&lt;/em&gt;.&lt;/p&gt;\n\n&lt;p&gt;This is superior to the previous tidyr strategy of &lt;code&gt;gather()&lt;/code&gt; than &lt;code&gt;spread()&lt;/code&gt; (see answer by @AndrewMacDonald), because the attributes are no longer dropped (dates remain dates and numerics remain numerics in the example below).&lt;/p&gt;\n\n\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;tidyr&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nlibrary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;magrittr&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\na &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; structure&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;ID &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n                    DateRange1Start &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; structure&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7305&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Date&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n                    DateRange1End &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; structure&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7307&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Date&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n                    Value1 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;4.4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n                    DateRange2Start &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; structure&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7793&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Date&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n                    DateRange2End &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; structure&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7856&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Date&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n                    Value2 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;6.2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n                    DateRange3Start &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; structure&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;9255&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Date&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n                    DateRange3End &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; structure&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;9653&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Date&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n                    Value3 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3.3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n               row.names &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;tbl_df&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;tbl&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;data.frame&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;code&gt;pivot_longer()&lt;/code&gt; (counterpart: &lt;code&gt;pivot_wider()&lt;/code&gt;) works similar to &lt;code&gt;gather()&lt;/code&gt;.\nHowever, it offers additional functionality such as multiple value columns.\nWith only one value column, all colnames of the wide data set would go into one long column with the name given in &lt;code&gt;names_to&lt;/code&gt;.\nFor multiple value columns, &lt;code&gt;names_to&lt;/code&gt; may receive multiple new names.&lt;/p&gt;\n\n&lt;p&gt;This is easiest if all column names follow a specific pattern like &lt;code&gt;Start_1&lt;/code&gt;, &lt;code&gt;End_1&lt;/code&gt;, &lt;code&gt;Start_2&lt;/code&gt;, etc.\nTherefore, I renamed the columns in the first step.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; sub&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;(\\\\d)(\\\\w*)&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;\\\\2_\\\\1&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt;  [1] &quot;ID&quot;               &quot;DateRangeStart_1&quot; &quot;DateRangeEnd_1&quot;  &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt;  [4] &quot;Value_1&quot;          &quot;DateRangeStart_2&quot; &quot;DateRangeEnd_2&quot;  &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt;  [7] &quot;Value_2&quot;          &quot;DateRangeStart_3&quot; &quot;DateRangeEnd_3&quot;  &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt; [10] &quot;Value_3&quot;&lt;/span&gt;\n\npivot_longer&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n             cols &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;ID&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n             names_to &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;.value&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;group&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n             &lt;span class=&quot;hljs-comment&quot;&gt;# names_prefix = &quot;DateRange&quot;,&lt;/span&gt;\n             names_sep &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;_&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt; # A tibble: 3 x 5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt;      ID group DateRangeEnd DateRangeStart Value&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt;   &amp;lt;int&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;date&amp;gt;       &amp;lt;date&amp;gt;         &amp;lt;dbl&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt; 1     1 1     1990-01-03   1990-01-01       4.4&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt; 2     1 2     1991-07-06   1991-05-04       6.2&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt; 3     1 3     1996-06-06   1995-05-05       3.3&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Alternatively, the reshape may be done using a &lt;em&gt;pivot spec&lt;/em&gt; that offers finer control (see link below):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;spec &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; a &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n    build_longer_spec&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;cols &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;ID&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n    dplyr&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;transmute&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;.name &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; .name&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n                     group &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; readr&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;parse_number&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n                     .value &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; stringr&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;str_extract&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Start|End|Value&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\npivot_longer&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; spec &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; spec&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;sup&gt;Created on 2019-03-26 by the &lt;a href=&quot;https://reprex.tidyverse.org&quot; rel=&quot;noreferrer&quot;&gt;reprex package&lt;/a&gt; (v0.2.1)&lt;/sup&gt;&lt;/p&gt;\n\n&lt;p&gt;See also: &lt;a href=&quot;https://tidyr.tidyverse.org/articles/pivot.html&quot; rel=&quot;noreferrer&quot;&gt;https://tidyr.tidyverse.org/articles/pivot.html&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Here is an approach to the problem using &lt;code&gt;tidyr&lt;/code&gt;.  This is an interesting use case for its function &lt;code&gt;extract_numeric()&lt;/code&gt;, which I used to pull out the group from the column names&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nlibrary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;tidyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\na &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; read.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;textConnection&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;\nID DateRange1Start DateRange1End Value1 DateRange2Start DateRange2End Value2 DateRange3Start DateRange3End Value3\n1 1/1/90 3/1/90 4.4 4/5/91 6/7/91 6.2 5/5/95 6/6/96 3.3 \n&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;header&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\na &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n  gather&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;variable&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;value&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;ID&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n  mutate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;group &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; extract_numeric&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;variable&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n  mutate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;variable &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;  gsub&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;\\\\d&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;x &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; variable&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n  spread&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;variable&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;value&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n  ID group DateRangeEnd DateRangeStart Value\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;       &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;90&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;90&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;4.4&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;       &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;6.2&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;       &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;96&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;95&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.3&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Two additional options (with an example dataframe with more than one row to better show the working of the code):&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;1) with base R:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;l &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;split.default&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;cumsum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;grepl&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Start$&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n            setNames&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRangeStart&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRangeEnd&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Value&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndata.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;ID &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; d&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; do.call&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;rbind&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; l&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; row.names &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;which gives:&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;  ID DateRangeStart DateRangeEnd Value\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;90&lt;/span&gt;       &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;90&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;4.4&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;90&lt;/span&gt;       &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;90&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;6.1&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;       &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;6.2&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;       &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.2&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;95&lt;/span&gt;       &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;96&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.3&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;97&lt;/span&gt;       &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;98&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1.3&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;strong&gt;2) with the &lt;code&gt;tidyverse&lt;/code&gt;:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nlibrary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;purrr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\nsplit.default&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;cumsum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;grepl&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Start$&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n  map_dfr&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt;set_names&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;.&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRangeStart&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRangeEnd&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Value&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  bind_cols&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;ID &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;ID&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; nrow&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;.&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;nrow&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; .&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;3) with the &lt;code&gt;sjmisc&lt;/code&gt;-package:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;sjmisc&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nto_long&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; keys &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;group&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        values &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRangeStart&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRangeEnd&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Value&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n        &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRange1Start&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRange2Start&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRange3Start&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRange1End&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRange2End&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRange3End&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Value1&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Value2&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Value3&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;If you also want a group/time column, you can adapt the approaches above to:&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;1) with base R:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;l &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;split.default&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;cumsum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;grepl&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Start$&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n            setNames&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRangeStart&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRangeEnd&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Value&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndata.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;ID &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; d&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n           group &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;seq_along&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;l&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; each &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; nrow&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n           do.call&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;rbind&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; l&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; row.names &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;which gives:&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;  ID group DateRangeStart DateRangeEnd Value\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;90&lt;/span&gt;       &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;90&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;4.4&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;90&lt;/span&gt;       &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;90&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;6.1&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;       &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;6.2&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;       &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.2&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;95&lt;/span&gt;       &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;96&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;3.3&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;         &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;97&lt;/span&gt;       &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;98&lt;/span&gt;   &lt;span class=&quot;hljs-number&quot;&gt;1.3&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;strong&gt;2) with the &lt;code&gt;tidyverse&lt;/code&gt;:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;split.default&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;cumsum&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;grepl&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Start$&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n  map_dfr&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt;set_names&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;.&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRangeStart&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRangeEnd&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Value&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  bind_cols&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;ID &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;ID&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; nrow&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;.&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;nrow&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n            group &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;nrow&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;.&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;nrow&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; each &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; nrow&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; .&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;3) with the &lt;code&gt;sjmisc&lt;/code&gt;-package:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;sjmisc&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nto_long&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; keys &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;group&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; recode.key &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        values &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRangeStart&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRangeEnd&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Value&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n        &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRange1Start&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRange2Start&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRange3Start&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRange1End&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRange2End&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;DateRange3End&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Value1&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Value2&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;Value3&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;&lt;strong&gt;Used data:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;d &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; read.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;text &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;ID DateRange1Start DateRange1End Value1 DateRange2Start DateRange2End Value2 DateRange3Start DateRange3End Value3\n1 1/1/90 3/1/90 4.4 4/5/91 6/7/91 6.2 5/5/95 6/6/96 3.3\n2 1/2/90 3/2/90 6.1 4/6/91 6/8/91 3.2 5/5/97 6/6/98 1.3&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; header &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; stringsAsFactors &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Using recycling:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;ID &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; d&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n           DateRangeStart &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; unlist&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n           DateRangeEnd  &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; unlist&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n           Value &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;  unlist&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Another solution in the &lt;a href=&quot;https://www.tidyverse.org/&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;strong&gt;&lt;code&gt;tidyverse&lt;/code&gt;&lt;/strong&gt;&lt;/a&gt;, which leverages the &lt;a href=&quot;https://tidyr.tidyverse.org/reference/pivot_longer.html#arguments&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;code&gt;names_pattern&lt;/code&gt;&lt;/a&gt; argument to &lt;a href=&quot;https://tidyr.tidyverse.org/reference/pivot_longer.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;code&gt;tidyr::pivot_longer()&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;&lt;code&gt;names_pattern&lt;/code&gt; takes the same specification as &lt;a href=&quot;https://tidyr.tidyverse.org/reference/extract.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;code&gt;extract()&lt;/code&gt;&lt;/a&gt;, a regular expression containing matching groups (&lt;code&gt;()&lt;/code&gt;).&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;As a single command that requires no preliminary string manipulations, this might present an improvement over &lt;a href=&quot;https://stackoverflow.com/users/2563804&quot;&gt;@hplieninger&lt;/a&gt;&apos;s answer &lt;a href=&quot;https://stackoverflow.com/a/55262457&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;\n&lt;h1&gt;Solution&lt;/h1&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;tidyverse&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# ...&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# Code to generate dataset &apos;ds&apos;.&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# ...&lt;/span&gt;\n\n\nds &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; pivot_longer&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;# Target only those columns names with a numeric index; possibly suffixed by &quot;Start&quot;&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;# or &quot;End&quot;.&lt;/span&gt;\n  cols &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; matches&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;^(.*)(\\\\d+)(Start|End)?$&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;# Break each name into its prefix, index, and suffix.&lt;/span&gt;\n  names_pattern &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;^(.*)(\\\\d+)(Start|End)?$&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;# Pivot by index and reassemble the other components.&lt;/span&gt;\n  names_to &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;.value&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;group_id&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;.value&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;You can further streamline the code into a one-liner, like so&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;pivot_longer&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;ds&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;!&lt;/span&gt;ID&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; names_pattern &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;^(.*)(\\\\d+)(Start|End)?$&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; names_to &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;.value&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;.value&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;where &lt;code&gt;!ID&lt;/code&gt; simply targets every column (but &lt;code&gt;ID&lt;/code&gt;) as a grouped variable; and &lt;code&gt;NA&lt;/code&gt; omits the group index (&lt;code&gt;group_id&lt;/code&gt;) as in your example output.&lt;/p&gt;\n&lt;h1&gt;Result&lt;/h1&gt;\n&lt;p&gt;Given a &lt;code&gt;ds&lt;/code&gt; like your sample dataset&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;ds &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; structure&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n  &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n    ID &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n    DateRange1Start &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; structure&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7305&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Date&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n    DateRange1End &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; structure&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7307&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Date&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n    Value1 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;4.4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n    DateRange2Start &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; structure&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7793&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Date&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n    DateRange2End &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; structure&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7856&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Date&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n    Value2 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;6.2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n    DateRange3Start &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; structure&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;9255&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Date&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n    DateRange3End &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; structure&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;9653&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Date&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n    Value3 &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3.3&lt;/span&gt;\n  &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n  row.names &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n  &lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;tbl_df&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;tbl&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;data.frame&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;this solution should yield the following result&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# A tibble: 3 x 5&lt;/span&gt;\n     ID group_id DateRangeStart DateRangeEnd Value\n  &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;int&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;chr&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;    &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;date&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;         &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;date&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;       &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;dbl&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;        &lt;span class=&quot;hljs-number&quot;&gt;1990&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1990&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;03&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;4.4&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;        &lt;span class=&quot;hljs-number&quot;&gt;1991&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;05&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;04&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1991&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;07&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;06&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;6.2&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;        &lt;span class=&quot;hljs-number&quot;&gt;1995&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;05&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;05&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1996&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;06&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;06&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;3.3&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;or alternatively for the streamlined command:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# A tibble: 3 x 4&lt;/span&gt;\n     ID DateRangeStart DateRangeEnd Value\n  &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;int&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;date&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;         &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;date&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;       &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;dbl&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1990&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1990&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;03&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;4.4&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1991&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;05&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;04&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1991&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;07&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;06&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;6.2&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1995&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;05&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;05&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;1996&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;06&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;06&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;3.3&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You don&apos;t need anything fancy; base &lt;code&gt;R&lt;/code&gt; functions will do.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;a &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; read.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;textConnection&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;\nID DateRange1Start DateRange1End Value1 DateRange2Start DateRange2End Value2 DateRange3Start DateRange3End Value3\n1 1/1/90 3/1/90 4.4 4/5/91 6/7/91 6.2 5/5/95 6/6/96 3.3 \n&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;header&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nb1 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; a&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;; b2 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; a&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;; b3 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; a&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\ncolnames&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;b1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; colnames&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;b2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; colnames&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;b3&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;ID&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;DateRangeStart&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;DateRangeEnd&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Value&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nb &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; rbind&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;b1&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;b2&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;b3&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    "],"453":["\n&lt;p&gt;Use &lt;code&gt;max-height&lt;/code&gt; in the transition and not &lt;code&gt;height&lt;/code&gt;. And set a value on &lt;code&gt;max-height&lt;/code&gt; to something bigger than your box will ever get.&lt;/p&gt;\n\n&lt;p&gt;See &lt;a href=&quot;http://jsfiddle.net/thechrisjordan/3Fc7D/23/&quot; rel=&quot;noreferrer&quot;&gt;JSFiddle demo&lt;/a&gt; provided by Chris Jordan in another &lt;a href=&quot;https://stackoverflow.com/a/20226830/18706&quot;&gt;answer&lt;/a&gt; here.&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;false&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#menu&lt;/span&gt; &lt;span class=&quot;hljs-selector-id&quot;&gt;#list&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;max-height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: max-height &lt;span class=&quot;hljs-number&quot;&gt;0.15s&lt;/span&gt; ease-out;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;: hidden;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;#d5d5d5&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#menu&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; &lt;span class=&quot;hljs-selector-id&quot;&gt;#list&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;max-height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;500px&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: max-height &lt;span class=&quot;hljs-number&quot;&gt;0.25s&lt;/span&gt; ease-in;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;hover me&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;list&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- Create a bunch, or not a bunch, of li&apos;s to see the timing. --&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif2&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;You should use scaleY instead.&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;ul&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;#eee&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transform&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;scaleY&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);    \n  &lt;span class=&quot;hljs-attribute&quot;&gt;transform-origin&lt;/span&gt;: top;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: transform &lt;span class=&quot;hljs-number&quot;&gt;0.26s&lt;/span&gt; ease;\n}\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; ~ &lt;span class=&quot;hljs-selector-tag&quot;&gt;ul&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transform&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;scaleY&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;Hover This&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;Coffee&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;Tea&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;Milk&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif3&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;p&gt;I&apos;ve made a vendor prefixed version of the above code on &lt;a href=&quot;http://jsfiddle.net/dotnetCarpenter/PhyQc/9/&quot; rel=&quot;noreferrer&quot;&gt;jsfiddle&lt;/a&gt;,  and changed your &lt;a href=&quot;http://jsfiddle.net/dotnetCarpenter/7cnfc/206/&quot; rel=&quot;noreferrer&quot;&gt;jsfiddle&lt;/a&gt; to use scaleY instead of height.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;&lt;em&gt;Edit&lt;/em&gt;&lt;/strong&gt;\nSome people do not like how &lt;code&gt;scaleY&lt;/code&gt; transforms the content. If that is a problem then I suggest using &lt;code&gt;clip&lt;/code&gt; instead.&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;false&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;ul&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;clip&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;rect&lt;/span&gt;(auto, auto, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, auto);\n  &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;: absolute;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: -&lt;span class=&quot;hljs-number&quot;&gt;1rem&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: .&lt;span class=&quot;hljs-number&quot;&gt;5rem&lt;/span&gt;;\n\n  &lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;: white;\n\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;rgba&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0.8&lt;/span&gt;);\n\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition-property&lt;/span&gt;: clip;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition-duration&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0.5s&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition-timing-function&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;cubic-bezier&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0.175&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0.885&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0.32&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1.275&lt;/span&gt;);\n}\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;h3&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; ~ &lt;span class=&quot;hljs-selector-tag&quot;&gt;ul&lt;/span&gt;,\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;h3&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:active&lt;/span&gt; ~ &lt;span class=&quot;hljs-selector-tag&quot;&gt;ul&lt;/span&gt;,\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;ul&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;clip&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;rect&lt;/span&gt;(auto, auto, &lt;span class=&quot;hljs-number&quot;&gt;10rem&lt;/span&gt;, auto);\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;Hover here&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;This list&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;is clipped.&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;A clip transition&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;will show it&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  Some text...\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif4&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;You can&apos;t currently animate on height when one of the heights involved is &lt;code&gt;auto&lt;/code&gt;, you have to set two explicit heights.&lt;/p&gt;\n    ","\n&lt;p&gt;The solution that I&apos;ve always used was to first fade out, then shrink the &lt;code&gt;font-size&lt;/code&gt;, &lt;code&gt;padding&lt;/code&gt; and &lt;code&gt;margin&lt;/code&gt; values. It doesn&apos;t look the same as a wipe, but it works without a static &lt;code&gt;height&lt;/code&gt; or &lt;code&gt;max-height&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Working example:&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;/* final display */&lt;/span&gt;\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#menu&lt;/span&gt; &lt;span class=&quot;hljs-selector-id&quot;&gt;#list&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: .&lt;span class=&quot;hljs-number&quot;&gt;5em&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1em&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1em&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/* hide */&lt;/span&gt;\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#menu&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:not&lt;/span&gt;(&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt;) &lt;span class=&quot;hljs-selector-id&quot;&gt;#list&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;font-size&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;opacity&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;/* fade out, then shrink */&lt;/span&gt;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: opacity .&lt;span class=&quot;hljs-number&quot;&gt;25s&lt;/span&gt;,\n                font-size .&lt;span class=&quot;hljs-number&quot;&gt;5s&lt;/span&gt; .&lt;span class=&quot;hljs-number&quot;&gt;25s&lt;/span&gt;,\n                margin .&lt;span class=&quot;hljs-number&quot;&gt;5s&lt;/span&gt; .&lt;span class=&quot;hljs-number&quot;&gt;25s&lt;/span&gt;,\n                padding .&lt;span class=&quot;hljs-number&quot;&gt;5s&lt;/span&gt; .&lt;span class=&quot;hljs-number&quot;&gt;25s&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/* reveal */&lt;/span&gt;\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#menu&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; &lt;span class=&quot;hljs-selector-id&quot;&gt;#list&lt;/span&gt; {\n    &lt;span class=&quot;hljs-comment&quot;&gt;/* unshrink, then fade in */&lt;/span&gt;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: font-size .&lt;span class=&quot;hljs-number&quot;&gt;25s&lt;/span&gt;,\n                margin .&lt;span class=&quot;hljs-number&quot;&gt;25s&lt;/span&gt;,\n                padding .&lt;span class=&quot;hljs-number&quot;&gt;25s&lt;/span&gt;,\n                opacity .&lt;span class=&quot;hljs-number&quot;&gt;5s&lt;/span&gt; .&lt;span class=&quot;hljs-number&quot;&gt;25s&lt;/span&gt;;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;b&lt;/span&gt;&amp;gt;&lt;/span&gt;hover me&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;b&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;list&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;Another paragraph...&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif5&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;This is a &lt;strong&gt;CSS-only&lt;/strong&gt; solution with the following properties:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;There is no delay at the beginning, and the transition doesn&apos;t stop early. In both directions (expanding and collapsing), if you specify a transition duration of 300ms in your CSS, then the transition takes 300ms, period.&lt;/li&gt;\n&lt;li&gt;It&apos;s transitioning the actual height (unlike &lt;code&gt;transform: scaleY(0)&lt;/code&gt;), so it does the right thing if there&apos;s content after the collapsible element.&lt;/li&gt;\n&lt;li&gt;While (like in other solutions) there &lt;em&gt;are&lt;/em&gt; magic numbers (like &quot;pick a length that is higher than your box is ever going to be&quot;), it&apos;s not fatal if your assumption ends up being wrong. The transition may not look amazing in that case, but before and after the transition, this is not a problem: In the expanded (&lt;code&gt;height: auto&lt;/code&gt;) state, the whole content always has the correct height (unlike e.g. if you pick a &lt;code&gt;max-height&lt;/code&gt; that turns out to be too low). And in the collapsed state, the height is zero as it should.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2&gt;Demo&lt;/h2&gt;\n&lt;p&gt;Here&apos;s a demo with three collapsible elements, all of different heights, that all use the same CSS. You might want to click &quot;full page&quot; after clicking &quot;run snippet&quot;. Note that the JavaScript only toggles the &lt;code&gt;collapsed&lt;/code&gt; CSS class, there&apos;s no measuring involved. (You could do this exact demo without any JavaScript at all by using a checkbox or &lt;code&gt;:target&lt;/code&gt;). Also note that the part of the CSS that&apos;s responsible for the transition is pretty short, and the HTML only requires a single additional wrapper element.&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n  $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;.toggler&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;click&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    $(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;next&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;toggleClass&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;collapsed&quot;&lt;/span&gt;);\n    $(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;toggleClass&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggled&quot;&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// this just rotates the expander arrow&lt;/span&gt;\n  });\n});&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.collapsible-wrapper&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;: flex;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;: hidden;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.collapsible-wrapper&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:after&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;content&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;50px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: height &lt;span class=&quot;hljs-number&quot;&gt;0.3s&lt;/span&gt; linear, max-height &lt;span class=&quot;hljs-number&quot;&gt;0s&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.3s&lt;/span&gt; linear;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;max-height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0px&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.collapsible&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: margin-bottom &lt;span class=&quot;hljs-number&quot;&gt;0.3s&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;cubic-bezier&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin-bottom&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;max-height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1000000px&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.collapsible-wrapper&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.collapsed&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.collapsible&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin-bottom&lt;/span&gt;: -&lt;span class=&quot;hljs-number&quot;&gt;2000px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: margin-bottom &lt;span class=&quot;hljs-number&quot;&gt;0.3s&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;cubic-bezier&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;),\n              visibility &lt;span class=&quot;hljs-number&quot;&gt;0s&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.3s&lt;/span&gt;, max-height &lt;span class=&quot;hljs-number&quot;&gt;0s&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.3s&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;visibility&lt;/span&gt;: hidden;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;max-height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.collapsible-wrapper&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.collapsed&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:after&lt;/span&gt;\n{\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: height &lt;span class=&quot;hljs-number&quot;&gt;0.3s&lt;/span&gt; linear;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;max-height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;50px&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/* END of the collapsible implementation; the stuff below\n   is just styling for this demo */&lt;/span&gt;\n\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#container&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;: flex;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;align-items&lt;/span&gt;: flex-start;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;max-width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1000px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; auto;\n}  \n\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.menu&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid &lt;span class=&quot;hljs-number&quot;&gt;#ccc&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;box-shadow&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3px&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;rgba&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;0.5&lt;/span&gt;);\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;20px&lt;/span&gt;;\n\n  \n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.menu-item&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;: block;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;linear-gradient&lt;/span&gt;(to bottom, &lt;span class=&quot;hljs-number&quot;&gt;#fff&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0%&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;#eee&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;);\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1em&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;line-height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1.3&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.collapsible&lt;/span&gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.menu-item&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border-left&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2px&lt;/span&gt; solid &lt;span class=&quot;hljs-number&quot;&gt;#888&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border-right&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2px&lt;/span&gt; solid &lt;span class=&quot;hljs-number&quot;&gt;#888&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;linear-gradient&lt;/span&gt;(to bottom, &lt;span class=&quot;hljs-number&quot;&gt;#eee&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0%&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;#ddd&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;);\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.menu-item&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.toggler&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;linear-gradient&lt;/span&gt;(to bottom, &lt;span class=&quot;hljs-number&quot;&gt;#aaa&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0%&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;#888&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;);\n  &lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;: white;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;cursor&lt;/span&gt;: pointer;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.menu-item&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.toggler&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:before&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;content&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;: block;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border-left&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;8px&lt;/span&gt; solid white;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border-top&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;8px&lt;/span&gt; solid transparent;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border-bottom&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;8px&lt;/span&gt; solid transparent;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;float&lt;/span&gt;: right;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: transform &lt;span class=&quot;hljs-number&quot;&gt;0.3s&lt;/span&gt; ease-out;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.menu-item&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.toggler&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.toggled&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:before&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transform&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;rotate&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;90deg&lt;/span&gt;);\n}\n\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;body&lt;/span&gt; { &lt;span class=&quot;hljs-attribute&quot;&gt;font-family&lt;/span&gt;: sans-serif; &lt;span class=&quot;hljs-attribute&quot;&gt;font-size&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;14px&lt;/span&gt;; }\n\n*, *&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:after&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;box-sizing&lt;/span&gt;: border-box;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;container&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Something involving a holodeck&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Send an away team&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item toggler&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Advanced solutions&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;collapsible-wrapper collapsed&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;collapsible&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Separate saucer&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Send an away team that includes the captain (despite Riker&apos;s protest)&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Ask Worf&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Something involving Wesley, the 19th century, and a holodeck&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Ask Q for help&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Sweet-talk the alien aggressor&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Re-route power from auxiliary systems&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Something involving a holodeck&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Send an away team&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item toggler&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Advanced solutions&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;collapsible-wrapper collapsed&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;collapsible&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Separate saucer&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Send an away team that includes the captain (despite Riker&apos;s protest)&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Sweet-talk the alien aggressor&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Re-route power from auxiliary systems&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Something involving a holodeck&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Send an away team&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item toggler&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Advanced solutions&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;collapsible-wrapper collapsed&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;collapsible&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Separate saucer&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Send an away team that includes the captain (despite Riker&apos;s protest)&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Ask Worf&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Something involving Wesley, the 19th century, and a holodeck&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Ask Q for help&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Separate saucer&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Send an away team that includes the captain (despite Riker&apos;s protest)&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Ask Worf&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Something involving Wesley, the 19th century, and a holodeck&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Ask Q for help&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Sweet-talk the alien aggressor&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu-item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Re-route power from auxiliary systems&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif6&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;h2&gt;How does it work?&lt;/h2&gt;\n&lt;p&gt;There are in fact &lt;em&gt;two&lt;/em&gt; transitions involved in making this happen. One of them transitions the &lt;code&gt;margin-bottom&lt;/code&gt; from 0px (in the expanded state) to &lt;code&gt;-2000px&lt;/code&gt; in the collapsed state (similar to &lt;a href=&quot;https://stackoverflow.com/a/25200087/115866&quot;&gt;this answer&lt;/a&gt;). The 2000 here is the first magic number, it&apos;s based on the assumption that your box won&apos;t be higher than this (2000 pixels seems like a reasonable choice).&lt;/p&gt;\n&lt;p&gt;Using the &lt;code&gt;margin-bottom&lt;/code&gt; transition alone by itself has two issues:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;If you actually have a box that&apos;s higher than 2000 pixels, then a &lt;code&gt;margin-bottom: -2000px&lt;/code&gt; won&apos;t hide everything -- there&apos;ll be visible stuff even in the collapsed case. This is a minor fix that we&apos;ll do later.&lt;/li&gt;\n&lt;li&gt;If the actual box is, say, 1000 pixels high, and your transition is 300ms long, then the &lt;em&gt;visible&lt;/em&gt; transition is already over after about 150ms (or, in the opposite direction, starts 150ms late).&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;Fixing this second issue is where the second transition comes in, and this transition conceptually targets the wrapper&apos;s &lt;em&gt;minimum&lt;/em&gt; height (&quot;conceptually&quot; because we&apos;re not actually using the &lt;code&gt;min-height&lt;/code&gt; property for this; more on that later).&lt;/p&gt;\n&lt;p&gt;Here&apos;s an animation that shows how combining the bottom margin transition with the minimum height transition, both of equal duration, gives us a combined transition from full height to zero height that has the same duration.&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/TwbsG.gif&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/TwbsG.gif&quot; alt=&quot;animation as described above&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;The left bar shows how the negative bottom margin pushes the bottom upwards, reducing the visible height. The middle bar shows how the minimum height ensures that in the collapsing case, the transition doesn&apos;t end early, and in the expanding case, the transition doesn&apos;t start late. The right bar shows how the combination of the two causes the box to transition from full height to zero height in the correct amount of time.&lt;/p&gt;\n&lt;p&gt;For my demo I&apos;ve settled on 50px as the upper minimum height value. This is the second magic number, and it should be lower than the box&apos; height would ever be. 50px seems reasonable as well; it seems unlikely that you&apos;d very often want to make an element collapsible that isn&apos;t even 50 pixels high in the first place.&lt;/p&gt;\n&lt;p&gt;As you can see in the animation, the resulting transition is continuous, but it is not differentiable -- at the moment when the minimum height is equal to the full height adjusted by the bottom margin, there is a sudden change in speed. This is very noticeable in the animation because it uses a linear timing function for both transitions, and because the whole transition is very slow. In the actual case (my demo at the top), the transition only takes 300ms, and the bottom margin transition is not linear. I&apos;ve played around with a lot of different timing functions for both transitions, and the ones I ended up with felt like they worked best for the widest variety of cases.&lt;/p&gt;\n&lt;p&gt;Two problems remain to fix:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;the point from above, where boxes of more than 2000 pixels height aren&apos;t completely hidden in the collapsed state,&lt;/li&gt;\n&lt;li&gt;and the reverse problem, where in the non-hidden case, boxes of less than 50 pixels height are too high even when the transition isn&apos;t running, because the minimum height keeps them at 50 pixels.&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;We solve the first problem by giving the container element a &lt;code&gt;max-height: 0&lt;/code&gt; in the collapsed case, with a &lt;code&gt;0s 0.3s&lt;/code&gt; transition. This means that it&apos;s not really a transition, but the &lt;code&gt;max-height&lt;/code&gt; is applied with a delay; it only applies once the transition is over. For this to work correctly, we also need to pick a numerical &lt;code&gt;max-height&lt;/code&gt; for the opposite, non-collapsed, state. But unlike in the 2000px case, where picking too large of a number affects the quality of the transition, in this case, it really doesn&apos;t matter. So we can just pick a number that is so high that we &lt;em&gt;know&lt;/em&gt; that no height will ever come close to this. I picked a million pixels. If you feel you may need to support content of a height of more than a million pixels, then 1) I&apos;m sorry, and 2) just add a couple of zeros.&lt;/p&gt;\n&lt;p&gt;The second problem is the reason why we&apos;re not actually using &lt;code&gt;min-height&lt;/code&gt; for the minimum height transition. Instead, there is an &lt;code&gt;::after&lt;/code&gt; pseudo-element in the container with a &lt;code&gt;height&lt;/code&gt; that transitions from 50px to zero. This has the same effect as a &lt;code&gt;min-height&lt;/code&gt;: It won&apos;t let the container shrink below whatever height the pseudo-element currently has. But because we&apos;re using &lt;code&gt;height&lt;/code&gt;, not &lt;code&gt;min-height&lt;/code&gt;, we can now use &lt;code&gt;max-height&lt;/code&gt; (once again applied with a delay) to set the pseudo-element&apos;s actual height to zero once the transition is over, ensuring that at least outside the transition, even small elements have the correct height. Because &lt;code&gt;min-height&lt;/code&gt; is &lt;a href=&quot;https://stackoverflow.com/q/13845224/115866&quot;&gt;stronger&lt;/a&gt; than &lt;code&gt;max-height&lt;/code&gt;, this wouldn&apos;t work if we used the container&apos;s &lt;code&gt;min-height&lt;/code&gt; instead of the pseudo-element&apos;s &lt;code&gt;height&lt;/code&gt;. Just like the &lt;code&gt;max-height&lt;/code&gt; in the previous paragraph, this &lt;code&gt;max-height&lt;/code&gt; also needs a value for the opposite end of the transition. But in this case we can just pick the 50px.&lt;/p&gt;\n&lt;p&gt;Tested in Chrome (Win, Mac, Android, iOS), Firefox (Win, Mac, Android), Edge, IE11 (except for a flexbox layout issue with my demo that I didn&apos;t bother debugging), and Safari (Mac, iOS). Speaking of flexbox, it should be possible to make this work without using any flexbox; in fact I think you could make almost everything work in IE7  except for the fact that you won&apos;t have CSS transitions, making it a rather pointless exercise.&lt;/p&gt;\n    ","\n&lt;p&gt;You can, with a little bit of non-semantic jiggery-pokery. My usual approach is to animate the height of an outer DIV which has a single child which is a style-less DIV used only for measuring the content height.&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;growDiv&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; growDiv = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;grow&apos;&lt;/span&gt;);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (growDiv.&lt;span class=&quot;hljs-property&quot;&gt;clientHeight&lt;/span&gt;) {\n    growDiv.&lt;span class=&quot;hljs-property&quot;&gt;style&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt; = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; wrapper = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;querySelector&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.measuringWrapper&apos;&lt;/span&gt;);\n    growDiv.&lt;span class=&quot;hljs-property&quot;&gt;style&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt; = wrapper.&lt;span class=&quot;hljs-property&quot;&gt;clientHeight&lt;/span&gt; + &lt;span class=&quot;hljs-string&quot;&gt;&quot;px&quot;&lt;/span&gt;;\n  }\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#grow&lt;/span&gt; {\n  -moz-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: height .&lt;span class=&quot;hljs-number&quot;&gt;5s&lt;/span&gt;;\n  -ms-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: height .&lt;span class=&quot;hljs-number&quot;&gt;5s&lt;/span&gt;;\n  -o-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: height .&lt;span class=&quot;hljs-number&quot;&gt;5s&lt;/span&gt;;\n  -webkit-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: height .&lt;span class=&quot;hljs-number&quot;&gt;5s&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: height .&lt;span class=&quot;hljs-number&quot;&gt;5s&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;: hidden;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;outline&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid red;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;button&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;onclick&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;growDiv()&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;grow&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&apos;grow&apos;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&apos;measuringWrapper&apos;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      The contents of my div.\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      The contents of my div.\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      The contents of my div.\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      The contents of my div.\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      The contents of my div.\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      The contents of my div.\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif7&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;One would like to just be able to dispense with the &lt;code&gt;.measuringWrapper&lt;/code&gt; and just set the DIV&apos;s height to auto and have that animate, but that doesn&apos;t seem to work (the height gets set, but no animation occurs).&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;growDiv&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; growDiv = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;grow&apos;&lt;/span&gt;);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (growDiv.&lt;span class=&quot;hljs-property&quot;&gt;clientHeight&lt;/span&gt;) {\n    growDiv.&lt;span class=&quot;hljs-property&quot;&gt;style&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt; = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n    growDiv.&lt;span class=&quot;hljs-property&quot;&gt;style&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;auto&apos;&lt;/span&gt;;\n  }\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#grow&lt;/span&gt; {\n  -moz-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: height .&lt;span class=&quot;hljs-number&quot;&gt;5s&lt;/span&gt;;\n  -ms-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: height .&lt;span class=&quot;hljs-number&quot;&gt;5s&lt;/span&gt;;\n  -o-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: height .&lt;span class=&quot;hljs-number&quot;&gt;5s&lt;/span&gt;;\n  -webkit-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: height .&lt;span class=&quot;hljs-number&quot;&gt;5s&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: height .&lt;span class=&quot;hljs-number&quot;&gt;5s&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;: hidden;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;outline&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid red;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;button&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;onclick&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;growDiv()&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;grow&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&apos;grow&apos;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    The contents of my div.\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    The contents of my div.\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    The contents of my div.\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    The contents of my div.\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    The contents of my div.\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    The contents of my div.\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif8&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;My interpretation is that an explicit height is needed for the animation to run. You can&apos;t get an animation on height when either height (the start or end height) is &lt;code&gt;auto&lt;/code&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;A visual workaround to animating height using CSS3 transitions is to animate the padding instead. &lt;/p&gt;\n\n&lt;p&gt;You don&apos;t quite get the full wipe effect, but playing around with the transition-duration and padding values should get you close enough. If you don&apos;t want to explicitly set height/max-height, this should be what you&apos;re looking for.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;: hidden;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;18px&lt;/span&gt;;\n    -webkit-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: all .&lt;span class=&quot;hljs-number&quot;&gt;5s&lt;/span&gt; ease;\n       -moz-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: all .&lt;span class=&quot;hljs-number&quot;&gt;5s&lt;/span&gt; ease;\n            &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: all .&lt;span class=&quot;hljs-number&quot;&gt;5s&lt;/span&gt; ease;\n}\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.animated&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: auto;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;24px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;18px&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;a href=&quot;http://jsfiddle.net/catharsis/n5XfG/17/&quot; rel=&quot;noreferrer&quot;&gt;http://jsfiddle.net/catharsis/n5XfG/17/&lt;/a&gt; (riffed off stephband&apos;s above jsFiddle)&lt;/p&gt;\n    ","\n&lt;p&gt;The accepted answer works for most cases, but it doesn&apos;t work well when your &lt;code&gt;div&lt;/code&gt; can vary greatly in height  the animation speed is not dependent on the actual height of the content, and it can look choppy.&lt;/p&gt;\n\n&lt;p&gt;You can still perform the actual animation with CSS, but you need to use JavaScript to compute the height of the items, instead of trying to use &lt;code&gt;auto&lt;/code&gt;. No jQuery is required, although you may have to modify this a bit if you want compatibility (works in the latest version of Chrome :)).&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;toggleExpand&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;element&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!element.&lt;span class=&quot;hljs-property&quot;&gt;style&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt; || element.&lt;span class=&quot;hljs-property&quot;&gt;style&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt; == &lt;span class=&quot;hljs-string&quot;&gt;&apos;0px&apos;&lt;/span&gt;) { \n        element.&lt;span class=&quot;hljs-property&quot;&gt;style&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt; = &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;reduce&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;call&lt;/span&gt;(element.&lt;span class=&quot;hljs-property&quot;&gt;childNodes&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;p, c&lt;/span&gt;) {&lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; p + (c.&lt;span class=&quot;hljs-property&quot;&gt;offsetHeight&lt;/span&gt; || &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);}, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;) + &lt;span class=&quot;hljs-string&quot;&gt;&apos;px&apos;&lt;/span&gt;;\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        element.&lt;span class=&quot;hljs-property&quot;&gt;style&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;0px&apos;&lt;/span&gt;;\n    }\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#menu&lt;/span&gt; &lt;span class=&quot;hljs-selector-id&quot;&gt;#list&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0px&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: height &lt;span class=&quot;hljs-number&quot;&gt;0.3s&lt;/span&gt; ease;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;#d5d5d5&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;: hidden;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;Toggle list&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;button&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;onclick&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggleExpand(document.getElementById(&apos;list&apos;));&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;list&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- Works well with dynamically-sized content. --&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;height: 100px; width: 100px; background: red;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif9&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;My workaround is to transition &lt;code&gt;max-height&lt;/code&gt; to the exact content height for a nice smooth animation, then use a &lt;code&gt;transitionEnd&lt;/code&gt; callback to set &lt;code&gt;max-height&lt;/code&gt; to &lt;code&gt;9999px&lt;/code&gt; so the content can resize freely.&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;false&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; content = $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#content&apos;&lt;/span&gt;);\ncontent.&lt;span class=&quot;hljs-property&quot;&gt;inner&lt;/span&gt; = $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#content .inner&apos;&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// inner div needed to get size of content when closed&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// css transition callback&lt;/span&gt;\ncontent.&lt;span class=&quot;hljs-title function_&quot;&gt;on&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;transitionEnd webkitTransitionEnd transitionend oTransitionEnd msTransitionEnd&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;e&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(content.&lt;span class=&quot;hljs-title function_&quot;&gt;hasClass&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;open&apos;&lt;/span&gt;)){\n        content.&lt;span class=&quot;hljs-title function_&quot;&gt;css&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;max-height&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9999&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// try setting this to &apos;none&apos;... I dare you!&lt;/span&gt;\n    }\n});\n\n$(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#toggle&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;on&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;click&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;e&lt;/span&gt;){\n    content.&lt;span class=&quot;hljs-title function_&quot;&gt;toggleClass&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;open closed&apos;&lt;/span&gt;);\n    content.&lt;span class=&quot;hljs-property&quot;&gt;contentHeight&lt;/span&gt; = content.&lt;span class=&quot;hljs-title function_&quot;&gt;outerHeight&lt;/span&gt;();\n    \n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(content.&lt;span class=&quot;hljs-title function_&quot;&gt;hasClass&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;closed&apos;&lt;/span&gt;)){\n        \n        &lt;span class=&quot;hljs-comment&quot;&gt;// disable transitions &amp;amp; set max-height to content height&lt;/span&gt;\n        content.&lt;span class=&quot;hljs-title function_&quot;&gt;removeClass&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;transitions&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;css&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;max-height&apos;&lt;/span&gt;, content.&lt;span class=&quot;hljs-property&quot;&gt;contentHeight&lt;/span&gt;);\n        &lt;span class=&quot;hljs-built_in&quot;&gt;setTimeout&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n            \n            &lt;span class=&quot;hljs-comment&quot;&gt;// enable &amp;amp; start transition&lt;/span&gt;\n            content.&lt;span class=&quot;hljs-title function_&quot;&gt;addClass&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;transitions&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;css&lt;/span&gt;({\n                &lt;span class=&quot;hljs-string&quot;&gt;&apos;max-height&apos;&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,\n                &lt;span class=&quot;hljs-string&quot;&gt;&apos;opacity&apos;&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;\n            });\n            \n        }, &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// 10ms timeout is the secret ingredient for disabling/enabling transitions&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// chrome only needs 1ms but FF needs ~10ms or it chokes on the first animation for some reason&lt;/span&gt;\n        \n    }&lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(content.&lt;span class=&quot;hljs-title function_&quot;&gt;hasClass&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;open&apos;&lt;/span&gt;)){  \n        \n        content.&lt;span class=&quot;hljs-property&quot;&gt;contentHeight&lt;/span&gt; += content.&lt;span class=&quot;hljs-property&quot;&gt;inner&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;outerHeight&lt;/span&gt;(); &lt;span class=&quot;hljs-comment&quot;&gt;// if closed, add inner height to content height&lt;/span&gt;\n        content.&lt;span class=&quot;hljs-title function_&quot;&gt;css&lt;/span&gt;({\n            &lt;span class=&quot;hljs-string&quot;&gt;&apos;max-height&apos;&lt;/span&gt;: content.&lt;span class=&quot;hljs-property&quot;&gt;contentHeight&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&apos;opacity&apos;&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n        });\n        \n    }\n});&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.transitions&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: all &lt;span class=&quot;hljs-number&quot;&gt;0.5s&lt;/span&gt; ease-in-out;\n    -webkit-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: all &lt;span class=&quot;hljs-number&quot;&gt;0.5s&lt;/span&gt; ease-in-out;\n    -moz-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: all &lt;span class=&quot;hljs-number&quot;&gt;0.5s&lt;/span&gt; ease-in-out;\n}\n\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;body&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;font-family&lt;/span&gt;:Arial;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;line-height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;3ex&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;code&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;: inline-block;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;#fafafa&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1ex&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#toggle&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;:block;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt; auto;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;text-align&lt;/span&gt;:center;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;30ex&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#content&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;:hidden;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid &lt;span class=&quot;hljs-number&quot;&gt;#666&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;#efefef&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;opacity&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#content&lt;/span&gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.inner&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;:auto;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;content&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;open&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;inner&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;Smooth CSS Transitions Between &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt;height: 0&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt; and &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt;height: auto&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;h3&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;A clever workaround is to use &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt;max-height&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt; instead of &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt;height&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt;, and set it to something bigger than your content. Problem is the browser uses this value to calculate transition duration. So if you set it to &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt;max-height: 1000px&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt; but the content is only 100px high, the animation will be 10x too fast.&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;Another option is to measure the content height with JS and transition to that fixed value, but then you have to keep track of the content and manually resize it if it changes.&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;This solution is a hybrid of the two - transition to the measured content height, then set it to &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt;max-height: 9999px&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;code&lt;/span&gt;&amp;gt;&lt;/span&gt; after the transition for fluid content sizing.&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt; /&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;button&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Challenge Accepted!&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif10&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;There was little mention of the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;Element.prototype.scrollHeight&lt;/code&gt;&lt;/a&gt; property which can be useful here and still may be used with a pure CSS transition, &lt;strong&gt;although scripting support would obviously be required&lt;/strong&gt;. The property always contains the &quot;full&quot; height of an element, regardless of whether and how its content overflows as a result of collapsed height (e.g. &lt;code&gt;height: 0&lt;/code&gt;).&lt;/p&gt;\n&lt;p&gt;As such, for a &lt;code&gt;height: 0&lt;/code&gt; (effectively fully collapsed) element, its &quot;normal&quot; or &quot;full&quot; height is still readily available through its &lt;code&gt;scrollHeight&lt;/code&gt; value (invariably a &lt;em&gt;pixel&lt;/em&gt; length).&lt;/p&gt;\n&lt;p&gt;For such an element, assuming it already has the transition set up like (using &lt;code&gt;ul&lt;/code&gt; as per original question):&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;ul&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: height &lt;span class=&quot;hljs-number&quot;&gt;1s&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;/* An example transition. */&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;We can trigger desired animated &quot;expansion&quot; of height, using CSS only, with something like the following (here assuming &lt;code&gt;ul&lt;/code&gt; variable refers to the list):&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ini&quot;&gt;&lt;span class=&quot;hljs-attr&quot;&gt;ul.style.height&lt;/span&gt; = ul.scrollHeight + &lt;span class=&quot;hljs-string&quot;&gt;&quot;px&quot;&lt;/span&gt;&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;That&apos;s it. If you need to collapse the list, either of the two following statements will do:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;ul.style.height = 0;\nul.style.removeProperty(&lt;span class=&quot;hljs-string&quot;&gt;&quot;height&quot;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;My particular use case revolved around animating lists of unknown and often considerable lengths, so I was not comfortable dealing with &quot;large enough&quot; &lt;code&gt;height&lt;/code&gt; or &lt;code&gt;max-height&lt;/code&gt; specification and risking cut-off content or content that you suddenly need to scroll (if &lt;code&gt;overflow: auto&lt;/code&gt;, for example). Additionally, the easing and timing is broken with &lt;code&gt;max-height&lt;/code&gt;-based solutions, because the used height may reach its maximum value a lot sooner than it would take for &lt;code&gt;max-height&lt;/code&gt; to reach &lt;code&gt;9999px&lt;/code&gt;. And as screen resolutions grow, pixel lengths like &lt;code&gt;9999px&lt;/code&gt; leave a bad taste in my mouth. This particular solution solves the problem in an elegant manner, in my opinion.&lt;/p&gt;\n&lt;p&gt;Finally, here is hoping that future revisions of CSS address authors&apos; need to do these kind of things even more elegantly -- revisit the notion of &quot;computed&quot; vs &quot;used&quot; and &quot;resolved&quot; values, and consider whether transitions should apply to computed values, including transitions with &lt;code&gt;width&lt;/code&gt; and &lt;code&gt;height&lt;/code&gt; (which currently get a bit of a special treatment).&lt;/p&gt;\n    ","\n&lt;p&gt;Use &lt;code&gt;max-height&lt;/code&gt; with different transition easing and delay for each state. &lt;/p&gt;\n\n&lt;p&gt;HTML:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;#&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;trigger&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Hover&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggled&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;One&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;Two&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;Three&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;CSS:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#toggled&lt;/span&gt;{\n    &lt;span class=&quot;hljs-attribute&quot;&gt;max-height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0px&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: max-height .&lt;span class=&quot;hljs-number&quot;&gt;8s&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;cubic-bezier&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) -.&lt;span class=&quot;hljs-number&quot;&gt;1s&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#trigger&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; + &lt;span class=&quot;hljs-selector-id&quot;&gt;#toggled&lt;/span&gt;{\n    &lt;span class=&quot;hljs-attribute&quot;&gt;max-height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;9999px&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;transition-timing-function&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;cubic-bezier&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0.5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;); \n    &lt;span class=&quot;hljs-attribute&quot;&gt;transition-delay&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0s&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;See example: &lt;a href=&quot;http://jsfiddle.net/0hnjehjc/1/&quot; rel=&quot;noreferrer&quot;&gt;http://jsfiddle.net/0hnjehjc/1/&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;No hard coded values.&lt;/p&gt;\n\n&lt;p&gt;No JavaScript.&lt;/p&gt;\n\n&lt;p&gt;No approximations.&lt;/p&gt;\n\n&lt;p&gt;The trick is to use a hidden &amp;amp; duplicated &lt;code&gt;div&lt;/code&gt; to get the browser to understand what 100% means. &lt;/p&gt;\n\n&lt;p&gt;This method is suitable whenever you&apos;re able to duplicate the DOM of the element you wish to animate. &lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;false&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.outer&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: dashed red &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;: relative;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.dummy&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;visibility&lt;/span&gt;: hidden;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.real&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;: absolute;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;: yellow;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: height &lt;span class=&quot;hljs-number&quot;&gt;0.5s&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;: hidden;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.outer&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt;&amp;gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.real&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;Hover over the box below:\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;outer&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- The actual element that you&apos;d like to animate --&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;real&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\nunpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable\ncontent unpredictable content unpredictable content unpredictable content\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- An exact copy of the element you&apos;d like to animate. --&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;dummy&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;aria-hidden&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;true&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\nunpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable content unpredictable\ncontent unpredictable content unpredictable content unpredictable content\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif11&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;As I post this there are over 30 answers already, but I feel my answer improves on the already &lt;a href=&quot;https://stackoverflow.com/a/8331169/7016732&quot;&gt;accepted answer&lt;/a&gt; by jake.&lt;/p&gt;\n\n&lt;p&gt;I was not content with the issue that arises from simply using &lt;code&gt;max-height&lt;/code&gt; and CSS3 transitions, since as many commenters noted, you have to set your &lt;code&gt;max-height&lt;/code&gt; value very close to the actual height or you&apos;ll get a delay. See this &lt;a href=&quot;https://jsfiddle.net/nb5fr34d/1/&quot; rel=&quot;noreferrer&quot;&gt;JSFiddle&lt;/a&gt; for an example of that problem.&lt;/p&gt;\n\n&lt;p&gt;To get around this (while still using no JavaScript), I added another HTML element that transitions the &lt;code&gt;transform: translateY&lt;/code&gt; CSS value.&lt;/p&gt;\n\n&lt;p&gt;This means both &lt;code&gt;max-height&lt;/code&gt; and &lt;code&gt;translateY&lt;/code&gt; are used: &lt;code&gt;max-height&lt;/code&gt; allows the element to push down elements below it, while &lt;code&gt;translateY&lt;/code&gt; gives the &quot;instant&quot; effect we want. The issue with &lt;code&gt;max-height&lt;/code&gt; still exists, but its effect is lessened.\nThis means you can set a much larger height for your &lt;code&gt;max-height&lt;/code&gt; value and worry about it less.&lt;/p&gt;\n\n&lt;p&gt;The overall benefit is that on the transition back in (the collapse), the user sees the &lt;code&gt;translateY&lt;/code&gt; animation immediately, so it doesn&apos;t really matter how long the &lt;code&gt;max-height&lt;/code&gt; takes.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://jsfiddle.net/ajo89vmg/&quot; rel=&quot;noreferrer&quot;&gt;Solution as Fiddle&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;body&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;font-family&lt;/span&gt;: sans-serif;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.toggle&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;: relative;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2px&lt;/span&gt; solid &lt;span class=&quot;hljs-number&quot;&gt;#333&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border-radius&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;3px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;200px&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.toggle-header&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;#333&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;: white;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;text-align&lt;/span&gt;: center;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;cursor&lt;/span&gt;: pointer;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.toggle-height&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: tomato;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;: hidden;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: max-height .&lt;span class=&quot;hljs-number&quot;&gt;6s&lt;/span&gt; ease;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;max-height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.toggle&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.toggle-height&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;max-height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1000px&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.toggle-transform&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;: white;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: transform .&lt;span class=&quot;hljs-number&quot;&gt;4s&lt;/span&gt; ease;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transform&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;translateY&lt;/span&gt;(-&lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;);\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.toggle&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.toggle-transform&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transform&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;translateY&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle-header&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    Toggle!\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle-height&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle-transform&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;Content!&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;Content!&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;Content!&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;Content!&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle-header&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    Toggle!\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle-height&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle-transform&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;Content!&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;Content!&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;Content!&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;Content!&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif12&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;According to &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Transitions/Using_CSS_transitions#which_css_properties_can_be_transitioned&quot; rel=&quot;noreferrer&quot;&gt;MDN Web Docs&lt;/a&gt;, &lt;code&gt;auto&lt;/code&gt; values have been intentionally excluded from the CSS transitions spec, so instead of &lt;code&gt;height: auto&lt;/code&gt;, use &lt;code&gt;height: 100%&lt;/code&gt;, &lt;code&gt;top&lt;/code&gt;, or the &lt;code&gt;flex&lt;/code&gt; property in grid and flex layouts.&lt;/p&gt;\n&lt;h2&gt;Expanding/collapsing an overlay&lt;/h2&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.grid-container&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;: grid;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;: absolute;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.content&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;: aqua;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;: hidden;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1s&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;span&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; + &lt;span class=&quot;hljs-selector-class&quot;&gt;.grid-container&lt;/span&gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.content&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;Hover over me!&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;grid-container&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;content&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;Rest of the page content...&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif13&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;h2&gt;Expanding/collapsing a sliding overlay&lt;/h2&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.grid-container&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;: grid;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;: absolute;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;: hidden;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;pointer-events&lt;/span&gt;: none; &lt;span class=&quot;hljs-comment&quot;&gt;/* to enable interaction with elements below the container */&lt;/span&gt;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.content&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;: aqua;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;pointer-events&lt;/span&gt;: auto;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;: relative;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;top&lt;/span&gt;: -&lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1s&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;span&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; + &lt;span class=&quot;hljs-selector-class&quot;&gt;.grid-container&lt;/span&gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.content&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;top&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;Hover over me!&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;grid-container&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;content&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;Rest of the page content...&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif14&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;h2&gt;Expanding/collapsing in the document flow&lt;/h2&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;html&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;: grid;\n}\n\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;body&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;: flex;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;flex-direction&lt;/span&gt;: column;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.content&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;: aqua;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;flex-basis&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;: hidden;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1s&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;span&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; + &lt;span class=&quot;hljs-selector-class&quot;&gt;.content&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;flex&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;Hover over me!&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;content&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;Rest of the page content...&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif15&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Ok, so I think I came up with a super simple answer...\nno &lt;code&gt;max-height&lt;/code&gt;, uses &lt;code&gt;relative&lt;/code&gt; positioning, works on &lt;code&gt;li&lt;/code&gt; elements, &amp;amp; is pure CSS.\nI have not tested in anything but Firefox, though judging by the CSS, it should work on all browsers.&lt;/p&gt;\n\n&lt;p&gt;FIDDLE: &lt;a href=&quot;http://jsfiddle.net/n5XfG/2596/&quot;&gt;http://jsfiddle.net/n5XfG/2596/&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;CSS&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.wrap&lt;/span&gt; { &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;:hidden; }\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.inner&lt;/span&gt; {\n            &lt;span class=&quot;hljs-attribute&quot;&gt;margin-top&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;;\n    -webkit-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;:margin-top &lt;span class=&quot;hljs-number&quot;&gt;500ms&lt;/span&gt;;\n            &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;:margin-top &lt;span class=&quot;hljs-number&quot;&gt;500ms&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.inner&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.open&lt;/span&gt; { &lt;span class=&quot;hljs-attribute&quot;&gt;margin-top&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;0px&lt;/span&gt;; }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;HTML&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;wrap&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;inner&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Some Cool Content&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;EDIT: Scroll down for updated answer &lt;br&gt;\nI was making a drop down list and saw this Post ... many different answers but I decide to share my drop down list too, ... It&apos;s not perfect but at least it will using only css for drop down! I&apos;ve been using transform:translateY(y) to transform the list to the view ...&lt;br&gt;\nYou can see more in the test &lt;br&gt;\n&lt;a href=&quot;http://jsfiddle.net/BVEpc/4/&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://jsfiddle.net/BVEpc/4/&lt;/a&gt; &lt;br&gt;\nI&apos;ve placed div behind every li because my drop down list are coming from up and to show them properly this was needed, my div code is:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#menu&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0.5s&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1s&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;z-index&lt;/span&gt;:-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n    -webkit-&lt;span class=&quot;hljs-attribute&quot;&gt;transform&lt;/span&gt;:&lt;span class=&quot;hljs-built_in&quot;&gt;translateY&lt;/span&gt;(-&lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;);\n    -webkit-&lt;span class=&quot;hljs-attribute&quot;&gt;transform-origin&lt;/span&gt;: top;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and hover is : &lt;/p&gt;\n\n&lt;pre class=&quot;lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#menu&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;li&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0.5s&lt;/span&gt;;\n    -webkit-&lt;span class=&quot;hljs-attribute&quot;&gt;transform&lt;/span&gt;:&lt;span class=&quot;hljs-built_in&quot;&gt;translateY&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and because ul height is set to the content it can get over your body content that&apos;s why I did this for ul:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt; &lt;span class=&quot;hljs-selector-id&quot;&gt;#menu&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;ul&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0s&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1.5s&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;visibility&lt;/span&gt;:hidden;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;:hidden;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and hover:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#menu&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;li&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;ul&lt;/span&gt; {\n     &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;:none;\n     &lt;span class=&quot;hljs-attribute&quot;&gt;visibility&lt;/span&gt;:visible;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;the second time after transition is delay and it will get hidden after my drop down list has been closed animately ... &lt;br&gt;\nHope later someone get benefit of this one.\n&lt;br&gt;&lt;br&gt;\nEDIT: I just can&apos;t believe ppl actually using this prototype! this drop down menu is only for one sub menu and that&apos;s all!!\nI&apos;ve updated a better one that can have two sub menu for both ltr and rtl direction with IE 8 support. &lt;br&gt;\n&lt;a href=&quot;https://jsfiddle.net/sijav/BVEpc/56/&quot; rel=&quot;nofollow noreferrer&quot;&gt;Fiddle for LTR&lt;/a&gt; &lt;br&gt;\n&lt;a href=&quot;http://jsfiddle.net/sijav/BVEpc/55/&quot; rel=&quot;nofollow noreferrer&quot;&gt;Fiddle for RTL&lt;/a&gt; &lt;br&gt;\nhopefully someone find this useful in future.&lt;/p&gt;\n    ","\n&lt;p&gt;You can transition from height:0 to height:auto providing that you also provide min-height and max-height.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.stretchy&lt;/span&gt;{\n    &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1s&lt;/span&gt; linear;\n}\n\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.stretchy&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.hidden&lt;/span&gt;{\n    &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.stretchy&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.visible&lt;/span&gt;{\n    &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: auto;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;min-height&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;40px&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;max-height&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;400px&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;Flexbox Solution&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Pros:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;simple&lt;/li&gt;\n&lt;li&gt;no JS&lt;/li&gt;\n&lt;li&gt;smooth transition&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Cons:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;element needs to be put in a fixed height flex container&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;The way it works is by always having flex-basis: auto on the element with content, and transitioning flex-grow and flex-shrink instead. &lt;/p&gt;\n\n&lt;p&gt;Edit: Improved JS Fiddle inspired by the Xbox One interface. &lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;* {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;box-sizing&lt;/span&gt;: border-box;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0.25s&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;font-family&lt;/span&gt;: monospace;\n}\n\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;body&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.box&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;150px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;150px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;#2d333b&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: solid &lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;#20262e&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;: hidden;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;: inline-flex;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;flex-direction&lt;/span&gt;: column;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.space&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;flex-basis&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;flex-grow&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;flex-shrink&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;    \n}\n\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;p&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;flex-basis&lt;/span&gt;: auto;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;flex-grow&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;flex-shrink&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;#20262e&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;10px&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;text-align&lt;/span&gt;: left;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;: white;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.box&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.space&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;flex-grow&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;flex-shrink&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n}\n  \n&lt;span class=&quot;hljs-selector-class&quot;&gt;.box&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;p&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;flex-grow&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;flex-shrink&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;    \n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;box&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;space&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    Super Metroid Prime Fusion\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;box&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;space&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    Resident Evil 2 Remake\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;box&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;space&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    Yolo The Game\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;box&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;space&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    Final Fantasy 7 Remake + All Additional DLC + Golden Tophat\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;box&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;space&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    DerpVille\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif16&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://jsfiddle.net/leecomstock/qupgk4p6/&quot; rel=&quot;noreferrer&quot;&gt;JS Fiddle&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;One sentence solution: &lt;strong&gt;Use padding transition&lt;/strong&gt;. It&apos;s enough for most of cases such as accordion, and even better because it&apos;s fast due to that the padding value is often not big.&lt;/p&gt;\n\n&lt;p&gt;If you want the animation process to be better, just raise the padding value.&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.parent&lt;/span&gt;{ &lt;span class=&quot;hljs-attribute&quot;&gt;border-top&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;#999&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid;}\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;h1&lt;/span&gt;{ &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: .&lt;span class=&quot;hljs-number&quot;&gt;5rem&lt;/span&gt;; &lt;span class=&quot;hljs-attribute&quot;&gt;font-size&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1.3rem&lt;/span&gt;}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.children&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;: hidden;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;#dedede&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: padding .&lt;span class=&quot;hljs-number&quot;&gt;2s&lt;/span&gt; ease-in-out, opacity .&lt;span class=&quot;hljs-number&quot;&gt;2s&lt;/span&gt; ease-in-out;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; .&lt;span class=&quot;hljs-number&quot;&gt;5rem&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;opacity&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.children&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;::before&lt;/span&gt;, &lt;span class=&quot;hljs-selector-class&quot;&gt;.children&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;::after&lt;/span&gt;{ &lt;span class=&quot;hljs-attribute&quot;&gt;content&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;;&lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;: block;}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.children&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;::before&lt;/span&gt;{ &lt;span class=&quot;hljs-attribute&quot;&gt;margin-top&lt;/span&gt;: -&lt;span class=&quot;hljs-number&quot;&gt;2rem&lt;/span&gt;;}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.children&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;::after&lt;/span&gt;{ &lt;span class=&quot;hljs-attribute&quot;&gt;margin-bottom&lt;/span&gt;: -&lt;span class=&quot;hljs-number&quot;&gt;2rem&lt;/span&gt;;}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.parent&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.children&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: auto;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;opacity&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2.5rem&lt;/span&gt; .&lt;span class=&quot;hljs-number&quot;&gt;5rem&lt;/span&gt;;&lt;span class=&quot;hljs-comment&quot;&gt;/* 0.5 + abs(-2), make sure it&apos;s less than expected min-height */&lt;/span&gt;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;parent&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;Hover me&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;children&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;parent&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;Hover me(long content)&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;children&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;parent&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;Hover me(short content)&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;children&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif17&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Expanding on @jake&apos;s answer, the transition will go all the way to the max height value, causing an extremely fast animation - if you set the transitions for both :hover and off you can then control the crazy speed a little bit more.&lt;/p&gt;\n\n&lt;p&gt;So the li:hover is when the mouse enters the state and then the transition on the non-hovered property will be the mouse leave.&lt;/p&gt;\n\n&lt;p&gt;Hopefully this will be of some help.&lt;/p&gt;\n\n&lt;p&gt;e.g: &lt;/p&gt;\n\n&lt;pre class=&quot;lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.sidemenu&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;ul&lt;/span&gt; {\n   &lt;span class=&quot;hljs-attribute&quot;&gt;max-height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0px&lt;/span&gt;;\n   -webkit-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: all .&lt;span class=&quot;hljs-number&quot;&gt;3s&lt;/span&gt; ease;\n   -moz-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: all .&lt;span class=&quot;hljs-number&quot;&gt;3s&lt;/span&gt; ease;\n   -o-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: all .&lt;span class=&quot;hljs-number&quot;&gt;3s&lt;/span&gt; ease;\n   -ms-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: all .&lt;span class=&quot;hljs-number&quot;&gt;3s&lt;/span&gt; ease;\n   &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: all .&lt;span class=&quot;hljs-number&quot;&gt;3s&lt;/span&gt; ease;\n}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.sidemenu&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;li&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;ul&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;max-height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;500px&lt;/span&gt;;\n    -webkit-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: all &lt;span class=&quot;hljs-number&quot;&gt;1s&lt;/span&gt; ease;\n   -moz-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: all &lt;span class=&quot;hljs-number&quot;&gt;1s&lt;/span&gt; ease;\n   -o-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: all &lt;span class=&quot;hljs-number&quot;&gt;1s&lt;/span&gt; ease;\n   -ms-&lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: all &lt;span class=&quot;hljs-number&quot;&gt;1s&lt;/span&gt; ease;\n   &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: all &lt;span class=&quot;hljs-number&quot;&gt;1s&lt;/span&gt; ease;\n}\n&lt;span class=&quot;hljs-comment&quot;&gt;/* Adjust speeds to the possible height of the list */&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here&apos;s a fiddle: &lt;a href=&quot;http://jsfiddle.net/BukwJ/&quot; rel=&quot;noreferrer&quot;&gt;http://jsfiddle.net/BukwJ/&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;This solution uses a few techniques:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;padding-bottom:100%&lt;/code&gt; &apos;hack&apos; where percentages are defined in terms of the current width of the element. &lt;a href=&quot;https://spin.atomicobject.com/2015/07/14/css-responsive-square/&quot; rel=&quot;nofollow noreferrer&quot;&gt;More info on this technique.&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;float shrink-wrapping, (necessitating an extra div to apply the float clearing hack)&lt;/li&gt;\n&lt;li&gt;non-semantic use of &lt;a href=&quot;https://caniuse.com/#feat=css-writing-mode&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://caniuse.com/#feat=css-writing-mode&lt;/a&gt; and some transformations to undo it (this allows use of the padding hack above in a vertical context)&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;The upshot though is that we get performant transitioning using CSS only, and a single transition function to smoothly achieve the transition; the holy grail!&lt;/p&gt;\n&lt;p&gt;Of course, there&apos;s a downside! I can&apos;t work out how to control the width at which content gets cut off (&lt;code&gt;overflow:hidden&lt;/code&gt;); because of the padding-bottom hack, the width and height are intimately related. There may be a way though, so will come back to it.&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://jsfiddle.net/EoghanM/n1rp3zb4/28/&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://jsfiddle.net/EoghanM/n1rp3zb4/28/&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;false&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;body&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1em&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.trigger&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;font-weight&lt;/span&gt;: bold;\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/* .expander is there for float clearing purposes only */&lt;/span&gt;\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.expander&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;::after&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;content&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;: table;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;clear&lt;/span&gt;: both;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.outer&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;float&lt;/span&gt;: left; &lt;span class=&quot;hljs-comment&quot;&gt;/* purpose: shrink to fit content */&lt;/span&gt;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid green;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;: hidden;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.inner&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: padding-bottom &lt;span class=&quot;hljs-number&quot;&gt;0.3s&lt;/span&gt; ease-in-out;  &lt;span class=&quot;hljs-comment&quot;&gt;/* or whatever crazy transition function you can come up with! */&lt;/span&gt;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;padding-bottom&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0%&lt;/span&gt;;  &lt;span class=&quot;hljs-comment&quot;&gt;/* percentage padding is defined in terms of width. The width at this level is equal to the height of the content */&lt;/span&gt;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n\n  &lt;span class=&quot;hljs-comment&quot;&gt;/* unfortunately, change of writing mode has other bad effects like orientation of cursor */&lt;/span&gt;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;writing-mode&lt;/span&gt;: vertical-rl;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;cursor&lt;/span&gt;: default; &lt;span class=&quot;hljs-comment&quot;&gt;/* don&apos;t want the vertical-text (sideways I-beam) */&lt;/span&gt;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transform&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;rotate&lt;/span&gt;(-&lt;span class=&quot;hljs-number&quot;&gt;90deg&lt;/span&gt;) &lt;span class=&quot;hljs-built_in&quot;&gt;translateX&lt;/span&gt;(-&lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;);  &lt;span class=&quot;hljs-comment&quot;&gt;/* undo writing mode */&lt;/span&gt;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transform-origin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;  &lt;span class=&quot;hljs-comment&quot;&gt;/* left/right margins here will add to height */&lt;/span&gt;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.inner&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt; { &lt;span class=&quot;hljs-attribute&quot;&gt;white-space&lt;/span&gt;: nowrap; }\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.expander&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.inner&lt;/span&gt;,  &lt;span class=&quot;hljs-comment&quot;&gt;/* to keep open when expanded */&lt;/span&gt;\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.trigger&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt;+&lt;span class=&quot;hljs-selector-class&quot;&gt;.expander&lt;/span&gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.inner&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;padding-bottom&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;trigger&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;HoverMe&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;expander&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;outer&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;inner&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;First Item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;Content&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;Content&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;Content&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;Long Content can&apos;t be wider than outer height unfortunately&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;Last Item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  after content&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif18&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I&apos;ve recently been transitioning the &lt;code&gt;max-height&lt;/code&gt; on the &lt;code&gt;li&lt;/code&gt; elements rather than the wrapping &lt;code&gt;ul&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;The reasoning is that the delay for small &lt;code&gt;max-heights&lt;/code&gt; is far less noticeable (if at all) compared to large &lt;code&gt;max-heights&lt;/code&gt;, and I can also set my &lt;code&gt;max-height&lt;/code&gt; value relative to the &lt;code&gt;font-size&lt;/code&gt; of the &lt;code&gt;li&lt;/code&gt; rather than some arbitrary huge number by using &lt;code&gt;ems&lt;/code&gt; or &lt;code&gt;rems&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;If my font size is &lt;code&gt;1rem&lt;/code&gt;, I&apos;ll set my &lt;code&gt;max-height&lt;/code&gt; to something like &lt;code&gt;3rem&lt;/code&gt; (to accommodate wrapped text). You can see an example here:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;http://codepen.io/mindfullsilence/pen/DtzjE&quot; rel=&quot;nofollow&quot;&gt;http://codepen.io/mindfullsilence/pen/DtzjE&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;You could do this by creating a reverse (collapse) animation with clip-path.&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;false&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#child0&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;: none;\n}\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#parent0&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:hover&lt;/span&gt; &lt;span class=&quot;hljs-selector-id&quot;&gt;#child0&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;: block;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;animation&lt;/span&gt;: height-animation;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;animation-duration&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;200ms&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;animation-timing-function&lt;/span&gt;: linear;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;animation-fill-mode&lt;/span&gt;: backwards;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;animation-iteration-count&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;animation-delay&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;200ms&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-keyword&quot;&gt;@keyframes&lt;/span&gt; height-animation {\n    &lt;span class=&quot;hljs-number&quot;&gt;0%&lt;/span&gt; {\n        &lt;span class=&quot;hljs-attribute&quot;&gt;clip-path&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;polygon&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0%&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0%&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.00%&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0%&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0%&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0%&lt;/span&gt;);\n    }\n    &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt; {\n        &lt;span class=&quot;hljs-attribute&quot;&gt;clip-path&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;polygon&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0%&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0%&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0.00%&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0%&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;);\n    }\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;parent0&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;Hover me (height: 0)&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;child0&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;Some content\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif19&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I understand the question asks for a solution without JavaScript. But for those interested here&apos;s my solution using just a little bit of JS.&lt;/p&gt;\n&lt;p&gt;ok, so the element&apos;s css whose height will change by default is set to &lt;code&gt;height: 0;&lt;/code&gt; and when open &lt;code&gt;height: auto;&lt;/code&gt;. It also has &lt;code&gt;transition: height .25s ease-out;&lt;/code&gt;. But of course the problem is that it won&apos;t transition to or from &lt;code&gt;height: auto;&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;So what i&apos;ve done is when opening or closing set the height to the &lt;code&gt;scrollHeight&lt;/code&gt; property of the element. This new inline style will have higher specificity and override both &lt;code&gt;height: auto;&lt;/code&gt; and &lt;code&gt;height: 0;&lt;/code&gt; and the transition runs.&lt;/p&gt;\n&lt;p&gt;When opening i add a &lt;code&gt;transitionend&lt;/code&gt; event listener which will run just once then remove the inline style setting it back to &lt;code&gt;height: auto;&lt;/code&gt; which will allow the element to resize if necessary, as in this more complex example with sub menus &lt;a href=&quot;https://codepen.io/ninjabonsai/pen/GzYyVe&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://codepen.io/ninjabonsai/pen/GzYyVe&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;When closing i remove the inline style right after the next &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop&quot; rel=&quot;nofollow noreferrer&quot;&gt;event loop&lt;/a&gt; cycle by using setTimeout with no delay. This means &lt;code&gt;height: auto;&lt;/code&gt; is temporarily overridden which allows the transition back to &lt;code&gt;height 0;&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;false&quot; data-babel=&quot;true&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;showHideElement&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;element, open&lt;/span&gt;) =&amp;gt; {\n  element.&lt;span class=&quot;hljs-property&quot;&gt;style&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt; = element.&lt;span class=&quot;hljs-property&quot;&gt;scrollHeight&lt;/span&gt; + &lt;span class=&quot;hljs-string&quot;&gt;&apos;px&apos;&lt;/span&gt;;\n  element.&lt;span class=&quot;hljs-property&quot;&gt;classList&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;toggle&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;open&apos;&lt;/span&gt;, open);\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (open) {\n    element.&lt;span class=&quot;hljs-title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;transitionend&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-function&quot;&gt;() =&amp;gt;&lt;/span&gt; {\n      element.&lt;span class=&quot;hljs-property&quot;&gt;style&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;removeProperty&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;height&apos;&lt;/span&gt;);\n    }, {\n      &lt;span class=&quot;hljs-attr&quot;&gt;once&lt;/span&gt;: &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;\n    });\n  } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;setTimeout&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;() =&amp;gt;&lt;/span&gt; {\n      element.&lt;span class=&quot;hljs-property&quot;&gt;style&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;removeProperty&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;height&apos;&lt;/span&gt;);\n    });\n  }\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; menu = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;body&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;querySelector&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#menu&apos;&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; list = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;body&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;querySelector&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#menu &amp;gt; ul&apos;&lt;/span&gt;)\n\nmenu.&lt;span class=&quot;hljs-title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;mouseenter&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-function&quot;&gt;() =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;showHideElement&lt;/span&gt;(list, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;));\nmenu.&lt;span class=&quot;hljs-title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;mouseleave&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-function&quot;&gt;() =&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;showHideElement&lt;/span&gt;(list, &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;));&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#menu&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;ul&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;: hidden;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;#999&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: height .&lt;span class=&quot;hljs-number&quot;&gt;25s&lt;/span&gt; ease-out;\n}\n\n&lt;span class=&quot;hljs-selector-id&quot;&gt;#menu&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;ul&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.open&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: auto;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;hover me&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;item&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif20&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Here&apos;s a way to transition from any starting height, including 0, to auto (full size and flexible) without requiring hard-set code on a per-node basis or any user-code to initialize: &lt;a href=&quot;https://github.com/csuwildcat/transition-auto&quot; rel=&quot;nofollow&quot;&gt;https://github.com/csuwildcat/transition-auto&lt;/a&gt;. This is basically the holy grail for what you want, I believe --&amp;gt; &lt;a href=&quot;http://codepen.io/csuwldcat/pen/kwsdF&quot; rel=&quot;nofollow&quot;&gt;http://codepen.io/csuwldcat/pen/kwsdF&lt;/a&gt;. Just slap the following JS file into your page, and all you need to do after that is add/remove a single boolean attribute - &lt;code&gt;reveal=&quot;&quot;&lt;/code&gt; - from the nodes you want to expand and contract.&lt;/p&gt;\n\n&lt;p&gt;Here&apos;s all you need to do as the user, once you include the code block found below the example code:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;/*** Nothing out of the ordinary in your styles ***/\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;style&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-css&quot;&gt;\n    &lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt; {\n        &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n        &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;: hidden;\n        &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: height &lt;span class=&quot;hljs-number&quot;&gt;1s&lt;/span&gt;;\n    }\n&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;style&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n/*** Just add and remove one attribute and transition to/from auto! ***/\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    I have tons of content and I am 0px in height you can&apos;t see me...\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;reveal&lt;/span&gt;&amp;gt;&lt;/span&gt;\n     I have tons of content and I am 0px in height you can&apos;t see me...\n     but now that you added the &apos;reveal&apos; attribute, \n     I magically transitioned to full height!...\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here&apos;s the code block to include in your page, after that, it&apos;s all gravy:&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Drop this JS file in your page - it all Just Works&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;/&lt;strong&gt;* Code for height: auto; transitioning *&lt;/strong&gt;/&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scheme&quot;&gt;(&lt;span class=&quot;hljs-name&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-name&quot;&gt;doc&lt;/span&gt;){\n\n/* feature detection for browsers that report different values for scrollHeight when an element&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;s&lt;/span&gt; overflow is hidden vs visible (&lt;span class=&quot;hljs-name&quot;&gt;Firefox&lt;/span&gt;, IE) */\nvar test = doc.documentElement.appendChild(&lt;span class=&quot;hljs-name&quot;&gt;doc.createElement&lt;/span&gt;(&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;x-reveal-test&lt;/span&gt;&apos;))&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n    test.innerHTML = &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;-&lt;/span&gt;&apos;&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n    test.style.cssText = &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;display:&lt;/span&gt; block !important&lt;span class=&quot;hljs-comment&quot;&gt;; height: 0px !important; padding: 0px !important; font-size: 0px !important; border-width: 0px !important; line-height: 1px !important; overflow: hidden !important;&apos;;&lt;/span&gt;\nvar scroll = test.scrollHeight || &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\ndoc.documentElement.removeChild(&lt;span class=&quot;hljs-name&quot;&gt;test&lt;/span&gt;)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n\nvar loading = true,\n    numReg = /^([&lt;span class=&quot;hljs-name&quot;&gt;0-9&lt;/span&gt;]*\\.?[&lt;span class=&quot;hljs-name&quot;&gt;0-9&lt;/span&gt;]*)(&lt;span class=&quot;hljs-name&quot;&gt;.*&lt;/span&gt;)/,\n    skipFrame = function(&lt;span class=&quot;hljs-name&quot;&gt;fn&lt;/span&gt;){\n      requestAnimationFrame(&lt;span class=&quot;hljs-name&quot;&gt;function&lt;/span&gt;(){\n        requestAnimationFrame(&lt;span class=&quot;hljs-name&quot;&gt;fn&lt;/span&gt;)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n      })&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n    },\n    /* &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; out of &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; uses of this function are purely to work around Chrome&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;s&lt;/span&gt; catastrophically busted implementation of auto value CSS transitioning */\n    revealFrame = function(&lt;span class=&quot;hljs-name&quot;&gt;el&lt;/span&gt;, state, height){\n        el.setAttribute(&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;reveal-transition&lt;/span&gt;&apos;, &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;frame&lt;/span&gt;&apos;)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n        el.style.height = height&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n        skipFrame(&lt;span class=&quot;hljs-name&quot;&gt;function&lt;/span&gt;(){\n            el.setAttribute(&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;reveal-transition&lt;/span&gt;&apos;, state)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n            el.style.height = &apos;&apos;&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n        })&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n    },\n    transitionend = function(&lt;span class=&quot;hljs-name&quot;&gt;e&lt;/span&gt;){\n      var node = e.target&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n      if (&lt;span class=&quot;hljs-name&quot;&gt;node.hasAttribute&lt;/span&gt;(&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;reveal&lt;/span&gt;&apos;)) {\n        if (&lt;span class=&quot;hljs-name&quot;&gt;node.getAttribute&lt;/span&gt;(&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;reveal-transition&lt;/span&gt;&apos;) == &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;running&lt;/span&gt;&apos;) revealFrame(&lt;span class=&quot;hljs-name&quot;&gt;node&lt;/span&gt;, &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;complete&lt;/span&gt;&apos;, &apos;&apos;)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n      } \n      else {\n        node.removeAttribute(&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;reveal-transition&lt;/span&gt;&apos;)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n        node.style.height = &apos;&apos;&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n      }\n    },\n    animationstart = function(&lt;span class=&quot;hljs-name&quot;&gt;e&lt;/span&gt;){\n      var node = e.target,\n          name = e.animationName&lt;span class=&quot;hljs-comment&quot;&gt;;   &lt;/span&gt;\n      if (&lt;span class=&quot;hljs-name&quot;&gt;name&lt;/span&gt; == &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;reveal&lt;/span&gt;&apos; || name == &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;unreveal&lt;/span&gt;&apos;) {\n\n        if (&lt;span class=&quot;hljs-name&quot;&gt;loading&lt;/span&gt;) return revealFrame(&lt;span class=&quot;hljs-name&quot;&gt;node&lt;/span&gt;, &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;complete&lt;/span&gt;&apos;, &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;auto&lt;/span&gt;&apos;)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n\n        var style = getComputedStyle(&lt;span class=&quot;hljs-name&quot;&gt;node&lt;/span&gt;),\n            offset = (&lt;span class=&quot;hljs-name&quot;&gt;Number&lt;/span&gt;(&lt;span class=&quot;hljs-name&quot;&gt;style.paddingTop.match&lt;/span&gt;(&lt;span class=&quot;hljs-name&quot;&gt;numReg&lt;/span&gt;)[&lt;span class=&quot;hljs-name&quot;&gt;1&lt;/span&gt;])) +\n                     (&lt;span class=&quot;hljs-name&quot;&gt;Number&lt;/span&gt;(&lt;span class=&quot;hljs-name&quot;&gt;style.paddingBottom.match&lt;/span&gt;(&lt;span class=&quot;hljs-name&quot;&gt;numReg&lt;/span&gt;)[&lt;span class=&quot;hljs-name&quot;&gt;1&lt;/span&gt;])) +\n                     (&lt;span class=&quot;hljs-name&quot;&gt;Number&lt;/span&gt;(&lt;span class=&quot;hljs-name&quot;&gt;style.borderTopWidth.match&lt;/span&gt;(&lt;span class=&quot;hljs-name&quot;&gt;numReg&lt;/span&gt;)[&lt;span class=&quot;hljs-name&quot;&gt;1&lt;/span&gt;])) +\n                     (&lt;span class=&quot;hljs-name&quot;&gt;Number&lt;/span&gt;(&lt;span class=&quot;hljs-name&quot;&gt;style.borderBottomWidth.match&lt;/span&gt;(&lt;span class=&quot;hljs-name&quot;&gt;numReg&lt;/span&gt;)[&lt;span class=&quot;hljs-name&quot;&gt;1&lt;/span&gt;]))&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n\n        if (&lt;span class=&quot;hljs-name&quot;&gt;name&lt;/span&gt; == &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;reveal&lt;/span&gt;&apos;){\n          node.setAttribute(&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;reveal-transition&lt;/span&gt;&apos;, &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;running&lt;/span&gt;&apos;)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n          node.style.height = node.scrollHeight - (&lt;span class=&quot;hljs-name&quot;&gt;offset&lt;/span&gt; / scroll) + &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;px&lt;/span&gt;&apos;&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n        }\n        else {\n            if (&lt;span class=&quot;hljs-name&quot;&gt;node.getAttribute&lt;/span&gt;(&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;reveal-transition&lt;/span&gt;&apos;) == &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;running&lt;/span&gt;&apos;) node.style.height = &apos;&apos;&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n            else revealFrame(&lt;span class=&quot;hljs-name&quot;&gt;node&lt;/span&gt;, &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;running&lt;/span&gt;&apos;, node.scrollHeight - offset + &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;px&lt;/span&gt;&apos;)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n        }\n      }\n    }&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n\ndoc.addEventListener(&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;animationstart&lt;/span&gt;&apos;, animationstart, false)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\ndoc.addEventListener(&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;MSAnimationStart&lt;/span&gt;&apos;, animationstart, false)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\ndoc.addEventListener(&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;webkitAnimationStart&lt;/span&gt;&apos;, animationstart, false)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\ndoc.addEventListener(&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;transitionend&lt;/span&gt;&apos;, transitionend, false)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\ndoc.addEventListener(&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;MSTransitionEnd&lt;/span&gt;&apos;, transitionend, false)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\ndoc.addEventListener(&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;webkitTransitionEnd&lt;/span&gt;&apos;, transitionend, false)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n\n/*\n    Batshit readyState/DOMContentLoaded code to dance around Webkit/Chrome animation auto-run weirdness on initial page load.\n    If they fixed their code, you could just check for if(&lt;span class=&quot;hljs-name&quot;&gt;doc.readyState&lt;/span&gt; != &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;complete&lt;/span&gt;&apos;) in animationstart&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;s&lt;/span&gt; if(&lt;span class=&quot;hljs-name&quot;&gt;loading&lt;/span&gt;) check\n*/\nif (&lt;span class=&quot;hljs-name&quot;&gt;document.readyState&lt;/span&gt; == &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;complete&lt;/span&gt;&apos;) {\n    skipFrame(&lt;span class=&quot;hljs-name&quot;&gt;function&lt;/span&gt;(){\n        loading = false&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n    })&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n}\nelse document.addEventListener(&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;DOMContentLoaded&lt;/span&gt;&apos;, function(&lt;span class=&quot;hljs-name&quot;&gt;e&lt;/span&gt;){\n    skipFrame(&lt;span class=&quot;hljs-name&quot;&gt;function&lt;/span&gt;(){\n        loading = false&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n    })&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n}, false)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n\n/* Styles that allow for &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;reveal&lt;/span&gt;&apos; attribute triggers */\nvar styles = doc.createElement(&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;style&lt;/span&gt;&apos;),\n    t = &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;transition:&lt;/span&gt; none&lt;span class=&quot;hljs-comment&quot;&gt;; &apos;,&lt;/span&gt;\n    au = &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;animation:&lt;/span&gt; reveal &lt;span class=&quot;hljs-number&quot;&gt;0.001&lt;/span&gt;s&lt;span class=&quot;hljs-comment&quot;&gt;; &apos;,&lt;/span&gt;\n    ar = &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;animation:&lt;/span&gt; unreveal &lt;span class=&quot;hljs-number&quot;&gt;0.001&lt;/span&gt;s&lt;span class=&quot;hljs-comment&quot;&gt;; &apos;,&lt;/span&gt;\n    clip = &apos; { from { opacity: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;hljs-comment&quot;&gt;; } to { opacity: 1; } }&apos;,&lt;/span&gt;\n    r = &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;keyframes&lt;/span&gt; reveal&apos; + clip,\n    u = &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;keyframes&lt;/span&gt; unreveal&apos; + clip&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n\nstyles.textContent = &apos;[&lt;span class=&quot;hljs-name&quot;&gt;reveal&lt;/span&gt;] { -ms-&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;+&lt;/span&gt; au + &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;-webkit-&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;+&lt;/span&gt; au +&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;-moz-&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;+&lt;/span&gt; au + au +&apos;}&apos; +\n    &apos;[&lt;span class=&quot;hljs-name&quot;&gt;reveal-transition=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;frame&quot;&lt;/span&gt;] { -ms-&apos; + t + &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;-webkit-&lt;/span&gt;&apos; + t + &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;-moz-&lt;/span&gt;&apos; + t + t + &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;height:&lt;/span&gt; auto&lt;span class=&quot;hljs-comment&quot;&gt;; }&apos; +&lt;/span&gt;\n    &apos;[&lt;span class=&quot;hljs-name&quot;&gt;reveal-transition=&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;complete&quot;&lt;/span&gt;] { height: auto&lt;span class=&quot;hljs-comment&quot;&gt;; }&apos; +&lt;/span&gt;\n    &apos;[&lt;span class=&quot;hljs-name&quot;&gt;reveal-transition&lt;/span&gt;]:not([&lt;span class=&quot;hljs-name&quot;&gt;reveal&lt;/span&gt;]) { -webkit-&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;+&lt;/span&gt; ar +&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;-moz-&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;+&lt;/span&gt; ar + ar +&apos;}&apos; +\n    &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;@-ms-&lt;/span&gt;&apos; + r + &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;@-webkit-&lt;/span&gt;&apos; + r + &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;@-moz-&lt;/span&gt;&apos; + r + r +\n    &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;@-ms-&lt;/span&gt;&apos; + u +&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;@-webkit-&lt;/span&gt;&apos; + u + &lt;span class=&quot;hljs-symbol&quot;&gt;&apos;@-moz-&lt;/span&gt;&apos; + u + u&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n\ndoc.querySelector(&lt;span class=&quot;hljs-symbol&quot;&gt;&apos;head&lt;/span&gt;&apos;).appendChild(&lt;span class=&quot;hljs-name&quot;&gt;styles&lt;/span&gt;)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n\n})(&lt;span class=&quot;hljs-name&quot;&gt;document&lt;/span&gt;)&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;/&lt;strong&gt;* Code for DEMO *&lt;/strong&gt;/&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-lua&quot;&gt;    document.addEventListener(&lt;span class=&quot;hljs-string&quot;&gt;&apos;click&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(e)&lt;/span&gt;&lt;/span&gt;{\n      &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (e.target.nodeName == &lt;span class=&quot;hljs-string&quot;&gt;&apos;BUTTON&apos;&lt;/span&gt;) {\n        var &lt;span class=&quot;hljs-built_in&quot;&gt;next&lt;/span&gt; = e.target.nextElementSibling;\n        &lt;span class=&quot;hljs-built_in&quot;&gt;next&lt;/span&gt;.hasAttribute(&lt;span class=&quot;hljs-string&quot;&gt;&apos;reveal&apos;&lt;/span&gt;) ? &lt;span class=&quot;hljs-built_in&quot;&gt;next&lt;/span&gt;.removeAttribute(&lt;span class=&quot;hljs-string&quot;&gt;&apos;reveal&apos;&lt;/span&gt;) : &lt;span class=&quot;hljs-built_in&quot;&gt;next&lt;/span&gt;.setAttribute(&lt;span class=&quot;hljs-string&quot;&gt;&apos;reveal&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;);\n      }\n    }, &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;I think I came up with a really solid solution&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;OK! I know this problem is as old as the internet but I think I have a solution which I turned into a &lt;a href=&quot;https://github.com/jontroncoso/mutant-transition&quot; rel=&quot;noreferrer&quot;&gt;plugin called mutant-transition&lt;/a&gt;. My solution sets the &lt;code&gt;style=&quot;&quot;&lt;/code&gt; attributes for tracked elements whenever theres a change in the DOM. the end result is that you can use good ole CSS for your transitions and not use hacky fixes or special javascript. The only thing you have to do is set what you want to track on the element in question using &lt;code&gt;data-mutant-attributes=&quot;X&quot;&lt;/code&gt;. &lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&amp;lt;div data-mutant-attributes=&lt;span class=&quot;hljs-string&quot;&gt;&quot;height&quot;&lt;/span&gt;&amp;gt;                                                                      \n        This &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; an example &lt;span class=&quot;hljs-keyword&quot;&gt;with&lt;/span&gt; mutant-transition                                                                                                          \n    &amp;lt;/div&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Thats it! This solution uses &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver&quot; rel=&quot;noreferrer&quot;&gt;MutationObserver&lt;/a&gt; to follow changes in the DOM. Because of this, you don&apos;t really have to set anything up or use javascript to manually animate things. Changes are tracked automatically. However, because it uses MutationObserver, this will only transition in IE11+. \n\n&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Fiddles!&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;http://jsfiddle.net/zfwrt1d8/5/&quot; rel=&quot;noreferrer&quot;&gt;Demonstrating transitioning from &lt;code&gt;height: auto&lt;/code&gt; to &lt;code&gt;height: 100%&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://jsfiddle.net/7vj3n5nf/3/&quot; rel=&quot;noreferrer&quot;&gt;Demonstrating transitioning &lt;code&gt;height: auto&lt;/code&gt; when adding children&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;Jake&apos;s answer to animate the max-height is great, but I found the delay caused by setting a large max-height annoying.&lt;/p&gt;\n\n&lt;p&gt;One could move the collapsable content into an inner div and calculate the max height by getting the height of the inner div (via JQuery it&apos;d be the outerHeight()).&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$(&lt;span class=&quot;hljs-string&quot;&gt;&apos;button&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;bind&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;click&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;e&lt;/span&gt;) { \n  e.&lt;span class=&quot;hljs-title function_&quot;&gt;preventDefault&lt;/span&gt;();\n  w = $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#outer&apos;&lt;/span&gt;);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (w.&lt;span class=&quot;hljs-title function_&quot;&gt;hasClass&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;collapsed&apos;&lt;/span&gt;)) {\n    w.&lt;span class=&quot;hljs-title function_&quot;&gt;css&lt;/span&gt;({ &lt;span class=&quot;hljs-string&quot;&gt;&quot;max-height&quot;&lt;/span&gt;: $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#inner&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;outerHeight&lt;/span&gt;() + &lt;span class=&quot;hljs-string&quot;&gt;&apos;px&apos;&lt;/span&gt; });\n  } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n    w.&lt;span class=&quot;hljs-title function_&quot;&gt;css&lt;/span&gt;({ &lt;span class=&quot;hljs-string&quot;&gt;&quot;max-height&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;0px&quot;&lt;/span&gt; });\n  }\n  w.&lt;span class=&quot;hljs-title function_&quot;&gt;toggleClass&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;collapsed&apos;&lt;/span&gt;);\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here&apos;s a jsfiddle link: &lt;a href=&quot;http://jsfiddle.net/pbatey/duZpT&quot; rel=&quot;nofollow&quot;&gt;http://jsfiddle.net/pbatey/duZpT&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Here&apos;s a jsfiddle with the absolute minimal amount of code required: &lt;a href=&quot;http://jsfiddle.net/8ncjjxh8/&quot; rel=&quot;nofollow&quot;&gt;http://jsfiddle.net/8ncjjxh8/&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I was able to do this. I have a &lt;code&gt;.child&lt;/code&gt; &amp;amp; a &lt;code&gt;.parent&lt;/code&gt; div. The child div fits perfectly within the parent&apos;s width/height with &lt;code&gt;absolute&lt;/code&gt; positioning. I then animate the &lt;code&gt;translate&lt;/code&gt; property to push it&apos;s &lt;code&gt;Y&lt;/code&gt; value down &lt;code&gt;100%&lt;/code&gt;. Its very smooth animation, no glitches or down sides like any other solution here.&lt;/p&gt;\n\n&lt;p&gt;Something like this, pseudo code&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.parent&lt;/span&gt;{ &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;:relative; &lt;span class=&quot;hljs-attribute&quot;&gt;overflow&lt;/span&gt;:hidden; } \n&lt;span class=&quot;hljs-comment&quot;&gt;/** shown state */&lt;/span&gt;\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.child&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;position&lt;/span&gt;:absolute;&lt;span class=&quot;hljs-attribute&quot;&gt;top&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:left&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;&lt;span class=&quot;hljs-attribute&quot;&gt;right&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;&lt;span class=&quot;hljs-attribute&quot;&gt;bottom&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: transform @overlay-animation-duration ease-in-out;\n  &lt;span class=&quot;hljs-selector-class&quot;&gt;.translate&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/** Animate to hidden by sliding down: */&lt;/span&gt;\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.child&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.slidedown&lt;/span&gt; {\n  &lt;span class=&quot;hljs-selector-class&quot;&gt;.translate&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;/** Translate the element &quot;out&quot; the bottom of it&apos;s .scene container &quot;mask&quot; so its hidden */&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You would specify a &lt;code&gt;height&lt;/code&gt; on &lt;code&gt;.parent&lt;/code&gt;, in &lt;code&gt;px&lt;/code&gt;, &lt;code&gt;%&lt;/code&gt;, or leave as &lt;code&gt;auto&lt;/code&gt;. This div then masks out the &lt;code&gt;.child&lt;/code&gt; div when it slides down.&lt;/p&gt;\n    ","\n&lt;p&gt;Alternate CSS-only solution with &lt;code&gt;line-height&lt;/code&gt;, &lt;code&gt;padding&lt;/code&gt;, &lt;code&gt;opacity&lt;/code&gt; and &lt;code&gt;margin&lt;/code&gt;:&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;false&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;body&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: linen;\n}\n\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;main&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;: white;\n}\n\n&lt;span class=&quot;hljs-selector-attr&quot;&gt;[id^=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle_&quot;&lt;/span&gt;]&lt;/span&gt; ~ &lt;span class=&quot;hljs-selector-class&quot;&gt;.content&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;line-height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;opacity&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; .&lt;span class=&quot;hljs-number&quot;&gt;5rem&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: .&lt;span class=&quot;hljs-number&quot;&gt;2s&lt;/span&gt; ease-out;\n}\n\n&lt;span class=&quot;hljs-selector-attr&quot;&gt;[id^=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle_&quot;&lt;/span&gt;]&lt;/span&gt; ~ &lt;span class=&quot;hljs-selector-class&quot;&gt;.content&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;p&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;margin&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;transition&lt;/span&gt;: .&lt;span class=&quot;hljs-number&quot;&gt;2s&lt;/span&gt; ease-out;\n}\n\n&lt;span class=&quot;hljs-selector-attr&quot;&gt;[id^=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle_&quot;&lt;/span&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:checked&lt;/span&gt; ~ &lt;span class=&quot;hljs-selector-class&quot;&gt;.content&lt;/span&gt;   {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;opacity&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: .&lt;span class=&quot;hljs-number&quot;&gt;5rem&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;line-height&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1.5&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-attr&quot;&gt;[id^=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle_&quot;&lt;/span&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:checked&lt;/span&gt; ~ &lt;span class=&quot;hljs-selector-class&quot;&gt;.content&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;p&lt;/span&gt;  {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;margin-bottom&lt;/span&gt;: .&lt;span class=&quot;hljs-number&quot;&gt;75rem&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-attr&quot;&gt;[id^=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle_&quot;&lt;/span&gt;]&lt;/span&gt; + &lt;span class=&quot;hljs-selector-tag&quot;&gt;label&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;: flex;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;justify-content&lt;/span&gt;: space-between;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;0.5em&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1em&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;: lightsteelblue;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border-bottom&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid gray;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;cursor&lt;/span&gt;: pointer;\n}\n\n&lt;span class=&quot;hljs-selector-attr&quot;&gt;[id^=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle_&quot;&lt;/span&gt;]&lt;/span&gt; + &lt;span class=&quot;hljs-selector-tag&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:before&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;content&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;Show&quot;&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-attr&quot;&gt;[id^=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle_&quot;&lt;/span&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:checked&lt;/span&gt; + &lt;span class=&quot;hljs-selector-tag&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:before&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;content&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;Hide&quot;&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-attr&quot;&gt;[id^=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle_&quot;&lt;/span&gt;]&lt;/span&gt; + &lt;span class=&quot;hljs-selector-tag&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:after&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;content&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;\\25BC&quot;&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-selector-attr&quot;&gt;[id^=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle_&quot;&lt;/span&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:checked&lt;/span&gt; + &lt;span class=&quot;hljs-selector-tag&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:after&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;content&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;\\25B2&quot;&lt;/span&gt;;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;main&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;checkbox&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle_1&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;hidden&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;for&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle_1&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;hidden&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;label&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;content&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis dolor neque, commodo quis leo ut, auctor tincidunt mauris. Nunc fringilla tincidunt metus, non gravida lorem condimentum non. Duis ornare purus nisl, at porta arcu eleifend eget. Integer lorem ante, porta vulputate dui ut, blandit tempor tellus. Proin facilisis bibendum diam, sit amet rutrum est feugiat ut. Mauris rhoncus convallis arcu in condimentum. Donec volutpat dui eu mollis vulputate. Nunc commodo lobortis nunc at ultrices. Suspendisse in lobortis diam. Suspendisse eget vestibulum ex.\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;checkbox&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle_2&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;hidden&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;for&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle_2&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;hidden&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;label&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;content&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                Maecenas laoreet nunc sit amet nulla ultrices auctor. Vivamus sed nisi vitae nibh condimentum pulvinar eu vel lorem. Sed pretium viverra eros ut facilisis. In ut fringilla magna. Sed a tempor libero. Donec sapien libero, lacinia sed aliquet ut, imperdiet finibus tellus. Nunc tellus lectus, rhoncus in posuere quis, tempus sit amet enim. Morbi et erat ac velit fringilla dignissim. Donec commodo, est id accumsan cursus, diam dui hendrerit nisi, vel hendrerit purus dolor ut risus. Phasellus mattis egestas ipsum sed ullamcorper. In diam ligula, rhoncus vel enim et, imperdiet porta justo. Curabitur vulputate hendrerit nisl, et ultricies diam. Maecenas ac leo a diam cursus ornare nec eu quam.\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;Sed non vulputate purus, sed consectetur odio. Sed non nibh fringilla, imperdiet odio nec, efficitur ex. Suspendisse ut dignissim enim. Maecenas felis augue, tempor sit amet sem fringilla, accumsan fringilla nibh. Quisque posuere lacus tortor, quis malesuada magna elementum a. Nullam id purus in ante molestie tincidunt. Morbi luctus orci eu egestas dignissim. Sed tincidunt, libero quis scelerisque bibendum, ligula nisi gravida libero, id lacinia nulla leo in elit.\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;Aenean aliquam risus id consectetur sagittis. Aliquam aliquam nisl eu augue accumsan, vel maximus lorem viverra. Aliquam ipsum dolor, tempor et justo ac, fermentum mattis dui. Etiam at posuere ligula. Vestibulum tortor metus, viverra vitae mi non, laoreet iaculis purus. Praesent vel semper nibh. Curabitur a congue lacus. In et pellentesque lorem. Morbi posuere felis non diam vulputate, non vulputate ex vehicula. Vivamus ultricies, massa id sagittis consequat, sem mauris tincidunt nunc, eu vehicula augue quam ut mauris.\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;checkbox&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle_3&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;hidden&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;for&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;toggle_3&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;hidden&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;label&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;content&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis dolor neque, commodo quis leo ut, auctor tincidunt mauris. Nunc fringilla tincidunt metus, non gravida lorem condimentum non. Duis ornare purus nisl, at porta arcu eleifend eget. Integer lorem ante, porta vulputate dui ut, blandit tempor tellus. Proin facilisis bibendum diam, sit amet rutrum est feugiat ut. Mauris rhoncus convallis arcu in condimentum. Donec volutpat dui eu mollis vulputate. Nunc commodo lobortis nunc at ultrices. Suspendisse in lobortis diam. Suspendisse eget vestibulum ex.\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;Sed non vulputate purus, sed consectetur odio. Sed non nibh fringilla, imperdiet odio nec, efficitur ex. Suspendisse ut dignissim enim. Maecenas felis augue, tempor sit amet sem fringilla, accumsan fringilla nibh. Quisque posuere lacus tortor, quis malesuada magna elementum a. Nullam id purus in ante molestie tincidunt. Morbi luctus orci eu egestas dignissim. Sed tincidunt, libero quis scelerisque bibendum, ligula nisi gravida libero, id lacinia nulla leo in elit.\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;main&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif21&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I realize this thread is getting old, but it ranks high on certain Google searches so I figure it&apos;s worth updating.&lt;/p&gt;\n\n&lt;p&gt;You also just get/set the element&apos;s own height:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; load_height = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;target_box&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-property&quot;&gt;clientHeight&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;target_box&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-property&quot;&gt;style&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;height&lt;/span&gt; = load_height + &lt;span class=&quot;hljs-string&quot;&gt;&apos;px&apos;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You should dump this Javascript immediately after target_box&apos;s closing tag in an inline script tag.&lt;/p&gt;\n    "],"454":["\n&lt;h3&gt;Update:&lt;/h3&gt;\n\n&lt;p&gt;ECMAScript 6 (ES6) introduces a new type of literal, namely &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/template_strings&quot; rel=&quot;noreferrer&quot;&gt;&lt;strong&gt;template literals&lt;/strong&gt;&lt;/a&gt;. They have many features, variable interpolation among others, but most importantly for this question, they can be multiline.&lt;/p&gt;\n\n&lt;p&gt;A template literal is delimited by &lt;em&gt;backticks&lt;/em&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; html = &lt;span class=&quot;hljs-string&quot;&gt;`\n  &amp;lt;div&amp;gt;\n    &amp;lt;span&amp;gt;Some HTML here&amp;lt;/span&amp;gt;\n  &amp;lt;/div&amp;gt;\n`&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;(Note: I&apos;m not advocating to use HTML in strings)&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://kangax.github.io/compat-table/es6/#test-template_literals&quot; rel=&quot;noreferrer&quot;&gt;Browser support is OK&lt;/a&gt;, but you can use &lt;a href=&quot;https://babeljs.io/&quot; rel=&quot;noreferrer&quot;&gt;transpilers&lt;/a&gt; to be more compatible.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;h3&gt;Original ES5 answer:&lt;/h3&gt;\n\n&lt;p&gt;Javascript doesn&apos;t have a here-document syntax. You can escape the literal newline, however, which comes close:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;foo \\\nbar&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;h2&gt;ES6 Update:&lt;/h2&gt;\n\n&lt;p&gt;As the first answer mentions, with ES6/Babel, you can now create multi-line strings simply by using backticks:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; htmlString = &lt;span class=&quot;hljs-string&quot;&gt;`Say hello to \nmulti-line\nstrings!`&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Interpolating variables is a popular new feature that comes with back-tick delimited strings:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; htmlString = &lt;span class=&quot;hljs-string&quot;&gt;`&lt;span class=&quot;hljs-subst&quot;&gt;${user.name}&lt;/span&gt; liked your post about strings`&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This just transpiles down to concatenation:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;user.&lt;span class=&quot;hljs-property&quot;&gt;name&lt;/span&gt; + &lt;span class=&quot;hljs-string&quot;&gt;&apos; liked your post about strings&apos;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;Original ES5 answer:&lt;/h2&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;&lt;a href=&quot;https://google.github.io/styleguide/javascriptguide.xml?showone=Multiline_string_literals#Multiline_string_literals&quot; rel=&quot;noreferrer&quot;&gt;Google&apos;s JavaScript style guide&lt;/a&gt; recommends to use string concatenation instead of escaping newlines:&lt;/p&gt;\n  \n  &lt;p&gt;&lt;strong&gt;Do not do this:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; myString = &lt;span class=&quot;hljs-string&quot;&gt;&apos;A rather long string of English text, an error message \\\n                actually that just keeps going and going -- an error \\\n                message to make the Energizer bunny blush (right through \\\n                those Schwarzenegger shades)! Where was I? Oh yes, \\\n                you\\&apos;ve got an error and all the extraneous whitespace is \\\n                just gravy.  Have a nice day.&apos;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n  \n  &lt;p&gt;The whitespace at the beginning of each line can&apos;t be safely stripped at compile time; whitespace after the slash will result in tricky errors; and while most script engines support this, it is not part of ECMAScript.&lt;/p&gt;\n  \n  &lt;p&gt;&lt;strong&gt;Use string concatenation instead:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; myString = &lt;span class=&quot;hljs-string&quot;&gt;&apos;A rather long string of English text, an error message &apos;&lt;/span&gt; +\n               &lt;span class=&quot;hljs-string&quot;&gt;&apos;actually that just keeps going and going -- an error &apos;&lt;/span&gt; +\n               &lt;span class=&quot;hljs-string&quot;&gt;&apos;message to make the Energizer bunny blush (right through &apos;&lt;/span&gt; +\n               &lt;span class=&quot;hljs-string&quot;&gt;&apos;those Schwarzenegger shades)! Where was I? Oh yes, &apos;&lt;/span&gt; +\n               &lt;span class=&quot;hljs-string&quot;&gt;&apos;you\\&apos;ve got an error and all the extraneous whitespace is &apos;&lt;/span&gt; +\n               &lt;span class=&quot;hljs-string&quot;&gt;&apos;just gravy.  Have a nice day.&apos;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;p&gt;the pattern &lt;code&gt;text = &amp;lt;&amp;lt;&quot;HERE&quot; This Is A Multiline String HERE&lt;/code&gt; is not available in js (I remember using it much in my good old Perl days).&lt;/p&gt;\n\n&lt;p&gt;To keep oversight with complex or long multiline strings I sometimes use an array pattern:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; myString = \n   [&lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;div id=&quot;someId&quot;&amp;gt;&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;some content&amp;lt;br /&amp;gt;&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;a href=&quot;#someRef&quot;&amp;gt;someRefTxt&amp;lt;/a&amp;gt;&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;/div&amp;gt;&apos;&lt;/span&gt;\n   ].&lt;span class=&quot;hljs-title function_&quot;&gt;join&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\n&apos;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;or the pattern anonymous already showed (escape newline), which can be an ugly block in your code:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; myString = \n       &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;div id=&quot;someId&quot;&amp;gt; \\\nsome content&amp;lt;br /&amp;gt; \\\n&amp;lt;a href=&quot;#someRef&quot;&amp;gt;someRefTxt&amp;lt;/a&amp;gt; \\\n&amp;lt;/div&amp;gt;&apos;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here&apos;s another weird but working &apos;trick&apos;&lt;sup&gt;&lt;b&gt;1&lt;/b&gt;&lt;/sup&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; myString = (&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {&lt;span class=&quot;hljs-comment&quot;&gt;/*\n   &amp;lt;div id=&quot;someId&quot;&amp;gt;\n     some content&amp;lt;br /&amp;gt;\n     &amp;lt;a href=&quot;#someRef&quot;&amp;gt;someRefTxt&amp;lt;/a&amp;gt;\n    &amp;lt;/div&amp;gt;        \n*/&lt;/span&gt;}).&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/[^]*\\/\\*([^]*)\\*\\/\\}$/&lt;/span&gt;)[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;];\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;em&gt;external edit: &lt;a href=&quot;http://jsfiddle.net/orwellophile/hna15vLw/2/&quot; rel=&quot;noreferrer&quot;&gt;jsfiddle&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;ES20xx&lt;/strong&gt; supports spanning strings over multiple lines using &lt;a href=&quot;http://www.2ality.com/2011/09/quasi-literals.html&quot; rel=&quot;noreferrer&quot;&gt;template strings&lt;/a&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; str = &lt;span class=&quot;hljs-string&quot;&gt;`This is a text\n    with multiple lines.\n    Escapes are interpreted,\n    \\n is a newline.`&lt;/span&gt;;\n&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; str = &lt;span class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;raw&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;`This is a text\n    with multiple lines.\n    Escapes are not interpreted,\n    \\n is not a newline.`&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;sup&gt;&lt;b&gt;1&lt;/b&gt;&lt;/sup&gt; Note: this will be lost after minifying/obfuscating your code&lt;/p&gt;\n    ","\n&lt;p&gt;You &lt;em&gt;can&lt;/em&gt; have multiline strings in pure JavaScript.&lt;/p&gt;\n&lt;p&gt;This method is based on the serialization of functions, which is &lt;a href=&quot;http://es5.github.io/#x15.3.4.2&quot; rel=&quot;noreferrer&quot;&gt;defined to be implementation-dependent&lt;/a&gt;. It does work in the most browsers (see below), but there&apos;s no guarantee that it will still work in the future, so do not rely on it.&lt;/p&gt;\n&lt;p&gt;Using the following function:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;hereDoc&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;f&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; f.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;().\n      &lt;span class=&quot;hljs-title function_&quot;&gt;replace&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/^[^\\/]+\\/\\*!?/&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;).\n      &lt;span class=&quot;hljs-title function_&quot;&gt;replace&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/\\*\\/[^\\/]+$/&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;You can have here-documents like this:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; tennysonQuote = &lt;span class=&quot;hljs-title function_&quot;&gt;hereDoc&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {&lt;span class=&quot;hljs-comment&quot;&gt;/*!\n  Theirs not to make reply,\n  Theirs not to reason why,\n  Theirs but to do and die\n*/&lt;/span&gt;});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The method has successfully been tested in the following browsers (not mentioned = not tested):&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;IE 4 - 10&lt;/li&gt;\n&lt;li&gt;Opera 9.50 - 12 (not in 9-)&lt;/li&gt;\n&lt;li&gt;Safari 4 - 6 (not in 3-)&lt;/li&gt;\n&lt;li&gt;Chrome 1 - 45&lt;/li&gt;\n&lt;li&gt;Firefox 17 - 21 (&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/toString#Notes&quot; rel=&quot;noreferrer&quot;&gt;not in 16-&lt;/a&gt;)&lt;/li&gt;\n&lt;li&gt;Rekonq 0.7.0 - 0.8.0&lt;/li&gt;\n&lt;li&gt;&lt;em&gt;Not supported in Konqueror 4.7.4&lt;/em&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;Be careful with your minifier, though. It tends to remove comments. For the &lt;a href=&quot;http://www.julienlecomte.net/yuicompressor/README&quot; rel=&quot;noreferrer&quot;&gt;YUI compressor&lt;/a&gt;, a comment starting with &lt;code&gt;/*!&lt;/code&gt; (like the one I used) will be preserved.&lt;/p&gt;\n&lt;p&gt;I think a &lt;em&gt;real&lt;/em&gt; solution would be to use &lt;a href=&quot;http://coffeescript.org/#strings&quot; rel=&quot;noreferrer&quot;&gt;CoffeeScript&lt;/a&gt;.&lt;/p&gt;\n&lt;p&gt;ES6 UPDATE: You could use backtick instead of creating a function with a comment and running toString on the comment. The regex would need to be updated to only strip spaces. You could also have a string prototype method for doing this:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; foo = &lt;span class=&quot;hljs-string&quot;&gt;`\n  bar loves cake\n  baz loves beer\n  beer loves people\n`&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;removeIndentation&lt;/span&gt;()\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Someone should write this .removeIndentation string method... ;)&lt;/p&gt;\n    ","\n&lt;p&gt;You can do this...&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; string = &lt;span class=&quot;hljs-string&quot;&gt;&apos;This is\\n&apos;&lt;/span&gt; +\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;a multiline\\n&apos;&lt;/span&gt; + \n&lt;span class=&quot;hljs-string&quot;&gt;&apos;string&apos;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I came up with this very jimmy rigged method of a multi lined string. Since converting a function into a string also returns any comments inside the function you can use the comments as your string using a multilined comment /**/. You just have to trim off the ends and you have your string.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; myString = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){&lt;span class=&quot;hljs-comment&quot;&gt;/*\n    This is some\n    awesome multi-lined\n    string using a comment \n    inside a function \n    returned as a string.\n    Enjoy the jimmy rigged code.\n*/&lt;/span&gt;}.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;slice&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;14&lt;/span&gt;,-&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;)\n\n&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(myString)\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I&apos;m surprised I didn&apos;t see this, because it works everywhere I&apos;ve tested it and is very useful for e.g. templates:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;script type=&lt;span class=&quot;hljs-string&quot;&gt;&quot;bogus&quot;&lt;/span&gt; id=&lt;span class=&quot;hljs-string&quot;&gt;&quot;multi&quot;&lt;/span&gt;&amp;gt;\n    &lt;span class=&quot;hljs-title class_&quot;&gt;My&lt;/span&gt;\n    multiline\n    string\n&amp;lt;/script&amp;gt;\n&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;\n    &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;($(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#multi&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;html&lt;/span&gt;());\n&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Does anybody know of an environment where there is HTML but it doesn&apos;t work?&lt;/p&gt;\n    ","\n&lt;p&gt;I solved this by outputting a div, making it hidden, and calling the div id by jQuery when I needed it.&lt;/p&gt;\n\n&lt;p&gt;e.g.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;div id=&lt;span class=&quot;hljs-string&quot;&gt;&quot;UniqueID&quot;&lt;/span&gt; style=&lt;span class=&quot;hljs-string&quot;&gt;&quot;display:none;&quot;&lt;/span&gt;&amp;gt;\n     &lt;span class=&quot;hljs-title class_&quot;&gt;Strings&lt;/span&gt;\n     &lt;span class=&quot;hljs-title class_&quot;&gt;On&lt;/span&gt;\n     &lt;span class=&quot;hljs-title class_&quot;&gt;Multiple&lt;/span&gt;\n     &lt;span class=&quot;hljs-title class_&quot;&gt;Lines&lt;/span&gt;\n     &lt;span class=&quot;hljs-title class_&quot;&gt;Here&lt;/span&gt;\n&amp;lt;/div&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Then when I need to get the string, I just use the following jQuery:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#UniqueID&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;html&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Which returns my text on multiple lines. If I call &lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;($(&lt;span class=&quot;hljs-string&quot;&gt;&apos;#UniqueID&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;html&lt;/span&gt;());\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I get:&lt;/p&gt;\n\n&lt;p&gt;&lt;img src=&quot;https://i.stack.imgur.com/vIVFc.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;There are multiple ways to achieve this&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;1. Slash concatenation&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;MultiLine&lt;/span&gt;=  &lt;span class=&quot;hljs-string&quot;&gt;&apos;1\\\n    2\\\n    3\\\n    4\\\n    5\\\n    6\\\n    7\\\n    8\\\n    9&apos;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;2. regular concatenation&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;MultiLine&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;1&apos;&lt;/span&gt;\n+&lt;span class=&quot;hljs-string&quot;&gt;&apos;2&apos;&lt;/span&gt;\n+&lt;span class=&quot;hljs-string&quot;&gt;&apos;3&apos;&lt;/span&gt;\n+&lt;span class=&quot;hljs-string&quot;&gt;&apos;4&apos;&lt;/span&gt;\n+&lt;span class=&quot;hljs-string&quot;&gt;&apos;5&apos;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;3. Array Join concatenation&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;MultiLine&lt;/span&gt; = [\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;1&apos;&lt;/span&gt;,\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;2&apos;&lt;/span&gt;,\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;3&apos;&lt;/span&gt;,\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;4&apos;&lt;/span&gt;,\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;5&apos;&lt;/span&gt;\n].&lt;span class=&quot;hljs-title function_&quot;&gt;join&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Performance wise, &lt;strong&gt;Slash concatenation&lt;/strong&gt; (first one) is the fastest.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Refer&lt;/strong&gt; &lt;a href=&quot;http://jsperf.com/zp-string-concatenation/6&quot;&gt;this test case&lt;/a&gt; for more details regarding the performance &lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;With the &lt;strong&gt;ES2015&lt;/strong&gt;, we can take advantage of its Template strings feature. With it, we just need to use back-ticks for creating multi line strings&lt;/p&gt;\n\n&lt;p&gt;Example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt; &lt;span class=&quot;hljs-string&quot;&gt;`&amp;lt;h1&amp;gt;{{title}}&amp;lt;/h1&amp;gt;\n  &amp;lt;h2&amp;gt;{{hero.name}} details!&amp;lt;/h2&amp;gt;\n  &amp;lt;div&amp;gt;&amp;lt;label&amp;gt;id: &amp;lt;/label&amp;gt;{{hero.id}}&amp;lt;/div&amp;gt;\n  &amp;lt;div&amp;gt;&amp;lt;label&amp;gt;name: &amp;lt;/label&amp;gt;{{hero.name}}&amp;lt;/div&amp;gt;\n  `&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Using script tags:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;add a &lt;code&gt;&amp;lt;script&amp;gt;...&amp;lt;/script&amp;gt;&lt;/code&gt; block containing your multiline text into &lt;code&gt;head&lt;/code&gt; tag;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;get your multiline text as is... (watch out for text encoding: UTF-8, ASCII)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;script&amp;gt;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// pure javascript&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; text = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;mySoapMessage&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-property&quot;&gt;innerHTML&lt;/span&gt; ;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// using JQuery&apos;s document ready for safety&lt;/span&gt;\n    $(&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;ready&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; text = $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#mySoapMessage&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;html&lt;/span&gt;(); \n\n    });\n\n&amp;lt;/script&amp;gt;\n\n&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;mySoapMessage&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;text/plain&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-xml&quot;&gt;\n\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;soapenv:Envelope&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;xmlns:soapenv&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;xmlns:typ&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;...&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n       &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;soapenv:Header&lt;/span&gt;/&amp;gt;&lt;/span&gt;\n       &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;soapenv:Body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n          &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;typ:getConvocadosElement&lt;/span&gt;&amp;gt;&lt;/span&gt;\n             ...\n          &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;typ:getConvocadosElement&lt;/span&gt;&amp;gt;&lt;/span&gt;\n       &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;soapenv:Body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;soapenv:Envelope&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- this comment will be present on your string --&amp;gt;&lt;/span&gt;\n    //uh-oh, javascript comments...  SOAP request will fail \n\n\n&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;I like this syntax and indendation:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;string = &lt;span class=&quot;hljs-string&quot;&gt;&apos;my long string...\\n&apos;&lt;/span&gt;\n       + &lt;span class=&quot;hljs-string&quot;&gt;&apos;continue here\\n&apos;&lt;/span&gt;\n       + &lt;span class=&quot;hljs-string&quot;&gt;&apos;and here.&apos;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;(but actually can&apos;t be considered as multiline string)&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;Downvoters&lt;/strong&gt;: This code is supplied for information only. &lt;/p&gt;\n\n&lt;p&gt;This has been tested in Fx 19 and Chrome 24 on Mac  &lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;http://jsfiddle.net/mplungjan/pMSc8/&quot; rel=&quot;nofollow noreferrer&quot;&gt;DEMO&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; new_comment; &lt;span class=&quot;hljs-comment&quot;&gt;/*&amp;lt;&amp;lt;&amp;lt;EOF \n    &amp;lt;li class=&quot;photobooth-comment&quot;&amp;gt;\n       &amp;lt;span class=&quot;username&quot;&amp;gt;\n          &amp;lt;a href=&quot;#&quot;&amp;gt;You&amp;lt;/a&amp;gt;:\n       &amp;lt;/span&amp;gt;\n       &amp;lt;span class=&quot;comment-text&quot;&amp;gt;\n          $text\n       &amp;lt;/span&amp;gt; \n       @&amp;lt;span class=&quot;comment-time&quot;&amp;gt;\n          2d\n       &amp;lt;/span&amp;gt; ago\n    &amp;lt;/li&amp;gt;\nEOF*/&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// note the script tag here is hardcoded as the FIRST tag &lt;/span&gt;\nnew_comment=&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;currentScript&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;innerHTML&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;split&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;EOF&quot;&lt;/span&gt;)[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]; \n&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;querySelector&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ul&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-property&quot;&gt;innerHTML&lt;/span&gt;=new_comment.&lt;span class=&quot;hljs-title function_&quot;&gt;replace&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;$text&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;This is a dynamically created text&apos;&lt;/span&gt;);&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif1&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;There&apos;s this library that makes it beautiful:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://github.com/sindresorhus/multiline&quot;&gt;https://github.com/sindresorhus/multiline&lt;/a&gt;&lt;/p&gt;\n\n&lt;h3&gt;Before&lt;/h3&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; str = &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt; +\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;!doctype html&amp;gt;&apos;&lt;/span&gt; +\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;html&amp;gt;&apos;&lt;/span&gt; +\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;   &amp;lt;body&amp;gt;&apos;&lt;/span&gt; +\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;       &amp;lt;h1&amp;gt; unicorns&amp;lt;/h1&amp;gt;&apos;&lt;/span&gt; +\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;   &amp;lt;/body&amp;gt;&apos;&lt;/span&gt; +\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;/html&amp;gt;&apos;&lt;/span&gt; +\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h3&gt;After&lt;/h3&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; str = &lt;span class=&quot;hljs-title function_&quot;&gt;multiline&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){&lt;span class=&quot;hljs-comment&quot;&gt;/*\n&amp;lt;!doctype html&amp;gt;\n&amp;lt;html&amp;gt;\n    &amp;lt;body&amp;gt;\n        &amp;lt;h1&amp;gt; unicorns&amp;lt;/h1&amp;gt;\n    &amp;lt;/body&amp;gt;\n&amp;lt;/html&amp;gt;\n*/&lt;/span&gt;});\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Found a lot of over engineered answers here.\nThe two best answers in my opinion were:&lt;/p&gt;\n&lt;p&gt;1:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; str = &lt;span class=&quot;hljs-string&quot;&gt;`Multiline string.\n            foo.\n            bar.`&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;which eventually logs:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Multiline&lt;/span&gt; string.\n           foo.\n           bar.  \n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;2:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; str = &lt;span class=&quot;hljs-string&quot;&gt;`Multiline string.\nfoo.\nbar.`&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;That logs it correctly but it&apos;s ugly in the script file if str is nested inside functions / objects etc...:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Multiline&lt;/span&gt; string.\nfoo.\nbar.\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;My really simple answer with regex which logs the str correctly:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; str = &lt;span class=&quot;hljs-string&quot;&gt;`Multiline string.\n           foo.\n           bar.`&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;replace&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/\\n +/g&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\n&apos;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Please note that it is not the perfect solution but it works if you are sure that after the new line (\\n) at least one space will come (+ means at least one occurrence). It also will work with * (zero or more).&lt;/p&gt;\n&lt;p&gt;You can be more explicit and use {n,} which means at least n occurrences.&lt;/p&gt;\n    ","\n&lt;p&gt;The equivalent in javascript is:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; text = &lt;span class=&quot;hljs-string&quot;&gt;`\nThis\nIs\nA\nMultiline\nString\n`&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here&apos;s the &lt;a href=&quot;http://www.ecma-international.org/ecma-262/6.0/#sec-template-literal-lexical-components&quot;&gt;specification&lt;/a&gt;. See browser support at the bottom of this &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/template_strings&quot;&gt;page&lt;/a&gt;. Here are some &lt;a href=&quot;https://developers.google.com/web/updates/2015/01/ES6-Template-Strings?hl=en#multiline-strings&quot;&gt;examples&lt;/a&gt; too.&lt;/p&gt;\n    ","\n&lt;p&gt;This works in IE, Safari, Chrome and Firefox:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;script type=&lt;span class=&quot;hljs-string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; src=&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js&quot;&lt;/span&gt;&amp;gt;&amp;lt;/script&amp;gt;\n&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;crazy_idea&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;thorn_in_my_side&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;table  border=&quot;0&quot;&amp;gt;\n                        &amp;lt;tr&amp;gt;\n                            &amp;lt;td &amp;gt;&amp;lt;span class=&quot;mlayouttablecellsdynamic&quot;&amp;gt;PACKAGE price $65.00&amp;lt;/span&amp;gt;&amp;lt;/td&amp;gt;\n                        &amp;lt;/tr&amp;gt;\n                    &amp;lt;/table&amp;gt;&apos;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;\n    &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;($(&lt;span class=&quot;hljs-string&quot;&gt;&quot;.crazy_idea&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;attr&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;thorn_in_my_side&quot;&lt;/span&gt;));\n&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;to sum up, I have tried 2 approaches listed here in user javascript programming (Opera 11.01):&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;this one didn&apos;t work: &lt;a href=&quot;https://stackoverflow.com/questions/805107/multiline-strings-in-javascript/805111#805111&quot;&gt;Creating multiline strings in JavaScript&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;this worked fairly well, I have also figured out how to make it look good in Notepad++ source view: &lt;a href=&quot;https://stackoverflow.com/questions/805107/multiline-strings-in-javascript/5571069#5571069&quot;&gt;Creating multiline strings in JavaScript&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;So I recommend the working approach for Opera user JS users. Unlike what the author was saying: &lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;It doesn&apos;t work on firefox or opera; only on IE, chrome and safari. &lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;It DOES work in Opera 11. At least in user JS scripts. Too bad I can&apos;t comment on individual answers or upvote the answer, I&apos;d do it immediately. If possible, someone with higher privileges please do it for me.&lt;/p&gt;\n    ","\n&lt;p&gt;My extension to &lt;a href=&quot;https://stackoverflow.com/a/15558082/80404&quot;&gt;https://stackoverflow.com/a/15558082/80404&lt;/a&gt;.\nIt expects comment in a form &lt;code&gt;/*! any multiline comment */&lt;/code&gt; where symbol ! is used to prevent removing by minification (at least for YUI compressor)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Function&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;extractComment&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; startComment = &lt;span class=&quot;hljs-string&quot;&gt;&quot;/*!&quot;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; endComment = &lt;span class=&quot;hljs-string&quot;&gt;&quot;*/&quot;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; str = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;();\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; start = str.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(startComment);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; end = str.&lt;span class=&quot;hljs-title function_&quot;&gt;lastIndexOf&lt;/span&gt;(endComment);\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; str.&lt;span class=&quot;hljs-title function_&quot;&gt;slice&lt;/span&gt;(start + startComment.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;, -(str.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt; - end));\n};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; tmpl = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) { &lt;span class=&quot;hljs-comment&quot;&gt;/*!\n &amp;lt;div class=&quot;navbar-collapse collapse&quot;&amp;gt;\n    &amp;lt;ul class=&quot;nav navbar-nav&quot;&amp;gt;\n    &amp;lt;/ul&amp;gt;\n &amp;lt;/div&amp;gt;\n*/&lt;/span&gt;}.&lt;span class=&quot;hljs-title function_&quot;&gt;extractComment&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;Updated for 2015&lt;/strong&gt;: it&apos;s six years later now:  most people use a module loader, and the main module systems each have ways of loading templates. It&apos;s not inline, but the most common type of multiline string are templates, and &lt;strong&gt;templates should generally be kept out of JS anyway&lt;/strong&gt;.&lt;/p&gt;\n\n&lt;h2&gt;require.js: &apos;require text&apos;.&lt;/h2&gt;\n\n&lt;p&gt;Using &lt;a href=&quot;https://github.com/requirejs/text&quot; rel=&quot;noreferrer&quot;&gt;require.js &apos;text&apos; plugin&lt;/a&gt;, with a multiline template in &lt;strong&gt;template.html&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; template = &lt;span class=&quot;hljs-built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;text!template.html&apos;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;NPM/browserify: the &apos;brfs&apos; module&lt;/h2&gt;\n\n&lt;p&gt;Browserify &lt;a href=&quot;https://www.npmjs.com/package/brfs&quot; rel=&quot;noreferrer&quot;&gt;uses a &apos;brfs&apos; module&lt;/a&gt; to load text files. This will actually build your template into your bundled HTML.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; fs = &lt;span class=&quot;hljs-built_in&quot;&gt;require&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;fs&quot;&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; template = fs.&lt;span class=&quot;hljs-title function_&quot;&gt;readFileSync&lt;/span&gt;(template.&lt;span class=&quot;hljs-property&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;, &apos;&lt;/span&gt;utf8&lt;span class=&quot;hljs-string&quot;&gt;&apos;);\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Easy. &lt;/p&gt;\n    ","\n&lt;p&gt;If you&apos;re willing to use the escaped newlines, they can be used &lt;em&gt;nicely&lt;/em&gt;.  &lt;strong&gt;It looks like a document with a page border&lt;/strong&gt;.&lt;/p&gt;\n\n&lt;p&gt;&lt;img src=&quot;https://i.stack.imgur.com/e51kg.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/p&gt;\n    ","\n&lt;h1&gt;Exact&lt;/h1&gt;\n&lt;p&gt;Ruby &lt;a href=&quot;https://onlinegdb.com/SkmXI6R38&quot; rel=&quot;noreferrer&quot;&gt;produce&lt;/a&gt;: &lt;code&gt;&quot;This\\nIs\\nA\\nMultiline\\nString\\n&quot;&lt;/code&gt; - below JS produce exact same string&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;text = &lt;span class=&quot;hljs-string&quot;&gt;`This\nIs\nA\nMultiline\nString\n`&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// TEST&lt;/span&gt;\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;JSON&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;stringify&lt;/span&gt;(text));\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(text);&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif2&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;p&gt;This is improvement to &lt;a href=&quot;https://stackoverflow.com/a/33523770/860099&quot;&gt;Lonnie Best answer&lt;/a&gt; because new-line characters in his answer are not exactly the same positions as in ruby output&lt;/p&gt;\n    ","\n&lt;p&gt;The ES6 way of doing it would be by using template literals:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; str = &lt;span class=&quot;hljs-string&quot;&gt;`This \n\nis \n\na\n\nmultiline text`&lt;/span&gt;; \n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(str);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;More reference &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals&quot; rel=&quot;noreferrer&quot;&gt;here&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;A simple way to print multiline strings in JavaScript is by using template literals(template strings) denoted by backticks (` `). you can also use variables inside a template string-like (` &lt;code&gt;name is ${value}&lt;/code&gt; `)&lt;/p&gt;\n&lt;p&gt;You can also&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; value = &lt;span class=&quot;hljs-string&quot;&gt;`multiline`&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; text = &lt;span class=&quot;hljs-string&quot;&gt;`This is a\n&lt;span class=&quot;hljs-subst&quot;&gt;${value}&lt;/span&gt;\nstring in js`&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(text);&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif3&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;You can use &lt;a href=&quot;http://www.typescriptlang.org/Playground&quot; rel=&quot;noreferrer&quot;&gt;TypeScript&lt;/a&gt; (JavaScript SuperSet), it supports multiline strings, and transpiles back down to pure JavaScript without overhead:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; templates = {\n    &lt;span class=&quot;hljs-attr&quot;&gt;myString&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;`this is\na multiline\nstring`&lt;/span&gt; \n}\n\n&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(templates.&lt;span class=&quot;hljs-property&quot;&gt;myString&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If you&apos;d want to accomplish the same with plain JavaScript:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; templates = \n{\n &lt;span class=&quot;hljs-attr&quot;&gt;myString&lt;/span&gt;: &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){&lt;span class=&quot;hljs-comment&quot;&gt;/*\n    This is some\n    awesome multi-lined\n    string using a comment \n    inside a function \n    returned as a string.\n    Enjoy the jimmy rigged code.\n*/&lt;/span&gt;}.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;slice&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;14&lt;/span&gt;,-&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;)\n\n}\n&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(templates.&lt;span class=&quot;hljs-property&quot;&gt;myString&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Note that the iPad/Safari does not support &lt;code&gt;&apos;functionName.toString()&apos;&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;If you have a lot of legacy code, you can also use the plain JavaScript variant in TypeScript (for cleanup purposes):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;interface externTemplates\n{\n    &lt;span class=&quot;hljs-attr&quot;&gt;myString&lt;/span&gt;:string;\n}\n\ndeclare &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;templates&lt;/span&gt;:externTemplates;\n\n&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(templates.&lt;span class=&quot;hljs-property&quot;&gt;myString&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and you can use the multiline-string object from the plain JavaScript variant, where you put the templates into another file (which you can merge in the bundle).&lt;/p&gt;\n\n&lt;p&gt;You can try TypeScript at&lt;br&gt;\n&lt;a href=&quot;http://www.typescriptlang.org/Playground&quot; rel=&quot;noreferrer&quot;&gt;http://www.typescriptlang.org/Playground&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Easiest way to make multiline strings in Javascrips is with the use of backticks ( `` ). This allows you to create multiline strings in which you can insert variables with &lt;code&gt;${variableName}&lt;/code&gt;.&lt;/p&gt;\n\n&lt;h2&gt;Example:&lt;/h2&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; name = &lt;span class=&quot;hljs-string&quot;&gt;&apos;Willem&apos;&lt;/span&gt;; \n&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; age = &lt;span class=&quot;hljs-number&quot;&gt;26&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; multilineString = &lt;span class=&quot;hljs-string&quot;&gt;`\nmy name is: &lt;span class=&quot;hljs-subst&quot;&gt;${name}&lt;/span&gt;\n\nmy age is: &lt;span class=&quot;hljs-subst&quot;&gt;${age}&lt;/span&gt;\n`&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(multilineString);&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif4&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;h2&gt;compatibility :&lt;/h2&gt;\n\n&lt;ul&gt;\n&lt;li&gt;It was introduces in &lt;code&gt;ES6&lt;/code&gt;//&lt;code&gt;es2015&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;It is now natively supported by all major browser vendors (except internet explorer)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/nl/docs/Web/JavaScript/Reference/Template_literals&quot; rel=&quot;nofollow noreferrer&quot;&gt;Check exact compatibility in Mozilla docs here&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;ES6 allows you to use a backtick to specify a string on multiple lines.  It&apos;s called a Template Literal.  Like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; multilineString = &lt;span class=&quot;hljs-string&quot;&gt;`One line of text\n    second line of text\n    third line of text\n    fourth line of text`&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Using the backtick works in NodeJS, and it&apos;s supported by Chrome, Firefox, Edge, Safari, and Opera.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals&quot; rel=&quot;noreferrer&quot;&gt;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Also do note that, when extending string over multiple lines using forward backslash at end of each line, any extra characters (mostly spaces, tabs and comments added by mistake) after forward backslash will cause unexpected character error, which i took an hour to find out&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; string = &lt;span class=&quot;hljs-string&quot;&gt;&quot;line1\\  // comment, space or tabs here raise error\nline2&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Please for the love of the internet use string concatenation and opt not to use ES6 solutions for this. ES6 is NOT supported all across the board, much like CSS3 and certain browsers being slow to adapt to the CSS3 movement. Use plain ol&apos; JavaScript, your end users will thank you.&lt;/p&gt;\n\n&lt;p&gt;Example:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;var str = &quot;This world is neither flat nor round. &quot;+\n           &quot;Once was lost will be found&quot;;&lt;/code&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;You can use tagged templates to make sure you get the desired output.&lt;/p&gt;\n&lt;p&gt;For example:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// Merging multiple whitespaces and trimming the output&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;t&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;strings&lt;/span&gt;) =&amp;gt; { &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; strings.&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;s&lt;/span&gt;) =&amp;gt;&lt;/span&gt; s.&lt;span class=&quot;hljs-title function_&quot;&gt;replace&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/\\s+/g&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos; &apos;&lt;/span&gt;)).&lt;span class=&quot;hljs-title function_&quot;&gt;join&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;trim&lt;/span&gt;() }\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(t&lt;span class=&quot;hljs-string&quot;&gt;`\n  This\n  Is\n  A\n  Multiline\n  String\n`&lt;/span&gt;);\n&lt;span class=&quot;hljs-comment&quot;&gt;// Output: &apos;This Is A Multiline String&apos;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Similar but keeping whitespaces:&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;tW&lt;/span&gt; = (&lt;span class=&quot;hljs-params&quot;&gt;strings&lt;/span&gt;) =&amp;gt; { &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; strings.&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;s&lt;/span&gt;) =&amp;gt;&lt;/span&gt; s.&lt;span class=&quot;hljs-title function_&quot;&gt;replace&lt;/span&gt;(&lt;span class=&quot;hljs-regexp&quot;&gt;/\\s+/g&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\n&apos;&lt;/span&gt;)).&lt;span class=&quot;hljs-title function_&quot;&gt;join&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;trim&lt;/span&gt;() }\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(tW&lt;span class=&quot;hljs-string&quot;&gt;`\n  This\n  Is\n  A\n  Multiline\n  String\n`&lt;/span&gt;);\n&lt;span class=&quot;hljs-comment&quot;&gt;// Output: &apos;This\\nIs\\nA\\nMultiline\\nString&apos;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;My version of array-based join for string concat:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; c = []; &lt;span class=&quot;hljs-comment&quot;&gt;//c stands for content&lt;/span&gt;\nc.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&amp;lt;div id=&apos;thisDiv&apos; style=&apos;left:10px&apos;&amp;gt;&amp;lt;/div&amp;gt;&quot;&lt;/span&gt;);\nc.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&amp;lt;div onclick=&apos;showDo(\\&apos;something\\&apos;);&apos;&amp;gt;&amp;lt;/div&amp;gt;&quot;&lt;/span&gt;);\n$(body).&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(c.&lt;span class=&quot;hljs-title function_&quot;&gt;join&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\n&apos;&lt;/span&gt;));\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This has worked well for me, especially as I often insert values into the html constructed this way. But it has lots of limitations. Indentation would be nice. Not having to deal with nested quotation marks would be really nice, and just the bulkyness of it bothers me.&lt;/p&gt;\n\n&lt;p&gt;Is the .push() to add to the array taking up a lot of time? See this related answer:&lt;/p&gt;\n\n&lt;p&gt;(&lt;a href=&quot;https://stackoverflow.com/questions/15649899/is-there-a-reason-javascript-developers-dont-use-array-push&quot;&gt;Is there a reason JavaScript developers don&apos;t use Array.push()?&lt;/a&gt;) &lt;/p&gt;\n\n&lt;p&gt;After looking at these (opposing) test runs, it looks like .push() is fine for string arrays which will not likely grow over 100 items - I will avoid it in favor of indexed adds for larger arrays.&lt;/p&gt;\n    "],"455":["\n&lt;p&gt;This is one of the most well-known examples of authors misunderstanding how &lt;code&gt;:first-child&lt;/code&gt; works. &lt;a href=&quot;https://www.w3.org/TR/CSS21/selector.html#first-child&quot; rel=&quot;noreferrer&quot;&gt;Introduced in CSS2&lt;/a&gt;, the &lt;code&gt;:first-child&lt;/code&gt; pseudo-class represents &lt;strong&gt;the very first child of its parent&lt;/strong&gt;. That&apos;s it. There&apos;s a very common misconception that it picks up whichever child element is the first to match the conditions specified by the rest of the compound selector. Due to the way selectors work (see &lt;a href=&quot;https://stackoverflow.com/questions/5545649/can-i-combine-nth-child-or-nth-of-type-with-an-arbitrary-selector/5546296#5546296&quot;&gt;here&lt;/a&gt; for an explanation), that is simply not true.&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://www.w3.org/TR/css3-selectors/#first-of-type-pseudo&quot; rel=&quot;noreferrer&quot;&gt;Selectors level 3 introduces a &lt;code&gt;:first-of-type&lt;/code&gt; pseudo-class&lt;/a&gt;, which represents the first element among siblings of its element type. &lt;a href=&quot;https://stackoverflow.com/questions/24657555/what-is-the-difference-between-first-child-and-first-of-type/24657721#24657721&quot;&gt;This answer&lt;/a&gt; explains, with illustrations, the difference between &lt;code&gt;:first-child&lt;/code&gt; and &lt;code&gt;:first-of-type&lt;/code&gt;. However, as with &lt;code&gt;:first-child&lt;/code&gt;, it does not look at any other conditions or attributes. In HTML, the element type is represented by the tag name. In the question, that type is &lt;code&gt;p&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;Unfortunately, there is no similar &lt;code&gt;:first-of-class&lt;/code&gt; pseudo-class for matching the first child element of a given class. At the time this answer was first posted, &lt;a href=&quot;https://www.w3.org/TR/2011/WD-selectors4-20110929/#nth-match&quot; rel=&quot;noreferrer&quot;&gt;the newly published FPWD of Selectors level 4 introduced an &lt;code&gt;:nth-match()&lt;/code&gt; pseudo-class&lt;/a&gt;, designed around existing selector mechanics as I mentioned in the first paragraph by adding a selector-list argument, through which you can supply the rest of the compound selector to get the desired filtering behavior. In recent years this functionality was &lt;a href=&quot;https://www.w3.org/TR/selectors-4/#the-nth-child-pseudo&quot; rel=&quot;noreferrer&quot;&gt;subsumed into &lt;code&gt;:nth-child()&lt;/code&gt; itself&lt;/a&gt;, with the selector list appearing as an optional second argument, to simplify things as well as averting the false impression that &lt;code&gt;:nth-match()&lt;/code&gt; matched across the entire document (see the final note below).&lt;/p&gt;\n&lt;p&gt;While we await &lt;a href=&quot;https://caniuse.com/css-nth-child-of&quot; rel=&quot;noreferrer&quot;&gt;cross-browser support&lt;/a&gt; (seriously, it&apos;s been nearly 10 years, and there has only been a single implementation for the last 5 of those years), one workaround that &lt;a href=&quot;https://stackoverflow.com/questions/5287272/css-select-first-element-with-a-certain-class/5293095#5293095&quot;&gt;Lea Verou&lt;/a&gt; and I developed independently (she did it first!) is to first apply your desired styles to &lt;em&gt;all&lt;/em&gt; your elements with that class:&lt;/p&gt;\n&lt;pre class=&quot;lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;/* \n * Select all .red children of .home, including the first one,\n * and give them a border.\n */&lt;/span&gt;\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.home&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid red;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;... then &quot;undo&quot; the styles for elements with the class that &lt;em&gt;come after the first one&lt;/em&gt;, using &lt;a href=&quot;https://www.w3.org/TR/selectors/#general-sibling-combinators&quot; rel=&quot;noreferrer&quot;&gt;the general sibling combinator &lt;code&gt;~&lt;/code&gt;&lt;/a&gt; in an overriding rule:&lt;/p&gt;\n&lt;pre class=&quot;lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;/* \n * Select all but the first .red child of .home,\n * and remove the border from the previous rule.\n */&lt;/span&gt;\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.home&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt; ~ &lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: none;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Now only the first element with &lt;code&gt;class=&quot;red&quot;&lt;/code&gt; will have a border.&lt;/p&gt;\n&lt;p&gt;Here&apos;s an illustration of how the rules are applied:&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;false&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.home&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid red;\n}\n\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.home&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt; ~ &lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: none;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;home&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;blah&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;         &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- [1] --&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;first&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- [2] --&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;second&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- [3] --&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;third&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- [3] --&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;fourth&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- [3] --&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif2&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;No rules are applied; no border is rendered.&lt;/strong&gt;&lt;br&gt;\nThis element does not have the class &lt;code&gt;red&lt;/code&gt;, so it&apos;s skipped.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;Only the first rule is applied; a red border is rendered.&lt;/strong&gt;&lt;br&gt;\nThis element has the class &lt;code&gt;red&lt;/code&gt;, but it&apos;s not preceded by any elements with the class &lt;code&gt;red&lt;/code&gt; in its parent. Thus the second rule is not applied, only the first, and the element keeps its border.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;Both rules are applied; no border is rendered.&lt;/strong&gt;&lt;br&gt;\nThis element has the class &lt;code&gt;red&lt;/code&gt;. It is also preceded by at least one other element with the class &lt;code&gt;red&lt;/code&gt;. Thus both rules are applied, and the second &lt;code&gt;border&lt;/code&gt; declaration overrides the first, thereby &quot;undoing&quot; it, so to speak.&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;As a bonus, although it was introduced in Selectors 3, the general sibling combinator is actually pretty well-supported by IE7 and newer, unlike &lt;code&gt;:first-of-type&lt;/code&gt; and &lt;code&gt;:nth-of-type()&lt;/code&gt; which are only supported by IE9 onward. If you need good browser support, you&apos;re in luck.&lt;/p&gt;\n&lt;p&gt;In fact, the fact that the sibling combinator is the only important component in this technique, &lt;em&gt;and&lt;/em&gt; it has such amazing browser support, makes this technique very versatile  you can adapt it for filtering elements by other things, besides class selectors:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;You can use this to work around &lt;code&gt;:first-of-type&lt;/code&gt; in IE7 and IE8, by simply supplying a type selector instead of a class selector (again, more on its incorrect usage in the question in a later section):&lt;/p&gt;\n &lt;pre class=&quot;lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;article&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;p&lt;/span&gt; {\n     &lt;span class=&quot;hljs-comment&quot;&gt;/* Apply styles to article &amp;gt; p:first-of-type, which may or may not be :first-child */&lt;/span&gt;\n }\n\n &lt;span class=&quot;hljs-selector-tag&quot;&gt;article&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;p&lt;/span&gt; ~ &lt;span class=&quot;hljs-selector-tag&quot;&gt;p&lt;/span&gt; {\n     &lt;span class=&quot;hljs-comment&quot;&gt;/* Undo the above styles for every subsequent article &amp;gt; p */&lt;/span&gt;\n }\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;You can filter by &lt;a href=&quot;https://stackoverflow.com/questions/7128406/css-select-the-first-child-from-elements-with-particular-attribute/7128429#7128429&quot;&gt;attribute selectors&lt;/a&gt; or any other simple selectors instead of classes.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;You can also combine this overriding technique with &lt;a href=&quot;https://stackoverflow.com/questions/8535686/first-child-not-working/8535800#8535800&quot;&gt;pseudo-elements&lt;/a&gt; even though pseudo-elements technically aren&apos;t simple selectors.&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;Note that in order for this to work, you will need to know in advance what the default styles will be for your other sibling elements so you can override the first rule. Additionally, since this involves overriding rules in CSS, you can&apos;t achieve the same thing with a single selector for use with the &lt;a href=&quot;https://www.w3.org/TR/selectors-api&quot; rel=&quot;noreferrer&quot;&gt;Selectors API&lt;/a&gt;, or &lt;a href=&quot;https://www.selenium.dev&quot; rel=&quot;noreferrer&quot;&gt;Selenium&lt;/a&gt;&apos;s CSS locators.&lt;/p&gt;\n&lt;p&gt;On a final note, keep in mind that this answer assumes that the question is looking for &lt;em&gt;any number of&lt;/em&gt; first child elements having a given class. There is neither a pseudo-class nor even a generic CSS solution for the nth match of a complex selector &lt;em&gt;across the entire document&lt;/em&gt;  whether a solution exists depends heavily on the document structure. jQuery provides &lt;code&gt;:eq()&lt;/code&gt;, &lt;code&gt;:first&lt;/code&gt;, &lt;code&gt;:last&lt;/code&gt; and more for this purpose, but note again that &lt;a href=&quot;https://stackoverflow.com/questions/9983297/difference-between-css-selector-and-jquery-filter/10835694#10835694&quot;&gt;they function very differently from &lt;code&gt;:nth-child()&lt;/code&gt; et al&lt;/a&gt;. Using the Selectors API, you can either use &lt;code&gt;document.querySelector()&lt;/code&gt; to obtain the very first match:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; first = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;querySelector&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.home &amp;gt; .red&apos;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Or use &lt;code&gt;document.querySelectorAll()&lt;/code&gt; with an indexer to pick any specific match:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; redElements = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;querySelectorAll&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.home &amp;gt; .red&apos;&lt;/span&gt;);\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; first = redElements[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;];\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; second = redElements[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;];\n&lt;span class=&quot;hljs-comment&quot;&gt;// etc&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;p&gt;Although the &lt;code&gt;.red:nth-of-type(1)&lt;/code&gt; solution in the original accepted answer by &lt;a href=&quot;https://stackoverflow.com/questions/2717480/css-selector-for-first-element-with-class/2717515#2717515&quot;&gt;Philip Daubmeier&lt;/a&gt; works (which was originally written by &lt;a href=&quot;https://stackoverflow.com/users/264276/martyn&quot;&gt;Martyn&lt;/a&gt; but deleted since), it does not behave the way you&apos;d expect it to.&lt;/p&gt;\n&lt;p&gt;For example, if you only wanted to select the &lt;code&gt;p&lt;/code&gt; here:&lt;/p&gt;\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;... then you can&apos;t use &lt;code&gt;.red:first-of-type&lt;/code&gt; (equivalent to &lt;code&gt;.red:nth-of-type(1)&lt;/code&gt;), because each element is the first (and only) one of its type (&lt;code&gt;p&lt;/code&gt; and &lt;code&gt;div&lt;/code&gt; respectively), so &lt;em&gt;both&lt;/em&gt; will be matched by the selector.&lt;/p&gt;\n&lt;p&gt;When the first element of a certain class &lt;em&gt;is also the first of its type&lt;/em&gt;, the pseudo-class will work, but &lt;strong&gt;this happens only by coincidence&lt;/strong&gt;. This behavior is demonstrated in Philip&apos;s answer. The moment you stick in an element of the same type before this element, the selector will fail. Taking the markup from the question:&lt;/p&gt;\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;home&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;blah&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;first&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;second&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;third&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;fourth&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Applying a rule with &lt;code&gt;.red:first-of-type&lt;/code&gt; will work, but once you add another &lt;code&gt;p&lt;/code&gt; without the class:&lt;/p&gt;\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;home&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;blah&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;dummy&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;first&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;second&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;third&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;fourth&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;... the selector will immediately fail, because the first &lt;code&gt;.red&lt;/code&gt; element is now the &lt;em&gt;second&lt;/em&gt; &lt;code&gt;p&lt;/code&gt; element.&lt;/p&gt;\n    ","\n&lt;p&gt;The &lt;code&gt;:first-child&lt;/code&gt; selector is intended, like the name says, to select the first child of a parent tag. So this example will work (Just tried it &lt;a href=&quot;http://www.w3schools.com/css/tryit.asp?filename=trycss_first-child1&quot; rel=&quot;noreferrer&quot;&gt;here&lt;/a&gt;):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;first&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;second&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This won&apos;t work, though, if you&apos;ve nested your tags under different parent tags, or if your tags of class &lt;code&gt;red&lt;/code&gt; aren&apos;t the first tags under the parent.&lt;/p&gt;\n&lt;p&gt;Notice also that this doesn&apos;t only apply to the first such tag in the whole document, but every time a new parent is wrapped around it, like:&lt;/p&gt;\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;first&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;second&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;third&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;fourth&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;code&gt;first&lt;/code&gt; and &lt;code&gt;third&lt;/code&gt; will be red then.&lt;/p&gt;\n&lt;p&gt;For your case, you can use the &lt;code&gt;:nth-of-type&lt;/code&gt; selector:&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:nth-of-type&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n{\n    &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt; solid red;\n} &lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;home&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;blah&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;first&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;second&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;third&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;fourth&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif3&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;p&gt;Credits to &lt;a href=&quot;https://stackoverflow.com/users/264276/martyn&quot;&gt;Martyn&lt;/a&gt;, who deleted his answer containing this approach. More infos for example &lt;a href=&quot;http://www.quirksmode.org/css/nthchild.html&quot; rel=&quot;noreferrer&quot;&gt;here&lt;/a&gt;. Be aware that this is a CSS 3 selector, therefore not all browsers will recognize it (e.g. IE8 or older).&lt;/p&gt;\n    ","\n&lt;p&gt;The correct answer is:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:first&lt;/span&gt;-child, &lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:not&lt;/span&gt;(.red) + &lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt; { &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt; solid red }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Part I: If element is first to its parent and has class &quot;red&quot;, it shall get border.&lt;br&gt;\nPart II: If &quot;.red&quot; element is not first to its parent, but is immediately following an element without class &quot;.red&quot;, it shall also deserve the honor of said border.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;http://jsfiddle.net/Vq8PB/7/&quot; rel=&quot;noreferrer&quot;&gt;Fiddle or it didn&apos;t happen.&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Philip Daubmeier&apos;s answer, while accepted, is not correct - see attached fiddle.&lt;br&gt;\nBoltClock&apos;s answer would work, but unnecessarily defines and overwrites styles&lt;br&gt;\n(particularly an issue where it otherwise would inherit a different border - you don&apos;t want to declare other to border:none)&lt;/p&gt;\n\n&lt;p&gt;EDIT:\nIn the event that you have &quot;red&quot; following non-red several times, each &quot;first&quot; red will get the border. To prevent that, one would need to use BoltClock&apos;s answer. See &lt;a href=&quot;http://jsfiddle.net/Vq8PB/8/&quot; rel=&quot;noreferrer&quot;&gt;fiddle&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;you could use &lt;code&gt;first-of-type&lt;/code&gt; or &lt;code&gt;nth-of-type(1)&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;: green;  \n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/* .red:nth-of-type(1) */&lt;/span&gt;\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:first&lt;/span&gt;-of-type {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;: red;  \n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;home&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;blah&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;first&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;second&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;third&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;fourth&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif4&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;The above answers are too complex.&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-haskell&quot;&gt;.&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt;:first-&lt;span class=&quot;hljs-keyword&quot;&gt;of&lt;/span&gt;-&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;type&lt;/span&gt; { }&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This will select the first-type of class. &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/:first-of-type&quot; rel=&quot;noreferrer&quot;&gt;MDN Source&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;Note: Tested with Chrome 91 and Firefox 89, June 2021.&lt;/p&gt;\n    ","\n&lt;p&gt;I am surprised no one mentioned the cleanest solution:&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:not&lt;/span&gt;(&lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt; ~ &lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid red;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;home&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;blah&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;first&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;second&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;third&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;fourth&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif5&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Since the other answers cover what&apos;s &lt;em&gt;wrong&lt;/em&gt; with it, I&apos;ll try the other half, how to fix it.  Unfortunately, I don&apos;t know that you have a &lt;strong&gt;CSS only&lt;/strong&gt; solution here, at least &lt;em&gt;not that I can think of&lt;/em&gt;.  There are some other options though....&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;Assign a &lt;code&gt;first&lt;/code&gt; class to the element when you generate it, like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red first&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;CSS:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.first&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt; {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt; solid red;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This CSS only matches elements with &lt;strong&gt;both&lt;/strong&gt; &lt;code&gt;first&lt;/code&gt; and &lt;code&gt;red&lt;/code&gt; classes.  &lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Alternatively, do the same in JavaScript, for example here&apos;s what jQuery you would use to do this, using the same CSS as above:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$(&lt;span class=&quot;hljs-string&quot;&gt;&quot;.red:first&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;addClass&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;first&quot;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;\n&lt;/ol&gt;\n    ","\n&lt;p&gt;To match your selector, the element must have a class name of &lt;code&gt;red&lt;/code&gt; and must be the first child of its parent.&lt;/p&gt;\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- MATCH --&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;Blah&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- NO MATCH --&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;Blah&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- MATCH --&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I got this one in my project.&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.b&lt;/span&gt; ~ &lt;span class=&quot;hljs-selector-class&quot;&gt;.b&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:not&lt;/span&gt;(&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:first&lt;/span&gt;-child) {\n\t&lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;: none;\n}\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;div&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.b&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;background&lt;/span&gt;: red;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;a&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;The first paragraph.&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;a&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;The second paragraph.&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;b&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;The third paragraph.&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;b&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;The fourth paragraph.&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif6&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;According to your updated problem&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;home&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;blah&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;first&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;second&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;third&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;fourth&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;how about  &lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.home&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;span&lt;/span&gt; + &lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt;{\n      &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid red;\n    }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This will select &lt;strong&gt;class home&lt;/strong&gt;, then the element &lt;strong&gt;span&lt;/strong&gt; and finally all &lt;strong&gt;.red elements&lt;/strong&gt; that are placed immediately after span elements.  &lt;/p&gt;\n\n&lt;p&gt;Reference: &lt;a href=&quot;http://www.w3schools.com/cssref/css_selectors.asp&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://www.w3schools.com/cssref/css_selectors.asp&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I am using below CSS to have a background image for the list ul li&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#footer&lt;/span&gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.module&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:nth-of-type&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)&amp;gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.menu&lt;/span&gt;&amp;gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;li&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:nth-of-type&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;){\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-position&lt;/span&gt;: center;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-image&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;http://monagentvoyagessuperprix.j3.voyagesendirect.com/images/stories/images_monagentvoyagessuperprix/layout/icon-home.png&lt;/span&gt;);\n  &lt;span class=&quot;hljs-attribute&quot;&gt;background-repeat&lt;/span&gt;: no-repeat;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;footer&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;footer&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;module&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu &quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;level1 item308 active current&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt; \n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;module&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu &quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt; \n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;module&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;menu &quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;footer&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif7&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;For some reason none of the above answers seemed to be addressing the case of &lt;strong&gt;the real first&lt;/strong&gt; and &lt;strong&gt;only first child&lt;/strong&gt; of the parent.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-id&quot;&gt;#element_id&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.class_name&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:first&lt;/span&gt;-child\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;All the above answers will fail if you want to apply the style to only the first class child within this code.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;aside&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;element_id&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  Content\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;class_name&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;First content that need to be styled&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;class_name&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    Second content that don&apos;t need to be styled\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;class_name&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;deep content - no style&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;class_name&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;deep content - no style&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n          &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;class_name&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;deep content - no style&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n      &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;aside&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You can change your code to something like this to get it work&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;home&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;blah&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;first&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;second&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;third&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;fourth&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This does the job for you&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.home&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;span&lt;/span&gt; + &lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt;{\n      &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;3px&lt;/span&gt; solid green;\n    }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here is a CSS reference from &lt;a href=&quot;http://www.snoopcode.com/css/css-selectors-reference&quot; rel=&quot;nofollow&quot;&gt;SnoopCode&lt;/a&gt; about that.&lt;/p&gt;\n    ","\n&lt;p&gt;You could use nth-of-type(1) but be sure that site doesn&apos;t need to support IE7 etc, if this is the case use jQuery to add body class then find element via IE7 body class then the element name, then add in the nth-child styling to it.&lt;/p&gt;\n    ","\n&lt;p&gt;All in All, after reading this all page and other ones and a lot of documentation. Here&apos;s the summary:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;For &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/:first-child&quot; rel=&quot;nofollow noreferrer&quot;&gt;first&lt;/a&gt;/&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/:last-child&quot; rel=&quot;nofollow noreferrer&quot;&gt;last&lt;/a&gt; child: Safe to use now (Supported by all modern browsers)&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/:nth-child&quot; rel=&quot;nofollow noreferrer&quot;&gt;:nth-child()&lt;/a&gt; Also safe to use now (Supported by all modern browsers). &lt;strong&gt;But be careful it even counts siblings!&lt;/strong&gt; So, the following won&apos;t work properly:&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;/* This should select the first 2 element with class display_class\n* but it will NOT WORK Because the nth-child count even siblings \n* including the first div skip_class\n*/&lt;/span&gt;\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.display_class&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:nth-child&lt;/span&gt;(-n+&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;){ \n    &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;:green; \n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;\n   &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;skip_class&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;test 1&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n   &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;display_class&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;test 2 should be in green&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n   &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;display_class&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;test 3 should be in green&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n   &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;display_class&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;test 4&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif8&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n&lt;p&gt;Currently, there is a &lt;a href=&quot;https://caniuse.com/css-nth-child-of&quot; rel=&quot;nofollow noreferrer&quot;&gt;selector :nth-child(-n+2 of .foo)&lt;/a&gt; that supports selection by class but not supported by modern browsers so not useful.&lt;/p&gt;\n&lt;p&gt;So, that leaves us with Javascript solution (we&apos;ll fix the example above):&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// Here we&apos;ll go through the elements with the targeted class&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// and add our classmodifer to only the first 2 elements!&lt;/span&gt;\n\n\n[...&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;querySelectorAll&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.display_class&apos;&lt;/span&gt;)].&lt;span class=&quot;hljs-title function_&quot;&gt;forEach&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;element,index&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (index &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;) element.&lt;span class=&quot;hljs-property&quot;&gt;classList&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;add&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;display_class--green&apos;&lt;/span&gt;);\n});&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.display_class--green&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;background-color&lt;/span&gt;:green;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;\n   &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;skip_class&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;test 1&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n   &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;display_class&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;test 2 should be in green&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n   &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;display_class&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;test 3 should be in green&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n   &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;display_class&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;test 4&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;\n &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif9&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;Try This Simple and Effective&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.home&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;span&lt;/span&gt; + &lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt;{\n      &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid red;\n    }\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I believe that using relative selector &lt;code&gt;+&lt;/code&gt; for selecting elements placed immediately after, works here the best (as few suggested before).&lt;/p&gt;\n\n&lt;p&gt;It is also possible for this case to use this selector&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.home&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:first&lt;/span&gt;-of-type\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;but this is element selector not the class one. &lt;/p&gt;\n\n&lt;p&gt;Here you have nice list of CSS selectors: &lt;a href=&quot;https://kolosek.com/css-selectors/&quot; rel=&quot;nofollow noreferrer&quot;&gt;https://kolosek.com/css-selectors/&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Could you try something like this:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:first&lt;/span&gt;-of-type {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt; solid red;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;you also can use this for last element (if you need it):&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:last-of-type&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt; solid red;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;just use&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.home&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt; ~ &lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt;{\n &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid red;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;it will work.&lt;/p&gt;\n    ","\n&lt;p&gt;Try this solution:&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.home&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:first&lt;/span&gt;-of-type {\n  &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;5px&lt;/span&gt; solid red;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;width&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;100%&lt;/span&gt;;\n  &lt;span class=&quot;hljs-attribute&quot;&gt;display&lt;/span&gt;:block;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;home&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;blah&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;first&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;second&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;third&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;fourth&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;http://codepen.io/santoshkhalse/pen/xRQYpo&quot; rel=&quot;nofollow noreferrer&quot;&gt;CodePen link&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I think a lot of people have explained already. your code is selecting only first child of the first instance. If you want to select all the first children of red class, you need to use&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.home&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-selector-class&quot;&gt;.red&lt;/span&gt;&lt;span class=&quot;hljs-selector-pseudo&quot;&gt;:first&lt;/span&gt;-child {\n    &lt;span class=&quot;hljs-comment&quot;&gt;/* put your styling here */&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    "]},"page":"32","randomQuestions":[{"title":"How to include a PHP variable inside a MySQL statement","slug":"how-to-include-a-php-variable-inside-a-mysql-statement-1657387669365"},{"title":"Change the maximum upload file size","slug":"change-the-maximum-upload-file-size-1657388495156"},{"title":"What does a space mean in a CSS selector? i.e. What is the difference between .classA.classB and .classA .classB?","slug":"what-does-a-space-mean-in-a-css-selector-i.e.-what-is-the-difference-between-.classa.classb-and-.classa-.classb-1657387912095"},{"title":"Remove duplicate values from JS array [duplicate]","slug":"remove-duplicate-values-from-js-array-duplicate-1657387801931"},{"title":"Why does my function that calls an API or launches a coroutine return an empty or null value?","slug":"why-does-my-function-that-calls-an-api-or-launches-a-coroutine-return-an-empty-or-null-value-1657388483820"},{"title":"\"Cross origin requests are only supported for HTTP.\" error when loading a local file","slug":"\"cross-origin-requests-are-only-supported-for-http.\"-error-when-loading-a-local-file-1657387942403"},{"title":"How to fix \"Headers already sent\" error in PHP","slug":"how-to-fix-\"headers-already-sent\"-error-in-php-1657384315553"},{"title":"How do I copy to the clipboard in JavaScript?","slug":"how-do-i-copy-to-the-clipboard-in-javascript-1657385501223"},{"title":"How do I pass data between Activities in Android application?","slug":"how-do-i-pass-data-between-activities-in-android-application-1657384739839"},{"title":"Detecting a mobile browser","slug":"detecting-a-mobile-browser-1657388460071"},{"title":"How do I split a delimited string so I can access individual items?","slug":"how-do-i-split-a-delimited-string-so-i-can-access-individual-items-1657388042385"},{"title":"$(document).ready equivalent without jQuery","slug":"dollar(document).ready-equivalent-without-jquery-1657388504115"},{"title":"Is there any way to kill a Thread?","slug":"is-there-any-way-to-kill-a-thread-1657387859831"},{"title":"What are metaclasses in Python?","slug":"what-are-metaclasses-in-python-1657387811608"},{"title":"Randomize a List<T>","slug":"randomize-a-listlesstgreater-1657388172793"},{"title":"How to print a number with commas as thousands separators in JavaScript","slug":"how-to-print-a-number-with-commas-as-thousands-separators-in-javascript-1657387777379"},{"title":"Asking the user for input until they give a valid response","slug":"asking-the-user-for-input-until-they-give-a-valid-response-1657384376162"},{"title":"Returning data from async call in Swift function","slug":"returning-data-from-async-call-in-swift-function-1657387469218"},{"title":"What Is Selenium And What Is WebDriver?","slug":"what-is-selenium-and-what-is-webdriver-1657385470372"},{"title":"Why does my ArrayList contain N copies of the last item added to the list?","slug":"why-does-my-arraylist-contain-n-copies-of-the-last-item-added-to-the-list-1657387712003"}]},"__N_SSG":true}