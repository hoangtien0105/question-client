{"pageProps":{"data":{"count":610,"rows":[{"id":195,"title":"Random number generator only generating one random number","slug":"random-number-generator-only-generating-one-random-number-1657385468315","postType":"QUESTION","createdAt":"2022-07-09T16:51:08.000Z","updatedAt":"2022-07-09T16:51:08.000Z","tags":[]},{"id":194,"title":"How do I execute a program or call a system command?","slug":"how-do-i-execute-a-program-or-call-a-system-command-1657385465629","postType":"QUESTION","createdAt":"2022-07-09T16:51:05.000Z","updatedAt":"2022-07-09T16:51:05.000Z","tags":[{"id":1414,"name":"terminal","slug":"terminal","createdAt":"2022-07-09T16:51:05.000Z","updatedAt":"2022-07-09T16:51:05.000Z","Questions_Tags":{"questionId":194,"tagId":1414}},{"id":1415,"name":"subprocess","slug":"subprocess","createdAt":"2022-07-09T16:51:05.000Z","updatedAt":"2022-07-09T16:51:05.000Z","Questions_Tags":{"questionId":194,"tagId":1415}},{"id":1416,"name":"command","slug":"command","createdAt":"2022-07-09T16:51:05.000Z","updatedAt":"2022-07-09T16:51:05.000Z","Questions_Tags":{"questionId":194,"tagId":1416}}]},{"id":193,"title":"Difference between single and double quotes in Bash","slug":"difference-between-single-and-double-quotes-in-bash-1657385460827","postType":"QUESTION","createdAt":"2022-07-09T16:51:00.000Z","updatedAt":"2022-07-09T16:51:00.000Z","tags":[{"id":1410,"name":"double-quotes","slug":"double-quotes","createdAt":"2022-07-09T16:51:00.000Z","updatedAt":"2022-07-09T16:51:00.000Z","Questions_Tags":{"questionId":193,"tagId":1410}},{"id":1411,"name":"single-quotes","slug":"single-quotes","createdAt":"2022-07-09T16:51:00.000Z","updatedAt":"2022-07-09T16:51:00.000Z","Questions_Tags":{"questionId":193,"tagId":1411}}]},{"id":192,"title":"How do I generate random integers within a specific range in Java?","slug":"how-do-i-generate-random-integers-within-a-specific-range-in-java-1657385458888","postType":"QUESTION","createdAt":"2022-07-09T16:50:58.000Z","updatedAt":"2022-07-09T16:50:58.000Z","tags":[{"id":1406,"name":"integer","slug":"integer","createdAt":"2022-07-09T16:50:58.000Z","updatedAt":"2022-07-09T16:50:58.000Z","Questions_Tags":{"questionId":192,"tagId":1406}}]},{"id":191,"title":"What are copy elision and return value optimization?","slug":"what-are-copy-elision-and-return-value-optimization-1657385455976","postType":"QUESTION","createdAt":"2022-07-09T16:50:55.000Z","updatedAt":"2022-07-09T16:50:55.000Z","tags":[{"id":1400,"name":"optimization","slug":"optimization","createdAt":"2022-07-09T16:50:56.000Z","updatedAt":"2022-07-09T16:50:56.000Z","Questions_Tags":{"questionId":191,"tagId":1400}},{"id":1402,"name":"return-value-optimization","slug":"return-value-optimization","createdAt":"2022-07-09T16:50:56.000Z","updatedAt":"2022-07-09T16:50:56.000Z","Questions_Tags":{"questionId":191,"tagId":1402}},{"id":1403,"name":"copy-elision","slug":"copy-elision","createdAt":"2022-07-09T16:50:56.000Z","updatedAt":"2022-07-09T16:50:56.000Z","Questions_Tags":{"questionId":191,"tagId":1403}}]}]},"answers":{"191":["\n&lt;h2&gt;Introduction&lt;/h2&gt;\n&lt;p&gt;For a technical overview - &lt;a href=&quot;https://stackoverflow.com/a/12953145/673730&quot;&gt;skip to this answer&lt;/a&gt;.&lt;/p&gt;\n&lt;p&gt;For common cases where copy elision occurs - &lt;a href=&quot;https://stackoverflow.com/a/12953150/673730&quot;&gt;skip to this answer&lt;/a&gt;.&lt;/p&gt;\n&lt;p&gt;Copy elision is an optimization implemented by most compilers to prevent extra (potentially expensive) copies in certain situations. It makes returning by value or pass-by-value feasible in practice (restrictions apply).&lt;/p&gt;\n&lt;p&gt;It&apos;s the only form of optimization that elides (ha!) the as-if rule - &lt;strong&gt;copy elision can be applied even if copying/moving the object has side-effects&lt;/strong&gt;.&lt;/p&gt;\n&lt;p&gt;The following example taken from &lt;a href=&quot;http://en.wikipedia.org/wiki/Return_value_optimization&quot; rel=&quot;noreferrer&quot;&gt;Wikipedia&lt;/a&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;C&lt;/span&gt; {\n  &lt;span class=&quot;hljs-built_in&quot;&gt;C&lt;/span&gt;() {}\n  &lt;span class=&quot;hljs-built_in&quot;&gt;C&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; C&amp;amp;) { std::cout &amp;lt;&amp;lt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;A copy was made.\\n&quot;&lt;/span&gt;; }\n};\n \n&lt;span class=&quot;hljs-function&quot;&gt;C &lt;span class=&quot;hljs-title&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;C&lt;/span&gt;();\n}\n \n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{\n  std::cout &amp;lt;&amp;lt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Hello World!\\n&quot;&lt;/span&gt;;\n  C obj = &lt;span class=&quot;hljs-built_in&quot;&gt;f&lt;/span&gt;();\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Depending on the compiler &amp;amp; settings, the following outputs &lt;strong&gt;are all valid&lt;/strong&gt;:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Hello World!  &lt;br&gt;\nA copy was made. &lt;br&gt;\nA copy was made. &lt;br&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;hr&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Hello World! &lt;br&gt;\nA copy was made.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;hr&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Hello World!&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;This also means fewer objects can be created, so you also can&apos;t rely on a specific number of destructors being called. You shouldn&apos;t have critical logic inside copy/move-constructors or destructors, as you can&apos;t rely on them being called.&lt;/p&gt;\n&lt;p&gt;If a call to a copy or move constructor is elided, that constructor must still exist and must be accessible. This ensures that copy elision does not allow copying objects which are not normally copyable, e.g. because they have a private or deleted copy/move constructor.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;C++17&lt;/strong&gt;: As of C++17, Copy Elision is guaranteed when an object is returned directly:&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;C&lt;/span&gt; {\n  &lt;span class=&quot;hljs-built_in&quot;&gt;C&lt;/span&gt;() {}\n  &lt;span class=&quot;hljs-built_in&quot;&gt;C&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; C&amp;amp;) { std::cout &amp;lt;&amp;lt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;A copy was made.\\n&quot;&lt;/span&gt;; }\n};\n \n&lt;span class=&quot;hljs-function&quot;&gt;C &lt;span class=&quot;hljs-title&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;C&lt;/span&gt;(); &lt;span class=&quot;hljs-comment&quot;&gt;//Definitely performs copy elision&lt;/span&gt;\n}\n&lt;span class=&quot;hljs-function&quot;&gt;C &lt;span class=&quot;hljs-title&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{\n    C c;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; c; &lt;span class=&quot;hljs-comment&quot;&gt;//Maybe performs copy elision&lt;/span&gt;\n}\n \n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{\n  std::cout &amp;lt;&amp;lt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Hello World!\\n&quot;&lt;/span&gt;;\n  C obj = &lt;span class=&quot;hljs-built_in&quot;&gt;f&lt;/span&gt;(); &lt;span class=&quot;hljs-comment&quot;&gt;//Copy constructor isn&apos;t called&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;h2&gt;Standard reference&lt;/h2&gt;\n\n&lt;p&gt;For a less technical view &amp;amp; introduction - &lt;a href=&quot;https://stackoverflow.com/a/12953129/673730&quot;&gt;skip to this answer&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;For common cases where copy elision occurs - &lt;a href=&quot;https://stackoverflow.com/a/12953150/673730&quot;&gt;skip to this answer&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Copy elision&lt;/strong&gt; is defined in the standard in:&lt;/p&gt;\n\n&lt;h3&gt;12.8 Copying and moving class objects [class.copy]&lt;/h3&gt;\n\n&lt;p&gt;as&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;31) When certain criteria are met, an implementation is allowed to omit the copy/move construction of a class\n  object, even if the copy/move constructor and/or destructor for the object have side effects. In such cases,\n  the implementation treats the source and target of the omitted copy/move operation as simply two different\n  ways of referring to the same object, and the destruction of that object occurs at the later of the times\n  when the two objects would have been destroyed without the optimization.&lt;sup&gt;123&lt;/sup&gt; This elision of copy/move\n  operations, called &lt;em&gt;copy elision&lt;/em&gt;, is permitted in the following circumstances (which may be combined to\n  eliminate multiple copies):&lt;/p&gt;\n  \n  &lt;p&gt; in a return statement in a function with a class return type, when the expression is the name of a\n  non-volatile automatic object (other than a function or catch-clause parameter) with the same cvunqualified\n  type as the function return type, the copy/move operation can be omitted by constructing\n  the automatic object directly into the functions return value&lt;/p&gt;\n  \n  &lt;p&gt; in a throw-expression, when the operand is the name of a non-volatile automatic object (other than a\n  function or catch-clause parameter) whose scope does not extend beyond the end of the innermost\n  enclosing try-block (if there is one), the copy/move operation from the operand to the exception\n  object (15.1) can be omitted by constructing the automatic object directly into the exception object&lt;/p&gt;\n  \n  &lt;p&gt; when a temporary class object that has not been bound to a reference (12.2) would be copied/moved\n  to a class object with the same cv-unqualified type, the copy/move operation can be omitted by\n  constructing the temporary object directly into the target of the omitted copy/move&lt;/p&gt;\n  \n  &lt;p&gt; when the exception-declaration of an exception handler (Clause 15) declares an object of the same type\n  (except for cv-qualification) as the exception object (15.1), the copy/move operation can be omitted\n  by treating the exception-declaration as an alias for the exception object if the meaning of the program\n  will be unchanged except for the execution of constructors and destructors for the object declared by\n  the exception-declaration.&lt;/p&gt;\n  \n  &lt;p&gt;&lt;sub&gt;123) Because only one object is destroyed instead of two, and one copy/move constructor is not executed, there is still one\n  object destroyed for each one constructed.&lt;/sub&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;The example given is:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Thing&lt;/span&gt; {\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n  &lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;();\n  ~&lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;();\n  &lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; Thing&amp;amp;);\n};\n&lt;span class=&quot;hljs-function&quot;&gt;Thing &lt;span class=&quot;hljs-title&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{\n  Thing t;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; t;\n}\nThing t2 = &lt;span class=&quot;hljs-built_in&quot;&gt;f&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and explained:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;Here the criteria for elision can be combined to eliminate two calls to the copy constructor of class &lt;code&gt;Thing&lt;/code&gt;:\n  the copying of the local automatic object &lt;code&gt;t&lt;/code&gt; into the temporary object for the return value of function &lt;code&gt;f()&lt;/code&gt;\n  and the copying of that temporary object into object &lt;code&gt;t2&lt;/code&gt;. Effectively, the construction of the local object &lt;code&gt;t&lt;/code&gt;\n  can be viewed as directly initializing the global object &lt;code&gt;t2&lt;/code&gt;, and that objects destruction will occur at program\n  exit. Adding a move constructor to Thing has the same effect, but it is the move construction from the\n  temporary object to &lt;code&gt;t2&lt;/code&gt; that is elided.&lt;/p&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;h2&gt;Common forms of copy elision&lt;/h2&gt;\n&lt;p&gt;For a technical overview - &lt;a href=&quot;https://stackoverflow.com/a/12953145/673730&quot;&gt;skip to this answer&lt;/a&gt;.&lt;/p&gt;\n&lt;p&gt;For a less technical view &amp;amp; introduction - &lt;a href=&quot;https://stackoverflow.com/a/12953129/673730&quot;&gt;skip to this answer&lt;/a&gt;.&lt;/p&gt;\n&lt;p&gt;(Named) Return value optimization is a common form of copy elision. It refers to the situation where an object returned by value from a method has its copy elided. The example set forth in the standard illustrates &lt;strong&gt;named return value optimization&lt;/strong&gt;, since the object is named.&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Thing&lt;/span&gt; {\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n  &lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;();\n  ~&lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;();\n  &lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; Thing&amp;amp;);\n};\n&lt;span class=&quot;hljs-function&quot;&gt;Thing &lt;span class=&quot;hljs-title&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{\n  Thing t;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; t;\n}\nThing t2 = &lt;span class=&quot;hljs-built_in&quot;&gt;f&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Regular &lt;strong&gt;return value optimization&lt;/strong&gt; occurs when a temporary is returned:&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Thing&lt;/span&gt; {\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n  &lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;();\n  ~&lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;();\n  &lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; Thing&amp;amp;);\n};\n&lt;span class=&quot;hljs-function&quot;&gt;Thing &lt;span class=&quot;hljs-title&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;();\n}\nThing t2 = &lt;span class=&quot;hljs-built_in&quot;&gt;f&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Other common places where copy elision takes place is when an object is &lt;strong&gt;constructed from a temporary&lt;/strong&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Thing&lt;/span&gt; {\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n  &lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;();\n  ~&lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;();\n  &lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; Thing&amp;amp;);\n};\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(Thing t)&lt;/span&gt;&lt;/span&gt;;\n\nThing t2 = &lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;();\nThing t3 = &lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;()); &lt;span class=&quot;hljs-comment&quot;&gt;// two rounds of elision&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;()); &lt;span class=&quot;hljs-comment&quot;&gt;// parameter constructed from temporary&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;or when an &lt;strong&gt;exception is thrown and caught by value&lt;/strong&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Thing&lt;/span&gt;{\n  &lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;();\n  &lt;span class=&quot;hljs-built_in&quot;&gt;Thing&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; Thing&amp;amp;);\n};\n \n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{\n  Thing c;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; c;\n}\n \n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;try&lt;/span&gt; {\n    &lt;span class=&quot;hljs-built_in&quot;&gt;foo&lt;/span&gt;();\n  }\n  &lt;span class=&quot;hljs-built_in&quot;&gt;catch&lt;/span&gt;(Thing c) {  \n  }             \n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;a href=&quot;http://msdn.microsoft.com/en-us/library/ms364057%28v=vs.80%29.aspx#nrvo_cpp05_topic3&quot; rel=&quot;nofollow noreferrer&quot;&gt;Common limitations of copy elision are:&lt;/a&gt;&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;multiple return points&lt;/li&gt;\n&lt;li&gt;conditional initialization&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;Most commercial-grade compilers support copy elision &amp;amp; (N)RVO (depending on optimization settings). C++17 makes many of the above classes of copy elision mandatory.&lt;/p&gt;\n    ","\n&lt;p&gt;Copy elision is a compiler optimization technique that eliminates unnecessary copying/moving of objects.&lt;/p&gt;\n&lt;p&gt;In the following circumstances, a compiler is allowed to omit copy/move operations and hence not to call the associated constructor:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;strong&gt;NRVO (Named Return Value Optimization)&lt;/strong&gt;: If a function returns a class type by value and the return statement&apos;s expression is the name of a non-volatile object with automatic storage duration (which isn&apos;t a function parameter), then the copy/move that would be performed by a non-optimising compiler can be omitted. If so, the returned value is constructed directly in the storage to which the function&apos;s return value would otherwise be moved or copied.&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;RVO (Return Value Optimization)&lt;/strong&gt;: If the function returns a nameless temporary object that would be moved or copied into the destination by a naive compiler, the copy or move can be omitted as per 1.&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;  &lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;namespace&lt;/span&gt; std;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ABC&lt;/span&gt;  \n{  \n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:   \n    &lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *a;  \n    &lt;span class=&quot;hljs-built_in&quot;&gt;ABC&lt;/span&gt;()  \n     { cout&amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Constructor&quot;&lt;/span&gt;&amp;lt;&amp;lt;endl; }  \n    &lt;span class=&quot;hljs-built_in&quot;&gt;ABC&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;char&lt;/span&gt; *ptr)  \n     { cout&amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Constructor&quot;&lt;/span&gt;&amp;lt;&amp;lt;endl; }  \n    &lt;span class=&quot;hljs-built_in&quot;&gt;ABC&lt;/span&gt;(ABC  &amp;amp;obj)  \n     { cout&amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;copy constructor&quot;&lt;/span&gt;&amp;lt;&amp;lt;endl;}  \n    &lt;span class=&quot;hljs-built_in&quot;&gt;ABC&lt;/span&gt;(ABC&amp;amp;&amp;amp; obj)  \n    { cout&amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Move constructor&quot;&lt;/span&gt;&amp;lt;&amp;lt;endl; }  \n    ~&lt;span class=&quot;hljs-built_in&quot;&gt;ABC&lt;/span&gt;()  \n    { cout&amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Destructor&quot;&lt;/span&gt;&amp;lt;&amp;lt;endl; }  \n};\n\n&lt;span class=&quot;hljs-function&quot;&gt;ABC &lt;span class=&quot;hljs-title&quot;&gt;fun123&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;  \n&lt;/span&gt;{ ABC obj; &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; obj; }  \n\n&lt;span class=&quot;hljs-function&quot;&gt;ABC &lt;span class=&quot;hljs-title&quot;&gt;xyz123&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;  \n&lt;/span&gt;{  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;ABC&lt;/span&gt;(); }  \n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;  \n&lt;/span&gt;{  \n    ABC abc;  \n    &lt;span class=&quot;hljs-function&quot;&gt;ABC &lt;span class=&quot;hljs-title&quot;&gt;obj1&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(fun123())&lt;/span&gt;&lt;/span&gt;;    &lt;span class=&quot;hljs-comment&quot;&gt;//NRVO  &lt;/span&gt;\n    &lt;span class=&quot;hljs-function&quot;&gt;ABC &lt;span class=&quot;hljs-title&quot;&gt;obj2&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(xyz123())&lt;/span&gt;&lt;/span&gt;;    &lt;span class=&quot;hljs-comment&quot;&gt;//RVO, not NRVO &lt;/span&gt;\n    ABC xyz = &lt;span class=&quot;hljs-string&quot;&gt;&quot;Stack Overflow&quot;&lt;/span&gt;;&lt;span class=&quot;hljs-comment&quot;&gt;//RVO  &lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;  \n}\n\n**Output without -fno-elide-constructors**  \nroot@ajay-PC:/home/ajay/c++# ./a.out   \nConstructor    \nConstructor  \nConstructor  \nConstructor  \nDestructor  \nDestructor  \nDestructor  \nDestructor  \n\n**Output with -fno-elide-constructors**  \nroot@ajay-PC:/home/ajay/c++&lt;span class=&quot;hljs-meta&quot;&gt;# g++ -std=c++11 copy_elision.cpp -fno-elide-constructors    &lt;/span&gt;\nroot@ajay-PC:/home/ajay/c++# ./a.out   \nConstructor  \nConstructor  \nMove constructor  \nDestructor  \nMove constructor  \nDestructor  \nConstructor  \nMove constructor  \nDestructor  \nMove constructor  \nDestructor  \nConstructor  \nMove constructor  \nDestructor  \nDestructor  \nDestructor  \nDestructor  \nDestructor  \n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Even when copy elision takes place and the copy-/move-constructor is not called, it must be present and accessible (as if no optimization happened at all), otherwise the program is ill-formed.&lt;/p&gt;\n&lt;p&gt;You should permit such copy elision only in places where it wont affect the observable behavior of your software. Copy elision is the only form of optimization permitted to have (i.e. elide) observable side-effects. Example:&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#&lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;     &lt;/span&gt;\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; n = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;    \n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ABC&lt;/span&gt;     \n{  &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:  \n &lt;span class=&quot;hljs-built_in&quot;&gt;ABC&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt;) {}    \n &lt;span class=&quot;hljs-built_in&quot;&gt;ABC&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; ABC&amp;amp; a) { ++n; } &lt;span class=&quot;hljs-comment&quot;&gt;// the copy constructor has a visible side effect    &lt;/span&gt;\n};                     &lt;span class=&quot;hljs-comment&quot;&gt;// it modifies an object with static storage duration    &lt;/span&gt;\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;   \n&lt;/span&gt;{  \n  &lt;span class=&quot;hljs-function&quot;&gt;ABC &lt;span class=&quot;hljs-title&quot;&gt;c1&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-number&quot;&gt;21&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// direct-initialization, calls C::C(42)  &lt;/span&gt;\n  ABC c2 = &lt;span class=&quot;hljs-built_in&quot;&gt;ABC&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;21&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// copy-initialization, calls C::C( C(42) )  &lt;/span&gt;\n\n  std::cout &amp;lt;&amp;lt; n &amp;lt;&amp;lt; std::endl; &lt;span class=&quot;hljs-comment&quot;&gt;// prints 0 if the copy was elided, 1 otherwise&lt;/span&gt;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;  \n}\n\nOutput without -fno-elide-constructors  \nroot@ajay-PC:/home/ayadav&lt;span class=&quot;hljs-meta&quot;&gt;# g++ -std=c++11 copy_elision.cpp  &lt;/span&gt;\nroot@ajay-PC:/home/ayadav# ./a.out   \n&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;\n\nOutput with -fno-elide-constructors  \nroot@ajay-PC:/home/ayadav&lt;span class=&quot;hljs-meta&quot;&gt;# g++ -std=c++11 copy_elision.cpp -fno-elide-constructors  &lt;/span&gt;\nroot@ajay-PC:/home/ayadav# ./a.out   \n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;GCC provides the &lt;code&gt;-fno-elide-constructors&lt;/code&gt; option to disable copy elision.\nIf you want to avoid possible copy elision, use &lt;code&gt;-fno-elide-constructors&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;Now almost all compilers provide copy elision when optimisation is enabled (and if no other option is set to disable it).&lt;/p&gt;\n&lt;h1 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h1&gt;\n&lt;p&gt;With each copy elision, one construction and one matching destruction of the copy are omitted, thus saving CPU time, and one object is not created, thus saving space on the stack frame.&lt;/p&gt;\n    ","\n&lt;p&gt;Here I give another example of copy elision that I apparently encountered today.&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;# &lt;span class=&quot;hljs-keyword&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;/span&gt;\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Obj&lt;/span&gt; {\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt;:\n  &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; var1;\n  &lt;span class=&quot;hljs-built_in&quot;&gt;Obj&lt;/span&gt;(){\n    std::cout&amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;In   Obj()&quot;&lt;/span&gt;&amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;\\n&quot;&lt;/span&gt;;\n    var1 =&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;;\n  };\n  &lt;span class=&quot;hljs-built_in&quot;&gt;Obj&lt;/span&gt;(&lt;span class=&quot;hljs-type&quot;&gt;const&lt;/span&gt; Obj &amp;amp; org){\n    std::cout&amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;In   Obj(const Obj &amp;amp; org)&quot;&lt;/span&gt;&amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;\\n&quot;&lt;/span&gt;;\n    var1=org.var1+&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n  };\n};\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt;  &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;{\n\n  {\n    &lt;span class=&quot;hljs-comment&quot;&gt;/*const*/&lt;/span&gt; Obj Obj_instance1;  &lt;span class=&quot;hljs-comment&quot;&gt;//const doesn&apos;t change anything&lt;/span&gt;\n    Obj Obj_instance2;\n    std::cout&amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;assignment:&quot;&lt;/span&gt;&amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;\\n&quot;&lt;/span&gt;;\n    Obj_instance2=&lt;span class=&quot;hljs-built_in&quot;&gt;Obj&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;Obj&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;Obj&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;Obj&lt;/span&gt;(Obj_instance1))))   ;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// in fact expected: 6, but got 3, because of &apos;copy elision&apos;&lt;/span&gt;\n    std::cout&amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Obj_instance2.var1:&quot;&lt;/span&gt;&amp;lt;&amp;lt;Obj_instance2.var1&amp;lt;&amp;lt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;\\n&quot;&lt;/span&gt;;\n  }\n\n}\n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;With the result:&lt;/p&gt;\n&lt;pre class=&quot;lang-cpp s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;In   &lt;span class=&quot;hljs-title&quot;&gt;Obj&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;\nIn   &lt;span class=&quot;hljs-title&quot;&gt;Obj&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;\nassignment:\nIn   Obj(const Obj &amp;amp; org)\nObj_instance2.var1:&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    "],"192":["\n&lt;p&gt;In &lt;strong&gt;Java 1.7 or later&lt;/strong&gt;, the standard way to do this is as follows:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; java.util.concurrent.ThreadLocalRandom;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// nextInt is normally exclusive of the top value,&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// so add 1 to make it inclusive&lt;/span&gt;\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;randomNum&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; ThreadLocalRandom.current().nextInt(min, max + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;See &lt;a href=&quot;https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html#nextInt(int,int)&quot; rel=&quot;noreferrer&quot;&gt;the relevant JavaDoc&lt;/a&gt;.  This approach has the advantage of not needing to explicitly initialize a &lt;a href=&quot;https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Random.html&quot; rel=&quot;noreferrer&quot;&gt;java.util.Random&lt;/a&gt; instance, which can be a source of confusion and error if used inappropriately.&lt;/p&gt;\n\n&lt;p&gt;However, conversely there is no way to explicitly set the seed so it can be difficult to reproduce results in situations where that is useful such as testing or saving game states or similar.  In those situations, the pre-Java 1.7 technique shown below can be used.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Before Java 1.7&lt;/strong&gt;, the standard way to do this is as follows:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; java.util.Random;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/**\n * Returns a pseudo-random number between min and max, inclusive.\n * The difference between min and max can be at most\n * &amp;lt;code&amp;gt;Integer.MAX_VALUE - 1&amp;lt;/code&amp;gt;.\n *\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; min Minimum value\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; max Maximum value.  Must be greater than min.\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@return&lt;/span&gt; Integer between min and max, inclusive.\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@see&lt;/span&gt; java.util.Random#nextInt(int)\n */&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;randInt&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; min, &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; max)&lt;/span&gt; {\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// &lt;span class=&quot;hljs-doctag&quot;&gt;NOTE:&lt;/span&gt; This will (intentionally) not run as written so that folks&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// copy-pasting have to think about how to initialize their&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Random instance.  Initialization of the Random instance is outside&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// the main scope of the question, but some decent options are to have&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// a field that is initialized once and then re-used as needed or to&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// use ThreadLocalRandom (if using at least Java 1.7).&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// &lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// In particular, do NOT do &apos;Random rand = new Random()&apos; here or you&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// will get not very good / not very random results.&lt;/span&gt;\n    Random rand;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// nextInt is normally exclusive of the top value,&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// so add 1 to make it inclusive&lt;/span&gt;\n    &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;randomNum&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; rand.nextInt((max - min) + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) + min;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; randomNum;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;See &lt;a href=&quot;https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Random.html#nextInt(int)&quot; rel=&quot;noreferrer&quot;&gt;the relevant JavaDoc&lt;/a&gt;.  In practice, the &lt;a href=&quot;https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Random.html&quot; rel=&quot;noreferrer&quot;&gt;java.util.Random&lt;/a&gt; class is often preferable to &lt;a href=&quot;https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Math.html#random()&quot; rel=&quot;noreferrer&quot;&gt;java.lang.Math.random()&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;In particular, there is no need to reinvent the random integer generation wheel when there is a straightforward API within the standard library to accomplish the task.&lt;/p&gt;\n    ","\n&lt;p&gt;Note that this approach is more biased and less efficient than a &lt;code&gt;nextInt&lt;/code&gt; approach, &lt;a href=&quot;https://stackoverflow.com/a/738651/360211&quot;&gt;https://stackoverflow.com/a/738651/360211&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;One standard pattern for accomplishing this is:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;Min + (&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt;)(Math.random() * ((Max - Min) + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;))\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The &lt;a href=&quot;http://en.wikipedia.org/wiki/Java_%28programming_language%29&quot; rel=&quot;noreferrer&quot;&gt;Java&lt;/a&gt; Math library function Math.random() generates a double value in the range &lt;code&gt;[0,1)&lt;/code&gt;. Notice this range does not include the 1.&lt;/p&gt;\n\n&lt;p&gt;In order to get a specific range of values first, you need to multiply by the magnitude of the range of values you want covered. &lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;Math.random() * ( Max - Min )\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This returns a value in the range &lt;code&gt;[0,Max-Min)&lt;/code&gt;, where &apos;Max-Min&apos; is not included.&lt;/p&gt;\n\n&lt;p&gt;For example, if you want &lt;code&gt;[5,10)&lt;/code&gt;, you need to cover five integer values so you use&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;Math.random() * &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This would return a value in the range &lt;code&gt;[0,5)&lt;/code&gt;, where 5 is not included.&lt;/p&gt;\n\n&lt;p&gt;Now you need to shift this range up to the range that you are targeting. You do this by adding the Min value.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;Min + (Math.random() * (Max - Min))\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You now will get a value in the range &lt;code&gt;[Min,Max)&lt;/code&gt;. Following our example, that means &lt;code&gt;[5,10)&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; + (Math.random() * (&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt; - &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;))\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;But, this still doesn&apos;t include &lt;code&gt;Max&lt;/code&gt; and you are getting a double value. In order to get the &lt;code&gt;Max&lt;/code&gt; value included, you need to add 1 to your range parameter &lt;code&gt;(Max - Min)&lt;/code&gt; and then truncate the decimal part by casting to an int. This is accomplished via:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;Min + (&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt;)(Math.random() * ((Max - Min) + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;))\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And there you have it. A random integer value in the range &lt;code&gt;[Min,Max]&lt;/code&gt;, or per the example &lt;code&gt;[5,10]&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; + (&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt;)(Math.random() * ((&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt; - &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;) + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;))\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Use:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;Random&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;ran&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Random&lt;/span&gt;();\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; ran.nextInt(&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;) + &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The integer &lt;code&gt;x&lt;/code&gt; is now the random number that has a possible outcome of &lt;code&gt;5-10&lt;/code&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;Use:&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;minValue + rn.nextInt(maxValue - minValue + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;With &lt;a href=&quot;/questions/tagged/java-8&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &apos;java-8&apos;&quot; rel=&quot;tag&quot;&gt;java-8&lt;/a&gt; they introduced the method &lt;a href=&quot;http://docs.oracle.com/javase/8/docs/api/java/util/Random.html#ints-int-int-&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;ints(int randomNumberOrigin, int randomNumberBound)&lt;/code&gt;&lt;/a&gt; in the &lt;a href=&quot;http://docs.oracle.com/javase/8/docs/api/java/util/Random.html&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;Random&lt;/code&gt;&lt;/a&gt; class. &lt;/p&gt;\n\n&lt;p&gt;For example if you want to generate five random integers (or a single one) in the range [0, 10], just do:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;Random&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Random&lt;/span&gt;();\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt;[] fiveRandomNumbers = r.ints(&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;).toArray();\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;randomNumber&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; r.ints(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;).findFirst().getAsInt();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The first parameter indicates just the size of the &lt;code&gt;IntStream&lt;/code&gt; generated (which is the overloaded method of the one that produces an unlimited &lt;code&gt;IntStream&lt;/code&gt;).&lt;/p&gt;\n\n&lt;p&gt;If you need to do multiple separate calls, you can create an infinite primitive iterator from the stream:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;IntRandomNumberGenerator&lt;/span&gt; {\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; PrimitiveIterator.OfInt randomIterator;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;/**\n     * Initialize a new random number generator that generates\n     * random numbers in the range [min, max]\n     * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; min - the min value (inclusive)\n     * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; max - the max value (inclusive)\n     */&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;IntRandomNumberGenerator&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; min, &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; max)&lt;/span&gt; {\n        randomIterator = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Random&lt;/span&gt;().ints(min, max + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;).iterator();\n    }\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;/**\n     * Returns a random number in the range (min, max)\n     * &lt;span class=&quot;hljs-doctag&quot;&gt;@return&lt;/span&gt; a random number in the range (min, max)\n     */&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;nextInt&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; randomIterator.nextInt();\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You can also do it for &lt;code&gt;double&lt;/code&gt; and &lt;code&gt;long&lt;/code&gt; values. I hope it helps! :)&lt;/p&gt;\n    ","\n&lt;p&gt;You can edit your second code example to:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;Random&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;rn&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Random&lt;/span&gt;();\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; maximum - minimum + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;randomNum&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;  rn.nextInt(range) + minimum;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Just a small modification of your first solution would suffice.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;Random&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;rand&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Random&lt;/span&gt;();\nrandomNum = minimum + rand.nextInt((maximum - minimum) + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;See more here for implementation of &lt;a href=&quot;https://insight.io/github.com/lambdalab-mirror/jdk8u-jdk/blob/master/src/share/classes/java/util/Random.java?line=77&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;Random&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;code&gt;ThreadLocalRandom&lt;/code&gt; equivalent of class &lt;code&gt;java.util.Random&lt;/code&gt; for multithreaded environment. Generating a random number is carried out locally in each of the threads. So we have a better performance by reducing the conflicts. &lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;rand&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; ThreadLocalRandom.current().nextInt(x,y);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;code&gt;x&lt;/code&gt;,&lt;code&gt;y&lt;/code&gt; - intervals e.g. (1,10)&lt;/p&gt;\n    ","\n&lt;p&gt;The &lt;code&gt;Math.Random&lt;/code&gt; class in &lt;a href=&quot;http://en.wikipedia.org/wiki/Java_%28programming_language%29&quot; rel=&quot;noreferrer&quot;&gt;Java&lt;/a&gt; is 0-based. So, if you write something like this: &lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;Random&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;rand&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Random&lt;/span&gt;();\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; rand.nextInt(&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;code&gt;x&lt;/code&gt; will be between &lt;code&gt;0-9&lt;/code&gt; inclusive.&lt;/p&gt;\n\n&lt;p&gt;So, given the following array of &lt;code&gt;25&lt;/code&gt; items, the code to generate a random number between &lt;code&gt;0&lt;/code&gt; (the base of the array) and &lt;code&gt;array.length&lt;/code&gt; would be:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;String[] i = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;];\n&lt;span class=&quot;hljs-type&quot;&gt;Random&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;rand&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Random&lt;/span&gt;();\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n\nindex = rand.nextInt( i.length );\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Since &lt;code&gt;i.length&lt;/code&gt; will return &lt;code&gt;25&lt;/code&gt;, the &lt;code&gt;nextInt( i.length )&lt;/code&gt; will return a number between the range of &lt;code&gt;0-24&lt;/code&gt;. The other option is going with &lt;code&gt;Math.Random&lt;/code&gt; which works in the same way.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;index = (&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt;) Math.floor(Math.random() * i.length);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;For a better understanding, check out forum post &lt;em&gt;&lt;a href=&quot;http://web.archive.org/web/20070308142422/http://www.kirupa.com/forum/showthread.php?s=&amp;amp;postid=81565&quot; rel=&quot;noreferrer&quot;&gt;Random Intervals (archive.org)&lt;/a&gt;&lt;/em&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;It can be done by simply doing the statement:&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;Randomizer.generate(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// Minimum of zero and maximum of ten&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Below is its source code.&lt;/p&gt;\n&lt;h3&gt;File &lt;em&gt;Randomizer.java&lt;/em&gt;&lt;/h3&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Randomizer&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;generate&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; min, &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; max)&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; min + (&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt;)(Math.random() * ((max - min) + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;));\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;It is just clean and simple.&lt;/p&gt;\n    ","\n&lt;p&gt;Forgive me for being fastidious, but the solution suggested by the majority, i.e., &lt;code&gt;min + rng.nextInt(max - min + 1))&lt;/code&gt;, seems perilous due to the fact that:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;rng.nextInt(n)&lt;/code&gt; cannot reach &lt;code&gt;Integer.MAX_VALUE&lt;/code&gt;.&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;(max - min)&lt;/code&gt; may cause overflow when &lt;code&gt;min&lt;/code&gt; is negative.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;A foolproof solution would return correct results for any &lt;code&gt;min &amp;lt;= max&lt;/code&gt; within [&lt;code&gt;Integer.MIN_VALUE&lt;/code&gt;, &lt;code&gt;Integer.MAX_VALUE&lt;/code&gt;]. Consider the following naive implementation:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;nextIntInRange&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; min, &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; max, Random rng)&lt;/span&gt; {\n   &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (min &amp;gt; max) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;IllegalArgumentException&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Cannot draw random int from invalid range [&quot;&lt;/span&gt; + min + &lt;span class=&quot;hljs-string&quot;&gt;&quot;, &quot;&lt;/span&gt; + max + &lt;span class=&quot;hljs-string&quot;&gt;&quot;].&quot;&lt;/span&gt;);\n   }\n   &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;diff&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; max - min;\n   &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (diff &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; diff != Integer.MAX_VALUE) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (min + rng.nextInt(diff + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;));\n   }\n   &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; i;\n   &lt;span class=&quot;hljs-keyword&quot;&gt;do&lt;/span&gt; {\n      i = rng.nextInt();\n   } &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (i &amp;lt; min || i &amp;gt; max);\n   &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; i;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Although inefficient, note that the probability of success in the &lt;code&gt;while&lt;/code&gt; loop will always be 50% or higher.&lt;/p&gt;\n    ","\n&lt;p&gt;I wonder if any of the random number generating methods provided by an &lt;a href=&quot;http://commons.apache.org/proper/commons-math/&quot; rel=&quot;noreferrer&quot;&gt;Apache Commons Math&lt;/a&gt; library would fit the bill. &lt;/p&gt;\n\n&lt;p&gt;For example: &lt;a href=&quot;http://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/random/RandomDataGenerator.html#nextInt(int,%20int)&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;RandomDataGenerator.nextInt&lt;/code&gt;&lt;/a&gt; or &lt;a href=&quot;http://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/random/RandomDataGenerator.html#nextLong(long,%20long)&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;RandomDataGenerator.nextLong&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I use this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt; &lt;span class=&quot;hljs-comment&quot;&gt;/**\n   * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; min - The minimum.\n   * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; max - The maximum.\n   * &lt;span class=&quot;hljs-doctag&quot;&gt;@return&lt;/span&gt; A random double between these numbers (inclusive the minimum and maximum).\n   */&lt;/span&gt;\n &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;getRandom&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;double&lt;/span&gt; min, &lt;span class=&quot;hljs-type&quot;&gt;double&lt;/span&gt; max)&lt;/span&gt; {\n   &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (Math.random() * (max + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; - min)) + min;\n }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You can cast it to an Integer if you want.&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt; rand.nextInt((max+&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) - min) + min;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Let us take an example.&lt;/p&gt;\n\n&lt;p&gt;Suppose I wish to generate a number between &lt;strong&gt;5-10&lt;/strong&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;max&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;;\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;min&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;;\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;diff&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; max - min;\n&lt;span class=&quot;hljs-type&quot;&gt;Random&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;rn&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Random&lt;/span&gt;();\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; rn.nextInt(diff + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\ni += min;\nSystem.out.print(&lt;span class=&quot;hljs-string&quot;&gt;&quot;The Random Number is &quot;&lt;/span&gt; + i);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;em&gt;Let us understand this&lt;/em&gt;...&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;blockquote&gt;\n    &lt;p&gt;Initialize max with highest value and min with the lowest value. &lt;/p&gt;\n    \n    &lt;p&gt;Now, we need to determine how many possible values can be obtained. For this example, it would be:&lt;/p&gt;\n    \n    &lt;blockquote&gt;\n      &lt;p&gt;&lt;strong&gt;5, 6, 7, 8, 9, 10&lt;/strong&gt;&lt;/p&gt;\n    &lt;/blockquote&gt;\n    \n    &lt;p&gt;So, count of this would be max - min + 1. &lt;/p&gt;\n    \n    &lt;blockquote&gt;\n      &lt;p&gt;i.e. 10 - 5 + 1 = 6&lt;/p&gt;\n    &lt;/blockquote&gt;\n    \n    &lt;p&gt;The random number will generate a number between &lt;strong&gt;0-5&lt;/strong&gt;. &lt;/p&gt;\n    \n    &lt;blockquote&gt;\n      &lt;p&gt;i.e. 0, 1, 2, 3, 4, 5&lt;/p&gt;\n    &lt;/blockquote&gt;\n    \n    &lt;p&gt;Adding the &lt;em&gt;min&lt;/em&gt; value to the random number would produce:&lt;/p&gt;\n    \n    &lt;blockquote&gt;\n      &lt;p&gt;5, 6, 7, 8, 9, 10      &lt;/p&gt;\n    &lt;/blockquote&gt;\n    \n    &lt;p&gt;Hence we obtain the desired range. &lt;/p&gt;\n  &lt;/blockquote&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;blockquote&gt;\n  &lt;p&gt;As of Java 7, you should no longer use &lt;code&gt;Random&lt;/code&gt;. For most uses, the\n  random number generator of choice is now\n  &lt;a href=&quot;https://stackoverflow.com/questions/363681/how-do-i-generate-random-integers-within-a-specific-range-in-java#answer-363692&quot;&gt;&lt;code&gt;ThreadLocalRandom&lt;/code&gt;&lt;/a&gt;.&lt;br&gt;&lt;br&gt;For fork join pools and parallel\n  streams, use &lt;a href=&quot;https://docs.oracle.com/javase/8/docs/api/java/util/SplittableRandom.html&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;SplittableRandom&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;em&gt;Joshua Bloch. Effective Java. Third Edition.&lt;/em&gt;&lt;/p&gt;\n\n&lt;h2&gt;Starting from Java 8&lt;/h2&gt;\n\n&lt;p&gt;For fork join pools and parallel streams, use &lt;code&gt;SplittableRandom&lt;/code&gt; that is usually faster, has a better statistical independence and uniformity properties in comparison with &lt;code&gt;Random&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;To generate a random &lt;code&gt;int&lt;/code&gt; in the range &lt;code&gt;[0, 1_000]:&lt;/code&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;SplittableRandom&lt;/span&gt;().nextInt(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1_001&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To generate a random &lt;code&gt;int[100]&lt;/code&gt; array of values in the range &lt;code&gt;[0, 1_000]:&lt;/code&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt;[] a = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;SplittableRandom&lt;/span&gt;().ints(&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1_001&lt;/span&gt;).parallel().toArray();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To return a Stream of random values:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;IntStream&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;stream&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;SplittableRandom&lt;/span&gt;().ints(&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1_001&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Generate a random number for the difference of min and max by using the &lt;a href=&quot;http://docs.oracle.com/javase/6/docs/api/java/util/Random.html#nextInt(int)&quot; rel=&quot;noreferrer&quot;&gt;nextint(n)&lt;/a&gt; method and then add min number to the result:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;Random&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;rn&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Random&lt;/span&gt;();\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; rn.nextInt(max - min + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) + min;\nSystem.out.println(result);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Just use the &lt;a href=&quot;http://docs.oracle.com/javase/6/docs/api/java/util/Random.html&quot; rel=&quot;noreferrer&quot;&gt;Random&lt;/a&gt; class: &lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;Random&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;ran&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Random&lt;/span&gt;();\n&lt;span class=&quot;hljs-comment&quot;&gt;// Assumes max and min are non-negative.&lt;/span&gt;\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;randomInt&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; min + ran.nextInt(max - min + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;To generate a random number &quot;in between two numbers&quot;, use the following code:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;Random&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Random&lt;/span&gt;();\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;lowerBound&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;upperBound&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;;\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; r.nextInt(upperBound-lowerBound) + lowerBound;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This gives you a random number in between 1 (inclusive) and 11 (exclusive), so initialize the upperBound value by adding 1. For example, if you want to generate random number between 1 to 10 then initialize the upperBound number with 11 instead of 10.&lt;/p&gt;\n    ","\n&lt;p&gt;These methods might be convenient to use:&lt;/p&gt;\n&lt;p&gt;This method will return a random number &lt;em&gt;&lt;strong&gt;between&lt;/strong&gt;&lt;/em&gt; the provided minimum and maximum value:&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;getRandomNumberBetween&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; min, &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; max)&lt;/span&gt; {\n    &lt;span class=&quot;hljs-type&quot;&gt;Random&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;foo&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Random&lt;/span&gt;();\n    &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;randomNumber&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; foo.nextInt(max - min) + min;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (randomNumber == min) {\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Since the random number is between the min and max values, simply add 1&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; min + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; randomNumber;\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;and this method will return a random number &lt;em&gt;&lt;strong&gt;from&lt;/strong&gt;&lt;/em&gt; the provided minimum and maximum value (so the generated number could also be the minimum or maximum number):&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;getRandomNumberFrom&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; min, &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; max)&lt;/span&gt; {\n    &lt;span class=&quot;hljs-type&quot;&gt;Random&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;foo&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Random&lt;/span&gt;();\n    &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;randomNumber&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; foo.nextInt((max + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) - min) + min;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; randomNumber;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;In case of rolling a dice it would be random number between 1 to 6 (not 0 to 6), so: &lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;face = &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; + randomNumbers.nextInt(&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;random&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; minimum + Double.valueOf(Math.random()*(maximum-minimum )).intValue();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Or take a look to RandomUtils from &lt;a href=&quot;http://commons.apache.org/lang&quot; rel=&quot;nofollow noreferrer&quot;&gt;Apache Commons&lt;/a&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;Here&apos;s a helpful class to generate random &lt;code&gt;ints&lt;/code&gt; in a range with any combination of inclusive/exclusive bounds:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; java.util.Random;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RandomRange&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Random&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;nextIncInc&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; min, &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; max)&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; nextInt(max - min + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) + min;\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;nextExcInc&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; min, &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; max)&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; nextInt(max - min) + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; + min;\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;nextExcExc&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; min, &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; max)&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; nextInt(max - min - &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; + min;\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;nextIncExc&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; min, &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; max)&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; nextInt(max - min) + min;\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You can achieve that concisely in Java 8:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;Random&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;random&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Random&lt;/span&gt;();\n\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;max&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;;\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;min&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;;\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;totalNumber&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-type&quot;&gt;IntStream&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;stream&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; random.ints(totalNumber, min, max);\nstream.forEach(System.out::println);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Another option is just using &lt;a href=&quot;http://en.wikipedia.org/wiki/Apache_Commons&quot; rel=&quot;noreferrer&quot;&gt;Apache Commons&lt;/a&gt;: &lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.math.random.RandomData;\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.math.random.RandomDataImpl;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; {\n    &lt;span class=&quot;hljs-type&quot;&gt;RandomData&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;randomData&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RandomDataImpl&lt;/span&gt;();\n    &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; randomData.nextInt(&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;);\n    &lt;span class=&quot;hljs-comment&quot;&gt;// ...&lt;/span&gt;\n }\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;Random&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;RANDOM&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Random&lt;/span&gt;(System.nanoTime());\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;float&lt;/span&gt; pMin, &lt;span class=&quot;hljs-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;float&lt;/span&gt; pMax)&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; pMin + RANDOM.nextFloat() * (pMax - pMin);\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I found this example &lt;a href=&quot;http://www.javapractices.com/topic/TopicAction.do?Id=62&quot; rel=&quot;nofollow noreferrer&quot;&gt;Generate random numbers&lt;/a&gt; : &lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;This example generates random integers in a specific range. &lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; java.util.Random;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/** Generate random integers in a certain range. */&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RandomRange&lt;/span&gt; {\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(String... aArgs)&lt;/span&gt;{\n    log(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Generating random integers in the range 1..10.&quot;&lt;/span&gt;);\n\n    &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;START&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n    &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;END&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;;\n    &lt;span class=&quot;hljs-type&quot;&gt;Random&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;random&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Random&lt;/span&gt;();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;idx&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;; idx &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;; ++idx){\n      showRandomInteger(START, END, random);\n    }\n\n    log(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Done.&quot;&lt;/span&gt;);\n  }\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;showRandomInteger&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; aStart, &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; aEnd, Random aRandom)&lt;/span&gt;{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ( aStart &amp;gt; aEnd ) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;IllegalArgumentException&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Start cannot exceed End.&quot;&lt;/span&gt;);\n    }\n    &lt;span class=&quot;hljs-comment&quot;&gt;//get the range, casting to long to avoid overflow problems&lt;/span&gt;\n    &lt;span class=&quot;hljs-type&quot;&gt;long&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (&lt;span class=&quot;hljs-type&quot;&gt;long&lt;/span&gt;)aEnd - (&lt;span class=&quot;hljs-type&quot;&gt;long&lt;/span&gt;)aStart + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// compute a fraction of the range, 0 &amp;lt;= frac &amp;lt; range&lt;/span&gt;\n    &lt;span class=&quot;hljs-type&quot;&gt;long&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;fraction&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (&lt;span class=&quot;hljs-type&quot;&gt;long&lt;/span&gt;)(range * aRandom.nextDouble());\n    &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;randomNumber&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;  (&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt;)(fraction + aStart);    \n    log(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Generated : &quot;&lt;/span&gt; + randomNumber);\n  }\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(String aMessage)&lt;/span&gt;{\n    System.out.println(aMessage);\n  }\n} \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;An example run of this class :&lt;br&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;Generating random integers in the range &lt;span class=&quot;hljs-number&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;.10&lt;/span&gt;.\nGenerated : &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\nGenerated : &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\nGenerated : &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\nGenerated : &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\nGenerated : &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;\nGenerated : &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\nGenerated : &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;\nGenerated : &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\nGenerated : &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;\nGenerated : &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;\nDone.\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Here is a simple sample that shows how to generate random number from closed &lt;code&gt;[min, max]&lt;/code&gt; range, while &lt;code&gt;min &amp;lt;= max is true&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;You can reuse it as field in hole class, also having all &lt;code&gt;Random.class&lt;/code&gt; methods in one place&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Results example:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;RandomUtils&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;random&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RandomUtils&lt;/span&gt;();\nrandom.nextInt(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// returns 0&lt;/span&gt;\nrandom.nextInt(&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// returns 10&lt;/span&gt;\nrandom.nextInt(-&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// returns numbers from -10 to 10 (-10, -9....9, 10)&lt;/span&gt;\nrandom.nextInt(&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;, -&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// throws assert&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Sources:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; junit.framework.Assert;\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; java.util.Random;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RandomUtils&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Random&lt;/span&gt; {\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;/**\n     * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; min generated value. Can&apos;t be &amp;gt; then max\n     * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; max generated value\n     * &lt;span class=&quot;hljs-doctag&quot;&gt;@return&lt;/span&gt; values in closed range [min, max].\n     */&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;nextInt&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; min, &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; max)&lt;/span&gt; {\n        Assert.assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;min can&apos;t be &amp;gt; then max; values:[&quot;&lt;/span&gt; + min + &lt;span class=&quot;hljs-string&quot;&gt;&quot;, &quot;&lt;/span&gt; + max + &lt;span class=&quot;hljs-string&quot;&gt;&quot;]&quot;&lt;/span&gt;, min &amp;gt; max);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (min == max) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; max;\n        }\n\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; nextInt(max - min + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) + min;\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;It&apos;s better to use &lt;a href=&quot;http://docs.oracle.com/javase/7/docs/api/java/security/SecureRandom.html&quot; rel=&quot;noreferrer&quot;&gt;SecureRandom&lt;/a&gt; rather than just Random.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;generateRandomInteger&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; min, &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; max)&lt;/span&gt; {\n    &lt;span class=&quot;hljs-type&quot;&gt;SecureRandom&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;rand&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;SecureRandom&lt;/span&gt;();\n    rand.setSeed(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Date&lt;/span&gt;().getTime());\n    &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;randomNum&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; rand.nextInt((max - min) + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) + min;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; randomNum;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;rand.nextInt((max+&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) - min) + min;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This is working fine. &lt;/p&gt;\n    "],"193":["\n&lt;p&gt;Single quotes won&apos;t interpolate anything, but double quotes will. For example: variables, backticks, certain &lt;code&gt;\\&lt;/code&gt; escapes, etc. &lt;/p&gt;\n\n&lt;p&gt;Example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;$ &lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;$(echo &lt;span class=&quot;hljs-string&quot;&gt;&quot;upg&quot;&lt;/span&gt;)&lt;/span&gt;&quot;&lt;/span&gt;\nupg\n$ &lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;$(echo &quot;upg&quot;)&apos;&lt;/span&gt;\n$(&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;upg&quot;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The Bash manual has this to say:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;&lt;a href=&quot;http://www.gnu.org/software/bash/manual/html_node/Single-Quotes.html&quot; rel=&quot;noreferrer&quot;&gt;3.1.2.2 Single Quotes&lt;/a&gt;&lt;/p&gt;\n  \n  &lt;p&gt;Enclosing characters in single quotes (&lt;code&gt;&apos;&lt;/code&gt;) preserves the literal value of each character within the quotes. A single quote may not occur between single quotes, even when preceded by a backslash. &lt;/p&gt;\n  \n  &lt;p&gt;&lt;a href=&quot;http://www.gnu.org/software/bash/manual/html_node/Double-Quotes.html&quot; rel=&quot;noreferrer&quot;&gt;3.1.2.3 Double Quotes&lt;/a&gt;&lt;/p&gt;\n  \n  &lt;p&gt;Enclosing characters in double quotes (&lt;code&gt;&quot;&lt;/code&gt;) preserves the literal value of all characters within the quotes, with the exception of &lt;code&gt;$&lt;/code&gt;, &lt;code&gt;`&lt;/code&gt;, &lt;code&gt;\\&lt;/code&gt;, and, when history expansion is enabled, &lt;code&gt;!&lt;/code&gt;. The characters &lt;code&gt;$&lt;/code&gt; and &lt;code&gt;`&lt;/code&gt; retain their special meaning within double quotes (see &lt;a href=&quot;https://www.gnu.org/software/bash/manual/html_node/Shell-Expansions.html#Shell-Expansions&quot; rel=&quot;noreferrer&quot;&gt;Shell Expansions&lt;/a&gt;). The backslash retains its special meaning only when followed by one of the following characters: &lt;code&gt;$&lt;/code&gt;, &lt;code&gt;`&lt;/code&gt;, &lt;code&gt;&quot;&lt;/code&gt;, &lt;code&gt;\\&lt;/code&gt;, or newline. Within double quotes, backslashes that are followed by one of these characters are removed. Backslashes preceding characters without a special meaning are left unmodified. A double quote may be quoted within double quotes by preceding it with a backslash. If enabled, history expansion will be performed unless an &lt;code&gt;!&lt;/code&gt; appearing in double quotes is escaped using a backslash. The backslash preceding the &lt;code&gt;!&lt;/code&gt; is not removed.&lt;/p&gt;\n  \n  &lt;p&gt;The special parameters &lt;code&gt;*&lt;/code&gt; and &lt;code&gt;@&lt;/code&gt; have special meaning when in double quotes (see &lt;a href=&quot;https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html#Shell-Parameter-Expansion&quot; rel=&quot;noreferrer&quot;&gt;Shell Parameter Expansion&lt;/a&gt;). &lt;/p&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;p&gt;The &lt;a href=&quot;https://stackoverflow.com/a/6697781/6862601&quot;&gt;accepted answer&lt;/a&gt; is great. I am making a table that helps in quick comprehension of the topic.  The explanation involves a simple variable &lt;code&gt;a&lt;/code&gt; as well as an indexed array &lt;code&gt;arr&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;If we set&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;a=apple      &lt;span class=&quot;hljs-comment&quot;&gt;# a simple variable&lt;/span&gt;\narr=(apple)  &lt;span class=&quot;hljs-comment&quot;&gt;# an indexed array with a single element&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;and then &lt;code&gt;echo&lt;/code&gt; the expression in the second column, we would get the result / behavior shown in the third column.  The fourth column explains the behavior.&lt;/p&gt;\n&lt;div class=&quot;s-table-container&quot;&gt;\n&lt;table class=&quot;s-table&quot;&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;#&lt;/th&gt;\n&lt;th&gt;Expression&lt;/th&gt;\n&lt;th&gt;Result&lt;/th&gt;\n&lt;th&gt;Comments&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;1&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&quot;$a&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;apple&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;variables are expanded inside &lt;code&gt;&quot;&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;2&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&apos;$a&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;$a&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;variables are not expanded inside &lt;code&gt;&apos;&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;3&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&quot;&apos;$a&apos;&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&apos;apple&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&apos;&apos;&lt;/code&gt; has no special meaning inside &lt;code&gt;&quot;&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;4&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&apos;&quot;$a&quot;&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&quot;$a&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&quot;&quot;&lt;/code&gt; is treated literally inside &lt;code&gt;&apos;&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;5&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&apos;\\&apos;&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;strong&gt;invalid&lt;/strong&gt;&lt;/td&gt;\n&lt;td&gt;can not escape a &lt;code&gt;&apos;&lt;/code&gt; within &lt;code&gt;&apos;&apos;&lt;/code&gt;; use &lt;code&gt;&quot;&apos;&quot;&lt;/code&gt; or &lt;code&gt;$&apos;\\&apos;&apos;&lt;/code&gt; (ANSI-C quoting)&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;6&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&quot;red$arocks&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;red&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;$arocks&lt;/code&gt; does not expand &lt;code&gt;$a&lt;/code&gt;; use &lt;code&gt;${a}rocks&lt;/code&gt; to preserve &lt;code&gt;$a&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;7&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&quot;redapple$&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;redapple$&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;$&lt;/code&gt; followed by no variable name evaluates to &lt;code&gt;$&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;8&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&apos;\\&quot;&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;\\&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;\\&lt;/code&gt; has no special meaning inside &lt;code&gt;&apos;&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;9&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&quot;\\&apos;&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;\\&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;\\&apos;&lt;/code&gt; is interpreted inside &lt;code&gt;&quot;&quot;&lt;/code&gt; but has no significance for &lt;code&gt;&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;10&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&quot;\\&quot;&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;\\&quot;&lt;/code&gt; is interpreted inside &lt;code&gt;&quot;&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;11&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&quot;*&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;*&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;glob does not work inside &lt;code&gt;&quot;&quot;&lt;/code&gt; or &lt;code&gt;&apos;&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;12&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&quot;\\t\\n&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;\\t\\n&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;\\t&lt;/code&gt; and &lt;code&gt;\\n&lt;/code&gt; have no special meaning inside &lt;code&gt;&quot;&quot;&lt;/code&gt; or &lt;code&gt;&apos;&apos;&lt;/code&gt;; use ANSI-C quoting&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;13&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&quot;`echo hi`&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;hi&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;``&lt;/code&gt; and &lt;code&gt;$()&lt;/code&gt; are evaluated inside &lt;code&gt;&quot;&quot;&lt;/code&gt; (backquotes are retained in actual output)&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;14&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&apos;`echo hi`&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;`echo hi`&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;``&lt;/code&gt; and &lt;code&gt;$()&lt;/code&gt; are not evaluated inside &lt;code&gt;&apos;&apos;&lt;/code&gt; (backquotes are retained in actual output)&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;15&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&apos;${arr[0]}&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;${arr[0]}&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;array access not possible inside &lt;code&gt;&apos;&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;16&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&quot;${arr[0]}&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;apple&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;array access works inside &lt;code&gt;&quot;&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;17&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;$&apos;$a\\&apos;&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;$a&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;single quotes can be escaped inside ANSI-C quoting&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;18&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&quot;$&apos;\\t&apos;&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;$&apos;\\t&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;ANSI-C quoting is not interpreted inside &lt;code&gt;&quot;&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;19&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&apos;!cmd&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;!cmd&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;history expansion character &lt;code&gt;&apos;!&apos;&lt;/code&gt; is ignored inside &lt;code&gt;&apos;&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;20&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;&quot;!cmd&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;cmd args&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;expands to the most recent command matching &lt;code&gt;&quot;cmd&quot;&lt;/code&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;21&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;$&apos;!cmd&apos;&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;&lt;code&gt;!cmd&lt;/code&gt;&lt;/td&gt;\n&lt;td&gt;history expansion character &lt;code&gt;&apos;!&apos;&lt;/code&gt; is ignored inside ANSI-C quotes&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/div&gt;&lt;hr&gt;\n&lt;p&gt;See also:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;https://www.gnu.org/software/bash/manual/html_node/ANSI_002dC-Quoting.html&quot; rel=&quot;noreferrer&quot;&gt;ANSI-C quoting with &lt;code&gt;$&apos;&apos;&lt;/code&gt; - GNU Bash Manual&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://www.gnu.org/software/bash/manual/html_node/Locale-Translation.html#Locale-Translation&quot; rel=&quot;noreferrer&quot;&gt;Locale translation with &lt;code&gt;$&quot;&quot;&lt;/code&gt; - GNU Bash Manual&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/a/42104627/6862601&quot;&gt;A three-point formula for quotes&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;If you&apos;re referring to what happens when you echo something, the single quotes will literally echo what you have between them, while the double quotes will evaluate variables between them and output the value of the variable.&lt;/p&gt;\n\n&lt;p&gt;For example, this&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;#!/bin/sh&lt;/span&gt;\nMYVAR=sometext\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;double quotes gives you &lt;span class=&quot;hljs-variable&quot;&gt;$MYVAR&lt;/span&gt;&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;single quotes gives you $MYVAR&apos;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;will give this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;double quotes gives you sometext\nsingle quotes gives you &lt;span class=&quot;hljs-variable&quot;&gt;$MYVAR&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Others explained very well and just want to give with simple examples.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Single quotes&lt;/strong&gt; can be used around text to prevent the shell from interpreting any special characters.  Dollar signs, spaces, ampersands, asterisks and other special characters are all ignored when enclosed within single quotes.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;$ &lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;All sorts of things are ignored in single quotes, like $ &amp;amp; * ; |.&apos;&lt;/span&gt; \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It will give this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;All sorts of things are ignored &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; single quotes, like $ &amp;amp; * ; |.\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The only thing that cannot be put within single quotes is a single quote.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Double quotes&lt;/strong&gt; act similarly to single quotes, except double quotes still allow the shell to interpret dollar signs, back quotes and backslashes.  It is already known that backslashes prevent a single special character from being interpreted.  This can be useful within double quotes if a dollar sign needs to be used as text instead of for a variable.  It also allows double quotes to be escaped so they are not interpreted as the end of a quoted string.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;$ &lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Here&apos;s how we can use single &apos; and double \\&quot; quotes within double quotes&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It will give this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;Here&lt;span class=&quot;hljs-string&quot;&gt;&apos;s how we can use single &apos;&lt;/span&gt; and double &lt;span class=&quot;hljs-string&quot;&gt;&quot; quotes within double quotes\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It may also be noticed that the apostrophe, which would otherwise be interpreted as the beginning of a quoted string, is ignored within double quotes.  Variables, however, are interpreted and substituted with their values within double quotes.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;$ &lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;The current Oracle SID is &lt;span class=&quot;hljs-variable&quot;&gt;$ORACLE_SID&lt;/span&gt;&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It will give this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;The current Oracle SID is &lt;span class=&quot;hljs-built_in&quot;&gt;test&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Back quotes&lt;/strong&gt; are wholly unlike single or double quotes.  Instead of being used to prevent the interpretation of special characters, back quotes actually force the execution of the commands they enclose.  After the enclosed commands are executed, their output is substituted in place of the back quotes in the original line.  This will be clearer with an example.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;$ today=`&lt;span class=&quot;hljs-built_in&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;+%A, %B %d, %Y&apos;&lt;/span&gt;`\n$ &lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$today&lt;/span&gt; \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It will give this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;Monday, September 28, 2015 \n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Since this is the de facto answer when dealing with quotes in &lt;code&gt;bash&lt;/code&gt;, I&apos;ll add upon one more point missed in the answers above, when dealing with the arithmetic operators in the shell.&lt;/p&gt;\n\n&lt;p&gt;The &lt;code&gt;bash&lt;/code&gt; shell supports two ways do arithmetic operation, one defined by the built-in &lt;code&gt;let&lt;/code&gt; command and the &lt;code&gt;$((..))&lt;/code&gt; operator. The former evaluates an arithmetic expression while the latter is more of a compound statement.&lt;/p&gt;\n\n&lt;p&gt;It is important to understand that the arithmetic expression used with &lt;code&gt;let&lt;/code&gt; undergoes word-splitting, pathname expansion just like any other shell commands. So proper quoting and escaping needs to be done. &lt;/p&gt;\n\n&lt;p&gt;See this example when using &lt;code&gt;let&lt;/code&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;foo = 2 + 1&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$foo&lt;/span&gt;\n3\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Using single quotes here is absolutely fine here, as there is no need for variable expansions here, consider a case of&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;bar=1\n&lt;span class=&quot;hljs-built_in&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;foo = $bar + 1&apos;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;would fail miserably, as the &lt;code&gt;$bar&lt;/code&gt; under single quotes would &lt;em&gt;not&lt;/em&gt; expand and needs to be double-quoted as&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;foo = &apos;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-variable&quot;&gt;$bar&lt;/span&gt;&quot;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos; + 1&apos;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This should be one of the reasons, the &lt;code&gt;$((..))&lt;/code&gt; should always be considered over using &lt;code&gt;let&lt;/code&gt;. Because inside it, the contents aren&apos;t subject to word-splitting. The previous example using &lt;code&gt;let&lt;/code&gt; can be simply written as&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;(( bar=1, foo = bar + 1 ))\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h3&gt;Always remember to use &lt;code&gt;$((..))&lt;/code&gt; without single quotes&lt;/h3&gt;\n\n&lt;p&gt;Though the &lt;code&gt;$((..))&lt;/code&gt; can be used with double-quotes, there is no purpose to it as the result of it &lt;em&gt;cannot&lt;/em&gt; contain a content that would need the double-quote. Just ensure it is not single quoted.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;%d\\n&apos;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;$((1+1))&apos;&lt;/span&gt;\n-bash: &lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt;: $((&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;+&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)): invalid number\n&lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;%d\\n&apos;&lt;/span&gt; $((&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;+&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;))\n2\n&lt;span class=&quot;hljs-built_in&quot;&gt;printf&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;%d\\n&apos;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;$((1+1)&lt;/span&gt;)&quot;&lt;/span&gt;\n2\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;May be in some special cases of using the &lt;code&gt;$((..))&lt;/code&gt; operator inside a single quoted string, you need to interpolate quotes in a way that the operator either is left unquoted or under double quotes. E.g. consider a case, when you are tying to use the operator inside a &lt;code&gt;curl&lt;/code&gt; statement to pass a counter every time a request is made, do&lt;/p&gt;\n\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;curl http://myurl.com --data-binary &lt;span class=&quot;hljs-string&quot;&gt;&apos;{&quot;requestCounter&quot;:&apos;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;$((reqcnt++)&lt;/span&gt;)&quot;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;}&apos;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Notice the use of nested double-quotes inside, without which the literal string &lt;code&gt;$((reqcnt++))&lt;/code&gt; is passed to &lt;code&gt;requestCounter&lt;/code&gt; field.&lt;/p&gt;\n    ","\n&lt;p&gt;There is a clear distinction between the usage of &lt;code&gt;&apos; &apos;&lt;/code&gt; and &lt;code&gt;&quot; &quot;&lt;/code&gt;. &lt;/p&gt;\n\n&lt;p&gt;When &lt;code&gt;&apos; &apos;&lt;/code&gt; is used around anything, there is no &quot;transformation or translation&quot; done. It is printed as it is. &lt;/p&gt;\n\n&lt;p&gt;With &lt;code&gt;&quot; &quot;&lt;/code&gt;, whatever it surrounds, is &quot;translated or transformed&quot; into its value. &lt;/p&gt;\n\n&lt;p&gt;By translation/ transformation I mean the following:\nAnything within the single quotes will not be &quot;translated&quot; to their values. They will be taken as they are inside quotes. Example: &lt;code&gt;a=23&lt;/code&gt;, then &lt;code&gt;echo &apos;$a&apos;&lt;/code&gt; will produce &lt;code&gt;$a&lt;/code&gt; on standard output. Whereas &lt;code&gt;echo &quot;$a&quot;&lt;/code&gt; will produce &lt;code&gt;23&lt;/code&gt; on standard output.&lt;/p&gt;\n    ","\n&lt;p&gt;A minimal answer is needed for people to get going without spending a lot of time as I had to.&lt;/p&gt;\n&lt;p&gt;The following is, surprisingly (to those looking for an answer), a complete command:&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;$ &lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\&apos;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;whose output is:&lt;/p&gt;\n&lt;pre class=&quot;lang-bash s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;\\\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Backslashes, surprisingly to even long-time users of bash, have no meaning inside single quotes. Nor does anything else.&lt;/p&gt;\n    "],"194":["\n&lt;p&gt;Use the &lt;a href=&quot;https://docs.python.org/library/subprocess.html&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;subprocess&lt;/code&gt;&lt;/a&gt; module in the standard library:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; subprocess\nsubprocess.run([&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;-l&quot;&lt;/span&gt;])\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The advantage of &lt;a href=&quot;https://docs.python.org/library/subprocess.html#subprocess.run&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;subprocess.run&lt;/code&gt;&lt;/a&gt; over &lt;a href=&quot;https://docs.python.org/library/os.html#os.system&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;os.system&lt;/code&gt;&lt;/a&gt; is that it is more flexible (you can get the &lt;a href=&quot;https://docs.python.org/library/subprocess.html#subprocess.CompletedProcess.stdout&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;stdout&lt;/code&gt;&lt;/a&gt;, &lt;a href=&quot;https://docs.python.org/library/subprocess.html#subprocess.CompletedProcess.stderr&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;stderr&lt;/code&gt;&lt;/a&gt;, the &lt;a href=&quot;https://docs.python.org/library/subprocess.html#subprocess.CompletedProcess.returncode&quot; rel=&quot;noreferrer&quot;&gt;&quot;real&quot; status code&lt;/a&gt;, better &lt;a href=&quot;https://docs.python.org/library/subprocess.html#subprocess.CalledProcessError&quot; rel=&quot;noreferrer&quot;&gt;error handling&lt;/a&gt;, etc...).&lt;/p&gt;\n&lt;p&gt;Even &lt;a href=&quot;https://docs.python.org/library/os.html#os.system&quot; rel=&quot;noreferrer&quot;&gt;the documentation for &lt;code&gt;os.system&lt;/code&gt;&lt;/a&gt; recommends using &lt;code&gt;subprocess&lt;/code&gt; instead:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;The &lt;code&gt;subprocess&lt;/code&gt; module provides more powerful facilities for spawning new processes and retrieving their results; using that module is preferable to using this function. See the &lt;a href=&quot;https://docs.python.org/library/subprocess.html#subprocess-replacements&quot; rel=&quot;noreferrer&quot;&gt;Replacing Older Functions with the subprocess Module&lt;/a&gt; section in the &lt;a href=&quot;https://docs.python.org/library/subprocess.html&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;subprocess&lt;/code&gt;&lt;/a&gt; documentation for some helpful recipes.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;On Python 3.4 and earlier, use &lt;code&gt;subprocess.call&lt;/code&gt; instead of &lt;code&gt;.run&lt;/code&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;subprocess.call([&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;-l&quot;&lt;/span&gt;])\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Summary of ways to call external programs, including their advantages and disadvantages:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://docs.python.org/3/library/os.html#os.system&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;os.system&lt;/code&gt;&lt;/a&gt; passes the command and arguments to your system&apos;s shell. This is nice because you can actually run multiple commands at once in this manner and set up pipes and input/output redirection. For example:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;os.system(&lt;span class=&quot;hljs-string&quot;&gt;&quot;some_command &amp;lt; input_file | another_command &amp;gt; output_file&quot;&lt;/span&gt;)  \n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;However, while this is convenient, you have to manually handle the escaping of shell characters such as spaces, et cetera. On the other hand, this also lets you run commands which are simply shell commands and not actually external programs.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://docs.python.org/3/library/os.html#os.popen&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;os.popen&lt;/code&gt;&lt;/a&gt; will do the same thing as &lt;code&gt;os.system&lt;/code&gt; except that it gives you a file-like object that you can use to access standard input/output for that process. There are 3 other variants of popen that all handle the i/o slightly differently. If you pass everything as a string, then your command is passed to the shell; if you pass them as a list then you don&apos;t need to worry about escaping anything. Example:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(os.popen(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls -l&quot;&lt;/span&gt;).read())\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://docs.python.org/3/library/subprocess.html#subprocess.Popen&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;subprocess.Popen&lt;/code&gt;&lt;/a&gt;. This is intended as a replacement for &lt;code&gt;os.popen&lt;/code&gt;, but has the downside of being slightly more complicated by virtue of being so comprehensive. For example, you&apos;d say:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; subprocess.Popen(&lt;span class=&quot;hljs-string&quot;&gt;&quot;echo Hello World&quot;&lt;/span&gt;, shell=&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;, stdout=subprocess.PIPE).stdout.read()\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;instead of&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; os.popen(&lt;span class=&quot;hljs-string&quot;&gt;&quot;echo Hello World&quot;&lt;/span&gt;).read()\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;but it is nice to have all of the options there in one unified class instead of 4 different popen functions. See &lt;a href=&quot;https://docs.python.org/3/library/subprocess.html#popen-constructor&quot; rel=&quot;noreferrer&quot;&gt;the documentation&lt;/a&gt;.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://docs.python.org/3/library/subprocess.html#subprocess.call&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;subprocess.call&lt;/code&gt;&lt;/a&gt;. This is basically just like the &lt;code&gt;Popen&lt;/code&gt; class and takes all of the same arguments, but it simply waits until the command completes and gives you the return code. For example:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;return_code = subprocess.call(&lt;span class=&quot;hljs-string&quot;&gt;&quot;echo Hello World&quot;&lt;/span&gt;, shell=&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://docs.python.org/3/library/subprocess.html#subprocess.run&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;subprocess.run&lt;/code&gt;&lt;/a&gt;. Python 3.5+ only. Similar to the above but even more flexible and returns a &lt;a href=&quot;https://docs.python.org/3/library/subprocess.html#subprocess.CompletedProcess&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;CompletedProcess&lt;/code&gt;&lt;/a&gt; object when the command finishes executing.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;code&gt;os.fork&lt;/code&gt;, &lt;code&gt;os.exec&lt;/code&gt;, &lt;code&gt;os.spawn&lt;/code&gt; are similar to their C language counterparts, but I don&apos;t recommend using them directly.&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;p&gt;The &lt;code&gt;subprocess&lt;/code&gt; module should probably be what you use.&lt;/p&gt;\n&lt;p&gt;Finally, please be aware that for all methods where you pass the final command to be executed by the shell as a string and you are responsible for escaping it. &lt;strong&gt;There are serious security implications&lt;/strong&gt; if any part of the string that you pass can not be fully trusted. For example, if a user is entering some/any part of the string. If you are unsure, only use these methods with constants. To give you a hint of the implications consider this code:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; subprocess.Popen(&lt;span class=&quot;hljs-string&quot;&gt;&quot;echo %s &quot;&lt;/span&gt; % user_input, stdout=PIPE).stdout.read()\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;and imagine that the user enters something &quot;&lt;code&gt;my mama didnt love me &amp;amp;&amp;amp; rm -rf /&lt;/code&gt;&quot; which could erase the whole filesystem.&lt;/p&gt;\n    ","\n&lt;p&gt;Typical implementation:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; subprocess\n\np = subprocess.Popen(&lt;span class=&quot;hljs-string&quot;&gt;&apos;ls&apos;&lt;/span&gt;, shell=&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;, stdout=subprocess.PIPE, stderr=subprocess.STDOUT)\n&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; line &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; p.stdout.readlines():\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; line,\nretval = p.wait()\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;You are free to do what you want with the &lt;code&gt;stdout&lt;/code&gt; data in the pipe.  In fact, you can simply omit those parameters (&lt;code&gt;stdout=&lt;/code&gt; and &lt;code&gt;stderr=&lt;/code&gt;) and it&apos;ll behave like &lt;code&gt;os.system()&lt;/code&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;Some hints on detaching the child process from the calling one (starting the child process in background).&lt;/p&gt;\n\n&lt;p&gt;Suppose you want to start a long task from a CGI script. That is, the child process should live longer than the CGI script execution process.&lt;/p&gt;\n\n&lt;p&gt;The classical example from the subprocess module documentation is:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-coffeescript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; subprocess\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; sys\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# Some code here&lt;/span&gt;\n\npid = subprocess.Popen([sys.executable, &lt;span class=&quot;hljs-string&quot;&gt;&quot;longtask.py&quot;&lt;/span&gt;]) &lt;span class=&quot;hljs-comment&quot;&gt;# Call subprocess&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# Some more code here&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The idea here is that you do not want to wait in the line &apos;call subprocess&apos; until the longtask.py is finished. But it is not clear what happens after the line &apos;some more code here&apos; from the example.&lt;/p&gt;\n\n&lt;p&gt;My target platform was FreeBSD, but the development was on Windows, so I faced the problem on Windows first.&lt;/p&gt;\n\n&lt;p&gt;On Windows (Windows&amp;nbsp;XP), the parent process will not finish until the longtask.py has finished its work. It is not what you want in a CGI script. The problem is not specific to Python; in the PHP community the problems are the same.&lt;/p&gt;\n\n&lt;p&gt;The solution is to pass DETACHED_PROCESS &lt;a href=&quot;https://msdn.microsoft.com/en-us/library/windows/desktop/ms684863(v=vs.85).aspx&quot; rel=&quot;noreferrer&quot;&gt;Process Creation Flag&lt;/a&gt; to the underlying CreateProcess function in Windows API.\nIf you happen to have installed pywin32, you can import the flag from the win32process module, otherwise you should define it yourself:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ini&quot;&gt;&lt;span class=&quot;hljs-attr&quot;&gt;DETACHED_PROCESS&lt;/span&gt; = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;x00000008\n\n&lt;span class=&quot;hljs-attr&quot;&gt;pid&lt;/span&gt; = subprocess.Popen([sys.executable, &lt;span class=&quot;hljs-string&quot;&gt;&quot;longtask.py&quot;&lt;/span&gt;],\n                       &lt;span class=&quot;hljs-attr&quot;&gt;creationflags&lt;/span&gt;=DETACHED_PROCESS).pid\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;/* &lt;em&gt;UPD 2015.10.27&lt;/em&gt; @eryksun in a comment below notes, that the semantically correct flag is CREATE_NEW_CONSOLE (0x00000010) */&lt;/p&gt;\n\n&lt;p&gt;On FreeBSD we have another problem: when the parent process is finished, it finishes the child processes as well. And that is not what you want in a CGI script either. Some experiments showed that the problem seemed to be in sharing sys.stdout. And the working solution was the following:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-lua&quot;&gt;pid = subprocess.Popen([sys.executable, &lt;span class=&quot;hljs-string&quot;&gt;&quot;longtask.py&quot;&lt;/span&gt;], &lt;span class=&quot;hljs-built_in&quot;&gt;stdout&lt;/span&gt;=subprocess.PIPE, &lt;span class=&quot;hljs-built_in&quot;&gt;stderr&lt;/span&gt;=subprocess.PIPE, &lt;span class=&quot;hljs-built_in&quot;&gt;stdin&lt;/span&gt;=subprocess.PIPE)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I have not checked the code on other platforms and do not know the reasons of the behaviour on FreeBSD. If anyone knows, please share your ideas. Googling on starting background processes in Python does not shed any light yet.&lt;/p&gt;\n    ","\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-lua&quot;&gt;import &lt;span class=&quot;hljs-built_in&quot;&gt;os&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;os&lt;/span&gt;.system(&lt;span class=&quot;hljs-string&quot;&gt;&quot;your command&quot;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Note that this is dangerous, since the command isn&apos;t cleaned. I leave it up to you to google for the relevant documentation on the &apos;os&apos; and &apos;sys&apos; modules. There are a bunch of functions (exec* and spawn*) that will do similar things.&lt;/p&gt;\n    ","\n&lt;p&gt;I&apos;d recommend using the &lt;a href=&quot;http://docs.python.org/library/subprocess.html&quot; rel=&quot;noreferrer&quot;&gt;subprocess&lt;/a&gt; module instead of os.system because it does shell escaping for you and is therefore much safer.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;subprocess&lt;span class=&quot;hljs-selector-class&quot;&gt;.call&lt;/span&gt;(&lt;span class=&quot;hljs-selector-attr&quot;&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;ping&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;localhost&apos;&lt;/span&gt;]&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;os&lt;/span&gt;\n&lt;span class=&quot;hljs-variable&quot;&gt;cmd&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;ls -al&apos;&lt;/span&gt;\nos.system(cmd)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If you want to return the results of the command, you can use &lt;a href=&quot;https://docs.python.org/2/library/os.html#os.popen&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;os.popen&lt;/code&gt;&lt;/a&gt;. However, this is deprecated since version 2.6 in favor of the &lt;a href=&quot;https://docs.python.org/2/library/subprocess.html#module-subprocess&quot; rel=&quot;noreferrer&quot;&gt;subprocess module&lt;/a&gt;, which other answers have covered well.&lt;/p&gt;\n    ","\n&lt;p&gt;There are lots of different libraries which allow you to call external commands with Python. For each library I&apos;ve given a description and shown an example of calling an external command. The command I used as the example is &lt;code&gt;ls -l&lt;/code&gt; (list all files). If you want to find out more about any of the libraries I&apos;ve listed and linked the documentation for each of them.&lt;/p&gt;\n&lt;h3&gt;Sources&lt;/h3&gt;\n&lt;ul&gt;\n&lt;li&gt;subprocess: &lt;a href=&quot;https://docs.python.org/3.5/library/subprocess.html&quot; rel=&quot;noreferrer&quot;&gt;https://docs.python.org/3.5/library/subprocess.html&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;shlex: &lt;a href=&quot;https://docs.python.org/3/library/shlex.html&quot; rel=&quot;noreferrer&quot;&gt;https://docs.python.org/3/library/shlex.html&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;os: &lt;a href=&quot;https://docs.python.org/3.5/library/os.html&quot; rel=&quot;noreferrer&quot;&gt;https://docs.python.org/3.5/library/os.html&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;sh: &lt;a href=&quot;https://amoffat.github.io/sh/&quot; rel=&quot;noreferrer&quot;&gt;https://amoffat.github.io/sh/&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;plumbum: &lt;a href=&quot;https://plumbum.readthedocs.io/en/latest/&quot; rel=&quot;noreferrer&quot;&gt;https://plumbum.readthedocs.io/en/latest/&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;pexpect: &lt;a href=&quot;https://pexpect.readthedocs.io/en/stable/&quot; rel=&quot;noreferrer&quot;&gt;https://pexpect.readthedocs.io/en/stable/&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;fabric: &lt;a href=&quot;http://www.fabfile.org/&quot; rel=&quot;noreferrer&quot;&gt;http://www.fabfile.org/&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;envoy: &lt;a href=&quot;https://github.com/kennethreitz/envoy&quot; rel=&quot;noreferrer&quot;&gt;https://github.com/kennethreitz/envoy&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;commands: &lt;a href=&quot;https://docs.python.org/2/library/commands.html&quot; rel=&quot;noreferrer&quot;&gt;https://docs.python.org/2/library/commands.html&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3&gt;These are all the libraries&lt;/h3&gt;\n&lt;p&gt;Hopefully this will help you make a decision on which library to use :)&lt;/p&gt;\n&lt;h3&gt;&lt;em&gt;subprocess&lt;/em&gt;&lt;/h3&gt;\n&lt;p&gt;Subprocess allows you to call external commands and connect them to their input/output/error pipes (stdin, stdout, and stderr). Subprocess is the default choice for running commands, but sometimes other modules are better.&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-perl&quot;&gt;subprocess.run([&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;-l&quot;&lt;/span&gt;]) &lt;span class=&quot;hljs-comment&quot;&gt;# Run command&lt;/span&gt;\nsubprocess.run([&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;-l&quot;&lt;/span&gt;], stdout=subprocess.PIPE) &lt;span class=&quot;hljs-comment&quot;&gt;# This will run the command and return any output&lt;/span&gt;\nsubprocess.run(shlex.&lt;span class=&quot;hljs-keyword&quot;&gt;split&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls -l&quot;&lt;/span&gt;)) &lt;span class=&quot;hljs-comment&quot;&gt;# You can also use the shlex library to split the command&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;&lt;em&gt;os&lt;/em&gt;&lt;/h3&gt;\n&lt;p&gt;os is used for &quot;operating system dependent functionality&quot;. It can also be used to call external commands with &lt;code&gt;os.system&lt;/code&gt; and &lt;code&gt;os.popen&lt;/code&gt; (Note: There is also a subprocess.popen). os will always run the shell and is a simple alternative for people who don&apos;t need to, or don&apos;t know how to use &lt;code&gt;subprocess.run&lt;/code&gt;.&lt;/p&gt;\n&lt;pre class=&quot;lang-python s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;os.system(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls -l&quot;&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;# Run command&lt;/span&gt;\nos.popen(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls -l&quot;&lt;/span&gt;).read() &lt;span class=&quot;hljs-comment&quot;&gt;# This will run the command and return any output&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;&lt;em&gt;sh&lt;/em&gt;&lt;/h3&gt;\n&lt;p&gt;sh is a subprocess interface which lets you call programs as if they were functions. This is useful if you want to run a command multiple times.&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-makefile&quot;&gt;sh.ls(&lt;span class=&quot;hljs-string&quot;&gt;&quot;-l&quot;&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;# Run command normally&lt;/span&gt;\nls_cmd = sh.Command(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls&quot;&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;# Save command as a variable&lt;/span&gt;\nls_cmd() &lt;span class=&quot;hljs-comment&quot;&gt;# Run command as if it were a function&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;&lt;em&gt;plumbum&lt;/em&gt;&lt;/h3&gt;\n&lt;p&gt;plumbum is a library for &quot;script-like&quot; Python programs. You can call programs like functions as in &lt;code&gt;sh&lt;/code&gt;. Plumbum is useful if you want to run a pipeline without the shell.&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-makefile&quot;&gt;ls_cmd = plumbum.local(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls -l&quot;&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;# Get command&lt;/span&gt;\nls_cmd() &lt;span class=&quot;hljs-comment&quot;&gt;# Run command&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;&lt;em&gt;pexpect&lt;/em&gt;&lt;/h3&gt;\n&lt;p&gt;pexpect lets you spawn child applications, control them and find patterns in their output. This is a better alternative to subprocess for commands that expect a tty on Unix.&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt;pexpect.run(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls -l&quot;&lt;/span&gt;) # Run command &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; normal\nchild = pexpect.spawn(&lt;span class=&quot;hljs-string&quot;&gt;&apos;scp foo user@example.com:.&apos;&lt;/span&gt;) # Spawns child application\nchild.&lt;span class=&quot;hljs-keyword&quot;&gt;expect&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Password:&apos;&lt;/span&gt;) # When &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; the output\nchild.sendline(&lt;span class=&quot;hljs-string&quot;&gt;&apos;mypassword&apos;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;&lt;em&gt;fabric&lt;/em&gt;&lt;/h3&gt;\n&lt;p&gt;fabric is a Python 2.5 and 2.7 library. It allows you to execute local and remote shell commands. Fabric is simple alternative for running commands in a secure shell (SSH)&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;fabric.operations.local(&lt;span class=&quot;hljs-string&quot;&gt;&apos;ls -l&apos;&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;# Run command as normal&lt;/span&gt;\nfabric.operations.local(&lt;span class=&quot;hljs-string&quot;&gt;&apos;ls -l&apos;&lt;/span&gt;, capture = &lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;# Run command and receive output&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;&lt;em&gt;envoy&lt;/em&gt;&lt;/h3&gt;\n&lt;p&gt;envoy is known as &quot;subprocess for humans&quot;. It is used as a convenience wrapper around the &lt;code&gt;subprocess&lt;/code&gt; module.&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-makefile&quot;&gt;r = envoy.run(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls -l&quot;&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;# Run command&lt;/span&gt;\nr.std_out &lt;span class=&quot;hljs-comment&quot;&gt;# Get output&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;&lt;em&gt;commands&lt;/em&gt;&lt;/h3&gt;\n&lt;p&gt;&lt;code&gt;commands&lt;/code&gt; contains wrapper functions for &lt;code&gt;os.popen&lt;/code&gt;, but it has been removed from Python 3 since &lt;code&gt;subprocess&lt;/code&gt; is a better alternative.&lt;/p&gt;\n    ","\n&lt;h3&gt;With the standard library&lt;/h3&gt;\n\n&lt;p&gt;Use the &lt;a href=&quot;https://docs.python.org/3/library/subprocess.html#subprocess.run&quot; rel=&quot;noreferrer&quot;&gt;subprocess module&lt;/a&gt; (Python 3):&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;import subprocess\nsubprocess&lt;span class=&quot;hljs-selector-class&quot;&gt;.run&lt;/span&gt;(&lt;span class=&quot;hljs-selector-attr&quot;&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;ls&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-l&apos;&lt;/span&gt;]&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It is the recommended standard way. However, more complicated tasks (pipes, output, input, etc.) can be tedious to construct and write.&lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;Note on Python version: If you are still using Python 2, &lt;a href=&quot;https://docs.python.org/2/library/subprocess.html#subprocess.call&quot; rel=&quot;noreferrer&quot;&gt;subprocess.call&lt;/a&gt; works in a similar way.&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;ProTip: &lt;a href=&quot;https://docs.python.org/2/library/shlex.html#shlex.split&quot; rel=&quot;noreferrer&quot;&gt;shlex.split&lt;/a&gt; can help you to parse the command for &lt;code&gt;run&lt;/code&gt;, &lt;code&gt;call&lt;/code&gt;, and other &lt;code&gt;subprocess&lt;/code&gt; functions in case you don&apos;t want (or you can&apos;t!) provide them in form of lists:&lt;/em&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-haskell&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; shlex\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; subprocess\n&lt;span class=&quot;hljs-title&quot;&gt;subprocess&lt;/span&gt;.run(shlex.split(&apos;ls -l&apos;))\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h3&gt;With external dependencies&lt;/h3&gt;\n\n&lt;p&gt;If you do not mind external dependencies, use &lt;a href=&quot;https://pypi.python.org/pypi/plumbum&quot; rel=&quot;noreferrer&quot;&gt;plumbum&lt;/a&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-coffeescript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; plumbum.cmd &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; ifconfig\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(ifconfig[&lt;span class=&quot;hljs-string&quot;&gt;&apos;wlan0&apos;&lt;/span&gt;]())\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It is the best &lt;code&gt;subprocess&lt;/code&gt; wrapper. It&apos;s cross-platform, i.e. it works on both Windows and Unix-like systems. Install by &lt;code&gt;pip install plumbum&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Another popular library is &lt;a href=&quot;https://pypi.python.org/pypi/sh&quot; rel=&quot;noreferrer&quot;&gt;sh&lt;/a&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-coffeescript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; sh &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; ifconfig\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(ifconfig(&lt;span class=&quot;hljs-string&quot;&gt;&apos;wlan0&apos;&lt;/span&gt;))\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;However, &lt;code&gt;sh&lt;/code&gt; dropped Windows support, so it&apos;s not as awesome as it used to be. Install by &lt;code&gt;pip install sh&lt;/code&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;I always use &lt;code&gt;fabric&lt;/code&gt; for this things like:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; fabric.operations import &lt;span class=&quot;hljs-keyword&quot;&gt;local&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;local&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;ls&apos;&lt;/span&gt;, capture&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;)\nprint &quot;Content:/n%s&quot; &lt;span class=&quot;hljs-operator&quot;&gt;%&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;result&lt;/span&gt;, )\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;But this seem to be a good tool: &lt;a href=&quot;https://github.com/amoffat/sh&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;sh&lt;/code&gt; (Python subprocess interface)&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;Look at an example:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; sh &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; vgdisplay\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; vgdisplay()\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; vgdisplay(&lt;span class=&quot;hljs-string&quot;&gt;&apos;-v&apos;&lt;/span&gt;)\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; vgdisplay(v=&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Check the &quot;pexpect&quot; Python library, too.&lt;/p&gt;\n\n&lt;p&gt;It allows for interactive controlling of external programs/commands, even ssh, ftp, telnet, etc. You can just type something like:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt;child = pexpect.spawn(&lt;span class=&quot;hljs-string&quot;&gt;&apos;ftp 192.168.0.24&apos;&lt;/span&gt;)\n\nchild.&lt;span class=&quot;hljs-keyword&quot;&gt;expect&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;(?i)name .*: &apos;&lt;/span&gt;)\n\nchild.sendline(&lt;span class=&quot;hljs-string&quot;&gt;&apos;anonymous&apos;&lt;/span&gt;)\n\nchild.&lt;span class=&quot;hljs-keyword&quot;&gt;expect&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;(?i)password&apos;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If you need the output from the command you are calling,\nthen you can use &lt;a href=&quot;https://docs.python.org/3.6/library/subprocess.html#subprocess.check_output&quot; rel=&quot;noreferrer&quot;&gt;subprocess.check_output&lt;/a&gt; (Python 2.7+).&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;subprocess.check_output([&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;-l&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;/dev/null&quot;&lt;/span&gt;])\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;crw-rw-rw- 1 root root 1, 3 Oct 18  2007 /dev/null\\n&apos;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Also note the &lt;a href=&quot;https://docs.python.org/3.6/library/subprocess.html#frequently-used-arguments&quot; rel=&quot;noreferrer&quot;&gt;shell&lt;/a&gt; parameter.&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;If shell is &lt;code&gt;True&lt;/code&gt;, the specified command will be executed through the shell. This can be useful if you are using Python primarily for the enhanced control flow it offers over most system shells and still want convenient access to other shell features such as shell pipes, filename wildcards, environment variable expansion, and expansion of ~ to a users home directory. However, note that Python itself offers implementations of many shell-like features (in particular, &lt;code&gt;glob&lt;/code&gt;, &lt;code&gt;fnmatch&lt;/code&gt;, &lt;code&gt;os.walk()&lt;/code&gt;, &lt;code&gt;os.path.expandvars()&lt;/code&gt;, &lt;code&gt;os.path.expanduser()&lt;/code&gt;, and &lt;code&gt;shutil&lt;/code&gt;).&lt;/p&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;h1&gt;Update:&lt;/h1&gt;\n\n&lt;p&gt;&lt;code&gt;subprocess.run&lt;/code&gt; is the recommended approach &lt;a href=&quot;https://docs.python.org/3.6/whatsnew/3.5.html#whatsnew-subprocess&quot; rel=&quot;noreferrer&quot;&gt;as of Python 3.5&lt;/a&gt; if your code does not need to maintain compatibility with earlier Python versions. It&apos;s more consistent and offers similar ease-of-use as Envoy. (Piping isn&apos;t as straightforward though. See &lt;a href=&quot;https://stackoverflow.com/questions/7389662/link-several-popen-commands-with-pipes&quot;&gt;this question for how&lt;/a&gt;.)&lt;/p&gt;\n\n&lt;p&gt;Here&apos;s some examples from &lt;a href=&quot;https://docs.python.org/3.6/library/subprocess.html#subprocess.run&quot; rel=&quot;noreferrer&quot;&gt;the documentation&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;Run a process:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;subprocess.run([&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;-l&quot;&lt;/span&gt;])  &lt;span class=&quot;hljs-comment&quot;&gt;# Doesn&apos;t capture output&lt;/span&gt;\nCompletedProcess(args=[&lt;span class=&quot;hljs-string&quot;&gt;&apos;ls&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-l&apos;&lt;/span&gt;], returncode=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Raise on failed run:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; subprocess.run(&quot;exit 1&quot;, shell&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;)\nTraceback (most recent &lt;span class=&quot;hljs-keyword&quot;&gt;call&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;last&lt;/span&gt;):\n  ...\nsubprocess.CalledProcessError: Command &lt;span class=&quot;hljs-string&quot;&gt;&apos;exit 1&apos;&lt;/span&gt; returned non&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;zero exit status &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Capture output:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-lua&quot;&gt;&amp;gt;&amp;gt;&amp;gt; subprocess.run([&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;-l&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;/dev/null&quot;&lt;/span&gt;], &lt;span class=&quot;hljs-built_in&quot;&gt;stdout&lt;/span&gt;=subprocess.PIPE)\nCompletedProcess(args=[&lt;span class=&quot;hljs-string&quot;&gt;&apos;ls&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-l&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;/dev/null&apos;&lt;/span&gt;], returncode=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,\n&lt;span class=&quot;hljs-built_in&quot;&gt;stdout&lt;/span&gt;=b&lt;span class=&quot;hljs-string&quot;&gt;&apos;crw-rw-rw- 1 root root 1, 3 Jan 23 16:23 /dev/null\\n&apos;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;Original answer:&lt;/h1&gt;\n\n&lt;p&gt;I recommend trying &lt;a href=&quot;https://github.com/kennethreitz/envoy&quot; rel=&quot;noreferrer&quot;&gt;Envoy&lt;/a&gt;. It&apos;s a wrapper for subprocess, which in turn &lt;a href=&quot;http://docs.python.org/2/library/subprocess.html&quot; rel=&quot;noreferrer&quot;&gt;aims to replace&lt;/a&gt; the older modules and functions. Envoy is subprocess for humans.&lt;/p&gt;\n\n&lt;p&gt;Example usage from &lt;a href=&quot;https://github.com/kennethreitz/envoy#readme&quot; rel=&quot;noreferrer&quot;&gt;the README&lt;/a&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;r = envoy.run(&lt;span class=&quot;hljs-string&quot;&gt;&apos;git config&apos;&lt;/span&gt;, data=&lt;span class=&quot;hljs-string&quot;&gt;&apos;data to pipe in&apos;&lt;/span&gt;, timeout=&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;)\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;r.status_code\n&lt;span class=&quot;hljs-number&quot;&gt;129&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;r.std_out\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;usage: git config [options]&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;r.std_err\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Pipe stuff around too:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;r = envoy.run(&lt;span class=&quot;hljs-string&quot;&gt;&apos;uptime | pbcopy&apos;&lt;/span&gt;)\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;r.command\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;pbcopy&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;r.status_code\n&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;\n\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;r.history\n[&amp;lt;Response &lt;span class=&quot;hljs-string&quot;&gt;&apos;uptime&apos;&lt;/span&gt;&amp;gt;]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;This is how I run my commands. This code has everything you need pretty much&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; subprocess &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; Popen, PIPE\ncmd = &lt;span class=&quot;hljs-string&quot;&gt;&quot;ls -l ~/&quot;&lt;/span&gt;\np = Popen(cmd , shell=&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;, stdout=PIPE, stderr=PIPE)\nout, err = p.communicate()\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Return code: &quot;&lt;/span&gt;, p.returncode\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; out.rstrip(), err.rstrip()\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;blockquote&gt;\n&lt;h2&gt;How to execute a program or call a system command from Python&lt;/h2&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;Simple, use &lt;code&gt;subprocess.run&lt;/code&gt;, which returns a &lt;code&gt;CompletedProcess&lt;/code&gt; object:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; subprocess &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; run\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; shlex &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; split\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;completed_process = run(split(&lt;span class=&quot;hljs-string&quot;&gt;&apos;python --version&apos;&lt;/span&gt;))\nPython &lt;span class=&quot;hljs-number&quot;&gt;3.8&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;.8&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;completed_process\nCompletedProcess(args=[&lt;span class=&quot;hljs-string&quot;&gt;&apos;python&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;--version&apos;&lt;/span&gt;], returncode=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;(&lt;code&gt;run&lt;/code&gt; wants a list of lexically parsed shell arguments - this is what you&apos;d type in a shell, separated by spaces, but not where the spaces are quoted, so use a specialized function, &lt;code&gt;split&lt;/code&gt;, to split up what you would literally type into your shell)&lt;/p&gt;\n&lt;h3&gt;Why?&lt;/h3&gt;\n&lt;p&gt;As of Python 3.5, the documentation recommends &lt;a href=&quot;https://docs.python.org/3/library/subprocess.html#subprocess.run&quot; rel=&quot;noreferrer&quot;&gt;subprocess.run&lt;/a&gt;:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;The recommended approach to invoking subprocesses is to use the run() function for all use cases it can handle. For more advanced use cases, the underlying Popen interface can be used directly.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;Here&apos;s an example of the simplest possible usage - and it does exactly as asked:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; subprocess &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; run\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; shlex &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; split\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;completed_process = run(split(&lt;span class=&quot;hljs-string&quot;&gt;&apos;python --version&apos;&lt;/span&gt;))\nPython &lt;span class=&quot;hljs-number&quot;&gt;3.8&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;.8&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;completed_process\nCompletedProcess(args=[&lt;span class=&quot;hljs-string&quot;&gt;&apos;python&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;--version&apos;&lt;/span&gt;], returncode=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;code&gt;run&lt;/code&gt; waits for the command to successfully finish, then returns a &lt;code&gt;CompletedProcess&lt;/code&gt; object. It may instead raise &lt;code&gt;TimeoutExpired&lt;/code&gt; (if you give it a &lt;code&gt;timeout=&lt;/code&gt; argument) or &lt;code&gt;CalledProcessError&lt;/code&gt; (if it fails and you pass &lt;code&gt;check=True&lt;/code&gt;).&lt;/p&gt;\n&lt;p&gt;As you might infer from the above example, stdout and stderr both get piped to your own stdout and stderr by default.&lt;/p&gt;\n&lt;p&gt;We can inspect the returned object and see the command that was given and the returncode:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;completed_process.args\n[&lt;span class=&quot;hljs-string&quot;&gt;&apos;python&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;--version&apos;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;completed_process.returncode\n&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt;Capturing output&lt;/h3&gt;\n&lt;p&gt;If you want to capture the output, you can pass &lt;code&gt;subprocess.PIPE&lt;/code&gt; to the appropriate &lt;code&gt;stderr&lt;/code&gt; or &lt;code&gt;stdout&lt;/code&gt;:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; subprocess &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; PIPE\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;completed_process = run(shlex.split(&lt;span class=&quot;hljs-string&quot;&gt;&apos;python --version&apos;&lt;/span&gt;), stdout=PIPE, stderr=PIPE)\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;completed_process.stdout\n&lt;span class=&quot;hljs-string&quot;&gt;b&apos;Python 3.8.8\\n&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;completed_process.stderr\n&lt;span class=&quot;hljs-string&quot;&gt;b&apos;&apos;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;And those respective attributes return bytes.&lt;/p&gt;\n&lt;h2&gt;Pass a command list&lt;/h2&gt;\n&lt;p&gt;One might easily move from manually providing a command string (like the question suggests) to providing a string built programmatically. &lt;strong&gt;Don&apos;t build strings programmatically.&lt;/strong&gt; This is a potential security issue. It&apos;s better to assume you don&apos;t trust the input.&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; textwrap\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;args = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;python&apos;&lt;/span&gt;, textwrap.__file__]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;cp = run(args, stdout=subprocess.PIPE)\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;cp.stdout\n&lt;span class=&quot;hljs-string&quot;&gt;b&apos;Hello there.\\n  This is indented.\\n&apos;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Note, only &lt;code&gt;args&lt;/code&gt; should be passed positionally.&lt;/p&gt;\n&lt;h2&gt;Full Signature&lt;/h2&gt;\n&lt;p&gt;Here&apos;s the actual signature in the source and as shown by &lt;code&gt;help(run)&lt;/code&gt;:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;run&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;*popenargs, &lt;span class=&quot;hljs-built_in&quot;&gt;input&lt;/span&gt;=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, timeout=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, check=&lt;span class=&quot;hljs-literal&quot;&gt;False&lt;/span&gt;, **kwargs&lt;/span&gt;):\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;The &lt;code&gt;popenargs&lt;/code&gt; and &lt;code&gt;kwargs&lt;/code&gt; are given to the &lt;code&gt;Popen&lt;/code&gt; constructor. &lt;code&gt;input&lt;/code&gt; can be a string of bytes (or unicode, if specify encoding or &lt;code&gt;universal_newlines=True&lt;/code&gt;) that will be piped to the subprocess&apos;s stdin.&lt;/p&gt;\n&lt;p&gt;The documentation describes &lt;code&gt;timeout=&lt;/code&gt; and &lt;code&gt;check=True&lt;/code&gt; better than I could:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;The timeout argument is passed to Popen.communicate(). If the timeout\nexpires, the child process will be killed and waited for. The\nTimeoutExpired exception will be re-raised after the child process has\nterminated.&lt;/p&gt;\n&lt;p&gt;If check is true, and the process exits with a non-zero exit code, a\nCalledProcessError exception will be raised. Attributes of that\nexception hold the arguments, the exit code, and stdout and stderr if\nthey were captured.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;and this example for &lt;code&gt;check=True&lt;/code&gt; is better than one I could come up with:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; subprocess.run(&quot;exit 1&quot;, shell&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;)\nTraceback (most recent &lt;span class=&quot;hljs-keyword&quot;&gt;call&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;last&lt;/span&gt;):\n  ...\nsubprocess.CalledProcessError: Command &lt;span class=&quot;hljs-string&quot;&gt;&apos;exit 1&apos;&lt;/span&gt; returned non&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;zero exit status &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n&lt;h3&gt;Expanded Signature&lt;/h3&gt;\n&lt;p&gt;Here&apos;s an expanded signature, as given in the documentation:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;subprocess.run(args, *, stdin=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, &lt;span class=&quot;hljs-built_in&quot;&gt;input&lt;/span&gt;=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, stdout=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, stderr=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, \nshell=&lt;span class=&quot;hljs-literal&quot;&gt;False&lt;/span&gt;, cwd=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, timeout=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, check=&lt;span class=&quot;hljs-literal&quot;&gt;False&lt;/span&gt;, encoding=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, \nerrors=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;Note that this indicates that only the args list should be passed positionally. So pass the remaining arguments as keyword arguments.&lt;/p&gt;\n&lt;h3&gt;Popen&lt;/h3&gt;\n&lt;p&gt;When use &lt;code&gt;Popen&lt;/code&gt; instead? I would struggle to find use-case based on the arguments alone. Direct usage of &lt;code&gt;Popen&lt;/code&gt; would, however, give you access to its methods, including &lt;code&gt;poll&lt;/code&gt;, &apos;send_signal&apos;, &apos;terminate&apos;, and &apos;wait&apos;.&lt;/p&gt;\n&lt;p&gt;Here&apos;s the &lt;code&gt;Popen&lt;/code&gt; signature as given in &lt;a href=&quot;https://github.com/python/cpython/blob/master/Lib/subprocess.py#L752&quot; rel=&quot;noreferrer&quot;&gt;the source&lt;/a&gt;. I think this is the most precise encapsulation of the information (as opposed to &lt;code&gt;help(Popen)&lt;/code&gt;):&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;__init__&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;self, args, bufsize=-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, executable=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;,\n             stdin=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, stdout=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, stderr=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;,\n             preexec_fn=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, close_fds=&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;,\n             shell=&lt;span class=&quot;hljs-literal&quot;&gt;False&lt;/span&gt;, cwd=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, env=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, universal_newlines=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;,\n             startupinfo=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, creationflags=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,\n             restore_signals=&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;, start_new_session=&lt;span class=&quot;hljs-literal&quot;&gt;False&lt;/span&gt;,\n             pass_fds=(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;), *, user=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, group=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, extra_groups=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;,\n             encoding=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, errors=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, text=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;, umask=-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, pipesize=-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;):\n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;But more informative is &lt;a href=&quot;https://docs.python.org/3/library/subprocess.html#popen-constructor&quot; rel=&quot;noreferrer&quot;&gt;the &lt;code&gt;Popen&lt;/code&gt; documentation&lt;/a&gt;:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;subprocess.Popen(args, bufsize&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;-1&lt;/span&gt;, executable&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;None&lt;/span&gt;, stdin&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;None&lt;/span&gt;, stdout&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;None&lt;/span&gt;, \nstderr&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;None&lt;/span&gt;, preexec_fn&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;None&lt;/span&gt;, close_fds&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;, shell&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;False&lt;/span&gt;, cwd&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;None&lt;/span&gt;,\nenv&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;None&lt;/span&gt;, universal_newlines&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;None&lt;/span&gt;, startupinfo&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;None&lt;/span&gt;, creationflags&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, \nrestore_signals&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;, start_new_session&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;False&lt;/span&gt;, pass_fds&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;(), &lt;span class=&quot;hljs-operator&quot;&gt;*&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;None&lt;/span&gt;, \nextra_groups&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;None&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;None&lt;/span&gt;, umask&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;-1&lt;/span&gt;, encoding&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;None&lt;/span&gt;, errors&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;None&lt;/span&gt;, \ntext&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;None&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Execute a child program in a new process. On POSIX, the class uses\nos.execvp()-like behavior to execute the child program. On Windows,\nthe class uses the Windows CreateProcess() function. The arguments to\nPopen are as follows.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;Understanding the remaining documentation on &lt;code&gt;Popen&lt;/code&gt; will be left as an exercise for the reader.&lt;/p&gt;\n    ","\n&lt;p&gt;Use &lt;em&gt;&lt;a href=&quot;https://docs.python.org/2/library/subprocess.html&quot; rel=&quot;noreferrer&quot;&gt;subprocess&lt;/a&gt;&lt;/em&gt;.&lt;/p&gt;\n\n&lt;p&gt;...or for a very simple command:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-lua&quot;&gt;import &lt;span class=&quot;hljs-built_in&quot;&gt;os&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;os&lt;/span&gt;.system(&lt;span class=&quot;hljs-string&quot;&gt;&apos;cat testfile&apos;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;&lt;code&gt;os.system&lt;/code&gt; is OK, but kind of dated.  It&apos;s also not very secure.  Instead, try &lt;code&gt;subprocess&lt;/code&gt;.  &lt;code&gt;subprocess&lt;/code&gt; does not call sh directly and is therefore more secure than &lt;code&gt;os.system&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Get more information &lt;a href=&quot;https://docs.python.org/library/subprocess.html&quot; rel=&quot;noreferrer&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;em&gt;As of &lt;strong&gt;Python 3.7.0 released on June 27th 2018 (&lt;a href=&quot;https://docs.python.org/3/whatsnew/3.7.html&quot; rel=&quot;noreferrer&quot;&gt;https://docs.python.org/3/whatsnew/3.7.html&lt;/a&gt;)&lt;/strong&gt;, you can achieve your desired result in the most powerful while equally simple way. This answer intends to show you the essential summary of various options in a short manner. For in-depth answers, please see the other ones.&lt;/em&gt;&lt;/p&gt;\n&lt;hr&gt;\n&lt;h1&gt;TL;DR in 2021&lt;/h1&gt;\n&lt;p&gt;The big advantage of &lt;code&gt;os.system(...)&lt;/code&gt; was its simplicity. &lt;code&gt;subprocess&lt;/code&gt; is better and still easy to use, especially as of &lt;strong&gt;Python 3.5&lt;/strong&gt;.&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; subprocess\nsubprocess.run(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls -a&quot;&lt;/span&gt;, shell=&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;em&gt;&lt;strong&gt;Note:&lt;/strong&gt;&lt;/em&gt; This is the exact answer to your question - running a command&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;like in a shell&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;hr&gt;\n&lt;h3&gt;Preferred Way&lt;/h3&gt;\n&lt;p&gt;If possible, remove the shell overhead and run the command directly (requires a list).&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;import subprocess\nsubprocess&lt;span class=&quot;hljs-selector-class&quot;&gt;.run&lt;/span&gt;(&lt;span class=&quot;hljs-selector-attr&quot;&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&quot;help&quot;&lt;/span&gt;]&lt;/span&gt;)\nsubprocess&lt;span class=&quot;hljs-selector-class&quot;&gt;.run&lt;/span&gt;(&lt;span class=&quot;hljs-selector-attr&quot;&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;-a&quot;&lt;/span&gt;]&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Pass program arguments in a list. &lt;strong&gt;Don&apos;t include &lt;code&gt;\\&quot;&lt;/code&gt;-escaping for arguments containing spaces.&lt;/strong&gt;&lt;/p&gt;\n&lt;hr&gt;\n&lt;h1&gt;Advanced Use Cases&lt;/h1&gt;\n&lt;h2&gt;Checking The Output&lt;/h2&gt;\n&lt;p&gt;The following code speaks for itself:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; subprocess\nresult = subprocess.run([&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;-a&quot;&lt;/span&gt;], capture_output=&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;, text=&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;)\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;stackoverflow-logo.png&quot;&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; result.stdout:\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;You&apos;re a fan!&quot;&lt;/span&gt;)\n&lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;:\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;You&apos;re not a fan?&quot;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;code&gt;result.stdout&lt;/code&gt; is all normal program output &lt;strong&gt;excluding errors&lt;/strong&gt;. Read &lt;code&gt;result.stderr&lt;/code&gt; to get them.&lt;/p&gt;\n&lt;p&gt;&lt;code&gt;capture_output=True&lt;/code&gt; - turns capturing on. Otherwise &lt;code&gt;result.stderr&lt;/code&gt; and &lt;code&gt;result.stdout&lt;/code&gt; would be &lt;code&gt;None&lt;/code&gt;. Available from &lt;em&gt;Python 3.7&lt;/em&gt;.&lt;/p&gt;\n&lt;p&gt;&lt;code&gt;text=True&lt;/code&gt; - a convenience argument added in &lt;em&gt;Python 3.7&lt;/em&gt; which converts the received binary data to Python strings you can easily work with.&lt;/p&gt;\n&lt;h2&gt;Checking the returncode&lt;/h2&gt;\n&lt;p&gt;Do&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; result.returncode == 127: &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;The program failed for some weird reason&quot;&lt;/span&gt;)\n&lt;span class=&quot;hljs-keyword&quot;&gt;elif&lt;/span&gt; result.returncode == 0: &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;The program succeeded&quot;&lt;/span&gt;)\n&lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;The program failed unexpectedly&quot;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;If you just want to check if the program succeeded (returncode == 0) and otherwise throw an Exception, there is a more convenient function:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;result&lt;span class=&quot;hljs-selector-class&quot;&gt;.check_returncode&lt;/span&gt;()\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;But it&apos;s Python, so there&apos;s an even more convenient argument &lt;code&gt;check&lt;/code&gt; which does the same thing automatically for you:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; subprocess.run(..., &lt;span class=&quot;hljs-keyword&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2&gt;stderr should be inside stdout&lt;/h2&gt;\n&lt;p&gt;You might want to have all program output inside stdout, even errors. To accomplish this, run&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ini&quot;&gt;&lt;span class=&quot;hljs-attr&quot;&gt;result&lt;/span&gt; = subprocess.run(..., stderr=subprocess.STDOUT)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;code&gt;result.stderr&lt;/code&gt; will then be &lt;code&gt;None&lt;/code&gt; and &lt;code&gt;result.stdout&lt;/code&gt; will contain everything.&lt;/p&gt;\n&lt;h2&gt;Using shell=False with an argument string&lt;/h2&gt;\n&lt;p&gt;&lt;code&gt;shell=False&lt;/code&gt; expects a &lt;strong&gt;list&lt;/strong&gt; of arguments. You might however, split an argument string on your own using shlex.&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-haskell&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; subprocess\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; shlex\n&lt;span class=&quot;hljs-title&quot;&gt;subprocess&lt;/span&gt;.run(shlex.split(&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls -a&quot;&lt;/span&gt;))\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;That&apos;s it.&lt;/p&gt;\n&lt;h1&gt;Common Problems&lt;/h1&gt;\n&lt;p&gt;Chances are high you just started using Python when you come across this question. Let&apos;s look at some common problems.&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;FileNotFoundError: [Errno 2] No such file or directory: &apos;ls -a&apos;: &apos;ls -a&apos;&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;&lt;em&gt;You&apos;re running a subprocess without &lt;code&gt;shell=True&lt;/code&gt; . Either use a list (&lt;code&gt;[&quot;ls&quot;, &quot;-a&quot;]&lt;/code&gt;) or set &lt;code&gt;shell=True&lt;/code&gt;.&lt;/em&gt;&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;TypeError: [...] NoneType [...]&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;&lt;em&gt;Check that you&apos;ve set &lt;code&gt;capture_output=True&lt;/code&gt;.&lt;/em&gt;&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;TypeError: a bytes-like object is required, not [...]&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;&lt;em&gt;You always receive byte results from your program. If you want to work with it like a normal string, set &lt;code&gt;text=True&lt;/code&gt;.&lt;/em&gt;&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;subprocess.CalledProcessError: Command &apos;[...]&apos; returned non-zero exit status 1.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;&lt;em&gt;Your command didn&apos;t run successfully. You could disable returncode checking or check your actual program&apos;s validity.&lt;/em&gt;&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;TypeError: &lt;strong&gt;init&lt;/strong&gt;() got an unexpected keyword argument [...]&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;&lt;em&gt;You&apos;re likely using a version of Python older than 3.7.0; update it to the most recent one available. Otherwise there are other answers in this Stack Overflow post showing you older alternative solutions.&lt;/em&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;There is also &lt;a href=&quot;http://plumbum.readthedocs.org/en/latest/&quot;&gt;Plumbum&lt;/a&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; plumbum &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; local\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;ls = local[&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls&quot;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;ls\nLocalCommand(&amp;lt;LocalPath /&lt;span class=&quot;hljs-built_in&quot;&gt;bin&lt;/span&gt;/ls&amp;gt;)\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;ls()\n&lt;span class=&quot;hljs-string&quot;&gt;u&apos;build.py\\ndist\\ndocs\\nLICENSE\\nplumbum\\nREADME.rst\\nsetup.py\\ntests\\ntodo.txt\\n&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;notepad = local[&lt;span class=&quot;hljs-string&quot;&gt;&quot;c:\\\\windows\\\\notepad.exe&quot;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;notepad()                                   &lt;span class=&quot;hljs-comment&quot;&gt;# Notepad window pops up&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;u&apos;&apos;&lt;/span&gt;                                             &lt;span class=&quot;hljs-comment&quot;&gt;# Notepad window is closed by user, command returns&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Use:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;os&lt;/span&gt;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;cmd&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;ls -al&apos;&lt;/span&gt;\n\nos.system(cmd)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;os - This module provides a portable way of using operating system-dependent functionality.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;For the more &lt;code&gt;os&lt;/code&gt; functions, &lt;a href=&quot;https://docs.python.org/2/library/os.html&quot; rel=&quot;noreferrer&quot;&gt;here&lt;/a&gt; is the documentation.&lt;/p&gt;\n    ","\n&lt;p&gt;It can be this simple:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;os&lt;/span&gt;\n&lt;span class=&quot;hljs-variable&quot;&gt;cmd&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;your command&quot;&lt;/span&gt;\nos.system(cmd)\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;There is another difference here which is not mentioned previously.&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;subprocess.Popen&lt;/code&gt; executes the &amp;lt;command&amp;gt; as a subprocess. In my case, I need to execute file &amp;lt;a&amp;gt; which needs to communicate with another program, &amp;lt;b&amp;gt;. &lt;/p&gt;\n\n&lt;p&gt;I tried subprocess, and execution was successful. However &amp;lt;b&amp;gt; could not communicate with &amp;lt;a&amp;gt;.\nEverything is normal when I run both from the terminal.&lt;/p&gt;\n\n&lt;p&gt;One more: \n(NOTE: kwrite behaves different from other applications. If you try the below with Firefox, the results will not be the same.)&lt;/p&gt;\n\n&lt;p&gt;If you try &lt;code&gt;os.system(&quot;kwrite&quot;)&lt;/code&gt;, program flow freezes until the user closes kwrite. To overcome that I tried instead &lt;code&gt;os.system(konsole -e kwrite)&lt;/code&gt;. This time program continued to flow, but kwrite became the subprocess of the console.&lt;/p&gt;\n\n&lt;p&gt;Anyone runs the kwrite not being a subprocess (i.e. in the system monitor it must appear at the leftmost edge of the tree).&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;code&gt;os.system&lt;/code&gt; does not allow you to store results, so if you want to store results in some list or something, a &lt;code&gt;subprocess.call&lt;/code&gt; works.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;code&gt;subprocess.check_call&lt;/code&gt; is convenient if you don&apos;t want to test return values. It throws an exception on any error.&lt;/p&gt;\n    ","\n&lt;p&gt;I tend to use &lt;a href=&quot;https://docs.python.org/2/library/subprocess.html&quot; rel=&quot;noreferrer&quot;&gt;subprocess&lt;/a&gt; together with &lt;a href=&quot;https://docs.python.org/2/library/shlex.html&quot; rel=&quot;noreferrer&quot;&gt;shlex&lt;/a&gt; (to handle escaping of quoted strings):&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; subprocess, shlex\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;command = &lt;span class=&quot;hljs-string&quot;&gt;&apos;ls -l &quot;/your/path/with spaces/&quot;&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;call_params = shlex.split(command)\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; call_params\n[&lt;span class=&quot;hljs-string&quot;&gt;&quot;ls&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;-l&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;/your/path/with spaces/&quot;&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;subprocess.call(call_params)\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I wrote a library for this, &lt;em&gt;&lt;a href=&quot;https://github.com/houqp/shell.py&quot; rel=&quot;nofollow noreferrer&quot;&gt;shell.py&lt;/a&gt;&lt;/em&gt;.&lt;/p&gt;\n&lt;p&gt;It&apos;s basically a wrapper for popen and shlex for now. It also supports piping commands, so you can chain commands easier in Python. So you can do things like:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;ex(&lt;span class=&quot;hljs-string&quot;&gt;&apos;echo hello shell.py&apos;&lt;/span&gt;) | &lt;span class=&quot;hljs-string&quot;&gt;&quot;awk &apos;{print &lt;span class=&quot;hljs-variable&quot;&gt;$2&lt;/span&gt;}&apos;&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;In Windows you can just import the &lt;code&gt;subprocess&lt;/code&gt; module and run external commands by calling &lt;code&gt;subprocess.Popen()&lt;/code&gt;, &lt;code&gt;subprocess.Popen().communicate()&lt;/code&gt; and &lt;code&gt;subprocess.Popen().wait()&lt;/code&gt; as below:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# Python script to run a command line&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; subprocess\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;execute&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;cmd&lt;/span&gt;):\n    &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&quot;\n        Purpose  : To execute a command and return exit status\n        Argument : cmd - command to execute\n        Return   : exit_code\n    &quot;&quot;&quot;&lt;/span&gt;\n    process = subprocess.Popen(cmd, shell=&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;, stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n    (result, error) = process.communicate()\n\n    rc = process.wait()\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; rc != &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:\n        &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Error: failed to execute command:&quot;&lt;/span&gt;, cmd\n        &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; error\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; result\n&lt;span class=&quot;hljs-comment&quot;&gt;# def&lt;/span&gt;\n\ncommand = &lt;span class=&quot;hljs-string&quot;&gt;&quot;tasklist | grep python&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;This process detail: \\n&quot;&lt;/span&gt;, execute(command)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Output:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;This process detail:\npython.exe                     604 RDP-Tcp&lt;span class=&quot;hljs-comment&quot;&gt;#0                  4      5,660 K&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Under Linux, in case you would like to call an external command that will execute independently (will keep running after the Python script terminates), you can use a simple queue as &lt;a href=&quot;http://vicerveza.homeunix.net/%7Eviric/soft/ts/&quot; rel=&quot;nofollow noreferrer&quot;&gt;task spooler&lt;/a&gt; or the &lt;a href=&quot;https://linux.die.net/man/1/at&quot; rel=&quot;nofollow noreferrer&quot;&gt;at&lt;/a&gt; command.&lt;/p&gt;\n&lt;p&gt;An example with task spooler:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-lua&quot;&gt;import &lt;span class=&quot;hljs-built_in&quot;&gt;os&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;os&lt;/span&gt;.system(&lt;span class=&quot;hljs-string&quot;&gt;&apos;ts &amp;lt;your-command&amp;gt;&apos;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Notes about task spooler (&lt;code&gt;ts&lt;/code&gt;):&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;You could set the number of concurrent processes to be run (&quot;slots&quot;) with:&lt;/p&gt;\n&lt;p&gt;&lt;code&gt;ts -S &amp;lt;number-of-slots&amp;gt;&lt;/code&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Installing &lt;code&gt;ts&lt;/code&gt; doesn&apos;t requires admin privileges. You can download and compile it from source with a simple &lt;code&gt;make&lt;/code&gt;, add it to your path and you&apos;re done.&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://www.pyinvoke.org/&quot; rel=&quot;nofollow noreferrer&quot;&gt;Invoke&lt;/a&gt;&lt;/strong&gt; is a Python (2.7 and 3.4+) task execution tool and library. It provides a clean, high-level API for running shell commands:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; invoke &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; run\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;cmd = &lt;span class=&quot;hljs-string&quot;&gt;&quot;pip install -r requirements.txt&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;result = run(cmd, hide=&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;, warn=&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;)\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(result.ok)\n&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(result.stdout.splitlines()[-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;])\nSuccessfully installed invocations-&lt;span class=&quot;hljs-number&quot;&gt;0.13&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;.0&lt;/span&gt; pep8-&lt;span class=&quot;hljs-number&quot;&gt;1.5&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;.7&lt;/span&gt; spec-&lt;span class=&quot;hljs-number&quot;&gt;1.3&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;.1&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You can use Popen, and then you can check the procedure&apos;s status:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; subprocess &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; Popen\n\nproc = Popen([&lt;span class=&quot;hljs-string&quot;&gt;&apos;ls&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-l&apos;&lt;/span&gt;])\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; proc.poll() &lt;span class=&quot;hljs-keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;:\n    proc.kill()\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Check out &lt;a href=&quot;http://docs.python.org/library/subprocess.html#popen-objects&quot; rel=&quot;noreferrer&quot;&gt;subprocess.Popen&lt;/a&gt;.&lt;/p&gt;\n    "],"195":["\n&lt;p&gt;Every time you do &lt;code&gt;new Random()&lt;/code&gt; it is initialized using the clock. This means that in a tight loop you get the same value lots of times. You should keep a single &lt;a href=&quot;https://docs.microsoft.com/en-us/dotnet/api/system.random?view=netframework-4.8&quot; rel=&quot;noreferrer&quot;&gt;Random&lt;/a&gt; instance and keep using &lt;a href=&quot;https://docs.microsoft.com/en-us/dotnet/api/system.random.next?view=netframework-4.8#System_Random_Next&quot; rel=&quot;noreferrer&quot;&gt;Next&lt;/a&gt; on the &lt;strong&gt;same&lt;/strong&gt; instance.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;//Function to get a random number &lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;readonly&lt;/span&gt; Random random = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random(); \n&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;readonly&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;object&lt;/span&gt; syncLock = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;object&lt;/span&gt;(); \n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;RandomNumber&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; min, &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; max&lt;/span&gt;)&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;lock&lt;/span&gt;(syncLock) { &lt;span class=&quot;hljs-comment&quot;&gt;// synchronize&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; random.Next(min, max);\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;Edit (see comments): why do we need a &lt;code&gt;lock&lt;/code&gt; here?&lt;/p&gt;\n\n&lt;p&gt;Basically, &lt;code&gt;Next&lt;/code&gt; is going to change the internal state of the &lt;code&gt;Random&lt;/code&gt; instance. If we do that at the same time from multiple threads, you &lt;em&gt;could&lt;/em&gt; argue &quot;we&apos;ve just made the outcome even more random&quot;, but what we are &lt;em&gt;actually&lt;/em&gt; doing is potentially breaking the internal implementation, and we could also start getting the same numbers from different threads, which &lt;em&gt;might&lt;/em&gt; be a problem - and might not. The guarantee of what happens internally is the bigger issue, though; since &lt;code&gt;Random&lt;/code&gt; does &lt;strong&gt;not&lt;/strong&gt; make any guarantees of thread-safety. Thus there are two valid approaches:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Synchronize so that we don&apos;t access it at the same time from different threads&lt;/li&gt;\n&lt;li&gt;Use different &lt;code&gt;Random&lt;/code&gt; instances per thread&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Either can be fine; but mutexing a &lt;strong&gt;single&lt;/strong&gt; instance from multiple callers at the same time is just asking for trouble.&lt;/p&gt;\n\n&lt;p&gt;The &lt;code&gt;lock&lt;/code&gt; achieves the first (and simpler) of these approaches; however, another approach might be: &lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;readonly&lt;/span&gt; ThreadLocal&amp;lt;Random&amp;gt; appRandom\n     = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; ThreadLocal&amp;lt;Random&amp;gt;(() =&amp;gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random());\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;this is then per-thread, so you don&apos;t need to synchronize. &lt;/p&gt;\n    ","\n&lt;p&gt;For ease of re-use throughout your application a static class may help.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;StaticRandom&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; seed;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; ThreadLocal&amp;lt;Random&amp;gt; threadLocal = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; ThreadLocal&amp;lt;Random&amp;gt;\n        (() =&amp;gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random(Interlocked.Increment(&lt;span class=&quot;hljs-keyword&quot;&gt;ref&lt;/span&gt; seed)));\n\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;StaticRandom&lt;/span&gt;()&lt;/span&gt;\n    {\n        seed = Environment.TickCount;\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; Random Instance { &lt;span class=&quot;hljs-keyword&quot;&gt;get&lt;/span&gt; { &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; threadLocal.Value; } }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You can use then use static random instance with code such as&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;StaticRandom.Instance.Next(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Mark&apos;s solution can be quite expensive since it needs to synchronize everytime.&lt;/p&gt;\n\n&lt;p&gt;We can get around the need for synchronization by using the thread-specific storage pattern:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;RandomNumber&lt;/span&gt; : &lt;span class=&quot;hljs-title&quot;&gt;IRandomNumber&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;readonly&lt;/span&gt; Random Global = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random();\n    [&lt;span class=&quot;hljs-meta&quot;&gt;ThreadStatic&lt;/span&gt;] &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; Random _local;\n\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Next&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; max&lt;/span&gt;)&lt;/span&gt;\n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; localBuffer = _local;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (localBuffer == &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;) \n        {\n            &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; seed;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;lock&lt;/span&gt;(Global) seed = Global.Next();\n            localBuffer = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random(seed);\n            _local = localBuffer;\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; localBuffer.Next(max);\n    }\n}\n\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Measure the two implementations and you should see a significant difference.&lt;/p&gt;\n    ","\n&lt;p&gt;My answer from &lt;a href=&quot;https://stackoverflow.com/a/15729385/661933&quot;&gt;here&lt;/a&gt;:&lt;/p&gt;\n\n&lt;p&gt;Just reiterating &lt;strong&gt;the right solution&lt;/strong&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;mySpace&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Util&lt;/span&gt;\n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; rnd = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random();\n        &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;GetRandom&lt;/span&gt;()&lt;/span&gt;\n        {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; rnd.Next();\n        }\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So you can call:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = Util.GetRandom();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;all throughout. &lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;If you strictly need a true stateless static method&lt;/strong&gt; to generate random numbers, you can rely on a &lt;code&gt;Guid&lt;/code&gt;.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Util&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;GetRandom&lt;/span&gt;()&lt;/span&gt;\n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; Guid.NewGuid().GetHashCode();\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;em&gt;It&apos;s going to be a wee bit slower, but can be much more random&lt;/em&gt; than &lt;code&gt;Random.Next&lt;/code&gt;, at least from my experience.&lt;/p&gt;\n\n&lt;p&gt;But &lt;strong&gt;not&lt;/strong&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random(Guid.NewGuid().GetHashCode()).Next();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The unnecessary object creation is going to make it slower especially under a loop.&lt;/p&gt;\n\n&lt;p&gt;And &lt;strong&gt;never&lt;/strong&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random().Next();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Not only it&apos;s slower (inside a loop), its randomness is... well not really good according to me..&lt;/p&gt;\n    ","\n&lt;p&gt;I would rather use the following class to generate random numbers:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;byte&lt;/span&gt;[] random;\nSystem.Security.Cryptography.RNGCryptoServiceProvider prov = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; System.Security.Cryptography.RNGCryptoServiceProvider();\nprov.GetBytes(random);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;1) As Marc Gravell said, try to use ONE random-generator. It&apos;s always cool to add this to the constructor: System.Environment.TickCount.&lt;/p&gt;\n\n&lt;p&gt;2) One tip. Let&apos;s say you want to create 100 objects and suppose each of them should have its-own random-generator (handy if you calculate LOADS of random numbers in a very short period of time). If you would do this in a loop (generation of 100 objects), you could do this like that (to assure fully-randomness):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; inMyRandSeed;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; i=&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;i&amp;lt;&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;;i++)\n{\n   inMyRandSeed = System.Environment.TickCount + i;\n   .\n   .\n   .\n   myNewObject = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; MyNewObject(inMyRandSeed);  \n   .\n   .\n   .\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Usage: Random m_rndGen = new Random(inMyRandSeed);&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Cheers.&lt;/p&gt;\n    ","\n&lt;p&gt;Every time you execute&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;Random random = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random (&lt;span class=&quot;hljs-number&quot;&gt;15&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It does not matter if you execute it millions of times, you will always use the same seed.&lt;/p&gt;\n\n&lt;p&gt;If you use &lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;Random random = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random ();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You get different random number sequence, if a hacker guesses the seed and your algorithm is related to the security of your system - your algorithm is broken. I you execute mult. In this constructor the seed is specified by the system clock and if several instances are created in a very short period of time (milliseconds) it is possible that they may have the same seed.&lt;/p&gt;\n\n&lt;p&gt;If you need safe random numbers you must use the class&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;System.Security.Cryptography.RNGCryptoServiceProvider&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;Next&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; min, &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; max&lt;/span&gt;)&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(min &amp;gt;= max)\n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; ArgumentException(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Min value is greater or equals than Max value.&quot;&lt;/span&gt;);\n    }\n    &lt;span class=&quot;hljs-built_in&quot;&gt;byte&lt;/span&gt;[] intBytes = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;byte&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;];\n    &lt;span class=&quot;hljs-keyword&quot;&gt;using&lt;/span&gt;(RNGCryptoServiceProvider rng = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; RNGCryptoServiceProvider())\n    {\n        rng.GetNonZeroBytes(intBytes);\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt;  min +  Math.Abs(BitConverter.ToInt32(intBytes, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)) % (max - min + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Usage:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; randomNumber = Next(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You can use code like this:&lt;/p&gt;\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;ThreadSafeRandom&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;readonly&lt;/span&gt; Random _global = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;readonly&lt;/span&gt; ThreadLocal&amp;lt;Random&amp;gt; _local = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; ThreadLocal&amp;lt;Random&amp;gt;(() =&amp;gt;\n    {\n        &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; seed;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;lock&lt;/span&gt; (_global)\n        {\n            seed = _global.Next();\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; Random(seed);\n    });\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; Random Instance =&amp;gt; _local.Value;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This code can be used as is or via the NuGet package &lt;a href=&quot;https://www.nuget.org/packages/ThreadSafeRandomizer/&quot; rel=&quot;nofollow noreferrer&quot;&gt;ThreadSafeRandomizer&lt;/a&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;I use this:&lt;/p&gt;\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; randomNumber = &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt;.Parse(Guid.NewGuid().ToString().FirstOrDefault(Char.IsDigit).ToString().Replace(&lt;span class=&quot;hljs-string&quot;&gt;&quot;\\0&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;0&quot;&lt;/span&gt;));\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Performance: Generating 1 million random number on my PC: 711 ms.&lt;/p&gt;\n&lt;p&gt;If the Guid not contains any number (i don&apos;t know that&apos;s possible or not) then 0 will be used as the result.&lt;/p&gt;\n    ","\n&lt;p&gt;There are a lot of solutions, here one: if you want only number erase the letters and the method receives a random and the result length.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; String &lt;span class=&quot;hljs-title&quot;&gt;GenerateRandom&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;Random oRandom, &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; iLongitudPin&lt;/span&gt;)&lt;/span&gt;\n{\n    String sCharacters = &lt;span class=&quot;hljs-string&quot;&gt;&quot;123456789ABCDEFGHIJKLMNPQRSTUVWXYZ123456789&quot;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; iLength = sCharacters.Length;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;char&lt;/span&gt; cCharacter;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; iLongitudNuevaCadena = iLongitudPin; \n    String sRandomResult = &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; iLongitudNuevaCadena; i++)\n    {\n        cCharacter = sCharacters[oRandom.Next(iLength)];\n        sRandomResult += cCharacter.ToString();\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (sRandomResult);\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I solved the problem by using the Rnd() function:&lt;/p&gt;\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;Function &lt;span class=&quot;hljs-title&quot;&gt;RollD6&lt;/span&gt;() As UInteger\n        RollD6&lt;/span&gt; = (Math.Floor(&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt; * Rnd())) + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n        Return RollD6\nEnd Function\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;When the form loads, I use the Randomize() method to make sure I don&apos;t always get the same sequence of random numbers from run to run.&lt;/p&gt;\n    ","\n&lt;p&gt;In Visual Basic this works (probably can be translated to C#, if not a DLL reference can be a solution):&lt;/p&gt;\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;Private Function &lt;span class=&quot;hljs-title&quot;&gt;GetRandomInt&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;ByVal Min As Integer, ByVal Max As Integer&lt;/span&gt;) As Integer\n     Static Generator As System.Random&lt;/span&gt; = New System.Random()\n     Return Generator.Next(Min, Max)\nEnd Function\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Always get a positive random number.&lt;/p&gt;\n&lt;pre class=&quot;lang-cs s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; nexnumber = Guid.NewGuid().GetHashCode();\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (nexnumber &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n        {\n            nexnumber *= &lt;span class=&quot;hljs-number&quot;&gt;-1&lt;/span&gt;;\n        }\n&lt;/code&gt;&lt;/pre&gt;\n    "]},"page":"84","randomQuestions":[{"title":"Why do I need to override the equals and hashCode methods in Java?","slug":"why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java-1657388359877"},{"title":"Why is the gets function so dangerous that it should not be used?","slug":"why-is-the-gets-function-so-dangerous-that-it-should-not-be-used-1657384544362"},{"title":"Why does this UnboundLocalError occur (closure)? [duplicate]","slug":"why-does-this-unboundlocalerror-occur-(closure)-duplicate-1657388531538"},{"title":"Why Use Integer Instead of Long?","slug":"why-use-integer-instead-of-long-1657388012352"},{"title":"Loop through an array in JavaScript","slug":"loop-through-an-array-in-javascript-1657387821551"},{"title":"How do we control web page caching, across all browsers?","slug":"how-do-we-control-web-page-caching-across-all-browsers-1657387529059"},{"title":"Convert Rows to columns using 'Pivot' in SQL Server","slug":"convert-rows-to-columns-using-'pivot'-in-sql-server-1657388372528"},{"title":"What is SQL injection? [duplicate]","slug":"what-is-sql-injection-duplicate-1657387944486"},{"title":"Why can't an element with a z-index value cover its child?","slug":"why-can't-an-element-with-a-z-index-value-cover-its-child-1657387707187"},{"title":"Using Auto Layout in UITableView for dynamic cell layouts & variable row heights","slug":"using-auto-layout-in-uitableview-for-dynamic-cell-layouts-and-variable-row-heights-1657387722263"},{"title":"What Is Selenium And What Is WebDriver?","slug":"what-is-selenium-and-what-is-webdriver-1657385470372"},{"title":"How can I vertically center a div element for all browsers using CSS?","slug":"how-can-i-vertically-center-a-div-element-for-all-browsers-using-css-1657385488425"},{"title":"Swing GUI listeners without AWT","slug":"swing-gui-listeners-without-awt-1657387522426"},{"title":"Calculate distance between two latitude-longitude points? (Haversine formula)","slug":"calculate-distance-between-two-latitude-longitude-points-(haversine-formula)-1657388500103"},{"title":"GUI not working after rewriting to MVC","slug":"gui-not-working-after-rewriting-to-mvc-1657388388035"},{"title":"Using LIMIT within GROUP BY to get N results per group?","slug":"using-limit-within-group-by-to-get-n-results-per-group-1657388324167"},{"title":"Why does std::getline() skip input after a formatted extraction?","slug":"why-does-std::getline()-skip-input-after-a-formatted-extraction-1657384756118"},{"title":"What is the (function() { } )() construct in JavaScript?","slug":"what-is-the-(function()-)()-construct-in-javascript-1657385508348"},{"title":"Passing data between view controllers","slug":"passing-data-between-view-controllers-1657384540021"},{"title":"Why are mutable structs “evil”?","slug":"why-are-mutable-structs-\"evil\"-1657388508974"}]},"__N_SSG":true}