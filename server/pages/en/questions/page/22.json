{"pageProps":{"data":{"count":610,"rows":[{"id":505,"title":"How to close/hide the Android soft keyboard programmatically?","slug":"how-to-closehide-the-android-soft-keyboard-programmatically-1657388217420","postType":"QUESTION","createdAt":"2022-07-09T17:36:57.000Z","updatedAt":"2022-07-09T17:36:57.000Z","tags":[{"id":2512,"name":"android-edittext","slug":"android-edittext","createdAt":"2022-07-09T17:36:57.000Z","updatedAt":"2022-07-09T17:36:57.000Z","Questions_Tags":{"questionId":505,"tagId":2512}},{"id":2513,"name":"android-softkeyboard","slug":"android-softkeyboard","createdAt":"2022-07-09T17:36:57.000Z","updatedAt":"2022-07-09T17:36:57.000Z","Questions_Tags":{"questionId":505,"tagId":2513}},{"id":2514,"name":"android-input-method","slug":"android-input-method","createdAt":"2022-07-09T17:36:57.000Z","updatedAt":"2022-07-09T17:36:57.000Z","Questions_Tags":{"questionId":505,"tagId":2514}},{"id":2515,"name":"soft-keyboard","slug":"soft-keyboard","createdAt":"2022-07-09T17:36:57.000Z","updatedAt":"2022-07-09T17:36:57.000Z","Questions_Tags":{"questionId":505,"tagId":2515}}]},{"id":504,"title":"Transpose / reshape dataframe without \"timevar\" from long to wide format","slug":"transpose-reshape-dataframe-without-\"timevar\"-from-long-to-wide-format-1657388213347","postType":"QUESTION","createdAt":"2022-07-09T17:36:53.000Z","updatedAt":"2022-07-09T17:36:53.000Z","tags":[{"id":2509,"name":"transpose","slug":"transpose","createdAt":"2022-07-09T17:36:53.000Z","updatedAt":"2022-07-09T17:36:53.000Z","Questions_Tags":{"questionId":504,"tagId":2509}}]},{"id":503,"title":"How to filter object array based on attributes?","slug":"how-to-filter-object-array-based-on-attributes-1657388211247","postType":"QUESTION","createdAt":"2022-07-09T17:36:51.000Z","updatedAt":"2022-07-09T17:36:51.000Z","tags":[]},{"id":502,"title":"Removing duplicates in lists","slug":"removing-duplicates-in-lists-1657388207448","postType":"QUESTION","createdAt":"2022-07-09T17:36:47.000Z","updatedAt":"2022-07-09T17:36:47.000Z","tags":[{"id":2505,"name":"intersection","slug":"intersection","createdAt":"2022-07-09T17:36:48.000Z","updatedAt":"2022-07-09T17:36:48.000Z","Questions_Tags":{"questionId":502,"tagId":2505}}]},{"id":501,"title":"Importing files from different folder","slug":"importing-files-from-different-folder-1657388203798","postType":"QUESTION","createdAt":"2022-07-09T17:36:43.000Z","updatedAt":"2022-07-09T17:36:43.000Z","tags":[{"id":2499,"name":"importerror","slug":"importerror","createdAt":"2022-07-09T17:36:43.000Z","updatedAt":"2022-07-09T17:36:43.000Z","Questions_Tags":{"questionId":501,"tagId":2499}}]}]},"answers":{"501":["\n&lt;p&gt;Note: This answer was intended for a very specific question. For most programmers coming here from a search engine, this is not the answer you are looking for. Typically you would structure your files into packages (see other answers) instead of modifying the search path.&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;By default, you can&apos;t. When importing a file, Python only searches the directory that the entry-point script is running from and &lt;code&gt;sys.path&lt;/code&gt; which includes locations such as the package installation directory (it&apos;s actually &lt;a href=&quot;https://docs.python.org/3/library/sys.html#sys.path&quot; rel=&quot;noreferrer&quot;&gt;a little more complex&lt;/a&gt; than this, but this covers most cases).&lt;/p&gt;\n&lt;p&gt;However, you can add to the Python path at runtime:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# some_file.py&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; sys\n&lt;span class=&quot;hljs-comment&quot;&gt;# insert at 1, 0 is the script path (or &apos;&apos; in REPL)&lt;/span&gt;\nsys.path.insert(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;/path/to/application/app/folder&apos;&lt;/span&gt;)\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; file\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Nothing wrong with:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; application.app.folder.file &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; func_name\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Just make sure &lt;code&gt;folder&lt;/code&gt; also contains an &lt;code&gt;__init__.py&lt;/code&gt;, this allows it to be included as a package. Not sure why the other answers talk about &lt;code&gt;PYTHONPATH&lt;/code&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;When modules are in parallel locations, as in the question:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;application/app2/some_folder/some_file.py\napplication/app2/another_folder/another_file.py\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This shorthand makes one module visible to the other:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; sys\nsys.path.append(&lt;span class=&quot;hljs-string&quot;&gt;&apos;../&apos;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;First&lt;/strong&gt; import sys in name-file.py&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; sys\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Second&lt;/strong&gt; append the folder path in name-file.py&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;sys.path.insert(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;/the/folder/path/name-package/&apos;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Third&lt;/strong&gt; Make a blank file called __ init __.py in your subdirectory (this tells Python it is a package)&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;name-file.py&lt;/li&gt;\n&lt;li&gt;name-package\n\n&lt;ul&gt;\n&lt;li&gt;__ init __.py&lt;/li&gt;\n&lt;li&gt;name-module.py&lt;/li&gt;\n&lt;/ul&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Fourth&lt;/strong&gt; import the module inside the folder in name-file.py&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; name-package &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; name-module\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I think an ad-hoc way would be to use &lt;a href=&quot;https://docs.python.org/3/using/cmdline.html#envvar-PYTHONPATH&quot; rel=&quot;noreferrer&quot;&gt;the environment variable &lt;code&gt;PYTHONPATH&lt;/code&gt;&lt;/a&gt; as described in the documentation: &lt;a href=&quot;http://docs.python.org/2/tutorial/modules.html#the-module-search-path&quot; rel=&quot;noreferrer&quot; title=&quot;Python 2&quot;&gt;Python2&lt;/a&gt;, &lt;a href=&quot;https://docs.python.org/3/tutorial/modules.html#the-module-search-path&quot; rel=&quot;noreferrer&quot; title=&quot;Python 3&quot;&gt;Python3&lt;/a&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# Linux &amp;amp; OSX&lt;/span&gt;\nexport PYTHONPATH=$HOME/dirWithScripts/:$PYTHONPATH\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# Windows&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;set&lt;/span&gt; PYTHONPATH=C:\\path\\to\\dirWithScripts\\;%PYTHONPATH%\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Your problem is that Python is looking in the Python directory for this file and not finding it. You must specify that you are talking about the directory that you are in and not the Python one.&lt;/p&gt;\n\n&lt;p&gt;To do this you change this:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;from application.app.folder.file import func_name&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;to this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; .application.app.folder.file &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; func_name\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;By adding the dot you are saying look in this folder for the application folder instead of looking in the Python directory.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;The answers here are lacking in clarity, this is tested on Python 3.6&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;With this folder structure:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;main.py\n|\n---- myfolder/myfile.py\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Where &lt;code&gt;myfile.py&lt;/code&gt; has the content:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;myfunc&lt;/span&gt;():\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;hello&apos;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The import statement in &lt;code&gt;main.py&lt;/code&gt; is:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; myfolder.myfile &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; myfunc\nmyfunc()\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and this will print &lt;em&gt;hello&lt;/em&gt;.&lt;/p&gt;\n    ","\n&lt;p&gt;In Python 3.4 and later, you can &lt;a href=&quot;https://docs.python.org/3/library/importlib.html#importing-a-source-file-directly&quot; rel=&quot;noreferrer&quot;&gt;import from a source file directly (link to documentation)&lt;/a&gt;. This is not the simplest solution, but I&apos;m including this answer for completeness.&lt;/p&gt;\n\n&lt;p&gt;Here is an example. First, the file to be imported, named &lt;code&gt;foo.py&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;announce&lt;/span&gt;():\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Imported!&quot;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The code that imports the file above, inspired heavily by the example in the documentation:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; importlib.util\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;module_from_file&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;module_name, file_path&lt;/span&gt;):\n    spec = importlib.util.spec_from_file_location(module_name, file_path)\n    module = importlib.util.module_from_spec(spec)\n    spec.loader.exec_module(module)\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; module\n\nfoo = module_from_file(&lt;span class=&quot;hljs-string&quot;&gt;&quot;foo&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;/path/to/foo.py&quot;&lt;/span&gt;)\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; __name__ == &lt;span class=&quot;hljs-string&quot;&gt;&quot;__main__&quot;&lt;/span&gt;:\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(foo)\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;dir&lt;/span&gt;(foo))\n    foo.announce()\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The output:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&amp;lt;module &lt;span class=&quot;hljs-string&quot;&gt;&apos;foo&apos;&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;/path/to/foo.py&apos;&lt;/span&gt;&amp;gt;\n[&lt;span class=&quot;hljs-string&quot;&gt;&apos;__builtins__&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;__cached__&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;__doc__&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;__file__&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;__loader__&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;__name__&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;__package__&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;__spec__&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;announce&apos;&lt;/span&gt;]\nImported!\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Note that the variable name, the module name, and the filename need not match. This code still works:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; importlib.util\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;module_from_file&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;module_name, file_path&lt;/span&gt;):\n    spec = importlib.util.spec_from_file_location(module_name, file_path)\n    module = importlib.util.module_from_spec(spec)\n    spec.loader.exec_module(module)\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; module\n\nbaz = module_from_file(&lt;span class=&quot;hljs-string&quot;&gt;&quot;bar&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;/path/to/foo.py&quot;&lt;/span&gt;)\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; __name__ == &lt;span class=&quot;hljs-string&quot;&gt;&quot;__main__&quot;&lt;/span&gt;:\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(baz)\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;dir&lt;/span&gt;(baz))\n    baz.announce()\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The output:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&amp;lt;module &lt;span class=&quot;hljs-string&quot;&gt;&apos;bar&apos;&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;/path/to/foo.py&apos;&lt;/span&gt;&amp;gt;\n[&lt;span class=&quot;hljs-string&quot;&gt;&apos;__builtins__&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;__cached__&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;__doc__&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;__file__&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;__loader__&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;__name__&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;__package__&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;__spec__&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;announce&apos;&lt;/span&gt;]\nImported!\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Programmatically importing modules was introduced in Python 3.1 and gives you more control over how modules are imported. Refer to the documentation for more information.&lt;/p&gt;\n    ","\n&lt;p&gt;Try Python&apos;s relative imports:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; ...app.folder.file &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; func_name\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Every leading dot is another higher level in the hierarchy beginning with the current directory.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;Problems? If this isn&apos;t working for you then you probably are getting bit by the many gotcha&apos;s relative imports has.\nRead answers and comments for more details: \n&lt;a href=&quot;https://stackoverflow.com/questions/11536764/how-to-fix-attempted-relative-import-in-non-package-even-with-init-py&quot;&gt;How to fix &quot;Attempted relative import in non-package&quot; even with __init__.py&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Hint: have &lt;code&gt;__init__.py&lt;/code&gt; at every directory level. You might need &lt;code&gt;python -m application.app2.some_folder.some_file&lt;/code&gt; (leaving off .py) which you run from the top level directory or have that top level directory in your PYTHONPATH. &lt;em&gt;Phew!&lt;/em&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;From what I know,  add an &lt;code&gt;__init__.py&lt;/code&gt; file directly in the folder of the functions you want  to  import  will do  the job.&lt;/p&gt;\n    ","\n&lt;p&gt;Using &lt;code&gt;sys.path.append&lt;/code&gt; with an absolute path is not ideal when moving the application to other environments. Using a relative path won&apos;t always work because the current working directory depends on how the script was invoked.&lt;/p&gt;\n&lt;p&gt;Since the application folder structure is fixed, we can use &lt;code&gt;os.path&lt;/code&gt; to get the full path of the module we wish to import. For example, if this is the structure:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;/home/me/application/app2/some_folder/vanilla.py\n/home/me/application/app2/another_folder/mango.py\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;And let&apos;s say that you want to import the &lt;em&gt;mango&lt;/em&gt; module. You could do the following in &lt;em&gt;vanilla.py&lt;/em&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; sys, os.path\nmango_dir = (os.path.abspath(os.path.join(os.path.dirname(__file__), &lt;span class=&quot;hljs-string&quot;&gt;&apos;..&apos;&lt;/span&gt;))\n+ &lt;span class=&quot;hljs-string&quot;&gt;&apos;/another_folder/&apos;&lt;/span&gt;)\nsys.path.append(mango_dir)\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; mango\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Of course, you don&apos;t need the &lt;em&gt;mango_dir&lt;/em&gt; variable.&lt;/p&gt;\n&lt;p&gt;To understand how this works look at this interactive session example:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; os\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;mydir = &lt;span class=&quot;hljs-string&quot;&gt;&apos;/home/me/application/app2/some_folder&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;newdir = os.path.abspath(os.path.join(mydir, &lt;span class=&quot;hljs-string&quot;&gt;&apos;..&apos;&lt;/span&gt;))\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;newdir\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;/home/me/application/app2&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;newdir = os.path.abspath(os.path.join(mydir, &lt;span class=&quot;hljs-string&quot;&gt;&apos;..&apos;&lt;/span&gt;)) + &lt;span class=&quot;hljs-string&quot;&gt;&apos;/another_folder&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;newdir\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;/home/me/application/app2/another_folder&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;And check the &lt;a href=&quot;https://docs.python.org/3/library/os.path.html&quot; rel=&quot;noreferrer&quot;&gt;os.path&lt;/a&gt; documentation.&lt;/p&gt;\n&lt;p&gt;Also worth noting that dealing with multiple folders is made easier when using &lt;a href=&quot;https://docs.python.org/3/tutorial/modules.html#packages&quot; rel=&quot;noreferrer&quot;&gt;packages&lt;/a&gt;, as one can use dotted module names.&lt;/p&gt;\n    ","\n&lt;p&gt;I was faced with the same challenge, especially when importing multiple files, this is how I managed to overcome it.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; os, sys\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; os.path &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; dirname, join, abspath\nsys.path.insert(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, abspath(join(dirname(__file__), &lt;span class=&quot;hljs-string&quot;&gt;&apos;..&apos;&lt;/span&gt;)))\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; root_folder &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; file_name\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Worked for me in python3 on linux&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; sys  \nsys.path.append(pathToFolderContainingScripts)  \n&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; scriptName &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; functionName &lt;span class=&quot;hljs-comment&quot;&gt;#scriptName without .py extension  &lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Considering &lt;code&gt;application&lt;/code&gt; as the root directory for your python project, create an empty &lt;code&gt;__init__.py&lt;/code&gt; file in &lt;code&gt;application&lt;/code&gt;, &lt;code&gt;app&lt;/code&gt; and &lt;code&gt;folder&lt;/code&gt; folders. Then in your &lt;code&gt;some_file.py&lt;/code&gt; make changes as follows to get the definition of func_name:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; sys\nsys.path.insert(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;r&apos;/from/root/directory/application&apos;&lt;/span&gt;)\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; application.app.folder.file &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; func_name &lt;span class=&quot;hljs-comment&quot;&gt;## You can also use &apos;*&apos; wildcard to import all the functions in file.py file.&lt;/span&gt;\nfunc_name()\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;The best practice for creating a package can be running and accessing the other modules from a module like &lt;code&gt;main_module.py&lt;/code&gt; at highest level directory.&lt;/p&gt;\n&lt;p&gt;This structure demonstrates you can use and access sub package, parent package, or same level packages and modules by using a top level directory file &lt;code&gt;main_module.py&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;Create and run these files and folders for testing:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt; package/\n    |\n    |----- __init__.py (Empty file)\n    |------- main_module.py (Contains: &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; subpackage_1.module_1)        \n    |------- module_0.py (Contains: &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;module_0 at parent directory, is imported&apos;&lt;/span&gt;))\n    |           \n    |\n    |------- subpackage_1/\n    |           |\n    |           |----- __init__.py (Empty file)\n    |           |----- module_1.py (Contains: &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;importing other modules from module_1...&apos;&lt;/span&gt;)\n    |           |                             &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; module_0\n    |           |                             &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; subpackage_2.module_2\n    |           |                             &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; subpackage_1.sub_subpackage_3.module_3)\n    |           |----- photo.png\n    |           |\n    |           |\n    |           |----- sub_subpackage_3/\n    |                        |\n    |                        |----- __init__.py (Empty file)\n    |                        |----- module_3.py (Contains: &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;module_3 at sub directory, is imported&apos;&lt;/span&gt;)) \n    |\n    |------- subpackage_2/\n    |           |\n    |           |----- __init__.py (Empty file)\n    |           |----- module_2.py (Contains: &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;module_2 at same level directory, is imported&apos;&lt;/span&gt;))\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;Now run &lt;code&gt;main_module.py&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;the output is&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;importing other modules from module_1...&apos;&lt;/span&gt;\n   &lt;span class=&quot;hljs-string&quot;&gt;&apos;module_0 at parent directory, is imported&apos;&lt;/span&gt;\n   &lt;span class=&quot;hljs-string&quot;&gt;&apos;module_2 at same level directory, is imported&apos;&lt;/span&gt;\n   &lt;span class=&quot;hljs-string&quot;&gt;&apos;module_3 at sub directory, is imported&apos;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;Opening pictures and files note:&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;In a package structure if you want to access a photo, use absolute directory from highest level directory.&lt;/p&gt;\n&lt;p&gt;let&apos;s Suppose you are running &lt;code&gt;main_module.py&lt;/code&gt; and you want to open &lt;code&gt;photo.png&lt;/code&gt; inside &lt;code&gt;module_1.py&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;what &lt;code&gt;module_1.py&lt;/code&gt; must contain is:&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Correct:&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;image_path = &lt;span class=&quot;hljs-string&quot;&gt;&apos;subpackage_1/photo.png&apos;&lt;/span&gt;\ncv2.imread(image_path)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;Wrong:&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;image_path = &lt;span class=&quot;hljs-string&quot;&gt;&apos;photo.png&apos;&lt;/span&gt;\ncv2.imread(image_path)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;although &lt;code&gt;module_1.py&lt;/code&gt; and &lt;code&gt;photo.png&lt;/code&gt; are at same directory.&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;root\n   dir_a\n      file_a.py\n      file_xx.py\n   dir_b\n      file_b.py\n      file_yy.py\n   dir_c\n   dir_n\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;You can add the parent directory to &lt;code&gt;PYTHONPATH&lt;/code&gt;, in order to achieve that, you can use OS depending path in the &quot;module search path&quot; which is listed in &lt;code&gt;sys.path&lt;/code&gt;. So you can easily add the parent directory like following:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# file_b.py&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; sys\nsys.path.insert(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;..&apos;&lt;/span&gt;)\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; dir_a.file_a &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; func_name\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;This works for me on windows &lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# some_file.py on mainApp/app2 &lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; sys\nsys.path.insert(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, sys.path[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]+&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\app2&apos;&lt;/span&gt;)\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; some_file\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;In my case I had a class to import.  My file looked like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# /opt/path/to/code/log_helper.py&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;LogHelper&lt;/span&gt;:\n    &lt;span class=&quot;hljs-comment&quot;&gt;# stuff here&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;In my main file I included the code via:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; sys\nsys.path.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;/opt/path/to/code/&quot;&lt;/span&gt;)\n&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; log_helper &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; LogHelper\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I&apos;m quite special : I use Python with Windows !&lt;/p&gt;\n\n&lt;p&gt;I just complete information : for both Windows and Linux, both relative and absolute path work into &lt;code&gt;sys.path&lt;/code&gt; (I need relative paths because I use my scripts on the several PCs and under different main directories).  &lt;/p&gt;\n\n&lt;p&gt;And when using Windows both &lt;code&gt;\\&lt;/code&gt; and &lt;code&gt;/&lt;/code&gt; can be used as separator for file names and of course you must double &lt;code&gt;\\&lt;/code&gt; into Python strings,&lt;br&gt;\nsome valid examples :&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;sys.path.append(&lt;span class=&quot;hljs-string&quot;&gt;&apos;c:\\\\tools\\\\mydir&apos;&lt;/span&gt;)\nsys.path.append(&lt;span class=&quot;hljs-string&quot;&gt;&apos;..\\\\mytools&apos;&lt;/span&gt;)\nsys.path.append(&lt;span class=&quot;hljs-string&quot;&gt;&apos;c:/tools/mydir&apos;&lt;/span&gt;)\nsys.path.append(&lt;span class=&quot;hljs-string&quot;&gt;&apos;../mytools&apos;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;(note : I think that &lt;code&gt;/&lt;/code&gt; is more convenient than &lt;code&gt;\\&lt;/code&gt;, event if it is less &apos;Windows-native&apos; because it is Linux-compatible and simpler to write and copy to Windows explorer)&lt;/p&gt;\n    ","\n&lt;p&gt;I bumped into the same question several times, so I would like to share my solution.&lt;/p&gt;\n\n&lt;h2&gt;Python Version: 3.X&lt;/h2&gt;\n\n&lt;p&gt;The following solution is for someone who develops your application in Python version 3.X because &lt;a href=&quot;https://www.python.org/doc/sunset-python-2/&quot; rel=&quot;noreferrer&quot;&gt;Python 2 is not supported since Jan/1/2020&lt;/a&gt;.&lt;/p&gt;\n\n&lt;h2&gt;Project Structure&lt;/h2&gt;\n\n&lt;p&gt;In python 3, you don&apos;t need &lt;code&gt;__init__.py&lt;/code&gt; in your project subdirectory due to the &lt;a href=&quot;https://www.python.org/dev/peps/pep-0420/&quot; rel=&quot;noreferrer&quot;&gt;Implicit Namespace Packages&lt;/a&gt;. See &lt;a href=&quot;https://stackoverflow.com/questions/37139786/is-init-py-not-required-for-packages-in-python-3-3&quot;&gt;Is &lt;strong&gt;init&lt;/strong&gt;.py not required for packages in Python 3.3+&lt;/a&gt;  &lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;Project \n main.py\n .gitignore\n|\n a\n|    file_a.py\n|\n b\n     file_b.py\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;Problem Statement&lt;/h2&gt;\n\n&lt;p&gt;In &lt;code&gt;file_b.py&lt;/code&gt;, I would like to import a class &lt;code&gt;A&lt;/code&gt; in &lt;code&gt;file_a.py&lt;/code&gt; under the folder a.&lt;/p&gt;\n\n&lt;h2&gt;Solutions&lt;/h2&gt;\n\n&lt;h3&gt;#1 A quick but dirty way&lt;/h3&gt;\n\n&lt;p&gt;Without installing the package like you are currently developing a new project&lt;/p&gt;\n\n&lt;p&gt;Using the &lt;code&gt;try catch&lt;/code&gt; to check if the errors. Code example: &lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; sys\n&lt;span class=&quot;hljs-keyword&quot;&gt;try&lt;/span&gt;:\n    &lt;span class=&quot;hljs-comment&quot;&gt;# The insertion index should be 1 because index 0 is this file&lt;/span&gt;\n    sys.path.insert(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;/absolute/path/to/folder/a&apos;&lt;/span&gt;)  &lt;span class=&quot;hljs-comment&quot;&gt;# the type of path is string&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;# because the system path already have the absolute path to folder a&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;# so it can recognize file_a.py while searching &lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; file_a &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; A\n&lt;span class=&quot;hljs-keyword&quot;&gt;except&lt;/span&gt; (ModuleNotFoundError, ImportError) &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; e:\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;{} fileure&quot;&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;format&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;type&lt;/span&gt;(e)))\n&lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;:\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Import succeeded&quot;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h3&gt;#2 Install your package&lt;/h3&gt;\n\n&lt;p&gt;Once you installed your application (in this post, the tutorial of installation is not included)&lt;/p&gt;\n\n&lt;p&gt;You can simply&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;try&lt;/span&gt;:\n    &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; __future__ &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; absolute_import\n    &lt;span class=&quot;hljs-comment&quot;&gt;# now it can reach class A of file_a.py in folder a &lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;# by relative import&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; ..a.file_a &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; A  \n&lt;span class=&quot;hljs-keyword&quot;&gt;except&lt;/span&gt; (ModuleNotFoundError, ImportError) &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; e:\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;{} fileure&quot;&lt;/span&gt;.&lt;span class=&quot;hljs-built_in&quot;&gt;format&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;type&lt;/span&gt;(e)))\n&lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;:\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Import succeeded&quot;&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Happy coding!&lt;/p&gt;\n    ","\n&lt;p&gt;If the purpose of loading a module from a specific path is to assist you during the development of a custom module, you can create a symbolic link in the same folder of the test script that points to the root of the custom module. This module reference will take precedence over any other modules installed of the same name for any script run in that folder.&lt;/p&gt;\n\n&lt;p&gt;I tested this on Linux but it should work in any modern OS that supports symbolic links.&lt;/p&gt;\n\n&lt;p&gt;One advantage to this approach is that you can you can point to a module that&apos;s sitting in your own local SVC branch working copy which can greatly simplify the development cycle time and reduce failure modes of managing different versions of the module.&lt;/p&gt;\n    ","\n&lt;p&gt;I was working on project &lt;code&gt;a&lt;/code&gt; that I wanted users to install via &lt;code&gt;pip install a&lt;/code&gt; with the following file list:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;.\n setup.py\n MANIFEST.&lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt;\n a\n     __init__.py\n     a.py\n     b\n         __init__.py\n         b.py\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;setup.py&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; setuptools &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; setup\n\nsetup (\n  name=&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;,\n  version=&lt;span class=&quot;hljs-string&quot;&gt;&apos;0.0.1&apos;&lt;/span&gt;,\n  packages=[&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;],\n  package_data={\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;: [&lt;span class=&quot;hljs-string&quot;&gt;&apos;b/*&apos;&lt;/span&gt;],\n  },\n)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;MANIFEST.in&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;recursive-include b *.*\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;a/&lt;strong&gt;init&lt;/strong&gt;.py&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; __future__ &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; absolute_import\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; a.a &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; cats\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; a.b\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;a/a.py&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;cats = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;a/b/&lt;strong&gt;init&lt;/strong&gt;.py&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; __future__ &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; absolute_import\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; a.b.b &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; dogs\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;a/b/b.py&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;dogs = &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;I installed the module by running the following from the directory with &lt;code&gt;MANIFEST.in&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;python setup.py install\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Then, from a totally different location on my filesystem &lt;code&gt;/moustache/armwrestle&lt;/code&gt; I was able to run:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; a\n&lt;span class=&quot;hljs-built_in&quot;&gt;dir&lt;/span&gt;(a)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Which confirmed that &lt;code&gt;a.cats&lt;/code&gt; indeed equalled 0 and &lt;code&gt;a.b.dogs&lt;/code&gt; indeed equalled 1, as intended.&lt;/p&gt;\n    ","\n&lt;p&gt;Instead of just doing an &lt;code&gt;import ...&lt;/code&gt;, do this :&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;from &amp;lt;MySubFolder&amp;gt; import &amp;lt;MyFile&amp;gt;&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;MyFile is inside the MySubFolder.&lt;/p&gt;\n    ","\n&lt;p&gt;Wow, I did not expect to spend so much time on this. The following worked for me:&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;OS&lt;/strong&gt;: Windows 10&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Python&lt;/strong&gt;: v3.10.0&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: Since I am Python v3.10.0, I am not using &lt;code&gt;__init__.py&lt;/code&gt; files, which did not work for me anyway.&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;application\n app\n    folder\n        file.py\n app2\n     some_folder\n         some_file.py\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/a/59598549/848353&quot;&gt;WY Hsu&apos;s&lt;/a&gt; 1st solution worked for me. I have reposted it with an &lt;strong&gt;absolute file reference&lt;/strong&gt; for clarity:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; sys\nsys.path.insert(&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;C:\\\\Users\\\\&amp;lt;Your Username&amp;gt;\\\\application&apos;&lt;/span&gt;)\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; app2.some_folder.some_file\n\nsome_file.hello_world()\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;Alternative Solution&lt;/strong&gt;: However, this also worked for me:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; sys\nsys.path.append( &lt;span class=&quot;hljs-string&quot;&gt;&apos;.&apos;&lt;/span&gt; )\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; app2.some_folder.some_file\n\nsome_file.hello_world()\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Although, I do not understand why it works. I thought the dot is a reference to the current directory. However, when printing out the paths to the current folder, the current directory is already listed at the top:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; path &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; sys.path:\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(path)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Hopefully, someone can provide clarity as to why this works in the comments. Nevertheless, I also hope it helps someone.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;In case anyone still looking for a solution. This worked for me.&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;Python adds the folder containing the script you launch to the PYTHONPATH, so if you run&lt;/p&gt;\n&lt;pre class=&quot;lang-sh s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;python application/app2/some_folder/some_file.py\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Only the folder application/app2/some_folder is added to the path (not the base dir that you&apos;re executing the command in). Instead, run your file as a module and add a __init__.py in your some_folder directory.&lt;/p&gt;\n&lt;pre class=&quot;lang-sh s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;python -m application.app2.some_folder.some_file\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This will add the base dir to the python path, and then classes will be accessible via a non-relative import.&lt;/p&gt;\n    ","\n&lt;p&gt;The code below imports the Python script given by it&apos;s path, no matter where it is located, in a Python version-safe way:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;import_module_by_path&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;path&lt;/span&gt;):\n    name = os.path.splitext(os.path.basename(path))[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; sys.version_info[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] == &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;:   \n        &lt;span class=&quot;hljs-comment&quot;&gt;# Python 2&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; imp\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; imp.load_source(name, path)\n    &lt;span class=&quot;hljs-keyword&quot;&gt;elif&lt;/span&gt; sys.version_info[:&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;] &amp;lt;= (&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;):  \n        &lt;span class=&quot;hljs-comment&quot;&gt;# Python 3, version &amp;lt;= 3.4&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; importlib.machinery &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; SourceFileLoader\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; SourceFileLoader(name, path).load_module()\n    &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;:                            \n        &lt;span class=&quot;hljs-comment&quot;&gt;# Python 3, after 3.4&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; importlib.util\n        spec = importlib.util.spec_from_file_location(name, path)\n        mod = importlib.util.module_from_spec(spec)\n        spec.loader.exec_module(mod)\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; mod\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;I found this in the codebase of &lt;a href=&quot;https://pypi.org/project/psutil/&quot; rel=&quot;nofollow noreferrer&quot;&gt;psutils&lt;/a&gt;, at line 1042 in &lt;a href=&quot;https://github.com/giampaolo/psutil/blob/ee60bad610822a7f630c52922b4918e684ba7695/psutil/tests/__init__.py&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;code&gt;psutils.test.__init__.py&lt;/code&gt;&lt;/a&gt; (&lt;em&gt;most recent commit as of 09.10.2020&lt;/em&gt;).&lt;/p&gt;\n&lt;p&gt;Usage example:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;script = &lt;span class=&quot;hljs-string&quot;&gt;&quot;/home/username/Documents/some_script.py&quot;&lt;/span&gt;\nsome_module = import_module_by_path(script)\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(some_module.foo())\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;Important caveat: The module will be treated as top-level; any relative imports from parent packages in it will fail.&lt;/strong&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;You can use importlib to import modules where you want to import a module from a folder using a string like so:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; importlib\n\nscriptName = &lt;span class=&quot;hljs-string&quot;&gt;&apos;Snake&apos;&lt;/span&gt;\n\nscript = importlib.import_module(&lt;span class=&quot;hljs-string&quot;&gt;&apos;Scripts\\\\.%s&apos;&lt;/span&gt; % scriptName)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This example has a main.py which is the above code then a folder called Scripts and then you can call whatever you need from this folder by changing the &lt;code&gt;scriptName&lt;/code&gt; variable. You can then use &lt;code&gt;script&lt;/code&gt; to reference to this module. such as if I have a function called &lt;code&gt;Hello()&lt;/code&gt; in the Snake module you can run this function by doing so:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;script.Hello()\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I have tested this in Python 3.6&lt;/p&gt;\n    ","\n&lt;p&gt;I usually create a symlink to the module I want to import. The symlink makes sure Python interpreter can locate the module inside the current directory (the script you are importing the other module into); later on when your work is over, you can remove the symlink. Also, you should ignore symlinks in .gitignore, so that, you wouldn&apos;t accidentally commit symlinked modules to your repo. This approach lets you even successfully work with modules that are located parallel to the script you are executing.&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;ln -s ~/path/to/original/module/my_module ~/symlink/inside/the/destination/directory/my_module\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If you have multiple folders and sub folders, you can always import any class or module from the &lt;strong&gt;main directory&lt;/strong&gt;.&lt;/p&gt;\n&lt;p&gt;For example: Tree structure of the project&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;Project \n main.py\n .gitignore\n|\n src\n     model\n     |     user_model.py\n     |controller\n           user_controller.py\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Now, if you want to import &lt;strong&gt;&quot;UserModel&quot;&lt;/strong&gt; class from user_model.py in &lt;strong&gt;main.py&lt;/strong&gt; file, you can do that using:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; src.model.user_model.py &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; UserModel\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Also, you can import same class in &lt;strong&gt;user_controller.py&lt;/strong&gt; file using same line:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; src.model.user_model.py &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; UserModel\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Overall, you can give reference of main project directory to import classes and files in any python file inside &lt;strong&gt;Project&lt;/strong&gt; directory.&lt;/p&gt;\n    ","\n&lt;h2&gt;This problem may be due Pycharm&lt;/h2&gt;\n&lt;p&gt;I had the same problem while using Pycharm. I had this project structure&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;skylake\\\n   backend\\\n      apps\\\n          example.py\n      configuration\\\n          settings.py\n   frontend\\\n      ...some_stuff\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;and code &lt;code&gt;from configuration import settings&lt;/code&gt; in example.py raised import error&lt;/p&gt;\n&lt;p&gt;the problem was that when I opened Pycharm, it considered that skylake is root path and ran this code&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;sys.path.extend([&lt;span class=&quot;hljs-string&quot;&gt;&apos;D:\\\\projects\\\\skylake&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;D:/projects/skylake&apos;&lt;/span&gt;])\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;To fix this I just marked backend directory as source root\n&lt;a href=&quot;https://i.stack.imgur.com/6yaVi.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/6yaVi.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;And it&apos;s fixed my problem&lt;/p&gt;\n    "],"502":["\n&lt;p&gt;The common approach to get a unique collection of items is to use a &lt;a href=&quot;http://docs.python.org/3/library/stdtypes.html#set-types-set-frozenset&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;set&lt;/code&gt;&lt;/a&gt;. Sets are &lt;em&gt;unordered&lt;/em&gt; collections of &lt;em&gt;distinct&lt;/em&gt; objects. To create a set from any iterable, you can simply pass it to the built-in &lt;a href=&quot;http://docs.python.org/3/library/functions.html#func-set&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;set()&lt;/code&gt;&lt;/a&gt; function. If you later need a real list again, you can similarly pass the set to the &lt;a href=&quot;http://docs.python.org/3/library/functions.html#func-list&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;list()&lt;/code&gt;&lt;/a&gt; function.&lt;/p&gt;\n&lt;p&gt;The following example should cover whatever you are trying to do:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;t = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;set&lt;/span&gt;(t))\n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;s = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;set&lt;/span&gt;(t) - &lt;span class=&quot;hljs-built_in&quot;&gt;set&lt;/span&gt;(s))\n[&lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;As you can see from the example result, &lt;em&gt;the original order is not maintained&lt;/em&gt;. As mentioned above, sets themselves are unordered collections, so the order is lost. When converting a set back to a list, an arbitrary order is created.&lt;/p&gt;\n&lt;h3&gt;Maintaining order&lt;/h3&gt;\n&lt;p&gt;If order is important to you, then you will have to use a different mechanism. A very common solution for this is to rely on &lt;a href=&quot;https://docs.python.org/3/library/collections.html#collections.OrderedDict&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;OrderedDict&lt;/code&gt;&lt;/a&gt; to keep the order of keys during insertion:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; collections &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; OrderedDict\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(OrderedDict.fromkeys(t))\n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;a href=&quot;https://mail.python.org/pipermail/python-dev/2017-December/151283.html&quot; rel=&quot;noreferrer&quot;&gt;Starting with Python 3.7&lt;/a&gt;, the built-in dictionary is guaranteed to maintain the insertion order as well, so you can also use that directly if you are on Python 3.7 or later (or CPython 3.6):&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;dict&lt;/span&gt;.fromkeys(t))\n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Note that this may have some overhead of creating a dictionary first, and then creating a list from it. If you dont actually need to preserve the order, youre often better off using a set, especially because it gives you a lot more operations to work with. Check out &lt;a href=&quot;https://stackoverflow.com/q/480214/216074&quot;&gt;this question&lt;/a&gt; for more details and alternative ways to preserve the order when removing duplicates.&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;Finally note that both the &lt;code&gt;set&lt;/code&gt; as well as the &lt;code&gt;OrderedDict&lt;/code&gt;/&lt;code&gt;dict&lt;/code&gt; solutions require your items to be &lt;em&gt;hashable&lt;/em&gt;. This usually means that they have to be immutable. If you have to deal with items that are not hashable (e.g. list objects), then you will have to use a slow approach in which you will basically have to compare every item with every other item in a nested loop.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;In Python 2.7&lt;/strong&gt;, the new way of removing duplicates from an iterable while keeping it in the original order is:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; collections &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; OrderedDict\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(OrderedDict.fromkeys(&lt;span class=&quot;hljs-string&quot;&gt;&apos;abracadabra&apos;&lt;/span&gt;))\n[&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;r&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;In Python 3.5&lt;/strong&gt;, the OrderedDict has a C implementation. My timings show that this is now both the fastest and shortest of the various approaches for Python 3.5.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;In Python 3.6&lt;/strong&gt;, the regular dict became both ordered and compact.  (This feature is holds for CPython and PyPy but may not present in other implementations).  That gives us a new fastest way of deduping while retaining order:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;dict&lt;/span&gt;.fromkeys(&lt;span class=&quot;hljs-string&quot;&gt;&apos;abracadabra&apos;&lt;/span&gt;))\n[&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;r&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;In Python 3.7&lt;/strong&gt;, the regular dict is guaranteed to both ordered across all implementations.  &lt;strong&gt;So, the shortest and fastest solution is:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;dict&lt;/span&gt;.fromkeys(&lt;span class=&quot;hljs-string&quot;&gt;&apos;abracadabra&apos;&lt;/span&gt;))\n[&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;r&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;It&apos;s a one-liner: &lt;code&gt;list(set(source_list))&lt;/code&gt; will do the trick.&lt;/p&gt;\n\n&lt;p&gt;A &lt;code&gt;set&lt;/code&gt; is something that can&apos;t possibly have duplicates.&lt;/p&gt;\n\n&lt;p&gt;Update: an order-preserving approach is two lines:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; collections &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; OrderedDict\nOrderedDict((x, &lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; x &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; source_list).keys()\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here we use the fact that &lt;code&gt;OrderedDict&lt;/code&gt; remembers the insertion order of keys, and does not change it when a value at a particular key is updated. We insert &lt;code&gt;True&lt;/code&gt; as values, but we could insert anything, values are just not used. (&lt;code&gt;set&lt;/code&gt; works a lot like a &lt;code&gt;dict&lt;/code&gt; with ignored values, too.)&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;t = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;t\n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;s = []\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; t:\n       &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; i &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; s:\n          s.append(i)\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;s\n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If you don&apos;t care about the order, just do this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;remove_duplicates&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;l&lt;/span&gt;):\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;set&lt;/span&gt;(l))\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;A &lt;code&gt;set&lt;/code&gt; is guaranteed to not have duplicates.&lt;/p&gt;\n    ","\n&lt;p&gt;To make a new list  retaining the order of first elements of duplicates in &lt;code&gt;L&lt;/code&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;newlist = [ii &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; n,ii &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;enumerate&lt;/span&gt;(L) &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; ii &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; L[:n]]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;For example: if &lt;code&gt;L = [1, 2, 2, 3, 4, 2, 4, 3, 5]&lt;/code&gt;, then &lt;code&gt;newlist&lt;/code&gt; will be &lt;code&gt;[1, 2, 3, 4, 5]&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;This checks each new element has not appeared previously in the list before adding it.\nAlso it does not need imports.&lt;/p&gt;\n    ","\n&lt;p&gt;There are also solutions using Pandas and Numpy. They both return numpy array so you have to use the function &lt;a href=&quot;https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ndarray.tolist.html&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;.tolist()&lt;/code&gt;&lt;/a&gt; if you want a list.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;t=[&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;]\nt2= [&lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;Pandas solution&lt;/h2&gt;\n\n&lt;p&gt;Using Pandas function &lt;a href=&quot;https://pandas.pydata.org/pandas-docs/version/0.21/generated/pandas.unique.html&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;unique()&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; pandas &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; pd\npd.unique(t).tolist()\n&amp;gt;&amp;gt;&amp;gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;]\npd.unique(t2).tolist()\n&amp;gt;&amp;gt;&amp;gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;Numpy solution&lt;/h2&gt;\n\n&lt;p&gt;Using numpy function &lt;a href=&quot;https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.unique.html&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;unique()&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; numpy &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; np\nnp.unique(t).tolist()\n&amp;gt;&amp;gt;&amp;gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;]\nnp.unique(t2).tolist()\n&amp;gt;&amp;gt;&amp;gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Note that numpy.unique() also sort the values&lt;/strong&gt;. So the list &lt;code&gt;t2&lt;/code&gt; is returned sorted. If you want to have the order preserved use as in &lt;a href=&quot;https://stackoverflow.com/questions/15637336/numpy-unique-with-order-preserved&quot;&gt;this answer&lt;/a&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;_, idx = np.unique(t2, return_index=&lt;span class=&quot;hljs-literal&quot;&gt;True&lt;/span&gt;)\nt2[np.sort(idx)].tolist()\n&amp;gt;&amp;gt;&amp;gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The solution is not so elegant compared to the others, however, compared to pandas.unique(), numpy.unique() allows you also to check if nested arrays are unique along one selected axis.&lt;/p&gt;\n    ","\n&lt;p&gt;In this answer, there will be two sections: Two unique solutions, and a graph of speed for specific solutions.&lt;/p&gt;\n&lt;h2&gt;Removing Duplicate Items&lt;/h2&gt;\n&lt;p&gt;Most of these answers only remove duplicate items which are &lt;em&gt;hashable&lt;/em&gt;, but this question doesn&apos;t imply it doesn&apos;t just need &lt;em&gt;hashable&lt;/em&gt; items, meaning I&apos;ll offer some solutions which don&apos;t require &lt;em&gt;hashable&lt;/em&gt; items.&lt;/p&gt;\n&lt;p&gt;&lt;code&gt;collections.Counter&lt;/code&gt; is a powerful tool in the standard library which could be perfect for this. There&apos;s only one other solution which even has Counter in it. However, that solution is also limited to &lt;em&gt;hashable&lt;/em&gt; keys.&lt;/p&gt;\n&lt;p&gt;To allow unhashable keys in Counter, I made a Container class, which will try to get the object&apos;s default hash function, but if it fails, it will try its identity function. It also defines an &lt;strong&gt;eq&lt;/strong&gt; and a &lt;strong&gt;hash&lt;/strong&gt; method. This should be enough to allow &lt;em&gt;unhashable&lt;/em&gt; items in our solution. Unhashable objects will be treated as if they are hashable. However, this hash function uses identity for unhashable objects, meaning two equal objects that are both unhashable won&apos;t work. I suggest you override this, and changing it to use the hash of an equivalent mutable type (like using &lt;code&gt;hash(tuple(my_list))&lt;/code&gt; if &lt;code&gt;my_list&lt;/code&gt; is a list).&lt;/p&gt;\n&lt;p&gt;I also made two solutions. Another solution which keeps the order of the items, using a subclass of both OrderedDict and Counter which is named &apos;OrderedCounter&apos;. Now, here are the functions:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; collections &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; OrderedDict, Counter\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Container&lt;/span&gt;:\n    &lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;__init__&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;self, obj&lt;/span&gt;):\n        self.obj = obj\n    &lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;__eq__&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;self, obj&lt;/span&gt;):\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; self.obj == obj\n    &lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;__hash__&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;self&lt;/span&gt;):\n        &lt;span class=&quot;hljs-keyword&quot;&gt;try&lt;/span&gt;:\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;hash&lt;/span&gt;(self.obj)\n        &lt;span class=&quot;hljs-keyword&quot;&gt;except&lt;/span&gt;:\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;id&lt;/span&gt;(self.obj)\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;OrderedCounter&lt;/span&gt;(Counter, OrderedDict):\n     &lt;span class=&quot;hljs-string&quot;&gt;&apos;Counter that remembers the order elements are first encountered&apos;&lt;/span&gt;\n\n     &lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;__repr__&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;self&lt;/span&gt;):\n         &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;%s(%r)&apos;&lt;/span&gt; % (self.__class__.__name__, OrderedDict(self))\n\n     &lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;__reduce__&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;self&lt;/span&gt;):\n         &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; self.__class__, (OrderedDict(self),)\n    \n&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;remd&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;sequence&lt;/span&gt;):\n    cnt = Counter()\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; x &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; sequence:\n        cnt[Container(x)] += &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [item.obj &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; item &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; cnt]\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;oremd&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;sequence&lt;/span&gt;):\n    cnt = OrderedCounter()\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; x &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; sequence:\n        cnt[Container(x)] += &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [item.obj &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; item &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; cnt]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;code&gt;remd&lt;/code&gt; is non-ordered sorting, while &lt;code&gt;oremd&lt;/code&gt; is ordered sorting. You can clearly tell which one is faster, but I&apos;ll explain anyways. The non-ordered sorting is slightly faster, since it doesn&apos;t store the order of the items.&lt;/p&gt;\n&lt;p&gt;Now, I also wanted to show the speed comparisons of each answer. So, I&apos;ll do that now.&lt;/p&gt;\n&lt;h2&gt;Which Function is the Fastest?&lt;/h2&gt;\n&lt;p&gt;For removing duplicates, I gathered 10 functions from a few answers. I calculated the speed of each function and put it into a graph using &lt;em&gt;matplotlib.pyplot&lt;/em&gt;.&lt;/p&gt;\n&lt;p&gt;I divided this into three rounds of graphing. A hashable is any object which can be hashed, an unhashable is any object which cannot be hashed. An ordered sequence is a sequence which preserves order, an unordered sequence does not preserve order. Now, here are a few more terms:&lt;/p&gt;\n&lt;p&gt;&lt;em&gt;Unordered Hashable&lt;/em&gt; was for any method which removed duplicates, which didn&apos;t necessarily have to keep the order. It didn&apos;t have to work for unhashables, but it could.&lt;/p&gt;\n&lt;p&gt;&lt;em&gt;Ordered Hashable&lt;/em&gt; was for any method which kept the order of the items in the list, but it didn&apos;t have to work for unhashables, but it could.&lt;/p&gt;\n&lt;p&gt;&lt;em&gt;Ordered Unhashable&lt;/em&gt; was any method which kept the order of the items in the list, and worked for unhashables.&lt;/p&gt;\n&lt;p&gt;On the y-axis is the amount of seconds it took.&lt;/p&gt;\n&lt;p&gt;On the x-axis is the number the function was applied to.&lt;/p&gt;\n&lt;p&gt;I generated sequences for unordered hashables and ordered hashables with the following comprehension: &lt;code&gt;[list(range(x)) + list(range(x)) for x in range(0, 1000, 10)]&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;For ordered unhashables: &lt;code&gt;[[list(range(y)) + list(range(y)) for y in range(x)] for x in range(0, 1000, 10)]&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;Note there is a &lt;code&gt;step&lt;/code&gt; in the range because without it, this would&apos;ve taken 10x as long. Also because in my personal opinion, I thought it might&apos;ve looked a little easier to read.&lt;/p&gt;\n&lt;p&gt;Also note the keys on the legend are what I tried to guess as the most vital parts of the implementation of the function. As for what function does the worst or best? The graph speaks for itself.&lt;/p&gt;\n&lt;p&gt;With that settled, here are the graphs.&lt;/p&gt;\n&lt;h3&gt;Unordered Hashables&lt;/h3&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/KlFmQ.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/KlFmQ.png&quot; alt=&quot;Unordered Hashables&quot;&gt;&lt;/a&gt;\n(Zoomed in)\n&lt;a href=&quot;https://i.stack.imgur.com/aB1uu.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/aB1uu.png&quot; alt=&quot;Unordered Hashables Zoomed&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;h3&gt;Ordered Hashables&lt;/h3&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/n3OMu.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/n3OMu.png&quot; alt=&quot;Ordered Hashables&quot;&gt;&lt;/a&gt;\n(Zoomed in)\n&lt;a href=&quot;https://i.stack.imgur.com/sKVo6.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/sKVo6.png&quot; alt=&quot;Ordered Hashables Zoomed&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;h2&gt;Ordered Unhashables&lt;/h2&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/Va9c6.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/Va9c6.png&quot; alt=&quot;Ordered Unhashables&quot;&gt;&lt;/a&gt;\n(Zoomed in)\n&lt;a href=&quot;https://i.stack.imgur.com/WQN46.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/WQN46.png&quot; alt=&quot;Ordered Unhashables Zoomed&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;A colleague have sent the accepted answer as part of his code to me for a codereview today.\nWhile I certainly admire the elegance of the answer in question, I am not happy with the performance.\nI have tried this solution (I use &lt;em&gt;set&lt;/em&gt; to reduce lookup time)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;ordered_set&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;in_list&lt;/span&gt;):\n    out_list = []\n    added = &lt;span class=&quot;hljs-built_in&quot;&gt;set&lt;/span&gt;()\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; val &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; in_list:\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; val &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; added:\n            out_list.append(val)\n            added.add(val)\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; out_list\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To compare efficiency, I used a random sample of 100 integers - 62 were unique&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; random &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; randint\nx = [randint(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; _ &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; xrange(&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;)]\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;131&lt;/span&gt;]: &lt;span class=&quot;hljs-built_in&quot;&gt;len&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;set&lt;/span&gt;(x))\nOut[&lt;span class=&quot;hljs-number&quot;&gt;131&lt;/span&gt;]: &lt;span class=&quot;hljs-number&quot;&gt;62&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here are the results of the measurements&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;129&lt;/span&gt;]: %timeit &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(OrderedDict.fromkeys(x))\n&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt; loops, best of &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;86.4&lt;/span&gt; us per loop\n\nIn [&lt;span class=&quot;hljs-number&quot;&gt;130&lt;/span&gt;]: %timeit ordered_set(x)\n&lt;span class=&quot;hljs-number&quot;&gt;100000&lt;/span&gt; loops, best of &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;15.1&lt;/span&gt; us per loop\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Well, what happens if set is removed from the solution?&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;ordered_set&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;inlist&lt;/span&gt;):\n    out_list = []\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; val &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; inlist:\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; val &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; out_list:\n            out_list.append(val)\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; out_list\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The result is not as bad as with the &lt;em&gt;OrderedDict&lt;/em&gt;, but still more than 3 times of the original solution&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;136&lt;/span&gt;]: %timeit ordered_set(x)\n&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt; loops, best of &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;52.6&lt;/span&gt; us per loop\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Very late answer. If you don&apos;t care about the list order, you can use &lt;code&gt;*arg&lt;/code&gt; expansion with &lt;code&gt;set&lt;/code&gt; uniqueness to remove dupes, i.e.:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;l = [*{*l}]\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;a href=&quot;https://trinket.io/python3/f6271c5be5&quot; rel=&quot;noreferrer&quot;&gt;Python3 Demo&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Another way of doing:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;seq = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]\n&amp;gt;&amp;gt; &lt;span class=&quot;hljs-built_in&quot;&gt;dict&lt;/span&gt;.fromkeys(seq).keys()\n[&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Simple and easy:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;myList = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\ncleanlist = []\n[cleanlist.append(x) &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; x &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; myList &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; x &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; cleanlist]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Output:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;cleanlist \n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I had a dict in my list, so I could not use the above approach. I got the error:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;TypeError: unhashable &lt;span class=&quot;hljs-built_in&quot;&gt;type&lt;/span&gt;:\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So if you care about &lt;strong&gt;order&lt;/strong&gt; and/or some items are &lt;strong&gt;unhashable&lt;/strong&gt;. Then you might find this useful:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;make_unique&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;original_list&lt;/span&gt;):\n    unique_list = []\n    [unique_list.append(obj) &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; obj &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; original_list &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; obj &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; unique_list]\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; unique_list\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Some may consider list comprehension with a side effect to not be a good solution. Here&apos;s an alternative:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;make_unique&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;original_list&lt;/span&gt;):\n    unique_list = []\n    &lt;span class=&quot;hljs-built_in&quot;&gt;map&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;lambda&lt;/span&gt; x: unique_list.append(x) &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (x &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; unique_list) &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;False&lt;/span&gt;, original_list)\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; unique_list\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;All the order-preserving approaches I&apos;ve seen here so far either use naive  comparison (with O(n^2) time-complexity at best) or heavy-weight &lt;code&gt;OrderedDicts&lt;/code&gt;/&lt;code&gt;set&lt;/code&gt;+&lt;code&gt;list&lt;/code&gt; combinations that are limited to hashable inputs. Here is a hash-independent O(nlogn) solution:&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt; added the &lt;code&gt;key&lt;/code&gt; argument, documentation and Python 3 compatibility.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# from functools import reduce &amp;lt;-- add this import on Python 3&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;uniq&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;iterable, key=&lt;span class=&quot;hljs-keyword&quot;&gt;lambda&lt;/span&gt; x: x&lt;/span&gt;):\n    &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&quot;\n    Remove duplicates from an iterable. Preserves order. \n    :type iterable: Iterable[Ord =&amp;gt; A]\n    :param iterable: an iterable of objects of any orderable type\n    :type key: Callable[A] -&amp;gt; (Ord =&amp;gt; B)\n    :param key: optional argument; by default an item (A) is discarded \n    if another item (B), such that A == B, has already been encountered and taken. \n    If you provide a key, this condition changes to key(A) == key(B); the callable \n    must return orderable objects.\n    &quot;&quot;&quot;&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;# Enumerate the list to restore order lately; reduce the sorted list; restore order&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;append_unique&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;acc, item&lt;/span&gt;):\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; acc &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; key(acc[-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]) == key(item[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]) &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; acc.append(item) &lt;span class=&quot;hljs-keyword&quot;&gt;or&lt;/span&gt; acc \n    srt_enum = &lt;span class=&quot;hljs-built_in&quot;&gt;sorted&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;enumerate&lt;/span&gt;(iterable), key=&lt;span class=&quot;hljs-keyword&quot;&gt;lambda&lt;/span&gt; item: key(item[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]))\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [item[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; item &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;sorted&lt;/span&gt;(reduce(append_unique, srt_enum, [srt_enum[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]]))] \n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If you want to preserve the order, and not use any external modules here is an easy way to do this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;t = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;dict&lt;/span&gt;.fromkeys(t))\n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Note: This method preserves the order of appearance, so, as seen above, nine will come after one because it was the first time it appeared. This however, is the same result as you would get with doing&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;from&lt;/span&gt; collections &lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; OrderedDict\nulist=&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(OrderedDict.fromkeys(l))\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;but it is much shorter, and runs faster.&lt;/p&gt;\n\n&lt;p&gt;This works because each time the &lt;code&gt;fromkeys&lt;/code&gt; function tries to create a new key, if the value already exists it will simply overwrite it. This wont affect the dictionary at all however, as &lt;code&gt;fromkeys&lt;/code&gt; creates a dictionary where all keys have the value &lt;code&gt;None&lt;/code&gt;, so effectively it eliminates all duplicates this way.&lt;/p&gt;\n    ","\n&lt;p&gt;You could also do this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;t = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;s = [x &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; i, x &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;enumerate&lt;/span&gt;(t) &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; i == t.index(x)]\n&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;s\n[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The reason that above works is that &lt;code&gt;index&lt;/code&gt; method returns only the first index of an element. Duplicate elements have higher indices. Refer to &lt;a href=&quot;https://docs.python.org/3/tutorial/datastructures.html#more-on-lists&quot; rel=&quot;noreferrer&quot;&gt;here&lt;/a&gt;:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;&lt;strong&gt;list.index(x[, start[, end]])&lt;/strong&gt;&lt;br&gt;\n  Return zero-based index in the list of\n  the first item whose value is x.    Raises a ValueError if there is no\n  such item.&lt;/p&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;p&gt;Best approach of removing duplicates from a list is using &lt;strong&gt;set()&lt;/strong&gt; function, available in python, again converting that &lt;strong&gt;set into list&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;In [&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;]: some_list = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;v&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;v&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;v&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;]\nIn [&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]: &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;set&lt;/span&gt;(some_list))\nOut[&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;]: [&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;v&apos;&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You can use &lt;code&gt;set&lt;/code&gt; to remove duplicates:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;mylist = &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;set&lt;/span&gt;(mylist))\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;But note the results will be unordered. If that&apos;s an issue:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;mylist.sort()\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Try using sets:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; sets\nt = sets.&lt;span class=&quot;hljs-type&quot;&gt;Set&lt;/span&gt;([&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;d&apos;&lt;/span&gt;])\nt1 = sets.&lt;span class=&quot;hljs-type&quot;&gt;Set&lt;/span&gt;([&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;c&apos;&lt;/span&gt;])\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; t | t1\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; t - t1\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;One more better approach could be,&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; pandas &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; pd\n\nmyList = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\ncleanList = pd.Series(myList).drop_duplicates().tolist()\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(cleanList)\n\n&lt;span class=&quot;hljs-comment&quot;&gt;#&amp;gt; [1, 2, 3, 5, 6, 7, 8]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and the order remains preserved.&lt;/p&gt;\n    ","\n&lt;p&gt;I&apos;ve compared the various suggestions with &lt;a href=&quot;https://github.com/nschloe/perfplot&quot; rel=&quot;noreferrer&quot;&gt;perfplot&lt;/a&gt;. It turns out that, if the input array doesn&apos;t have duplicate elements, all methods are more or less equally fast, independently of whether the input data is a Python list or a NumPy array.&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/bM7Qf.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/bM7Qf.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;If the input array is large, but contains just one unique element, then the &lt;code&gt;set&lt;/code&gt;, &lt;code&gt;dict&lt;/code&gt; and &lt;code&gt;np.unique&lt;/code&gt; methods are costant-time &lt;em&gt;if the input data is a list&lt;/em&gt;. If it&apos;s a NumPy array, &lt;code&gt;np.unique&lt;/code&gt; is about 10 times faster than the other alternatives.&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/giJyZ.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/giJyZ.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;It&apos;s somewhat surprising to me that those are not constant-time operations, too.&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;Code to reproduce the plots:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; perfplot\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; numpy &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; np\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; matplotlib.pyplot &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; plt\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;setup_list&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;n&lt;/span&gt;):\n    &lt;span class=&quot;hljs-comment&quot;&gt;# return list(np.random.permutation(np.arange(n)))&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;] * n\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;setup_np_array&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;n&lt;/span&gt;):\n    &lt;span class=&quot;hljs-comment&quot;&gt;# return np.random.permutation(np.arange(n))&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; np.zeros(n, dtype=&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt;)\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;list_set&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;):\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;set&lt;/span&gt;(data))\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;numpy_unique&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;):\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; np.unique(data)\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;list_dict&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;):\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;dict&lt;/span&gt;.fromkeys(data))\n\n\nb = perfplot.bench(\n    setup=[\n        setup_list,\n        setup_list,\n        setup_list,\n        setup_np_array,\n        setup_np_array,\n        setup_np_array,\n    ],\n    kernels=[list_set, numpy_unique, list_dict, list_set, numpy_unique, list_dict],\n    labels=[\n        &lt;span class=&quot;hljs-string&quot;&gt;&quot;list(set(lst))&quot;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-string&quot;&gt;&quot;np.unique(lst)&quot;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-string&quot;&gt;&quot;list(dict(lst))&quot;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-string&quot;&gt;&quot;list(set(arr))&quot;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-string&quot;&gt;&quot;np.unique(arr)&quot;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-string&quot;&gt;&quot;list(dict(arr))&quot;&lt;/span&gt;,\n    ],\n    n_range=[&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; ** k &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; k &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;range&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;23&lt;/span&gt;)],\n    xlabel=&lt;span class=&quot;hljs-string&quot;&gt;&quot;len(array)&quot;&lt;/span&gt;,\n    equality_check=&lt;span class=&quot;hljs-literal&quot;&gt;None&lt;/span&gt;,\n)\n&lt;span class=&quot;hljs-comment&quot;&gt;# plt.title(&quot;input array = [0, 1, 2,..., n]&quot;)&lt;/span&gt;\nplt.title(&lt;span class=&quot;hljs-string&quot;&gt;&quot;input array = [0, 0,..., 0]&quot;&lt;/span&gt;)\nb.save(&lt;span class=&quot;hljs-string&quot;&gt;&quot;out.png&quot;&lt;/span&gt;)\nb.show()\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Reduce variant with ordering preserve:&lt;/p&gt;\n\n&lt;p&gt;Assume that we have list:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;l = [&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Reduce variant (unefficient):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;reduce(&lt;span class=&quot;hljs-keyword&quot;&gt;lambda&lt;/span&gt; r, v: v &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; r &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; r &lt;span class=&quot;hljs-keyword&quot;&gt;or&lt;/span&gt; r + [v], l, [])\n[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;5 x faster but more sophisticated&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;gt;&amp;gt;&amp;gt; &lt;/span&gt;reduce(&lt;span class=&quot;hljs-keyword&quot;&gt;lambda&lt;/span&gt; r, v: v &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; r[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; r &lt;span class=&quot;hljs-keyword&quot;&gt;or&lt;/span&gt; (r[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;].append(v) &lt;span class=&quot;hljs-keyword&quot;&gt;or&lt;/span&gt; r[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;].add(v)) &lt;span class=&quot;hljs-keyword&quot;&gt;or&lt;/span&gt; r, l, ([], &lt;span class=&quot;hljs-built_in&quot;&gt;set&lt;/span&gt;()))[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]\n[&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Explanation:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;default = (&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(), &lt;span class=&quot;hljs-built_in&quot;&gt;set&lt;/span&gt;())\n&lt;span class=&quot;hljs-comment&quot;&gt;# user list to keep order&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# use set to make lookup faster&lt;/span&gt;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;reducer&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;result, item&lt;/span&gt;):\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; item &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; result[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]:\n        result[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;].append(item)\n        result[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;].add(item)\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; result\n\nreduce(reducer, l, default)[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You can use the following function: &lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;rem_dupes&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;dup_list&lt;/span&gt;): \n    yooneeks = [] \n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; elem &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; dup_list: \n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; elem &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; yooneeks: \n            yooneeks.append(elem) \n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; yooneeks\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Example&lt;/strong&gt;: &lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;my_list = [&lt;span class=&quot;hljs-string&quot;&gt;&apos;this&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;is&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;a&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;list&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;with&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;dupicates&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&apos;in&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;the&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;list&apos;&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Usage:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;rem_dupes(my_list)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;[&apos;this&apos;, &apos;is&apos;, &apos;a&apos;, &apos;list&apos;, &apos;with&apos;, &apos;dupicates&apos;, &apos;in&apos;, &apos;the&apos;]&lt;/p&gt;\n    ","\n&lt;p&gt;This one cares about the order without too much hassle (OrderdDict &amp;amp; others). Probably not the most Pythonic way, nor shortest way, but does the trick:&lt;/p&gt;\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;remove_duplicates&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;item_list&lt;/span&gt;):\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&apos; Removes duplicate items from a list &apos;&apos;&apos;&lt;/span&gt;\n    singles_list = []\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; element &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; item_list:\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; element &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; singles_list:\n            singles_list.append(element)\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; singles_list\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;There are many other answers suggesting different ways to do this, but they&apos;re all batch operations, and some of them throw away the original order. That might be okay depending on what you need, but if you want to iterate over the values in the order of the first instance of each value, and you want to remove the duplicates on-the-fly versus all at once, you could use this generator:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;uniqify&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;iterable&lt;/span&gt;):\n    seen = &lt;span class=&quot;hljs-built_in&quot;&gt;set&lt;/span&gt;()\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; item &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; iterable:\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; item &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; seen:\n            seen.add(item)\n            &lt;span class=&quot;hljs-keyword&quot;&gt;yield&lt;/span&gt; item\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This returns a generator/iterator, so you can use it anywhere that you can use an iterator.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; unique_item &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; uniqify([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]):\n    &lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(unique_item, end=&lt;span class=&quot;hljs-string&quot;&gt;&apos; &apos;&lt;/span&gt;)\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;()\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Output:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;If you do want a &lt;code&gt;list&lt;/code&gt;, you can do this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;unique_list = &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(uniqify([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]))\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(unique_list)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Output:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Without using set &lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;data=[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\nuni_data=[]\n&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; dat &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; data:\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; dat &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; uni_data:\n        uni_data.append(dat)\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(uni_data) \n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;h1&gt;The Magic of Python Built-in type&lt;/h1&gt;\n\n&lt;p&gt;In python, it is very easy to process the complicated cases like this and only by python&apos;s built-in type. &lt;/p&gt;\n\n&lt;p&gt;Let me show you how to do ! &lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Method 1: General Case&lt;/strong&gt; &lt;/p&gt;\n\n&lt;p&gt;The way (&lt;em&gt;1 line code&lt;/em&gt;) to remove duplicated element in list and still keep sorting order&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;line = [&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\nnew_line = &lt;span class=&quot;hljs-built_in&quot;&gt;sorted&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;set&lt;/span&gt;(line), key=line.index) &lt;span class=&quot;hljs-comment&quot;&gt;# remove duplicated element&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt;(new_line)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You will get the result&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Method 2: Special Case&lt;/strong&gt; &lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;TypeError: unhashable &lt;span class=&quot;hljs-built_in&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;list&apos;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The special case to process unhashable (&lt;em&gt;3 line codes&lt;/em&gt;)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;line=[[&lt;span class=&quot;hljs-string&quot;&gt;&apos;16.4966155686595&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-27.59776154691&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;52.3786295521147&apos;&lt;/span&gt;]\n,[&lt;span class=&quot;hljs-string&quot;&gt;&apos;16.4966155686595&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-27.59776154691&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;52.3786295521147&apos;&lt;/span&gt;]\n,[&lt;span class=&quot;hljs-string&quot;&gt;&apos;17.6508629295574&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-27.143305738671&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;47.534955022564&apos;&lt;/span&gt;]\n,[&lt;span class=&quot;hljs-string&quot;&gt;&apos;17.6508629295574&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-27.143305738671&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;47.534955022564&apos;&lt;/span&gt;]\n,[&lt;span class=&quot;hljs-string&quot;&gt;&apos;18.8051102904552&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-26.688849930432&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;42.6912804930134&apos;&lt;/span&gt;]\n,[&lt;span class=&quot;hljs-string&quot;&gt;&apos;18.8051102904552&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-26.688849930432&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;42.6912804930134&apos;&lt;/span&gt;]\n,[&lt;span class=&quot;hljs-string&quot;&gt;&apos;19.5504702331098&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-26.205884452727&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;37.7709192714727&apos;&lt;/span&gt;]\n,[&lt;span class=&quot;hljs-string&quot;&gt;&apos;19.5504702331098&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-26.205884452727&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;37.7709192714727&apos;&lt;/span&gt;]\n,[&lt;span class=&quot;hljs-string&quot;&gt;&apos;20.2929416861422&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-25.722717575124&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;32.8500163147157&apos;&lt;/span&gt;]\n,[&lt;span class=&quot;hljs-string&quot;&gt;&apos;20.2929416861422&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-25.722717575124&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;32.8500163147157&apos;&lt;/span&gt;]]\n\ntuple_line = [&lt;span class=&quot;hljs-built_in&quot;&gt;tuple&lt;/span&gt;(pt) &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; pt &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; line] &lt;span class=&quot;hljs-comment&quot;&gt;# convert list of list into list of tuple&lt;/span&gt;\ntuple_new_line = &lt;span class=&quot;hljs-built_in&quot;&gt;sorted&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;set&lt;/span&gt;(tuple_line),key=tuple_line.index) &lt;span class=&quot;hljs-comment&quot;&gt;# remove duplicated element&lt;/span&gt;\nnew_line = [&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(t) &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; t &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; tuple_new_line] &lt;span class=&quot;hljs-comment&quot;&gt;# convert list of tuple into list of list&lt;/span&gt;\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; (new_line)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You will get the result : &lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;[\n  [&lt;span class=&quot;hljs-string&quot;&gt;&apos;16.4966155686595&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-27.59776154691&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;52.3786295521147&apos;&lt;/span&gt;], \n  [&lt;span class=&quot;hljs-string&quot;&gt;&apos;17.6508629295574&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-27.143305738671&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;47.534955022564&apos;&lt;/span&gt;], \n  [&lt;span class=&quot;hljs-string&quot;&gt;&apos;18.8051102904552&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-26.688849930432&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;42.6912804930134&apos;&lt;/span&gt;], \n  [&lt;span class=&quot;hljs-string&quot;&gt;&apos;19.5504702331098&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-26.205884452727&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;37.7709192714727&apos;&lt;/span&gt;], \n  [&lt;span class=&quot;hljs-string&quot;&gt;&apos;20.2929416861422&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;-25.722717575124&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;32.8500163147157&apos;&lt;/span&gt;]\n]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Because tuple is hashable and you can convert data between list and tuple easily     &lt;/p&gt;\n    ","\n&lt;p&gt;below code is simple for removing duplicate in list&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;remove_duplicates&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt;):\n    a = []\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; x:\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; i &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; a:\n            a.append(i)\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; a\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; remove_duplicates([&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;])\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;it returns [1,2,3,4]&lt;/p&gt;\n    ","\n&lt;p&gt;Here&apos;s the fastest pythonic solution comaring to others listed in replies.&lt;/p&gt;\n\n&lt;p&gt;Using implementation details of short-circuit evaluation allows to use list comprehension, which is fast enough. &lt;code&gt;visited.add(item)&lt;/code&gt; always returns &lt;code&gt;None&lt;/code&gt; as a result, which is evaluated as &lt;code&gt;False&lt;/code&gt;, so the right-side of &lt;code&gt;or&lt;/code&gt; would always be the result of such an expression.&lt;/p&gt;\n\n&lt;p&gt;Time it yourself&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;deduplicate&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;sequence&lt;/span&gt;):\n    visited = &lt;span class=&quot;hljs-built_in&quot;&gt;set&lt;/span&gt;()\n    adder = visited.add  &lt;span class=&quot;hljs-comment&quot;&gt;# get rid of qualification overhead&lt;/span&gt;\n    out = [adder(item) &lt;span class=&quot;hljs-keyword&quot;&gt;or&lt;/span&gt; item &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; item &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; sequence &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; item &lt;span class=&quot;hljs-keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; visited]\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; out\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Using &lt;strong&gt;&lt;em&gt;set&lt;/em&gt;&lt;/strong&gt; :&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;a = [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\na = &lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;set&lt;/span&gt;(a))\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; a\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Using &lt;strong&gt;&lt;em&gt;unique&lt;/em&gt;&lt;/strong&gt; :&lt;/p&gt;\n\n&lt;pre class=&quot;lang-py s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; numpy &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; np\na = [&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\na = np.unique(a).tolist()\n&lt;span class=&quot;hljs-built_in&quot;&gt;print&lt;/span&gt; a\n&lt;/code&gt;&lt;/pre&gt;\n    "],"503":["\n&lt;p&gt;You can use the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;Array.prototype.filter&lt;/code&gt;&lt;/a&gt; method:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; newArray = homes.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;el&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; el.&lt;span class=&quot;hljs-property&quot;&gt;price&lt;/span&gt; &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;1000&lt;/span&gt; &amp;amp;&amp;amp;\n         el.&lt;span class=&quot;hljs-property&quot;&gt;sqft&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;500&lt;/span&gt; &amp;amp;&amp;amp;\n         el.&lt;span class=&quot;hljs-property&quot;&gt;num_of_beds&lt;/span&gt; &amp;gt;=&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &amp;amp;&amp;amp;\n         el.&lt;span class=&quot;hljs-property&quot;&gt;num_of_baths&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;2.5&lt;/span&gt;;\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Live Example:&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;true&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&lt;div class=&quot;snippet-display&quot; style=&quot;vertical-align: center&quot;&gt;&lt;p&gt;&lt;a class=&quot;snippet-show-link-chevron&quot;&gt;&lt;span class=&quot;expander-arrow-hide&quot; style=&quot;vertical-align: middle;&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;a class=&quot;snippet-show-link&quot;&gt;&lt;span class=&quot;show-hide&quot; data-ishidden=&quot;true&quot; style=&quot;vertical-align: middle&quot;&gt;Show code snippet&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;\n&lt;div class=&quot;snippet-code snippet-currently-hidden&quot; style=&quot;display: none;&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; obj = {\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;homes&apos;&lt;/span&gt;: [{\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;home_id&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;1&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;price&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;925&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;sqft&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;1100&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;num_of_beds&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;2&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;num_of_baths&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;2.0&quot;&lt;/span&gt;,\n        }, {\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;home_id&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;2&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;price&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;1425&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;sqft&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;1900&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;num_of_beds&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;4&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;num_of_baths&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;2.5&quot;&lt;/span&gt;,\n        },\n        &lt;span class=&quot;hljs-comment&quot;&gt;// ... (more homes) ...     &lt;/span&gt;\n    ]\n};\n&lt;span class=&quot;hljs-comment&quot;&gt;// (Note that because `price` and such are given as strings in your object,&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// the below relies on the fact that &amp;lt;= and &amp;gt;= with a string and number&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// will coerce the string to a number before comparing.)&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; newArray = obj.&lt;span class=&quot;hljs-property&quot;&gt;homes&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;el&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; el.&lt;span class=&quot;hljs-property&quot;&gt;price&lt;/span&gt; &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;1000&lt;/span&gt; &amp;amp;&amp;amp;\n         el.&lt;span class=&quot;hljs-property&quot;&gt;sqft&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;500&lt;/span&gt; &amp;amp;&amp;amp;\n         el.&lt;span class=&quot;hljs-property&quot;&gt;num_of_beds&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &amp;amp;&amp;amp;\n         el.&lt;span class=&quot;hljs-property&quot;&gt;num_of_baths&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;1.5&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// Changed this so a home would match&lt;/span&gt;\n});\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(newArray);&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif1&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;This method is part of the new &lt;a href=&quot;http://www.ecma-international.org/publications/standards/Ecma-262.htm&quot; rel=&quot;noreferrer&quot;&gt;ECMAScript 5th Edition&lt;/a&gt; standard, and can be found on almost all modern browsers.&lt;/p&gt;\n\n&lt;p&gt;For IE, you can include the following method for compatibility:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;filter&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;filter&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;fun &lt;span class=&quot;hljs-comment&quot;&gt;/*, thisp*/&lt;/span&gt;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; len = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt; &amp;gt;&amp;gt;&amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;typeof&lt;/span&gt; fun != &lt;span class=&quot;hljs-string&quot;&gt;&quot;function&quot;&lt;/span&gt;)\n      &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;TypeError&lt;/span&gt;();\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; res = [];\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; thisp = &lt;span class=&quot;hljs-variable language_&quot;&gt;arguments&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;];\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; len; i++) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (i &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; val = &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;[i];\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (fun.&lt;span class=&quot;hljs-title function_&quot;&gt;call&lt;/span&gt;(thisp, val, i, &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;))\n          res.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(val);\n      }\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; res;\n  };\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I&apos;m surprised no one has posted the one-line response:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; filteredHomes = json.&lt;span class=&quot;hljs-property&quot;&gt;homes&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; x.&lt;span class=&quot;hljs-property&quot;&gt;price&lt;/span&gt; &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;1000&lt;/span&gt; &amp;amp;&amp;amp; x.&lt;span class=&quot;hljs-property&quot;&gt;sqft&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;500&lt;/span&gt; &amp;amp;&amp;amp; x.&lt;span class=&quot;hljs-property&quot;&gt;num_of_beds&lt;/span&gt; &amp;gt;=&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &amp;amp;&amp;amp; x.&lt;span class=&quot;hljs-property&quot;&gt;num_of_baths&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;2.5&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;...and just so you can read it easier:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; filteredHomes = json.&lt;span class=&quot;hljs-property&quot;&gt;homes&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;( &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; \n  x.&lt;span class=&quot;hljs-property&quot;&gt;price&lt;/span&gt; &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;1000&lt;/span&gt; &amp;amp;&amp;amp; \n  x.&lt;span class=&quot;hljs-property&quot;&gt;sqft&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;500&lt;/span&gt; &amp;amp;&amp;amp; \n  x.&lt;span class=&quot;hljs-property&quot;&gt;num_of_beds&lt;/span&gt; &amp;gt;=&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &amp;amp;&amp;amp; \n  x.&lt;span class=&quot;hljs-property&quot;&gt;num_of_baths&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;2.5&lt;/span&gt;\n);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You can try using framework like jLinq - following is a code sample of using jLinq&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; results = jLinq.&lt;span class=&quot;hljs-title function_&quot;&gt;from&lt;/span&gt;(data.&lt;span class=&quot;hljs-property&quot;&gt;users&lt;/span&gt;)\n.&lt;span class=&quot;hljs-title function_&quot;&gt;startsWith&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;first&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;a&quot;&lt;/span&gt;)\n.&lt;span class=&quot;hljs-title function_&quot;&gt;orEndsWith&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;y&quot;&lt;/span&gt;)\n.&lt;span class=&quot;hljs-title function_&quot;&gt;orderBy&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;admin&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;age&quot;&lt;/span&gt;)\n.&lt;span class=&quot;hljs-title function_&quot;&gt;select&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;For more information you can follow the link &lt;a href=&quot;http://www.hugoware.net/projects/jlinq&quot; rel=&quot;noreferrer&quot;&gt;http://www.hugoware.net/projects/jlinq&lt;/a&gt; &lt;/p&gt;\n    ","\n&lt;p&gt;I prefer the Underscore framework. It suggests many useful operations with objects.\nYour task:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; newArray = homes.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(\n    price &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;1000&lt;/span&gt; &amp;amp; \n    sqft &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;500&lt;/span&gt; &amp;amp;\n    num_of_beds &amp;gt;=&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &amp;amp; \n    num_of_baths &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;2.5&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;can be overwriten like:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; newArray = _.&lt;span class=&quot;hljs-property&quot;&gt;filter&lt;/span&gt; (homes, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;home&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; home.&lt;span class=&quot;hljs-property&quot;&gt;price&lt;/span&gt;&amp;lt;=&lt;span class=&quot;hljs-number&quot;&gt;1000&lt;/span&gt; &amp;amp;&amp;amp; sqft&amp;gt;=&lt;span class=&quot;hljs-number&quot;&gt;500&lt;/span&gt; &amp;amp;&amp;amp; num_of_beds&amp;gt;=&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &amp;amp;&amp;amp; num_of_baths&amp;gt;=&lt;span class=&quot;hljs-number&quot;&gt;2.5&lt;/span&gt;;\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Hope it will be useful for you!&lt;/p&gt;\n    ","\n&lt;p&gt;here is the working fiddle which works fine in IE8 using jquery MAP function&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;http://jsfiddle.net/533135/Cj4j7/&quot; rel=&quot;noreferrer&quot;&gt;http://jsfiddle.net/533135/Cj4j7/&lt;/a&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;json.&lt;span class=&quot;hljs-property&quot;&gt;HOMES&lt;/span&gt; = $.&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;(json.&lt;span class=&quot;hljs-property&quot;&gt;HOMES&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;val, key&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;(val.&lt;span class=&quot;hljs-property&quot;&gt;price&lt;/span&gt;) &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;1000&lt;/span&gt;\n            &amp;amp;&amp;amp; &lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;(val.&lt;span class=&quot;hljs-property&quot;&gt;sqft&lt;/span&gt;) &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;500&lt;/span&gt;\n            &amp;amp;&amp;amp; &lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;(val.&lt;span class=&quot;hljs-property&quot;&gt;num_of_beds&lt;/span&gt;) &amp;gt;=&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\n            &amp;amp;&amp;amp; &lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;(val.&lt;span class=&quot;hljs-property&quot;&gt;num_of_baths&lt;/span&gt; ) &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;2.5&lt;/span&gt;)\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; val;\n});\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You can use jQuery.grep() since jQuery 1.0:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$.&lt;span class=&quot;hljs-title function_&quot;&gt;grep&lt;/span&gt;(homes, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;h&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; h.&lt;span class=&quot;hljs-property&quot;&gt;price&lt;/span&gt; &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;1000&lt;/span&gt;\n    &amp;amp;&amp;amp; h.&lt;span class=&quot;hljs-property&quot;&gt;sqft&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;500&lt;/span&gt;\n    &amp;amp;&amp;amp; h.&lt;span class=&quot;hljs-property&quot;&gt;num_of_beds&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\n    &amp;amp;&amp;amp; h.&lt;span class=&quot;hljs-property&quot;&gt;num_of_baths&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;2.5&lt;/span&gt;\n});\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You could do this pretty easily - there are probably many implementations you can choose from, but this is my basic idea (and there is probably some format where you can iterate over an object with jQuery, I just cant think of it right now):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;collection, predicate&lt;/span&gt;)\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; result = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Array&lt;/span&gt;();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; length = collection.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; j = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; j &amp;lt; length; j++)\n    {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;predicate&lt;/span&gt;(collection[j]) == &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;)\n        {\n             result.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(collection[j]);\n        }\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; result;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And then you could invoke this function like so:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(json, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;element&lt;/span&gt;)\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(element.&lt;span class=&quot;hljs-property&quot;&gt;price&lt;/span&gt; &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;1000&lt;/span&gt; &amp;amp;&amp;amp; element.&lt;span class=&quot;hljs-property&quot;&gt;sqft&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;500&lt;/span&gt; &amp;amp;&amp;amp; element.&lt;span class=&quot;hljs-property&quot;&gt;num_of_beds&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &amp;amp;&amp;amp; element.&lt;span class=&quot;hljs-property&quot;&gt;num_of_baths&lt;/span&gt; &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;2.5&lt;/span&gt;)\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This way, you can invoke the filter based on whatever predicate you define, or even filter multiple times using smaller filters. &lt;/p&gt;\n    ","\n&lt;p&gt;use filter&lt;/p&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; json = {\n    &lt;span class=&quot;hljs-attr&quot;&gt;homes&lt;/span&gt;: [{\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;home_id&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;1&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;price&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;925&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;sqft&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;1100&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;num_of_beds&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;2&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;num_of_baths&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;2.0&quot;&lt;/span&gt;,\n        }, {\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;home_id&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;2&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;price&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;1425&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;sqft&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;1900&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;num_of_beds&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;4&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;num_of_baths&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;2.5&quot;&lt;/span&gt;,\n        },\n         \n    ]\n}\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; filter = \n  json.&lt;span class=&quot;hljs-property&quot;&gt;homes&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;d&lt;/span&gt; =&amp;gt;&lt;/span&gt; \n  \n    d.&lt;span class=&quot;hljs-property&quot;&gt;price&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;1000&lt;/span&gt; &amp;amp; \n    d.&lt;span class=&quot;hljs-property&quot;&gt;sqft&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;500&lt;/span&gt; &amp;amp; \n    d.&lt;span class=&quot;hljs-property&quot;&gt;num_of_beds&lt;/span&gt; &amp;gt;=&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &amp;amp; \n    d.&lt;span class=&quot;hljs-property&quot;&gt;num_of_baths&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;2.5&lt;/span&gt;\n)\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(filter)&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif2&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I use my &lt;code&gt;ruleOut&lt;/code&gt; function for filtering objects based on &lt;strong&gt;specific unwanted property values.&lt;/strong&gt; I understand that in your example you would like to use conditions instead of values, but my answer is valid for the question title, so I&apos;d like to leave my method here.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;ruleOut&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;arr, filterObj, applyAllFilters=&lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;&lt;/span&gt;) {    \n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; arr.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;( &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;row&lt;/span&gt; =&amp;gt;&lt;/span&gt; {            \n        &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; field &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; filterObj) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; val = row[field];\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (val) {                    \n                &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (applyAllFilters &amp;amp;&amp;amp; filterObj[field].&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(val) &amp;gt; -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;;                \n                &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!applyAllFilters) {                        \n                    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; filterObj[field].&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;filterValue&lt;/span&gt;){ \n                        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (val.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(filterValue)&amp;gt;-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n                    }).&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt; == &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;                 \n                }\n            }\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n    });\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Say you have a list of actors like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; actors = [\n  {&lt;span class=&quot;hljs-attr&quot;&gt;userName&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;Mary&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;job&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;star&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;language&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;Turkish&quot;&lt;/span&gt;},\n  {&lt;span class=&quot;hljs-attr&quot;&gt;userName&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;John&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;job&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;actor&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;language&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;Turkish&quot;&lt;/span&gt;},\n  {&lt;span class=&quot;hljs-attr&quot;&gt;userName&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;Takis&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;job&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;star&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;language&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;Greek&quot;&lt;/span&gt;},\n  {&lt;span class=&quot;hljs-attr&quot;&gt;userName&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;Joe&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;job&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;star&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;language&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;Turkish&quot;&lt;/span&gt;},\n  {&lt;span class=&quot;hljs-attr&quot;&gt;userName&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;Bill&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;job&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;star&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-attr&quot;&gt;language&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;Turkish&quot;&lt;/span&gt;}\n];\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and you would like to find all actors that are rated as Holywood stars, their nationality should not be one of &apos;English&apos;, &apos;Italian&apos;, &apos;Spanish&apos;, &apos;Greek&apos;, plus their name would not be one of &apos;Mary&apos;, &apos;Joe&apos;. Bizzar example, I know! Anyway, with that set of conditions you would create the following object:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; unwantedFieldsFilter= { \n  &lt;span class=&quot;hljs-attr&quot;&gt;userName&lt;/span&gt;: [&lt;span class=&quot;hljs-string&quot;&gt;&apos;Mary&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;Joe&apos;&lt;/span&gt;],    \n  &lt;span class=&quot;hljs-attr&quot;&gt;job&lt;/span&gt;: [&lt;span class=&quot;hljs-string&quot;&gt;&apos;actor&apos;&lt;/span&gt;],   \n  &lt;span class=&quot;hljs-attr&quot;&gt;language&lt;/span&gt;: [&lt;span class=&quot;hljs-string&quot;&gt;&apos;English&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;Italian&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;Spanish&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;Greek&apos;&lt;/span&gt;]  \n};\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;OK, now if you &lt;code&gt;ruleOut(actors, unwantedFieldsFilter)&lt;/code&gt; you would only get &lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;[{userName: &quot;Bill&quot;, job: &quot;star&quot;, language: &quot;Turkish&quot;}]&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;And Bill is your man, since his name is not one of &apos;Mary&apos;, &apos;Joe&apos;, his nationality is not included in [&apos;English&apos;, &apos;Italian&apos;, &apos;Spanish&apos;, &apos;Greek&apos;] plus he is a Star! &lt;/p&gt;\n\n&lt;p&gt;There is one option in my method, that is &lt;code&gt;applyAllFilters&lt;/code&gt; and is true by default.\nIf you would try to ruleOut with this param set as false, that would work as an &apos;OR&apos; filtering instead of &apos;AND&apos;. \nExample: &lt;code&gt;ruleOut(actors, {job:[&quot;actor&quot;], language:[&quot;Italian&quot;]}, false)&lt;/code&gt; would get you everyone that is not an actor or Italian:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;[{userName: &quot;Mary&quot;, job: &quot;star&quot;, language: &quot;Turkish&quot;},&lt;br&gt;\n  {userName: &quot;Takis&quot;, job: &quot;star&quot;, language: &quot;Greek&quot;},&lt;br&gt;\n  {userName: &quot;Joe&quot;, job: &quot;star&quot;, language: &quot;Turkish&quot;},&lt;br&gt;\n  {userName: &quot;Bill&quot;, job: &quot;star&quot;, language: &quot;Turkish&quot;}]&lt;/p&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;p&gt;You can implement a filter method yourself that meets your needs, here is how:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;myfilter&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;array, test&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; passedTest =[];\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; array.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; i++) {\n       &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;( array[i]))\n          passedTest.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(array[i]);\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; passedTest;\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; passedHomes = &lt;span class=&quot;hljs-title function_&quot;&gt;myfilter&lt;/span&gt;(homes,&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;currentHome&lt;/span&gt;){\n     &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; ((currentHome.&lt;span class=&quot;hljs-property&quot;&gt;price&lt;/span&gt; &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;1000&lt;/span&gt; )&amp;amp;&amp;amp; (currentHome.&lt;span class=&quot;hljs-property&quot;&gt;sqft&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;500&lt;/span&gt; )&amp;amp;&amp;amp;(currentHome.&lt;span class=&quot;hljs-property&quot;&gt;num_of_beds&lt;/span&gt; &amp;gt;=&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; )&amp;amp;&amp;amp;(currentHome.&lt;span class=&quot;hljs-property&quot;&gt;num_of_baths&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;2.5&lt;/span&gt;));\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Hope, it helps!&lt;/p&gt;\n    ","\n&lt;p&gt;You should check out &lt;a href=&quot;https://github.com/globules-io/OGX.JS/wiki/list&quot; rel=&quot;nofollow noreferrer&quot;&gt;OGX.List&lt;/a&gt; which has built in filtering methods and extends the standard javascript array (and also grouping, sorting and finding). Here&apos;s a list of operators it supports for the filters:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;eq&apos;&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;//Equal to&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;eqjson&apos;&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;//For deep objects, JSON comparison, equal to&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;neq&apos;&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;//Not equal to&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;in&apos;&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;//Contains&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;nin&apos;&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;//Doesn&apos;t contain&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;lt&apos;&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;//Lesser than&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;lte&apos;&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;//Lesser or equal to&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;gt&apos;&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;//Greater than&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;gte&apos;&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;//Greater or equal to&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;btw&apos;&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;//Between, expects value to be array [_from_, _to_]&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;substr&apos;&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;//Substring mode, equal to, expects value to be array [_from_, _to_, _niddle_]&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;regex&apos;&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;//Regex match&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You can use it this way&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;  &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; list = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-variable constant_&quot;&gt;OGX&lt;/span&gt;.&lt;span class=&quot;hljs-title class_&quot;&gt;List&lt;/span&gt;(your_array);\n  list.&lt;span class=&quot;hljs-title function_&quot;&gt;addFilter&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;price&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;btw&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;500&lt;/span&gt;);\n  list.&lt;span class=&quot;hljs-title function_&quot;&gt;addFilter&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;sqft&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;gte&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;500&lt;/span&gt;);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; filtered_list = list.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Or even this way&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;  &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; list = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-variable constant_&quot;&gt;OGX&lt;/span&gt;.&lt;span class=&quot;hljs-title class_&quot;&gt;List&lt;/span&gt;(your_array);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; filtered_list = list.&lt;span class=&quot;hljs-title function_&quot;&gt;get&lt;/span&gt;({&lt;span class=&quot;hljs-attr&quot;&gt;price&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;btw&lt;/span&gt;:[&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;500&lt;/span&gt;]}, &lt;span class=&quot;hljs-attr&quot;&gt;sqft&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;gte&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;500&lt;/span&gt;}});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Or as a one liner&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;   &lt;span class=&quot;hljs-keyword&quot;&gt;let&lt;/span&gt; filtered_list = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-variable constant_&quot;&gt;OGX&lt;/span&gt;.&lt;span class=&quot;hljs-title class_&quot;&gt;List&lt;/span&gt;(your_array).&lt;span class=&quot;hljs-title function_&quot;&gt;get&lt;/span&gt;({&lt;span class=&quot;hljs-attr&quot;&gt;price&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;btw&lt;/span&gt;:[&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;500&lt;/span&gt;]}, &lt;span class=&quot;hljs-attr&quot;&gt;sqft&lt;/span&gt;:{&lt;span class=&quot;hljs-attr&quot;&gt;gte&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;500&lt;/span&gt;}});\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; y = &lt;span class=&quot;hljs-string&quot;&gt;&apos;search text&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; a = [{&lt;span class=&quot;hljs-attr&quot;&gt;key&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;x&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;val: &quot;&lt;/span&gt;y&lt;span class=&quot;hljs-string&quot;&gt;&quot;},  {key: &quot;&lt;/span&gt;d&lt;span class=&quot;hljs-string&quot;&gt;&quot;, &quot;&lt;/span&gt;&lt;span class=&quot;hljs-attr&quot;&gt;val&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;z&quot;&lt;/span&gt;}]\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; data = a.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;res&lt;/span&gt; =&amp;gt;&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;JSON&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;stringify&lt;/span&gt;(res).&lt;span class=&quot;hljs-title function_&quot;&gt;toLocaleLowerCase&lt;/span&gt;()).&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(y.&lt;span class=&quot;hljs-title function_&quot;&gt;toLocaleLowerCase&lt;/span&gt;());\n});\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Or you can simply use &lt;code&gt;$.each&lt;/code&gt; (which also works for objects, not only arrays) and build a new array like so:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; json = {\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;homes&apos;&lt;/span&gt;: [{\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;home_id&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;1&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;price&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;925&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;sqft&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;1100&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;num_of_beds&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;2&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;num_of_baths&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;2.0&quot;&lt;/span&gt;,\n        }, {\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;home_id&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;2&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;price&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;1425&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;sqft&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;1900&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;num_of_beds&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;4&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;num_of_baths&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;2.5&quot;&lt;/span&gt;,\n        },\n        &lt;span class=&quot;hljs-comment&quot;&gt;// ... (more homes) ...     &lt;/span&gt;\n        {\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;home_id&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;3-will-be-matched&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;price&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;925&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;sqft&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;1000&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;num_of_beds&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;2&quot;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;num_of_baths&quot;&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;2.5&quot;&lt;/span&gt;,\n        },\n    ]\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; homes = [];\n$.&lt;span class=&quot;hljs-title function_&quot;&gt;each&lt;/span&gt;(json.&lt;span class=&quot;hljs-property&quot;&gt;homes&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;price&lt;/span&gt; &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;1000&lt;/span&gt;\n        &amp;amp;&amp;amp; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;sqft&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;500&lt;/span&gt;\n        &amp;amp;&amp;amp; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;num_of_beds&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\n        &amp;amp;&amp;amp; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;num_of_baths&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;2.5&lt;/span&gt;\n    ) {\n        homes.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;);\n    }\n});\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; filterHome = homes.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;home&lt;/span&gt; =&amp;gt;&lt;/span&gt;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (home.&lt;span class=&quot;hljs-property&quot;&gt;price&lt;/span&gt; &amp;lt;= &lt;span class=&quot;hljs-number&quot;&gt;999&lt;/span&gt; &amp;amp;&amp;amp;\n         home.&lt;span class=&quot;hljs-property&quot;&gt;num_of_baths&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;2.5&lt;/span&gt; &amp;amp;&amp;amp;\n         home.&lt;span class=&quot;hljs-property&quot;&gt;num_of_beds&lt;/span&gt; &amp;gt;=&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &amp;amp;&amp;amp;\n         home.&lt;span class=&quot;hljs-property&quot;&gt;sqft&lt;/span&gt; &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;998&lt;/span&gt;));\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(filterHome);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You can use this lambda function. More detail can be found here since we are filtering the data based on you have condition which return true or false and it will collect the data in different array so your actual array will be not modified. &lt;/p&gt;\n\n&lt;p&gt;@JGreig Please look into it.&lt;/p&gt;\n    ","\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; state.&lt;span class=&quot;hljs-property&quot;&gt;contactList&lt;/span&gt; = [{\n    &lt;span class=&quot;hljs-attr&quot;&gt;name&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;jane&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-attr&quot;&gt;email&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&apos;jane@gmail.com&apos;&lt;/span&gt;\n  },{},{},...]\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; fileredArray = state.&lt;span class=&quot;hljs-property&quot;&gt;contactsList&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;contactItem&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; regex = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RegExp&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;`&lt;span class=&quot;hljs-subst&quot;&gt;${action.payload}&lt;/span&gt;`&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;gi&apos;&lt;/span&gt;);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; contactItem.&lt;span class=&quot;hljs-property&quot;&gt;nameProperty&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(regex) || \n    contactItem.&lt;span class=&quot;hljs-property&quot;&gt;emailProperty&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(regex);\n});\n\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// contactList: all the contacts stored in state&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// action.payload: whatever typed in search field&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;advance code for the search for all attributes of the object in arrays&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;b=[]; \nyourArray.&lt;span class=&quot;hljs-title function_&quot;&gt;forEach&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;x&lt;/span&gt; =&amp;gt;&lt;/span&gt; {\n      &lt;span class=&quot;hljs-title class_&quot;&gt;Object&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;keys&lt;/span&gt;(x).&lt;span class=&quot;hljs-title function_&quot;&gt;forEach&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;i&lt;/span&gt; =&amp;gt;&lt;/span&gt; {&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (x[i].&lt;span class=&quot;hljs-title function_&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;5&apos;&lt;/span&gt;) &amp;amp;&amp;amp; !b.&lt;span class=&quot;hljs-title function_&quot;&gt;filter&lt;/span&gt;(&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;y&lt;/span&gt; =&amp;gt;&lt;/span&gt; y === x).&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;) { b.&lt;span class=&quot;hljs-title function_&quot;&gt;push&lt;/span&gt;(x) }})\n    });\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(b)\n&lt;/code&gt;&lt;/pre&gt;\n    "],"504":["\n&lt;p&gt;With the &lt;a href=&quot;/questions/tagged/data.table&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &apos;data.table&apos;&quot; rel=&quot;tag&quot;&gt;data.table&lt;/a&gt; package, this could easily be solved with the new &lt;code&gt;rowid&lt;/code&gt; function:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndcast&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;setDT&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n      Name &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; rowid&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Name&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; prefix &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;medication&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n      value.var &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;MedName&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;which gives:&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;   Name    medication1     medication2       medication3\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; Name1  atenolol &lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;mg    aspirin &lt;span class=&quot;hljs-number&quot;&gt;81&lt;/span&gt;mg  sildenafil &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;mg\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; Name2  atenolol &lt;span class=&quot;hljs-number&quot;&gt;50&lt;/span&gt;mg  enalapril &lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;mg              &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Another method (commonly used before version 1.9.7):&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;dcast&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;setDT&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;d1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; rn &lt;span class=&quot;hljs-operator&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;.N&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; Name&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n      Name &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; paste0&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;medication&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;rn&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n      value.var &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;MedName&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;giving the same result.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;A similar approach, but now using the &lt;a href=&quot;/questions/tagged/dplyr&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &apos;dplyr&apos;&quot; rel=&quot;tag&quot;&gt;dplyr&lt;/a&gt; and &lt;a href=&quot;/questions/tagged/tidyr&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &apos;tidyr&apos;&quot; rel=&quot;tag&quot;&gt;tidyr&lt;/a&gt; packages:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nlibrary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;tidyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nd1 &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n  group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Name&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n  mutate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;rn &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; paste0&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;medication&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;row_number&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n  spread&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;rn&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; MedName&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;which gives:&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;Source&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; local data frame &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; x &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\nGroups&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; Name &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n\n    Name   medication1    medication2      medication3\n  &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;fctr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;         &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;chr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;          &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;chr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;            &lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;chr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  Name1 atenolol &lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;mg   aspirin &lt;span class=&quot;hljs-number&quot;&gt;81&lt;/span&gt;mg sildenafil &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;mg\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  Name2 atenolol &lt;span class=&quot;hljs-number&quot;&gt;50&lt;/span&gt;mg enalapril &lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;mg               &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;p&gt;Assuming your data is in the object &lt;code&gt;dataset&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## Add a medication index&lt;/span&gt;\ndata_with_index &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; ddply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dataset&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; .&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Name&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; mutate&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n                         index &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; paste0&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;medication&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Name&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;    \ndcast&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;data_with_index&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; Name &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; index&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; value.var &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;MedName&apos;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;##    Name   medication1    medication2      medication3&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 1 Name1 atenolol 25mg   aspirin 81mg sildenafil 100mg&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 2 Name2 atenolol 50mg enalapril 20mg             &amp;lt;NA&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;You could always generate a unique &lt;code&gt;timevar&lt;/code&gt; before using &lt;code&gt;reshape&lt;/code&gt;. Here I use &lt;code&gt;ave&lt;/code&gt; to apply the function &lt;code&gt;seq_along&lt;/code&gt; &apos;along&apos; each &quot;Name&quot;.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;test &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\nName&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;name1&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;name2&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\nMedName&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;atenolol 25mg&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;aspirin 81mg&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;sildenafil 100mg&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n          &lt;span class=&quot;hljs-string&quot;&gt;&quot;atenolol 50mg&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;enalapril 20mg&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# generate the &apos;timevar&apos;&lt;/span&gt;\ntest&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;uniqid &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; with&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;test&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; ave&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Name&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; Name&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; FUN &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;seq_along&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# reshape!&lt;/span&gt;\nreshape&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;test&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; idvar &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Name&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; timevar &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;uniqid&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; direction &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;wide&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Result:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;   Name     MedName.1      MedName.2        MedName.3\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; name1 atenolol &lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;mg   aspirin &lt;span class=&quot;hljs-number&quot;&gt;81&lt;/span&gt;mg sildenafil &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;mg\n&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; name2 atenolol &lt;span class=&quot;hljs-number&quot;&gt;50&lt;/span&gt;mg enalapril &lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;mg             &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;This seems to actually be a fairly common problem, so I have included a function called &lt;code&gt;getanID&lt;/code&gt; in my &quot;splitstackshape&quot; package.&lt;/p&gt;\n\n&lt;p&gt;Here&apos;s what it does:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;splitstackshape&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ngetanID&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;test&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Name&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#     Name          MedName .id&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 1: name1    atenolol 25mg   1&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 2: name1     aspirin 81mg   2&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 3: name1 sildenafil 100mg   3&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 4: name2    atenolol 50mg   1&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 5: name2   enalapril 20mg   2&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Since &quot;data.table&quot; is loaded along with &quot;splitstackshape&quot;, you have access to &lt;code&gt;dcast.data.table&lt;/code&gt;, so you can proceed as with @mnel&apos;s example.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;dcast.data.table&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;getanID&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;test&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Name&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; Name &lt;span class=&quot;hljs-operator&quot;&gt;~&lt;/span&gt; .id&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; value.var &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;MedName&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#     Name             1              2                3&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 1: name1 atenolol 25mg   aspirin 81mg sildenafil 100mg&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 2: name2 atenolol 50mg enalapril 20mg               NA&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;The function essentially implements a &lt;code&gt;sequence(.N)&lt;/code&gt; by the groups identified to create the &quot;time&quot; column.&lt;/p&gt;\n    ","\n&lt;p&gt;@thelatemail&apos;s solution is similar to this one.  When I generate the time variable, I use &lt;code&gt;rle&lt;/code&gt; in case I&apos;m not working interactively and the &lt;code&gt;Name&lt;/code&gt; variable needs to be dynamic.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# start with your example data&lt;/span&gt;\nx &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; \n    data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n        Name&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;name1&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;name2&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n        MedName&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;atenolol 25mg&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;aspirin 81mg&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;sildenafil 100mg&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;atenolol 50mg&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;enalapril 20mg&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n    &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# pick the id variable&lt;/span&gt;\nid &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;Name&apos;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# sort the data.frame by that variable&lt;/span&gt;\nx &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; x&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt; order&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt; x&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; id &lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# construct a `time` variable on the fly&lt;/span&gt;\nx&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;time &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; unlist&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt; lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt; rle&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt; x&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; id &lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;lengths &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;seq_len&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# `reshape` uses that new `time` column by default&lt;/span&gt;\ny &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; reshape&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt; x &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; idvar &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; id &lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; direction &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;wide&apos;&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# done&lt;/span&gt;\ny\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;One clean solution involves the very useful &lt;code&gt;pivot_wider&lt;/code&gt; function from the &lt;code&gt;tidyr&lt;/code&gt; package version &lt;code&gt;1.1.0&lt;/code&gt;. With this you can also directly specify the column names by using the argument &lt;code&gt;names_glue&lt;/code&gt;.&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;tidyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nlibrary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\ndataframe &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Name&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  mutate&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;row_n &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; row_number&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  pivot_wider&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;id_cols &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; Name&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; names_from &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; row_n&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; values_from &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; MedName&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; names_glue &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;medication{row_n}&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Output&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# A tibble: 2 x 4&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# Groups:   Name [2]&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#   Name  medication1   medication2    medication3     &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#   &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;         &amp;lt;chr&amp;gt;          &amp;lt;chr&amp;gt;           &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 1 Name1 atenolol 25mg aspirin 81mg   sildenafil 100mg&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 2 Name2 atenolol 50mg enalapril 20mg NA  &lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Here&apos;s a shorter way, taking advantage of the way &lt;code&gt;unlist&lt;/code&gt; deals with names:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ndf1 &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; group_by&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Name&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; do&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;as_tibble&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;t&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;unlist&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;.&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# # A tibble: 2 x 4&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# # Groups:   Name [2]&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#      Name      MedName1       MedName2         MedName3&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#     &amp;lt;chr&amp;gt;         &amp;lt;chr&amp;gt;          &amp;lt;chr&amp;gt;            &amp;lt;chr&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#   1 name1 atenolol 25mg   aspirin 81mg sildenafil 100mg&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#   2 name2 atenolol 50mg enalapril 20mg             &amp;lt;NA&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;A &lt;code&gt;tidyr&lt;/code&gt; solution with &lt;code&gt;chop()&lt;/code&gt; and &lt;code&gt;unnest_wider()&lt;/code&gt;.&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;tidyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\ndf &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n  chop&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;Name&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt;\n  unnest_wider&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;MedName&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; names_sep &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;# # A tibble: 2 x 4&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#   Name  MedName1      MedName2       MedName3        &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;#   &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;         &amp;lt;chr&amp;gt;          &amp;lt;chr&amp;gt;           &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 1 Name1 atenolol 25mg aspirin 81mg   sildenafil 100mg&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# 2 Name2 atenolol 50mg enalapril 20mg NA &lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The argument &lt;code&gt;names_sep = &quot;&quot;&lt;/code&gt; is necessary; otherwise, the new column names will be &lt;code&gt;..1&lt;/code&gt;, &lt;code&gt;..2&lt;/code&gt;, and &lt;code&gt;..3&lt;/code&gt;.&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;&lt;strong&gt;Data&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;df &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; structure&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;Name &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;Name1&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Name1&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Name1&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Name2&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;Name2&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; MedName &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;atenolol 25mg&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;aspirin 81mg&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;sildenafil 100mg&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; \n&lt;span class=&quot;hljs-string&quot;&gt;&quot;atenolol 50mg&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;enalapril 20mg&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;data.frame&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; row.names &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5L&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    "],"505":["\n&lt;p&gt;You can force Android to hide the virtual keyboard using the &lt;a href=&quot;http://developer.android.com/reference/android/view/inputmethod/InputMethodManager.html&quot; rel=&quot;noreferrer&quot;&gt;InputMethodManager&lt;/a&gt;, calling &lt;a href=&quot;http://developer.android.com/reference/android/view/inputmethod/InputMethodManager.html#hideSoftInputFromWindow%28android.os.IBinder,%20int%29&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;hideSoftInputFromWindow&lt;/code&gt;&lt;/a&gt;, passing in the token of the window containing your focused view.&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// Check if no view has focus:&lt;/span&gt;\n&lt;span class=&quot;hljs-type&quot;&gt;View&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;this&lt;/span&gt;.getCurrentFocus();\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (view != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;) {  \n    &lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;imm&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(view.getWindowToken(), &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This will force the keyboard to be hidden in all situations. In some cases, you will want to pass in &lt;code&gt;InputMethodManager.HIDE_IMPLICIT_ONLY&lt;/code&gt; as the second parameter to ensure you only hide the keyboard when the user didn&apos;t explicitly force it to appear (by holding down the menu).&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; If you want to do this in Kotlin, use:\n&lt;code&gt;context?.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Kotlin Syntax&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-kotlin s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// Only runs if there is a view that is currently focused&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.currentFocus?.let { view -&amp;gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;val&lt;/span&gt; imm = getSystemService(Context.INPUT_METHOD_SERVICE) &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt;? InputMethodManager\n    imm?.hideSoftInputFromWindow(view.windowToken, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;To help clarify this madness, I&apos;d like to begin by apologizing on behalf of all Android users for Google&apos;s downright ridiculous treatment of the soft keyboard. The reason there are so many answers, each different, for the same simple question is that this API, like many others in Android, is horribly designed. I can think of no polite way to state it.&lt;/p&gt;\n&lt;p&gt;I want to hide the keyboard.  I expect to provide Android with the following statement: &lt;code&gt;Keyboard.hide()&lt;/code&gt;. The end. Thank you very much.  But Android has a problem.  You must use the &lt;code&gt;InputMethodManager&lt;/code&gt; to hide the keyboard. OK, fine, this is Android&apos;s API to the keyboard. BUT! You are required to have a &lt;code&gt;Context&lt;/code&gt; in order to get access to the IMM. Now we have a problem.  I may want to hide the keyboard from a static or utility class that has no use or need for any &lt;code&gt;Context&lt;/code&gt;. or And FAR worse, the IMM requires that you specify what &lt;code&gt;View&lt;/code&gt; (or even worse, what &lt;code&gt;Window&lt;/code&gt;) you want to hide the keyboard FROM.&lt;/p&gt;\n&lt;p&gt;This is what makes hiding the keyboard so challenging. Dear Google: When I&apos;m looking up the recipe for a cake, there is no &lt;code&gt;RecipeProvider&lt;/code&gt; on Earth that would refuse to provide me with the recipe unless I first answer WHO the cake will be eaten by AND where it will be eaten!!&lt;/p&gt;\n&lt;p&gt;This sad story ends with the ugly truth: to hide the Android keyboard, you will be required to provide 2 forms of identification: a &lt;code&gt;Context&lt;/code&gt; and either a &lt;code&gt;View&lt;/code&gt; or a &lt;code&gt;Window&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;I have created a static utility method that can do the job VERY solidly, provided you call it from an &lt;code&gt;Activity&lt;/code&gt;.&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;hideKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(Activity activity)&lt;/span&gt; {\n    &lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;imm&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    &lt;span class=&quot;hljs-comment&quot;&gt;//Find the currently focused view, so we can grab the correct window token from it.&lt;/span&gt;\n    &lt;span class=&quot;hljs-type&quot;&gt;View&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; activity.getCurrentFocus();\n    &lt;span class=&quot;hljs-comment&quot;&gt;//If no view currently has focus, create a new one, just so we can grab a window token from it&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (view == &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;) {\n        view = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;View&lt;/span&gt;(activity);\n    }\n    imm.hideSoftInputFromWindow(view.getWindowToken(), &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Be aware that this utility method ONLY works when called from an &lt;code&gt;Activity&lt;/code&gt;! The above method calls &lt;code&gt;getCurrentFocus&lt;/code&gt; of the target &lt;code&gt;Activity&lt;/code&gt; to fetch the proper window token.&lt;/p&gt;\n&lt;p&gt;But suppose you want to hide the keyboard from an &lt;code&gt;EditText&lt;/code&gt; hosted in a &lt;code&gt;DialogFragment&lt;/code&gt;? You can&apos;t use the method above for that:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;hideKeyboard&lt;/span&gt;(getActivity()); &lt;span class=&quot;hljs-comment&quot;&gt;//won&apos;t work&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This won&apos;t work because you&apos;ll be passing a reference to the &lt;code&gt;Fragment&lt;/code&gt;&apos;s host &lt;code&gt;Activity&lt;/code&gt;, which will have no focused control while the &lt;code&gt;Fragment&lt;/code&gt; is shown! Wow! So, for hiding the keyboard from fragments, I resort to the lower-level, more common, and uglier:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;hideKeyboardFrom&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(Context context, View view)&lt;/span&gt; {\n    &lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;imm&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager) context.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(view.getWindowToken(), &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Below is some additional information gleaned from more time wasted chasing this solution:&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;About windowSoftInputMode&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;There&apos;s yet another point of contention to be aware of. By default, Android will automatically assign initial focus to the first &lt;code&gt;EditText&lt;/code&gt; or focusable control in your &lt;code&gt;Activity&lt;/code&gt;.  It naturally follows that the InputMethod (typically the soft keyboard) will respond to the focus event by showing itself. The &lt;code&gt;windowSoftInputMode&lt;/code&gt; attribute in &lt;code&gt;AndroidManifest.xml&lt;/code&gt;, when set to &lt;code&gt;stateAlwaysHidden&lt;/code&gt;, instructs the keyboard to ignore this automatically-assigned initial focus.&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;activity&lt;/span&gt;\n    &lt;span class=&quot;hljs-attr&quot;&gt;android:name&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;.MyActivity&quot;&lt;/span&gt;\n    &lt;span class=&quot;hljs-attr&quot;&gt;android:windowSoftInputMode&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;stateAlwaysHidden&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Almost unbelievably, it appears to do nothing to prevent the keyboard from opening when you touch the control (unless &lt;code&gt;focusable=&quot;false&quot;&lt;/code&gt; and/or &lt;code&gt;focusableInTouchMode=&quot;false&quot;&lt;/code&gt; are assigned to the control). Apparently, the windowSoftInputMode setting applies only to automatic focus events, not to focus events triggered by touch events.&lt;/p&gt;\n&lt;p&gt;Therefore, &lt;code&gt;stateAlwaysHidden&lt;/code&gt; is VERY poorly named indeed. It should perhaps be called &lt;code&gt;ignoreInitialFocus&lt;/code&gt; instead.&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;&lt;strong&gt;UPDATE: More ways to get a window token&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;If there is no focused view (e.g. can happen if you just changed fragments), there are other views that will supply a useful window token.&lt;/p&gt;\n&lt;p&gt;These are alternatives for the above code &lt;code&gt;if (view == null)   view = new View(activity);&lt;/code&gt;  These don&apos;t refer explicitly to your activity.&lt;/p&gt;\n&lt;p&gt;Inside a fragment class:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ini&quot;&gt;&lt;span class=&quot;hljs-attr&quot;&gt;view&lt;/span&gt; = getView().getRootView().getWindowToken()&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Given a fragment &lt;code&gt;fragment&lt;/code&gt; as a parameter:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ini&quot;&gt;&lt;span class=&quot;hljs-attr&quot;&gt;view&lt;/span&gt; = fragment.getView().getRootView().getWindowToken()&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Starting from your content body:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ini&quot;&gt;&lt;span class=&quot;hljs-attr&quot;&gt;view&lt;/span&gt; = findViewById(android.R.id.content).getRootView().getWindowToken()&lt;span class=&quot;hljs-comment&quot;&gt;;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;p&gt;&lt;strong&gt;UPDATE 2: Clear focus to avoid showing keyboard again if you open the app from the background&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;Add this line to the end of the method:&lt;/p&gt;\n&lt;p&gt;&lt;code&gt;view.clearFocus();&lt;/code&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Also useful for hiding the soft-keyboard is:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;getWindow&lt;/span&gt;()&lt;span class=&quot;hljs-selector-class&quot;&gt;.setSoftInputMode&lt;/span&gt;(\n    WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN\n);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This can be used to suppress the soft-keyboard until the user actually touches the editText View.&lt;/p&gt;\n    ","\n&lt;p&gt;I got one more solution to hide keyboard:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;imm&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE);\nimm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here pass &lt;code&gt;HIDE_IMPLICIT_ONLY&lt;/code&gt; at the position of &lt;code&gt;showFlag&lt;/code&gt; and &lt;code&gt;0&lt;/code&gt; at the position of &lt;code&gt;hiddenFlag&lt;/code&gt;. It will forcefully close soft Keyboard.&lt;/p&gt;\n    ","\n&lt;p&gt;Meier&apos;s solution works for me too. In my case, the top level of my App is a tab host and I want to hide the keyword when switching tabs - I get the window token from the tab host View.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;tabHost.&lt;span class=&quot;hljs-title function_&quot;&gt;setOnTabChangedListener&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;OnTabChangeListener&lt;/span&gt;() {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;onTabChanged&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;String&lt;/span&gt; tabId&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-title class_&quot;&gt;InputMethodManager&lt;/span&gt; imm = (&lt;span class=&quot;hljs-title class_&quot;&gt;InputMethodManager&lt;/span&gt;) &lt;span class=&quot;hljs-title function_&quot;&gt;getSystemService&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Context&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;INPUT_METHOD_SERVICE&lt;/span&gt;);\n        imm.&lt;span class=&quot;hljs-title function_&quot;&gt;hideSoftInputFromWindow&lt;/span&gt;(tabHost.&lt;span class=&quot;hljs-title function_&quot;&gt;getApplicationWindowToken&lt;/span&gt;(), &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Please try this below code in  &lt;code&gt;onCreate()&lt;/code&gt;&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;EditText&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;edtView&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (EditText) findViewById(R.id.editTextConvertValue);\nedtView.setInputType(InputType.TYPE_NULL);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt;\nI don&apos;t know why this solution is not work any more ( I just tested on Android 23). Please use the solution of &lt;a href=&quot;https://stackoverflow.com/a/9494042/523325&quot;&gt;Saurabh Pareek&lt;/a&gt; instead. Here it is:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;imm&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE);\n&lt;span class=&quot;hljs-comment&quot;&gt;//Hide:&lt;/span&gt;\nimm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n&lt;span class=&quot;hljs-comment&quot;&gt;//Show&lt;/span&gt;\nimm.toggleSoftInput(InputMethodManager.SHOW_IMPLICIT, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Old answer:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;//Show soft-keyboard:&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;getWindow&lt;/span&gt;()&lt;span class=&quot;hljs-selector-class&quot;&gt;.setSoftInputMode&lt;/span&gt;(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_VISIBLE);\n&lt;span class=&quot;hljs-comment&quot;&gt;//hide keyboard :&lt;/span&gt;\n &lt;span class=&quot;hljs-built_in&quot;&gt;getWindow&lt;/span&gt;()&lt;span class=&quot;hljs-selector-class&quot;&gt;.setSoftInputMode&lt;/span&gt;(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;hideSoftKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(EditText input)&lt;/span&gt; {\n    &lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;imm&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(input.getWindowToken(), &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);    \n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If all the other answers here don&apos;t work for you as you would like them to, there&apos;s another way of manually controlling the keyboard.&lt;/p&gt;\n\n&lt;p&gt;Create a function with that will manage some of the &lt;code&gt;EditText&lt;/code&gt;&apos;s properties:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;public void &lt;span class=&quot;hljs-built_in&quot;&gt;setEditTextFocus&lt;/span&gt;(boolean isFocused) {\n    searchEditText&lt;span class=&quot;hljs-selector-class&quot;&gt;.setCursorVisible&lt;/span&gt;(isFocused);\n    searchEditText&lt;span class=&quot;hljs-selector-class&quot;&gt;.setFocusable&lt;/span&gt;(isFocused);\n    searchEditText&lt;span class=&quot;hljs-selector-class&quot;&gt;.setFocusableInTouchMode&lt;/span&gt;(isFocused);\n\n    if (isFocused) {\n        searchEditText&lt;span class=&quot;hljs-selector-class&quot;&gt;.requestFocus&lt;/span&gt;();\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Then, make sure that onFocus of the &lt;code&gt;EditText&lt;/code&gt; you open/close the keyboard:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;searchEditText&lt;span class=&quot;hljs-selector-class&quot;&gt;.setOnFocusChangeListener&lt;/span&gt;(new OnFocusChangeListener() {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;@Override&lt;/span&gt;\n    public void onFocusChange(View v, boolean hasFocus) {\n        if (v == searchEditText) {\n            if (hasFocus) {\n                &lt;span class=&quot;hljs-comment&quot;&gt;// Open keyboard&lt;/span&gt;\n                ((InputMethodManager) context&lt;span class=&quot;hljs-selector-class&quot;&gt;.getSystemService&lt;/span&gt;(Context.INPUT_METHOD_SERVICE))&lt;span class=&quot;hljs-selector-class&quot;&gt;.showSoftInput&lt;/span&gt;(searchEditText, InputMethodManager.SHOW_FORCED);\n            } else {\n                &lt;span class=&quot;hljs-comment&quot;&gt;// Close keyboard&lt;/span&gt;\n                ((InputMethodManager) context&lt;span class=&quot;hljs-selector-class&quot;&gt;.getSystemService&lt;/span&gt;(Context.INPUT_METHOD_SERVICE))&lt;span class=&quot;hljs-selector-class&quot;&gt;.hideSoftInputFromWindow&lt;/span&gt;(searchEditText.getWindowToken(), &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n            }\n        }\n    }\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now, whenever you want to open the keyboard manually call: &lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;setEditTextFocus&lt;/span&gt;(true);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And for closing call:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;setEditTextFocus&lt;/span&gt;(false);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/a/9494042/197359&quot;&gt;Saurabh Pareek&lt;/a&gt; has the best answer so far.&lt;/p&gt;\n\n&lt;p&gt;Might as well use the correct flags, though.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;/* hide keyboard */&lt;/span&gt;\n((InputMethodManager) &lt;span class=&quot;hljs-built_in&quot;&gt;getSystemService&lt;/span&gt;(Activity.INPUT_METHOD_SERVICE))\n    &lt;span class=&quot;hljs-selector-class&quot;&gt;.toggleSoftInput&lt;/span&gt;(InputMethodManager.SHOW_IMPLICIT, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/* show keyboard */&lt;/span&gt;\n((InputMethodManager) &lt;span class=&quot;hljs-built_in&quot;&gt;getSystemService&lt;/span&gt;(Activity.INPUT_METHOD_SERVICE))\n    &lt;span class=&quot;hljs-selector-class&quot;&gt;.toggleSoftInput&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, InputMethodManager.HIDE_IMPLICIT_ONLY);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Example of real use&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;/* click button */&lt;/span&gt;\npublic void &lt;span class=&quot;hljs-built_in&quot;&gt;onClick&lt;/span&gt;(View view) {      \n  &lt;span class=&quot;hljs-comment&quot;&gt;/* hide keyboard */&lt;/span&gt;\n  ((InputMethodManager) &lt;span class=&quot;hljs-built_in&quot;&gt;getSystemService&lt;/span&gt;(Activity.INPUT_METHOD_SERVICE))\n      &lt;span class=&quot;hljs-selector-class&quot;&gt;.toggleSoftInput&lt;/span&gt;(InputMethodManager.SHOW_IMPLICIT, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n\n  &lt;span class=&quot;hljs-comment&quot;&gt;/* start loader to check parameters ... */&lt;/span&gt;\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/* loader finished */&lt;/span&gt;\npublic void &lt;span class=&quot;hljs-built_in&quot;&gt;onLoadFinished&lt;/span&gt;(Loader&amp;lt;Object&amp;gt; loader, Object data) {\n    &lt;span class=&quot;hljs-comment&quot;&gt;/* parameters not valid ... */&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;/* show keyboard */&lt;/span&gt;\n    ((InputMethodManager) &lt;span class=&quot;hljs-built_in&quot;&gt;getSystemService&lt;/span&gt;(Activity.INPUT_METHOD_SERVICE))\n        &lt;span class=&quot;hljs-selector-class&quot;&gt;.toggleSoftInput&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, InputMethodManager.HIDE_IMPLICIT_ONLY);\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;/* parameters valid ... */&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;from so searching, here I found an answer that works for me&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;// Show soft-keyboard:\nInputMethodManager imm = (InputMethodManager) &lt;span class=&quot;hljs-built_in&quot;&gt;getSystemService&lt;/span&gt;(Context.INPUT_METHOD_SERVICE);\nimm&lt;span class=&quot;hljs-selector-class&quot;&gt;.toggleSoftInput&lt;/span&gt;(InputMethodManager&lt;span class=&quot;hljs-selector-class&quot;&gt;.SHOW_FORCED&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n\n// Hide soft-keyboard:\n&lt;span class=&quot;hljs-built_in&quot;&gt;getWindow&lt;/span&gt;().&lt;span class=&quot;hljs-built_in&quot;&gt;setSoftInputMode&lt;/span&gt;(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;h2&gt;The short answer&lt;/h2&gt;\n\n&lt;p&gt;In your &lt;code&gt;OnClick&lt;/code&gt; listener call the &lt;code&gt;onEditorAction&lt;/code&gt; of the &lt;code&gt;EditText&lt;/code&gt; with &lt;code&gt;IME_ACTION_DONE&lt;/code&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;button.&lt;span class=&quot;hljs-title function_&quot;&gt;setOnClickListener&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;OnClickListener&lt;/span&gt;() {\n\n    &lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;onClick&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;View v&lt;/span&gt;) {\n        someEditText.&lt;span class=&quot;hljs-title function_&quot;&gt;onEditorAction&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;EditorInfo&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;IME_ACTION_DONE&lt;/span&gt;)\n    }\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;The drill-down&lt;/h2&gt;\n\n&lt;p&gt;I feel this method is better, simpler and more aligned with Android&apos;s design pattern.\nIn the simple example above (and usually in most of the common cases) you&apos;ll have an &lt;code&gt;EditText&lt;/code&gt; that has/had focus and it also usually was the one to invoke the keyboard in the first place (it is definitely able to invoke it in many common scenarios). In that same way, &lt;strong&gt;it&lt;/strong&gt; should be the one to release the keyboard, usually that can be done by an &lt;code&gt;ImeAction&lt;/code&gt;. Just see how an &lt;code&gt;EditText&lt;/code&gt; with &lt;code&gt;android:imeOptions=&quot;actionDone&quot;&lt;/code&gt; behaves, you want to achieve the same behavior by the same means.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;Check this &lt;a href=&quot;https://stackoverflow.com/a/3449616/2837443&quot;&gt;related answer&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;This should work:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;KeyBoard&lt;/span&gt; {\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(Activity activity)&lt;/span&gt;{\n        &lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;imm&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        imm.toggleSoftInput(&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, InputMethodManager.HIDE_IMPLICIT_ONLY); &lt;span class=&quot;hljs-comment&quot;&gt;// show&lt;/span&gt;\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;hide&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(Activity activity)&lt;/span&gt;{\n        &lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;imm&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        imm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// hide&lt;/span&gt;\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;toggle&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(Activity activity)&lt;/span&gt;{\n        &lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;imm&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (imm.isActive()){\n            hide(activity); \n        } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n            show(activity); \n        }\n    }\n}\n\nKeyBoard.toggle(activity);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I&apos;m using a custom keyboard to input an Hex number so I can&apos;t have the IMM keyboard show up...&lt;/p&gt;\n\n&lt;p&gt;In v3.2.4_r1 &lt;code&gt;setSoftInputShownOnFocus(boolean show)&lt;/code&gt; was added to control weather or not to display the keyboard when a TextView gets focus, but its still hidden so reflection must be used:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (Build.VERSION.SDK_INT &amp;gt;= Build.VERSION_CODES.HONEYCOMB_MR2) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;try&lt;/span&gt; {\n        Method method = TextView.&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt;.&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;getMethod&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;setSoftInputShownOnFocus&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;boolean&lt;/span&gt;.&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt;);\n        method.&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;invoke&lt;/span&gt;(mEditText, &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;);\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;hljs-built_in&quot;&gt;Exception&lt;/span&gt; e) {\n        &lt;span class=&quot;hljs-comment&quot;&gt;// Fallback to the second method&lt;/span&gt;\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;For older versions, I got very good results (but far from perfect) with a &lt;code&gt;OnGlobalLayoutListener&lt;/code&gt;, added with the aid of a &lt;code&gt;ViewTreeObserver&lt;/code&gt; from my root view and then checking if the keyboard is shown like this:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;onGlobalLayout&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; {\n    &lt;span class=&quot;hljs-type&quot;&gt;Configuration&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; getResources().getConfiguration();\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Dont allow the default keyboard to show up&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (config.keyboardHidden != Configuration.KEYBOARDHIDDEN_YES) {\n        &lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;imm&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(mRootView.getWindowToken(), &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This last solution may show the keyboard for a split second and messes with the selection handles.&lt;/p&gt;\n\n&lt;p&gt;When in the keyboard enters full screen, onGlobalLayout isn&apos;t called. To avoid that, use &lt;a href=&quot;https://developer.android.com/reference/android/widget/TextView.html#setImeOptions%28int%29&quot; rel=&quot;noreferrer&quot;&gt;TextView#setImeOptions(int)&lt;/a&gt; or in the TextView XML declaration:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-vbnet&quot;&gt;&lt;span class=&quot;hljs-symbol&quot;&gt;android:&lt;/span&gt;imeOptions=&lt;span class=&quot;hljs-string&quot;&gt;&quot;actionNone|actionUnspecified|flagNoFullscreen|flagNoExtractUi&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt; Just found what dialogs use to never show the keyboard and works in all versions:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;getWindow&lt;/span&gt;()&lt;span class=&quot;hljs-selector-class&quot;&gt;.setFlags&lt;/span&gt;(WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM,\n        WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;setKeyboardVisibility&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-type&quot;&gt;boolean&lt;/span&gt; show)&lt;/span&gt; {\n    &lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;imm&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(show){\n        imm.toggleSoftInput(InputMethodManager.SHOW_FORCED, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n    }&lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;{\n        imm.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(),&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I have spent more than two days working through all of the solutions posted in the thread and have found them lacking in one way or another.  My exact requirement is to have a button that will with 100% reliability show or hide the on screen keyboard.  When the keyboard is in its hidden state is should not re-appear, no matter what input fields the user clicks on.  When it is in its visible state the keyboard should not disappear no matter what buttons the user clicks.  This needs to work on Android 2.2+ all the way up to the latest devices.&lt;/p&gt;\n\n&lt;p&gt;You can see a working implementation of this in my app &lt;a href=&quot;https://play.google.com/store/apps/details?id=au.com.lukesleeman.rpn&amp;amp;hl=en&quot; rel=&quot;noreferrer&quot;&gt;clean RPN&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;After testing many of the suggested answers on a number of different phones (including froyo and gingerbread devices) it became apparent that android apps can reliably:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;Temporarily hide the keyboard.  It will re-appear again when a user\nfocuses a new text field.&lt;/li&gt;\n&lt;li&gt;Show the keyboard when an activity starts\nand set a flag on the activity indicating that they keyboard should\nalways be visible.  This flag can only be set when an activity is\ninitialising.&lt;/li&gt;\n&lt;li&gt;Mark an activity to never show or allow the use of the\nkeyboard.  This flag can only be set when an activity is\ninitialising.&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;For me, temporarily hiding the keyboard is not enough.  On some devices it will re-appear as soon as a new text field is focused.  As my app uses multiple text fields on one page, focusing a new text field will cause the hidden keyboard to pop back up again.&lt;/p&gt;\n\n&lt;p&gt;Unfortunately item 2 and 3 on the list only work reliability when an activity is being started.  Once the activity has become visible you cannot permanently hide or show the keyboard.  The trick is to actually restart your activity when the user presses the keyboard toggle button.  In my app when the user presses on the toggle keyboard button, the following code runs:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;toggleKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;{\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(keypadPager.getVisibility() == View.VISIBLE){\n        &lt;span class=&quot;hljs-type&quot;&gt;Intent&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Intent&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;this&lt;/span&gt;, MainActivity.class);\n        i.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n        &lt;span class=&quot;hljs-type&quot;&gt;Bundle&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Bundle&lt;/span&gt;();\n        onSaveInstanceState(state);\n        state.putBoolean(SHOW_KEYBOARD, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n        i.putExtras(state);\n\n        startActivity(i);\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;{\n        &lt;span class=&quot;hljs-type&quot;&gt;Intent&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Intent&lt;/span&gt;(&lt;span class=&quot;hljs-built_in&quot;&gt;this&lt;/span&gt;, MainActivity.class);\n        i.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n        &lt;span class=&quot;hljs-type&quot;&gt;Bundle&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Bundle&lt;/span&gt;();\n        onSaveInstanceState(state);\n        state.putBoolean(SHOW_KEYBOARD, &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;);\n        i.putExtras(state);\n\n        startActivity(i);\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This causes the current activity to have its state saved into a Bundle, and then the activity is started, passing through an boolean which indicates if the keyboard should be shown or hidden.&lt;/p&gt;\n\n&lt;p&gt;Inside the onCreate method the following code is run:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;if&lt;/span&gt;(bundle.getBoolean(SHOW_KEYBOARD)){\n    ((InputMethodManager) &lt;span class=&quot;hljs-built_in&quot;&gt;getSystemService&lt;/span&gt;(Context.INPUT_METHOD_SERVICE))&lt;span class=&quot;hljs-selector-class&quot;&gt;.showSoftInput&lt;/span&gt;(newEquationText,&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n    &lt;span class=&quot;hljs-built_in&quot;&gt;getWindow&lt;/span&gt;()&lt;span class=&quot;hljs-selector-class&quot;&gt;.setSoftInputMode&lt;/span&gt;(LayoutParams.SOFT_INPUT_STATE_ALWAYS_VISIBLE);\n}\nelse{\n    &lt;span class=&quot;hljs-built_in&quot;&gt;getWindow&lt;/span&gt;()&lt;span class=&quot;hljs-selector-class&quot;&gt;.setFlags&lt;/span&gt;(WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM,\n            WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If the soft keyboard should be shown, then the InputMethodManager is told to show the keyboard and the window is instructed to make the soft input always visible. If the soft keyboard should be hidden then the WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM is set.&lt;/p&gt;\n\n&lt;p&gt;This approach works reliably on all devices I have tested on - from a 4 year old HTC phone running android 2.2 up to a nexus 7 running 4.2.2.  The only disadvantage with this approach is you need to be careful with handling the back button.  As my app essentially only has one screen (its a calculator) I can override onBackPressed() and return to the devices home screen.&lt;/p&gt;\n    ","\n&lt;p&gt;Alternatively to &lt;a href=&quot;https://stackoverflow.com/a/9494042/451962&quot;&gt;this all around solution&lt;/a&gt;, if you wanted to close the soft keyboard &lt;strong&gt;from anywhere&lt;/strong&gt; without having a reference to the (EditText) field that was used to open the keyboard, but still wanted to do it if the field was focused, you could use this (from an Activity):&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (getCurrentFocus() != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;imm&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(), &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Thank God its officially supported &lt;a href=&quot;https://www.youtube.com/watch?v=acC7SR1EXsI&quot; rel=&quot;noreferrer&quot;&gt;after 11 years&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;First add dependency &lt;code&gt;implementation &apos;androidx.core:core-ktx:1.7.0&apos;&lt;/code&gt; to app gradle&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Here is the simple &lt;a href=&quot;https://github.com/sergchil/KeyboardTest&quot; rel=&quot;noreferrer&quot;&gt;project&lt;/a&gt; on github&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; android.app.Activity\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; android.content.Context\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; android.view.View\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; androidx.core.view.WindowInsetsCompat\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; androidx.core.view.WindowInsetsControllerCompat\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; androidx.fragment.app.Fragment\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; androidx.fragment.app.FragmentActivity\n\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; View.&lt;span class=&quot;hljs-title&quot;&gt;showKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; = (&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.context &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt;? Activity)?.showKeyboard()\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; View.&lt;span class=&quot;hljs-title&quot;&gt;hideKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; = (&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.context &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt;? Activity)?.hideKeyboard()\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; Fragment.&lt;span class=&quot;hljs-title&quot;&gt;showKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; = activity?.let(FragmentActivity::showKeyboard)\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; Fragment.&lt;span class=&quot;hljs-title&quot;&gt;hideKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; = activity?.hideKeyboard()\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; Context.&lt;span class=&quot;hljs-title&quot;&gt;showKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; = (&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt;? Activity)?.showKeyboard()\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; Context.&lt;span class=&quot;hljs-title&quot;&gt;hideKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; = (&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt;? Activity)?.hideKeyboard()\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; Activity.&lt;span class=&quot;hljs-title&quot;&gt;showKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; = WindowInsetsControllerCompat(window, window.decorView).show(WindowInsetsCompat.Type.ime())\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; Activity.&lt;span class=&quot;hljs-title&quot;&gt;hideKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; = WindowInsetsControllerCompat(window, window.decorView).hide(WindowInsetsCompat.Type.ime())\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Thanks to &lt;a href=&quot;https://stackoverflow.com/a/7696791/1617737&quot;&gt;this SO answer&lt;/a&gt;, I derived the following which, in my case, works nicely when scrolling through the the fragments of a ViewPager...&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;hideKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; {   \n    &lt;span class=&quot;hljs-comment&quot;&gt;// Check if no view has focus:&lt;/span&gt;\n    &lt;span class=&quot;hljs-type&quot;&gt;View&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;this&lt;/span&gt;.getCurrentFocus();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (view != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;inputManager&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager) &lt;span class=&quot;hljs-built_in&quot;&gt;this&lt;/span&gt;.getSystemService(Context.INPUT_METHOD_SERVICE);\n        inputManager.hideSoftInputFromWindow(view.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n    }\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;showKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; {   \n    &lt;span class=&quot;hljs-comment&quot;&gt;// Check if no view has focus:&lt;/span&gt;\n    &lt;span class=&quot;hljs-type&quot;&gt;View&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;this&lt;/span&gt;.getCurrentFocus();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (view != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;inputManager&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager) &lt;span class=&quot;hljs-built_in&quot;&gt;this&lt;/span&gt;.getSystemService(Context.INPUT_METHOD_SERVICE);\n        inputManager.showSoftInput(view, InputMethodManager.SHOW_IMPLICIT);\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Above answers work for different scenario&apos;s but  &lt;strong&gt;If you want to hide the keyboard inside a view and struggling to get the right context try this:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;setOnClickListener&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;OnClickListener&lt;/span&gt;() {\n    &lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;onClick&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;View v&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-title function_&quot;&gt;hideSoftKeyBoardOnTabClicked&lt;/span&gt;(v);\n    }\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;hideSoftKeyBoardOnTabClicked&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;View v&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (v != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; context != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-title class_&quot;&gt;InputMethodManager&lt;/span&gt; imm = (&lt;span class=&quot;hljs-title class_&quot;&gt;InputMethodManager&lt;/span&gt;) context.&lt;span class=&quot;hljs-title function_&quot;&gt;getSystemService&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Context&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;INPUT_METHOD_SERVICE&lt;/span&gt;);\n        imm.&lt;span class=&quot;hljs-title function_&quot;&gt;hideSoftInputFromWindow&lt;/span&gt;(v.&lt;span class=&quot;hljs-title function_&quot;&gt;getApplicationWindowToken&lt;/span&gt;(), &lt;span class=&quot;hljs-title class_&quot;&gt;InputMethodManager&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;HIDE_NOT_ALWAYS&lt;/span&gt;);\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and to get the context fetch it from constructor:) &lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; View/RelativeLayout/&lt;span class=&quot;hljs-function&quot;&gt;so &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;so&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;Context context, AttributeSet attrs, &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; defStyle&lt;/span&gt;)&lt;/span&gt; {\n    super(context, attrs, defStyle);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.context = context;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;init&lt;/span&gt;();\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If you want to close the soft keyboard during a unit or functional test, you can do so by clicking the &quot;back button&quot; from your test:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// Close the soft keyboard from a Test&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;getInstrumentation&lt;/span&gt;()&lt;span class=&quot;hljs-selector-class&quot;&gt;.sendKeyDownUpSync&lt;/span&gt;(KeyEvent.KEYCODE_BACK);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I put &quot;back button&quot; in quotes, since the above doesn&apos;t trigger the &lt;code&gt;onBackPressed()&lt;/code&gt; for the Activity in question. It just closes the keyboard.&lt;/p&gt;\n\n&lt;p&gt;Make sure to pause for a little while before moving on, since it takes a little while to close the back button, so subsequent clicks to Views, etc., won&apos;t be registered until after a short pause (1 second is long enough ime).&lt;/p&gt;\n    ","\n&lt;p&gt;Now, almost 12 years later, we finally have an official, backwards compatible way to do this with &lt;a href=&quot;https://developer.android.com/jetpack/androidx/releases/core#1.5.0&quot; rel=&quot;noreferrer&quot;&gt;AndroidX Core 1.5+&lt;/a&gt;:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; View.&lt;span class=&quot;hljs-title&quot;&gt;hideKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; = ViewCompat.getWindowInsetsController(&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;)\n    ?.hide(WindowInsetsCompat.Type.ime())\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;or specifically for Fragment:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; Fragment.&lt;span class=&quot;hljs-title&quot;&gt;hideKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; = ViewCompat.getWindowInsetsController(requireView())\n    ?.hide(WindowInsetsCompat.Type.ime())\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Here&apos;s how you do it in Mono for Android (AKA MonoDroid)&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;InputMethodManager imm = GetSystemService (Context.InputMethodService) &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; InputMethodManager;\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (imm != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;)\n    imm.HideSoftInputFromWindow (searchbox.WindowToken , &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;This worked for me for all the bizarre keyboard behavior&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;isKeyboardVisible&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; {\n    &lt;span class=&quot;hljs-type&quot;&gt;Rect&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Rect&lt;/span&gt;();\n    &lt;span class=&quot;hljs-comment&quot;&gt;//r will be populated with the coordinates of your view that area still visible.&lt;/span&gt;\n    mRootView.getWindowVisibleDisplayFrame(r);\n\n    &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;heightDiff&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; mRootView.getRootView().getHeight() - (r.bottom - r.top);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; heightDiff &amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// if more than 100 pixels, its probably a keyboard...&lt;/span&gt;\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;showKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (isKeyboardVisible())\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt;;\n    &lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;inputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (getCurrentFocus() == &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;) {\n        inputMethodManager.toggleSoftInput(InputMethodManager.SHOW_FORCED, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        &lt;span class=&quot;hljs-type&quot;&gt;View&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; getCurrentFocus();\n        inputMethodManager.showSoftInput(view, InputMethodManager.SHOW_FORCED);\n    }\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;hideKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!isKeyboardVisible())\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt;;\n    &lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;inputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    &lt;span class=&quot;hljs-type&quot;&gt;View&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; getCurrentFocus();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (view == &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (inputMethodManager.isAcceptingText())\n            inputMethodManager.toggleSoftInput(InputMethodManager.HIDE_NOT_ALWAYS, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (view &lt;span class=&quot;hljs-keyword&quot;&gt;instanceof&lt;/span&gt; EditText)\n            ((EditText) view).setText(((EditText) view).getText().toString()); &lt;span class=&quot;hljs-comment&quot;&gt;// reset edit text bug on some keyboards bug&lt;/span&gt;\n        inputMethodManager.hideSoftInputFromInputMethod(view.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Simple and Easy to use method, just call &lt;strong&gt;hideKeyboardFrom(YourActivity.this);&lt;/strong&gt; to hide keyboard&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;/**\n * This method is used to hide keyboard\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; activity\n */&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;hideKeyboardFrom&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(Activity activity)&lt;/span&gt; {\n    &lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;imm&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(activity.getCurrentFocus().getWindowToken(), &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Just use this optimized code in your activity:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.getCurrentFocus() != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;) {\n    InputMethodManager inputManager = (InputMethodManager) &lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.getSystemService(Context.INPUT_METHOD_SERVICE);\n    inputManager.hideSoftInputFromWindow(&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;.getCurrentFocus().getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Add to your activity    &lt;code&gt;android:windowSoftInputMode=&quot;stateHidden&quot;&lt;/code&gt; in Manifest file. Example:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;activity&lt;/span&gt;\n            &lt;span class=&quot;hljs-attr&quot;&gt;android:name&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;.ui.activity.MainActivity&quot;&lt;/span&gt;\n            &lt;span class=&quot;hljs-attr&quot;&gt;android:label&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;@string/mainactivity&quot;&lt;/span&gt;\n            &lt;span class=&quot;hljs-attr&quot;&gt;android:windowSoftInputMode&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;stateHidden&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;h2&gt; &lt;code&gt;Kotlin Version&lt;/code&gt; via &lt;code&gt;Extension Function&lt;/code&gt;&lt;/h2&gt;\n&lt;p&gt;Using kotlin extension functions, it&apos;d be so simple to show and hide the soft keyboard.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;ExtensionFunctions.kt&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; android.app.Activity\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; android.view.View\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; android.view.inputmethod.InputMethodManager\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; android.widget.EditText\n&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; androidx.fragment.app.Fragment\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; Activity.&lt;span class=&quot;hljs-title&quot;&gt;hideKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;Boolean&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (getSystemService(Activity.INPUT_METHOD_SERVICE) &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; InputMethodManager)\n        .hideSoftInputFromWindow((currentFocus ?: View(&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;)).windowToken, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n}\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; Fragment.&lt;span class=&quot;hljs-title&quot;&gt;hideKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;Boolean&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (context?.getSystemService(Activity.INPUT_METHOD_SERVICE) &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; InputMethodManager)\n        .hideSoftInputFromWindow((activity?.currentFocus ?: View(context)).windowToken, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n}\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; EditText.&lt;span class=&quot;hljs-title&quot;&gt;hideKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;Boolean&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (context.getSystemService(Activity.INPUT_METHOD_SERVICE) &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; InputMethodManager)\n        .hideSoftInputFromWindow(windowToken, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n}\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; EditText.&lt;span class=&quot;hljs-title&quot;&gt;showKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt;&lt;/span&gt;: &lt;span class=&quot;hljs-built_in&quot;&gt;Boolean&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; (context.getSystemService(Activity.INPUT_METHOD_SERVICE) &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; InputMethodManager)\n        .showSoftInput(&lt;span class=&quot;hljs-keyword&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;)\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h3&gt; Usage&lt;/h3&gt;\n&lt;p&gt;Now in your &lt;code&gt;Activity&lt;/code&gt; or &lt;code&gt;Fragment&lt;/code&gt;, &lt;code&gt;hideKeyboard()&lt;/code&gt; is clearly accessible as well as calling it from an instance of &lt;code&gt;EditText&lt;/code&gt; like:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;editText&lt;span class=&quot;hljs-selector-class&quot;&gt;.hideKeyboard&lt;/span&gt;()\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;For Open Keyboard :&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;imm&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.showSoftInput(edtView, InputMethodManager.SHOW_IMPLICIT);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;For Close/Hide Keyboard :&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt; &lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;imm&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\n imm.hideSoftInputFromWindow(edtView.getWindowToken(), &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I have the case, where my &lt;code&gt;EditText&lt;/code&gt; can be located also in an &lt;code&gt;AlertDialog&lt;/code&gt;, so the keyboard should be closed on dismiss. The following code seems to be working anywhere:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;hideKeyboard&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;( Activity activity )&lt;/span&gt; {\n    &lt;span class=&quot;hljs-type&quot;&gt;InputMethodManager&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;imm&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; (InputMethodManager)activity.getSystemService( Context.INPUT_METHOD_SERVICE );\n    &lt;span class=&quot;hljs-type&quot;&gt;View&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; activity.getCurrentFocus();\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;( &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt; != f &amp;amp;&amp;amp; &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt; != f.getWindowToken() &amp;amp;&amp;amp; EditText.class.isAssignableFrom( f.getClass() ) )\n        imm.hideSoftInputFromWindow( f.getWindowToken(), &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt; );\n    &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; \n        activity.getWindow().setSoftInputMode( WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN );\n}\n&lt;/code&gt;&lt;/pre&gt;\n    "]},"page":"22","randomQuestions":[{"title":"How can I combine two strings together in PHP?","slug":"how-can-i-combine-two-strings-together-in-php-1657388279401"},{"title":"What is the copy-and-swap idiom?","slug":"what-is-the-copy-and-swap-idiom-1657384840329"},{"title":"What should main() return in C and C++?","slug":"what-should-main()-return-in-c-and-c++-1657384745630"},{"title":"Passing data between view controllers","slug":"passing-data-between-view-controllers-1657384540021"},{"title":"When should static_cast, dynamic_cast, const_cast, and reinterpret_cast be used?","slug":"when-should-static_cast-dynamic_cast-const_cast-and-reinterpret_cast-be-used-1657388406205"},{"title":"Why are these constructs using pre and post-increment undefined behavior?","slug":"why-are-these-constructs-using-pre-and-post-increment-undefined-behavior-1657384520109"},{"title":"What is the best way to detect a mobile device?","slug":"what-is-the-best-way-to-detect-a-mobile-device-1657387665025"},{"title":"The model item passed into the dictionary is of type .. but this dictionary requires a model item of type","slug":"the-model-item-passed-into-the-dictionary-is-of-type-..-but-this-dictionary-requires-a-model-item-of-type-1657388480874"},{"title":"How to deal with SettingWithCopyWarning in Pandas","slug":"how-to-deal-with-settingwithcopywarning-in-pandas-1657384778377"},{"title":"Importing installed package from script raises \"AttributeError: module has no attribute\" or \"ImportError: cannot import name\"","slug":"importing-installed-package-from-script-raises-\"attributeerror:-module-has-no-attribute\"-or-\"importerror:-cannot-import-name\"-1657387790607"},{"title":"Generating random whole numbers in JavaScript in a specific range","slug":"generating-random-whole-numbers-in-javascript-in-a-specific-range-1657388112728"},{"title":"Object comparison in JavaScript [duplicate]","slug":"object-comparison-in-javascript-duplicate-1657387675463"},{"title":"Understanding slicing","slug":"understanding-slicing-1657384397680"},{"title":"Why use getters and setters/accessors?","slug":"why-use-getters-and-settersaccessors-1657387343971"},{"title":"Why does this PDO statement silently fail?","slug":"why-does-this-pdo-statement-silently-fail-1657384892133"},{"title":"What is the meaning of single and double underscore before an object name?","slug":"what-is-the-meaning-of-single-and-double-underscore-before-an-object-name-1657387926929"},{"title":"Cleansing User Passwords","slug":"cleansing-user-passwords-1657387365583"},{"title":"Query based on multiple where clauses in Firebase","slug":"query-based-on-multiple-where-clauses-in-firebase-1657387494547"},{"title":"Reference - What does this error mean in PHP?","slug":"reference-what-does-this-error-mean-in-php-1657384301782"},{"title":"Selecting and manipulating CSS pseudo-elements such as ::before and ::after using javascript (or jQuery)","slug":"selecting-and-manipulating-css-pseudo-elements-such-as-::before-and-::after-using-javascript-(or-jquery)-1657387406132"}]},"__N_SSG":true}