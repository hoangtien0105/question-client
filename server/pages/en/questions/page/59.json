{"pageProps":{"data":{"count":610,"rows":[{"id":320,"title":"What is DOM Event delegation?","slug":"what-is-dom-event-delegation-1657387625599","postType":"QUESTION","createdAt":"2022-07-09T17:27:05.000Z","updatedAt":"2022-07-09T17:27:05.000Z","tags":[{"id":1870,"name":"event-delegation","slug":"event-delegation","createdAt":"2022-07-09T17:27:05.000Z","updatedAt":"2022-07-09T17:27:05.000Z","Questions_Tags":{"questionId":320,"tagId":1870}}]},{"id":319,"title":"What is JavaScript's highest integer value that a number can go to without losing precision?","slug":"what-is-javascript's-highest-integer-value-that-a-number-can-go-to-without-losing-precision-1657387622983","postType":"QUESTION","createdAt":"2022-07-09T17:27:02.000Z","updatedAt":"2022-07-09T17:27:02.000Z","tags":[{"id":1865,"name":"browser","slug":"browser","createdAt":"2022-07-09T17:27:03.000Z","updatedAt":"2022-07-09T17:27:03.000Z","Questions_Tags":{"questionId":319,"tagId":1865}}]},{"id":318,"title":"What is the best regular expression to check if a string is a valid URL?","slug":"what-is-the-best-regular-expression-to-check-if-a-string-is-a-valid-url-1657387618306","postType":"QUESTION","createdAt":"2022-07-09T17:26:58.000Z","updatedAt":"2022-07-09T17:26:58.000Z","tags":[]},{"id":317,"title":"How to remove \"noise\" from GCC/clang assembly output?","slug":"how-to-remove-\"noise\"-from-gccclang-assembly-output-1657387612391","postType":"QUESTION","createdAt":"2022-07-09T17:26:52.000Z","updatedAt":"2022-07-09T17:26:52.000Z","tags":[{"id":1856,"name":"assembly","slug":"assembly","createdAt":"2022-07-09T17:26:52.000Z","updatedAt":"2022-07-09T17:26:52.000Z","Questions_Tags":{"questionId":317,"tagId":1856}},{"id":1858,"name":"clang","slug":"clang","createdAt":"2022-07-09T17:26:52.000Z","updatedAt":"2022-07-09T17:26:52.000Z","Questions_Tags":{"questionId":317,"tagId":1858}},{"id":1859,"name":"compiler-optimization","slug":"compiler-optimization","createdAt":"2022-07-09T17:26:52.000Z","updatedAt":"2022-07-09T17:26:52.000Z","Questions_Tags":{"questionId":317,"tagId":1859}}]},{"id":316,"title":"Why does the order in which libraries are linked sometimes cause errors in GCC?","slug":"why-does-the-order-in-which-libraries-are-linked-sometimes-cause-errors-in-gcc-1657387609554","postType":"QUESTION","createdAt":"2022-07-09T17:26:49.000Z","updatedAt":"2022-07-09T17:26:49.000Z","tags":[{"id":1854,"name":"linker","slug":"linker","createdAt":"2022-07-09T17:26:49.000Z","updatedAt":"2022-07-09T17:26:49.000Z","Questions_Tags":{"questionId":316,"tagId":1854}}]}]},"answers":{"316":["\n&lt;p&gt;&lt;sub&gt;(See the history on this answer to get the more elaborate text, but I now think it&apos;s easier for the reader to see real command lines).&lt;/sub&gt;&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;Common files shared by all below commands&lt;/p&gt;\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;$ cat a.cpp\n&lt;span class=&quot;hljs-keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; a;\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; {\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; a;\n}\n\n$ cat b.cpp\n&lt;span class=&quot;hljs-keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; b;\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; a = b;\n\n$ cat d.cpp\n&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; b;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h1&gt;Linking to static libraries&lt;/h1&gt;\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;$ g++ -c b.cpp -o b.o\n$ ar cr libb.a b.o\n$ g++ -c d.cpp -o d.o\n$ ar cr libd.a d.o\n\n$ g++ -L. -ld -lb a.cpp &lt;span class=&quot;hljs-meta&quot;&gt;# wrong order&lt;/span&gt;\n$ g++ -L. -lb -ld a.cpp &lt;span class=&quot;hljs-meta&quot;&gt;# wrong order&lt;/span&gt;\n$ g++ a.cpp -L. -ld -lb &lt;span class=&quot;hljs-meta&quot;&gt;# wrong order&lt;/span&gt;\n$ g++ a.cpp -L. -lb -ld &lt;span class=&quot;hljs-meta&quot;&gt;# right order&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The linker searches from left to right, and notes unresolved symbols as it goes. If a library resolves the symbol, it takes the object files of that library to resolve the symbol (b.o out of libb.a in this case).&lt;/p&gt;\n&lt;p&gt;Dependencies of static libraries against each other work the same - the library that needs symbols must be first, then the library that resolves the symbol.&lt;/p&gt;\n&lt;p&gt;If a static library depends on another library, but the other library again depends on the former library, there is a cycle. You can resolve this by enclosing the cyclically dependent libraries by &lt;code&gt;-(&lt;/code&gt; and &lt;code&gt;-)&lt;/code&gt;, such as &lt;code&gt;-( -la -lb -)&lt;/code&gt; (you may need to escape the parens, such as &lt;code&gt;-\\(&lt;/code&gt; and &lt;code&gt;-\\)&lt;/code&gt;). The linker then searches those enclosed lib multiple times to ensure cycling dependencies are resolved. Alternatively, you can specify the libraries multiple times, so each is before one another: &lt;code&gt;-la -lb -la&lt;/code&gt;.&lt;/p&gt;\n&lt;h1&gt;Linking to dynamic libraries&lt;/h1&gt;\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;$ export LD_LIBRARY_PATH=. &lt;span class=&quot;hljs-meta&quot;&gt;# not needed &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; libs go to /usr/lib etc&lt;/span&gt;\n$ g++ -fpic -shared d.cpp -o libd.so\n$ g++ -fpic -shared b.cpp -L. -ld -o libb.so &lt;span class=&quot;hljs-meta&quot;&gt;# specifies its dependency!&lt;/span&gt;\n\n$ g++ -L. -lb a.cpp &lt;span class=&quot;hljs-meta&quot;&gt;# wrong order (works on some distributions)&lt;/span&gt;\n$ g++ -Wl,--as-needed -L. -lb a.cpp &lt;span class=&quot;hljs-meta&quot;&gt;# wrong order&lt;/span&gt;\n$ g++ -Wl,--as-needed a.cpp -L. -lb &lt;span class=&quot;hljs-meta&quot;&gt;# right order&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;It&apos;s the same here - the libraries must follow the object files of the program. The difference here compared with static libraries is that you need not care about the dependencies of the libraries against each other, because &lt;em&gt;dynamic libraries sort out their dependencies themselves&lt;/em&gt;.&lt;/p&gt;\n&lt;p&gt;Some recent distributions apparently default to using the &lt;code&gt;--as-needed&lt;/code&gt; linker flag, which enforces that the program&apos;s object files come before the dynamic libraries. If that flag is passed, the linker will not link to libraries that are not actually needed by the executable (and it detects this from left to right). My recent archlinux distribution doesn&apos;t use this flag by default, so it didn&apos;t give an error for not following the correct order.&lt;/p&gt;\n&lt;p&gt;It is not correct to omit the dependency of &lt;code&gt;b.so&lt;/code&gt; against &lt;code&gt;d.so&lt;/code&gt; when creating the former. You will be required to specify the library when linking &lt;code&gt;a&lt;/code&gt; then, but &lt;code&gt;a&lt;/code&gt; doesn&apos;t really need the integer &lt;code&gt;b&lt;/code&gt; itself, so it should not be made to care about &lt;code&gt;b&lt;/code&gt;&apos;s own dependencies.&lt;/p&gt;\n&lt;p&gt;Here is an example of the implications if you miss specifying the dependencies for &lt;code&gt;libb.so&lt;/code&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;$ export LD_LIBRARY_PATH=. &lt;span class=&quot;hljs-meta&quot;&gt;# not needed &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; libs go to /usr/lib etc&lt;/span&gt;\n$ g++ -fpic -shared d.cpp -o libd.so\n$ g++ -fpic -shared b.cpp -o libb.so &lt;span class=&quot;hljs-meta&quot;&gt;# wrong (but links)&lt;/span&gt;\n\n$ g++ -L. -lb a.cpp &lt;span class=&quot;hljs-meta&quot;&gt;# wrong, as above&lt;/span&gt;\n$ g++ -Wl,--as-needed -L. -lb a.cpp &lt;span class=&quot;hljs-meta&quot;&gt;# wrong, as above&lt;/span&gt;\n$ g++ a.cpp -L. -lb &lt;span class=&quot;hljs-meta&quot;&gt;# wrong, missing libd.so&lt;/span&gt;\n$ g++ a.cpp -L. -ld -lb &lt;span class=&quot;hljs-meta&quot;&gt;# wrong order (works on some distributions)&lt;/span&gt;\n$ g++ -Wl,--as-needed a.cpp -L. -ld -lb &lt;span class=&quot;hljs-meta&quot;&gt;# wrong order (like static libs)&lt;/span&gt;\n$ g++ -Wl,--as-needed a.cpp -L. -lb -ld # &lt;span class=&quot;hljs-string&quot;&gt;&quot;right&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;If you now look into what dependencies the binary has, you note the binary itself depends also on &lt;code&gt;libd&lt;/code&gt;, not just &lt;code&gt;libb&lt;/code&gt; as it should. The binary will need to be relinked if &lt;code&gt;libb&lt;/code&gt; later depends on another library, if you do it this way. And if someone else loads &lt;code&gt;libb&lt;/code&gt; using &lt;code&gt;dlopen&lt;/code&gt; at runtime (think of loading plugins dynamically), the call will fail as well. So the &lt;code&gt;&quot;right&quot;&lt;/code&gt; really should be a &lt;code&gt;wrong&lt;/code&gt; as well.&lt;/p&gt;\n    ","\n&lt;p&gt;The GNU ld linker is a so-called smart linker.  It will keep track of the functions used by preceding static libraries, permanently tossing out those functions that are not used from its lookup tables.  The result is that if you link a static library too early, then the functions in that library are no longer available to static libraries later on the link line.  &lt;/p&gt;\n\n&lt;p&gt;The typical UNIX linker works from left to right, so put all your dependent libraries on the left, and the ones that satisfy those dependencies on the right of the link line.  You may find that some libraries depend on others while at the same time other libraries depend on them.  This is where it gets complicated.  When it comes to circular references, fix your code!&lt;/p&gt;\n    ","\n&lt;p&gt;Here&apos;s an example to make it clear how things work with GCC when &lt;strong&gt;static&lt;/strong&gt; libraries are involved. So let&apos;s assume we have the following scenario:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;myprog.o&lt;/code&gt; - containing &lt;code&gt;main()&lt;/code&gt; function, dependent on &lt;code&gt;libmysqlclient&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;libmysqlclient&lt;/code&gt; - static, for the sake of the example (you&apos;d prefer the shared library, of course, as the &lt;code&gt;libmysqlclient&lt;/code&gt; is huge); in &lt;code&gt;/usr/local/lib&lt;/code&gt;; and dependent on stuff from &lt;code&gt;libz&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;libz&lt;/code&gt; (dynamic)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;How do we link this? (Note: examples from compiling on Cygwin using gcc 4.3.4)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;gcc -L/usr/local/lib -lmysqlclient myprog.o\n&lt;span class=&quot;hljs-meta&quot;&gt;# undefined reference to `_mysql_init&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;# myprog depends on libmysqlclient&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;# so myprog has to come earlier on the command &lt;span class=&quot;hljs-keyword&quot;&gt;line&lt;/span&gt;&lt;/span&gt;\n\ngcc myprog.o -L/usr/local/lib -lmysqlclient\n&lt;span class=&quot;hljs-meta&quot;&gt;# undefined reference to `_uncompress&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;# we have to link with libz, too&lt;/span&gt;\n\ngcc myprog.o -lz -L/usr/local/lib -lmysqlclient\n&lt;span class=&quot;hljs-meta&quot;&gt;# undefined reference to `_uncompress&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;# libz is needed by libmysqlclient&lt;/span&gt;\n&lt;span class=&quot;hljs-meta&quot;&gt;# so it has to appear *after* it on the command &lt;span class=&quot;hljs-keyword&quot;&gt;line&lt;/span&gt;&lt;/span&gt;\n\ngcc myprog.o -L/usr/local/lib -lmysqlclient -lz\n&lt;span class=&quot;hljs-meta&quot;&gt;# this works&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If you add &lt;code&gt;-Wl,--start-group&lt;/code&gt; to the linker flags it does not care which order they&apos;re in or if there are circular dependencies.&lt;/p&gt;\n\n&lt;p&gt;On Qt this means adding: &lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;QMAKE_LFLAGS += -Wl,--start-group\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Saves loads of time messing about and it doesn&apos;t seem to slow down linking much (which takes far less time than compilation anyway).&lt;/p&gt;\n    ","\n&lt;p&gt;Another alternative would be to specify the list of libraries twice:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;gcc prog.o libA.a libB.a libA.a libB.a -o prog.x\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Doing this, you don&apos;t have to bother with the right sequence since the reference will be resolved in the second block.&lt;/p&gt;\n    ","\n&lt;p&gt;A quick tip that tripped me up: if you&apos;re invoking the linker as &quot;gcc&quot; or &quot;g++&quot;, then using &quot;--start-group&quot; and &quot;--end-group&quot; won&apos;t pass those options through to the linker -- nor will it flag an error. It will just fail the link with undefined symbols if you had the library order wrong.&lt;/p&gt;\n\n&lt;p&gt;You need to write them as &quot;-Wl,--start-group&quot; etc. to tell GCC to pass the argument through to the linker.&lt;/p&gt;\n    ","\n&lt;p&gt;You may can use -Xlinker option.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;g++ -o foobar  -Xlinker -start-group  -Xlinker libA.a -Xlinker libB.a -Xlinker libC.a  -Xlinker -end-group \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;is ALMOST equal to&lt;/p&gt;\n\n&lt;pre class=&quot;lang-c s-code-block&quot;&gt;&lt;code class=&quot;hljs language-c&quot;&gt;g++ -o foobar  -Xlinker -start-group  -Xlinker libC.a -Xlinker libB.a -Xlinker libA.a  -Xlinker -end-group \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;em&gt;&lt;strong&gt;Careful !&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;The order within a group is important !\nHere&apos;s an example: a debug library has a debug routine, but the non-debug\nlibrary has a weak version of the same. You must put the debug library\nFIRST in the group or you will resolve to the non-debug version.&lt;/li&gt;\n&lt;li&gt;You need to precede each library in the group list with -Xlinker&lt;/li&gt;\n&lt;/ol&gt;\n    ","\n&lt;p&gt;Link order certainly does matter, at least on some platforms. I have seen crashes for applications linked with libraries in wrong order (where wrong means A linked before B but B depends on A).&lt;/p&gt;\n    ","\n&lt;p&gt;I have seen this a lot, some of our modules link in excess of a 100 libraries of our code plus system &amp;amp; 3rd party libs. &lt;/p&gt;\n\n&lt;p&gt;Depending on different linkers HP/Intel/GCC/SUN/SGI/IBM/etc you can get unresolved functions/variables etc, on some platforms you have to list libraries twice. &lt;/p&gt;\n\n&lt;p&gt;For the most part we use structured hierarchy of libraries, core, platform, different layers of abstraction, but for some systems you still have to play with the order in the link command.&lt;/p&gt;\n\n&lt;p&gt;Once you hit upon a solution document it so the next developer does not have to work it out again.&lt;/p&gt;\n\n&lt;p&gt;My old lecturer used to say, &quot;&lt;em&gt;high cohesion &amp;amp; low coupling&lt;/em&gt;&quot;, its still true today.&lt;/p&gt;\n    "],"317":["\n&lt;p&gt;Stripping out the &lt;code&gt;.cfi&lt;/code&gt; directives, unused labels, and comment lines is a solved problem: the scripts behind &lt;a href=&quot;http://gcc.godbolt.org/#compilers:!((compiler:g530,options:%27-std%3Dgnu%2B%2B14+-Wall+-Wextra++-O3+-fno-verbose-asm+-ffast-math+-march%3Dhaswell%27,source:%27%23include+%3Cboost/variant.hpp%3E%0A%0Astruct+Foo%0A%7B%0A++++int+get()+%7B+return+100%3B+%7D%0A%7D%3B%0A%0Astruct+Bar%0A%7B%0A++++int+get()+%7B+return+999%3B+%7D%0A%7D%3B%0A%0Ausing+Variant+%3D+boost::variant%3CFoo,+Bar%3E%3B%0A%0A%0Aint+run(Variant+v)%0A%7B%0A++++return+boost::apply_visitor(%5B%5D(auto%26+x)%7Breturn+x.get()%3B%7D,+v)%3B%0A%7D%0Aint+main()%0A%7B%0A++++Foo+f%3B%0A++++return+run(f)%3B%0A%7D%0A%27)),filterAsm:(commentOnly:!t,directives:!t,intel:!t,labels:!t),version:3&quot; rel=&quot;noreferrer&quot;&gt;Matt Godbolt&apos;s compiler explorer&lt;/a&gt; are open source on &lt;a href=&quot;https://github.com/mattgodbolt/gcc-explorer&quot; rel=&quot;noreferrer&quot;&gt;its github project&lt;/a&gt;.  It can even do colour highlighting to match source lines to asm lines (using the debug info).&lt;/p&gt;\n&lt;p&gt;You can set it up locally so you can feed it files that are part of your project with all the &lt;code&gt;#include&lt;/code&gt; paths and so on (using &lt;code&gt;-I/...&lt;/code&gt;).  And so you can use it on private source code that you don&apos;t want to send out over the Internet.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Matt Godbolt&apos;s CppCon2017 talk &lt;a href=&quot;https://youtu.be/bSkpMdDe4g4&quot; rel=&quot;noreferrer&quot;&gt;What Has My Compiler Done for Me Lately? Unbolting the Compiler&apos;s Lid&lt;/a&gt; shows how to use it&lt;/strong&gt; (it&apos;s pretty self-explanatory but has some neat features if you read the docs on github), and also &lt;strong&gt;how to read x86 asm&lt;/strong&gt;, with a gentle introduction to x86 asm itself for total beginners, and to looking at compiler output.  He goes on to show some neat compiler optimizations (e.g. for dividing by a constant), and what kind of functions give useful asm output for looking at optimized compiler output (function args, not &lt;code&gt;int a = 123;&lt;/code&gt;).&lt;/p&gt;\n&lt;p&gt;On the Godbolt compiler explorer, it can be useful to use &lt;code&gt;-g0 -fno-asynchronous-unwind-tables&lt;/code&gt; if you want to uncheck the filter option for directives, e.g. because you want to see the &lt;code&gt;.section&lt;/code&gt; and &lt;code&gt;.p2align&lt;/code&gt; stuff in the compiler output.  The default is to add &lt;code&gt;-g&lt;/code&gt; to your options to get the debug info it uses to colour-highlight matching source and asm lines, but this means &lt;code&gt;.cfi&lt;/code&gt; directives for every stack operation, and &lt;code&gt;.loc&lt;/code&gt; for every source line, among other things.&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;With plain gcc/clang (not g++), &lt;code&gt;-fno-asynchronous-unwind-tables&lt;/code&gt; avoids &lt;code&gt;.cfi&lt;/code&gt; directives.  Possibly also useful: &lt;code&gt;-fno-exceptions -fno-rtti&lt;/code&gt; &lt;code&gt;-masm=intel&lt;/code&gt;.  Make sure to omit &lt;code&gt;-g&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Copy/paste this for local use&lt;/strong&gt;:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;g++ -fno-asynchronous-unwind-tables -fno-exceptions -fno-rtti -fverbose-&lt;span class=&quot;hljs-keyword&quot;&gt;asm&lt;/span&gt; \\\n    -Wall -Wextra  foo.cpp   -O3 -masm=intel -S -o- | less\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Or &lt;code&gt;-Os&lt;/code&gt; can be more readable, e.g. using &lt;code&gt;div&lt;/code&gt; for division by non-power-of-2 constants instead of a multiplicative inverse even though that&apos;s a lot worse for performance and only a bit smaller, if at all.&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;But really, I&apos;d recommend just using Godbolt directly (online or set it up locally)!  You can quickly flip between versions of gcc and clang to see if old or new compilers do something dumb.  (Or what ICC does, or even what MSVC does.)  There&apos;s even ARM / ARM64 gcc 6.3, and various gcc for PowerPC, MIPS, AVR, MSP430.  (It can be interesting to see what happens on a machine where &lt;code&gt;int&lt;/code&gt; is wider than a register, or isn&apos;t 32-bit.  Or on a RISC vs. x86).&lt;/p&gt;\n&lt;p&gt;For C instead of C++, you can use &lt;code&gt;-xc -std=gnu11&lt;/code&gt; to avoid flipping the language drop-down to C, which resets your source pane and compiler choices, and has a different set of compilers available.&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;&lt;strong&gt;Useful compiler options for making asm for human consumption&lt;/strong&gt;:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;Remember, your code only has to compile, not link: passing a pointer to an external function like &lt;code&gt;void ext(void*p)&lt;/code&gt; is a good way to stop something from optimizing away&lt;/strong&gt;.  You only need a prototype for it, with no definition so the compiler can&apos;t inline it or make any assumptions about what it does.  (Or &lt;a href=&quot;https://stackoverflow.com/questions/40122141/preventing-compiler-optimizations-while-benchmarking&quot;&gt;inline asm like &lt;code&gt;Benchmark::DoNotOptimize&lt;/code&gt;&lt;/a&gt; can force a compiler to materialize a value in a register, or forget about it being a known constant, if you know GNU C inline asm syntax well enough to use constraints to understand the effect you&apos;re having on what you&apos;re requiring of the compiler.)&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;I&apos;d recommend using &lt;code&gt;-O3 -Wall -Wextra -fverbose-asm -march=haswell&lt;/code&gt; for looking at code.  (&lt;code&gt;-fverbose-asm&lt;/code&gt; can just make the source look noisy, though, when all you get are numbered temporaries as names for the operands.)  When you&apos;re fiddling with the source to see how it changes the asm, you &lt;em&gt;definitely&lt;/em&gt; want compiler warnings enabled.  You don&apos;t want to waste time scratching your head over the asm when the explanation is that you did something that deserves a warning in the source.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;To see how the calling convention works, &lt;strong&gt;you often want to look at caller and callee without inlining&lt;/strong&gt;.&lt;/p&gt;\n&lt;p&gt;You can use &lt;code&gt;__attribute__((noipa)) foo_t foo(bar_t x) { ... }&lt;/code&gt; on a definition, or compile with &lt;code&gt;gcc -O3 -fno-inline-functions -fno-inline-functions-called-once -fno-inline-small-functions&lt;/code&gt; to disable inlining.  (But those command line options don&apos;t disable cloning a function for constant-propagation.  &lt;code&gt;noipa&lt;/code&gt; = no Inter-Procedural Analysis.  It&apos;s even stronger than &lt;code&gt;__attribute__((noinline,noclone))&lt;/code&gt;.)  See &lt;a href=&quot;https://stackoverflow.com/questions/50775127/from-compiler-perspective-how-is-reference-for-array-dealt-with-and-why-passi&quot;&gt;From compiler perspective, how is reference for array dealt with, and, why passing by value(not decay) is not allowed?&lt;/a&gt; for an example.&lt;/p&gt;\n&lt;p&gt;Or if you just want to see how functions pass / receive args of different types, you could use different names but the same prototype so the compiler doesn&apos;t have a definition to inline.  This works with any compiler.  Without a definition, a function is just a black box to the optimizer, governed only by the calling convention / ABI.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;code&gt;-ffast-math&lt;/code&gt; will get many libm functions to inline, some to a single instruction (esp. with SSE4 available for &lt;code&gt;roundsd&lt;/code&gt;).  Some will inline with just &lt;code&gt;-fno-math-errno&lt;/code&gt;, or other &quot;safer&quot; parts of &lt;code&gt;-ffast-math&lt;/code&gt;, without the parts that allow the compiler to round differently.  If you have FP code, definitely look at it with/without &lt;code&gt;-ffast-math&lt;/code&gt;.  If you can&apos;t safely enable any of &lt;code&gt;-ffast-math&lt;/code&gt; in your regular build, maybe you&apos;ll get an idea for a safe change you can make in the source to allow the same optimization without &lt;code&gt;-ffast-math&lt;/code&gt;.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;code&gt;-O3 -fno-tree-vectorize&lt;/code&gt; will optimize without auto-vectorizing&lt;/strong&gt;, so you can get full optimization without if you want to compare with &lt;code&gt;-O2&lt;/code&gt; (which doesn&apos;t enable autovectorization on gcc11 and earlier, but does on all clang).&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;&lt;code&gt;-Os&lt;/code&gt; (optimize for size and speed) can be helpful&lt;/strong&gt; to keep the code more compact, which means less code to understand.    clang&apos;s &lt;code&gt;-Oz&lt;/code&gt; optimizes for size even when it hurts speed, even using &lt;code&gt;push 1&lt;/code&gt; / &lt;code&gt;pop rax&lt;/code&gt; instead of &lt;code&gt;mov eax, 1&lt;/code&gt;, so that&apos;s only interesting for &lt;a href=&quot;https://codegolf.stackexchange.com/questions/132981/tips-for-golfing-in-x86-x64-machine-code&quot;&gt;code golf&lt;/a&gt;.&lt;/p&gt;\n&lt;p&gt;Even &lt;code&gt;-Og&lt;/code&gt; (minimal optimization) might be what you want to look at, depending on your goals.  &lt;code&gt;-O0&lt;/code&gt; is full of store/reload noise, which makes it harder to follow, &lt;a href=&quot;https://stackoverflow.com/questions/53366394/why-does-clang-produce-inefficient-asm-with-o0-for-this-simple-floating-point&quot;&gt;unless you use &lt;code&gt;register&lt;/code&gt; vars&lt;/a&gt;.  The only upside is that each C statement compiles to a separate block of instructions, and it makes &lt;code&gt;-fverbose-asm&lt;/code&gt; able to use the actual C var names.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;clang unrolls loops by default, so &lt;strong&gt;&lt;code&gt;-fno-unroll-loops&lt;/code&gt; can be useful in complex functions&lt;/strong&gt;.  You can get a sense of &quot;what the compiler did&quot; without having to wade through the unrolled loops.  (gcc enables &lt;code&gt;-funroll-loops&lt;/code&gt; with &lt;code&gt;-fprofile-use&lt;/code&gt;, but not with &lt;code&gt;-O3&lt;/code&gt;).  (This is a suggestion for human-readable code, not for code that would run faster.)&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;Definitely enable some level of optimization, unless you specifically want to know what &lt;code&gt;-O0&lt;/code&gt; did&lt;/strong&gt;.  Its &quot;predictable debug behaviour&quot; requirement makes the compiler store/reload everything between every C statement, so you can modify C variables with a debugger and even &quot;jump&quot; to a different source line within the same function, and have execution continue as if you did that in the C source.  &lt;code&gt;-O0&lt;/code&gt; output is so noisy with stores/reloads (and so slow) not just from lack of optimization, but &lt;a href=&quot;https://stackoverflow.com/questions/53366394/why-does-clang-produce-inefficient-asm-with-o0-for-this-simple-floating-point&quot;&gt;forced de-optimization to support debugging&lt;/a&gt;.  (also &lt;a href=&quot;https://stackoverflow.com/questions/46638527/when-will-the-trivial-code-that-has-no-effect-code-gets-removed-in-compilation/46640101#46640101&quot;&gt;related&lt;/a&gt;).&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;hr&gt;\n&lt;p&gt;&lt;strong&gt;To get a mix of source and asm&lt;/strong&gt;, use &lt;a href=&quot;https://stackoverflow.com/a/137479/224132&quot;&gt;&lt;code&gt;gcc -Wa,-adhln -c -g foo.c | less&lt;/code&gt;&lt;/a&gt; to pass extra options to &lt;code&gt;as&lt;/code&gt;.  (More discussion of this in &lt;a href=&quot;http://www.systutorials.com/240/generate-a-mixed-source-and-assembly-listing-using-gcc/&quot; rel=&quot;noreferrer&quot;&gt;a blog post&lt;/a&gt;, and &lt;a href=&quot;https://panthema.net/2013/0124-GCC-Output-Assembler-Code/&quot; rel=&quot;noreferrer&quot;&gt;another blog&lt;/a&gt;.).  Note that the output of this isn&apos;t valid assembler input, because the C source is there directly, not as an assembler comment.  So don&apos;t call it a &lt;code&gt;.s&lt;/code&gt;.  A &lt;code&gt;.lst&lt;/code&gt; might make sense if you want to save it to a file.&lt;/p&gt;\n&lt;p&gt;Godbolt&apos;s color highlighting serves a similar purpose, and is great at helping you see when multiple &lt;em&gt;non-contiguous&lt;/em&gt; asm instructions come from the same source line.  I haven&apos;t used that gcc listing command at all, so IDK how well it does, and how easy it is for the eye to see, in that case.&lt;/p&gt;\n&lt;p&gt;I like the high code density of godbolt&apos;s asm pane, so I don&apos;t think I&apos;d like having source lines mixed in.  At least not for simple functions.  Maybe with a function that was too complex to get a handle on the overall structure of what the asm does...&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;And remember, when you want to just look at the asm, &lt;strong&gt;leave out the &lt;code&gt;main()&lt;/code&gt; and the compile-time constants&lt;/strong&gt;.  You want to see the code for dealing with a function arg in a register, not for the code after constant-propagation turns it into &lt;code&gt;return 42&lt;/code&gt;, or at least optimizes away some stuff.&lt;/p&gt;\n&lt;p&gt;Removing &lt;code&gt;static&lt;/code&gt; and/or &lt;code&gt;inline&lt;/code&gt; from functions will produce a stand-alone definition for them, as well as a definition for any callers, so you can just look at that.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Don&apos;t put your code in a function called &lt;code&gt;main()&lt;/code&gt;&lt;/strong&gt;.  gcc knows that &lt;code&gt;main&lt;/code&gt; is special and assumes it will only be called once, so it marks it as &quot;cold&quot; and optimizes it less.&lt;/p&gt;\n&lt;hr&gt;\n&lt;p&gt;The other thing you can do: If you did make a &lt;code&gt;main()&lt;/code&gt;, you can run it and use a debugger.  &lt;code&gt;stepi&lt;/code&gt; (&lt;code&gt;si&lt;/code&gt;) steps by instruction.  See the bottom of the &lt;a href=&quot;/questions/tagged/x86&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &apos;x86&apos;&quot; rel=&quot;tag&quot;&gt;x86&lt;/a&gt; &lt;a href=&quot;https://stackoverflow.com/tags/x86/info&quot;&gt;tag wiki&lt;/a&gt; for instructions.  But remember that code might optimize away after inlining into main with compile-time-constant args.&lt;/p&gt;\n&lt;p&gt;&lt;code&gt;__attribute__((noinline))&lt;/code&gt; may help, on a function that you want to not be inlined.  gcc will also make constant-propagation clones of functions, i.e. a special version with one of the args as a constant, for call-sites that know they&apos;re passing a constant.  The symbol name will be &lt;code&gt;.clone.foo.constprop_1234&lt;/code&gt; or something in the asm output. You can use &lt;code&gt;__attribute__((noclone))&lt;/code&gt; to disable that, too.).&lt;/p&gt;\n&lt;hr&gt;\n&lt;h2&gt;For example&lt;/h2&gt;\n&lt;p&gt;If you want to see how the compiler multiplies two integers:  I put the following code &lt;a href=&quot;http://gcc.godbolt.org/#compilers:!((compiler:g530,options:%27-xc+-std%3Dgnu11+-Wall+-Wextra++-O3+-fverbose-asm+-ffast-math+-march%3Dhaswell%27,source:%27int+constants()+%7B+int+a+%3D+10,+b+%3D+20%3B+return+a+*+b%3B+%7D%0Aint+variables(int+a,+int+b)+%7B+return+a+*+b%3B+%7D%0A%27)),filterAsm:(commentOnly:!t,directives:!t,intel:!t,labels:!t),version:3&quot; rel=&quot;noreferrer&quot;&gt;on the Godbolt compiler explorer&lt;/a&gt; to get the asm (from &lt;code&gt;gcc -O3 -march=haswell -fverbose-asm&lt;/code&gt;) for the wrong way and the right way to test this.&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// the wrong way, which people often write when they&apos;re used to creating a runnable test-case with a main() and a printf&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// or worse, people will actually look at the asm for such a main()&lt;/span&gt;\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;constants&lt;/span&gt;()&lt;/span&gt; { &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; a = &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;, b = &lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;; &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; a * b; }\n    mov     eax, &lt;span class=&quot;hljs-number&quot;&gt;200&lt;/span&gt;  &lt;span class=&quot;hljs-meta&quot;&gt;#,&lt;/span&gt;\n    ret                     &lt;span class=&quot;hljs-meta&quot;&gt;# compiles the same as  return 200;  not interesting&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// the right way: compiler doesn&apos;t know anything about the inputs&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// so we get asm like what would happen when this inlines into a bigger function.&lt;/span&gt;\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;variables&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; a, &lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; b&lt;/span&gt;)&lt;/span&gt; { &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; a * b; }\n    mov     eax, edi  &lt;span class=&quot;hljs-meta&quot;&gt;# D.2345, a&lt;/span&gt;\n    imul    eax, esi        &lt;span class=&quot;hljs-meta&quot;&gt;# D.2345, b&lt;/span&gt;\n    ret\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;(This mix of asm and C was hand-crafted by copy-pasting the asm output from godbolt into the right place.  I find it&apos;s a good way to show how a short function compiles in SO answers / compiler bug reports / emails.)&lt;/p&gt;\n    ","\n&lt;p&gt;You can always look at the generated assembly from the object file, instead of using the compilers assembly output. &lt;code&gt;objdump&lt;/code&gt; comes to mind.&lt;/p&gt;\n\n&lt;p&gt;You can even tell &lt;code&gt;objdump&lt;/code&gt; to intermix source with assembly, making it easier to figure out what source line corresponds to what instructions. Example session:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;$ cat test.&lt;span class=&quot;hljs-function&quot;&gt;cc\n&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; arg&lt;/span&gt;)&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; arg * &lt;span class=&quot;hljs-number&quot;&gt;42&lt;/span&gt;;\n}\n\n$ g++ -g -O3 -std=c++&lt;span class=&quot;hljs-number&quot;&gt;14&lt;/span&gt; -c test.cc -o test.o &amp;amp;&amp;amp; objdump -dS -M intel test.o\n\ntest.o:     file format elf64-x86&lt;span class=&quot;hljs-number&quot;&gt;-64&lt;/span&gt;\n\n\nDisassembly of section .text:\n\n&lt;span class=&quot;hljs-number&quot;&gt;0000000000000000&lt;/span&gt; &amp;lt;_Z3fooi&amp;gt;:\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;int&lt;/span&gt; arg&lt;/span&gt;)&lt;/span&gt;\n{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; arg + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n   &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;:   &lt;span class=&quot;hljs-number&quot;&gt;8&lt;/span&gt;d &lt;span class=&quot;hljs-number&quot;&gt;47&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;                lea    eax,[rdi+&lt;span class=&quot;hljs-number&quot;&gt;0x1&lt;/span&gt;]\n}\n   &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;:   c3                      ret    \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Explanation of &lt;code&gt;objdump&lt;/code&gt; flags:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;-d&lt;/code&gt; disassembles all executable sections&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;-S&lt;/code&gt; intermixes assembly with source (&lt;code&gt;-g&lt;/code&gt; required while compiling with &lt;code&gt;g++&lt;/code&gt;)&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;-M intel&lt;/code&gt; choses intel syntax over ugly AT&amp;amp;T syntax (&lt;em&gt;optional&lt;/em&gt;)&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;I like to insert labels that I can easily grep out of the objdump output.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-cpp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;{\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;asm&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;volatile&lt;/span&gt; &lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;interesting_part_begin%=:&quot;&lt;/span&gt;:)&lt;/span&gt;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-built_in&quot;&gt;do_something&lt;/span&gt;();\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;asm&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;volatile&lt;/span&gt; &lt;span class=&quot;hljs-params&quot;&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;interesting_part_end%=:&quot;&lt;/span&gt;:)&lt;/span&gt;&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I haven&apos;t had a problem with this yet, but &lt;code&gt;asm volatile&lt;/code&gt; can be very hard on a compiler&apos;s optimizer because it tends to leave such code untouched.&lt;/p&gt;\n    "],"318":["\n&lt;p&gt;I wrote my URL (actually IRI, internationalized) pattern to comply with RFC 3987 (&lt;a href=&quot;http://www.faqs.org/rfcs/rfc3987.html&quot; rel=&quot;noreferrer&quot;&gt;http://www.faqs.org/rfcs/rfc3987.html&lt;/a&gt;). These are in PCRE syntax.&lt;/p&gt;\n\n&lt;p&gt;For absolute IRIs (internationalized):&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt;/^[a-z](&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\+\\.])*&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:\\/\\/&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:])*@)?(?:\\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;}&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;){&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;}[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;})&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;)|&lt;span class=&quot;hljs-params&quot;&gt;v[0-9a-f]+\\.[-a-z0-9\\._~!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:]+)\\]&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}|&lt;span class=&quot;hljs-params&quot;&gt;(?:%[0-9a-f][0-9a-f]&lt;/span&gt;|[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\._~\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D7FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F900&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDCF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDF0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFEF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;}-\\x{1FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;20000&lt;/span&gt;}-\\x{2FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;}-\\x{3FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;40000&lt;/span&gt;}-\\x{4FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;}-\\x{5FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;}-\\x{6FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;70000&lt;/span&gt;}-\\x{7FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;80000&lt;/span&gt;}-\\x{8FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;90000&lt;/span&gt;}-\\x{9FFFD}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;AFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;B0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;BFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;C0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;CFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;DFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E1000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;EFFFD&lt;/span&gt;}!\\&lt;span class=&quot;hljs-variable&quot;&gt;$&amp;amp;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\)\\*\\+,;=])*)(?::[0-9]*)?(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;&lt;/span&gt;\\(\\)\\*\\+,;=&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;@]))*)*|&lt;span class=&quot;hljs-params&quot;&gt;\\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]&lt;/span&gt;|[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\._~\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D7FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F900&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDCF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDF0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFEF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;}-\\x{1FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;20000&lt;/span&gt;}-\\x{2FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;}-\\x{3FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;40000&lt;/span&gt;}-\\x{4FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;}-\\x{5FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;}-\\x{6FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;70000&lt;/span&gt;}-\\x{7FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;80000&lt;/span&gt;}-\\x{8FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;90000&lt;/span&gt;}-\\x{9FFFD}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;AFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;B0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;BFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;C0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;CFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;DFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E1000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;EFFFD&lt;/span&gt;}!\\&lt;span class=&quot;hljs-variable&quot;&gt;$&amp;amp;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;&lt;/span&gt;\\(\\)\\*\\+,;=&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;@]))*)*)&lt;span class=&quot;hljs-string&quot;&gt;?|&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]&lt;/span&gt;|[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\._~\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D7FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F900&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDCF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDF0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFEF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;}-\\x{1FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;20000&lt;/span&gt;}-\\x{2FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;}-\\x{3FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;40000&lt;/span&gt;}-\\x{4FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;}-\\x{5FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;}-\\x{6FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;70000&lt;/span&gt;}-\\x{7FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;80000&lt;/span&gt;}-\\x{8FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;90000&lt;/span&gt;}-\\x{9FFFD}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;AFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;B0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;BFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;C0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;CFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;DFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E1000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;EFFFD&lt;/span&gt;}!\\&lt;span class=&quot;hljs-variable&quot;&gt;$&amp;amp;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\)\\*\\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;&lt;/span&gt;\\(\\)\\*\\+,;=&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;@])))(&lt;span class=&quot;hljs-string&quot;&gt;?:\\?&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:@])&lt;/span&gt;|[\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F8FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;100000&lt;/span&gt;}-\\x{10FFFD}\\/\\&lt;span class=&quot;hljs-string&quot;&gt;?]&lt;/span&gt;)*)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;?:\\#&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:@])&lt;/span&gt;|[\\/\\&lt;span class=&quot;hljs-string&quot;&gt;?]&lt;/span&gt;)*)&lt;span class=&quot;hljs-string&quot;&gt;?$&lt;/span&gt;/i\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To also allow relative IRIs:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt;/^(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[a-z](&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\+\\.])*&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:\\/\\/&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:])*@)?(?:\\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;}&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;){&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;}[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;})&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;)|&lt;span class=&quot;hljs-params&quot;&gt;v[0-9a-f]+\\.[-a-z0-9\\._~!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:]+)\\]&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}|&lt;span class=&quot;hljs-params&quot;&gt;(?:%[0-9a-f][0-9a-f]&lt;/span&gt;|[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\._~\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D7FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F900&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDCF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDF0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFEF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;}-\\x{1FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;20000&lt;/span&gt;}-\\x{2FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;}-\\x{3FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;40000&lt;/span&gt;}-\\x{4FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;}-\\x{5FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;}-\\x{6FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;70000&lt;/span&gt;}-\\x{7FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;80000&lt;/span&gt;}-\\x{8FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;90000&lt;/span&gt;}-\\x{9FFFD}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;AFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;B0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;BFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;C0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;CFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;DFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E1000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;EFFFD&lt;/span&gt;}!\\&lt;span class=&quot;hljs-variable&quot;&gt;$&amp;amp;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\)\\*\\+,;=])*)(?::[0-9]*)?(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;&lt;/span&gt;\\(\\)\\*\\+,;=&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;@]))*)*|&lt;span class=&quot;hljs-params&quot;&gt;\\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]&lt;/span&gt;|[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\._~\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D7FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F900&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDCF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDF0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFEF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;}-\\x{1FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;20000&lt;/span&gt;}-\\x{2FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;}-\\x{3FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;40000&lt;/span&gt;}-\\x{4FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;}-\\x{5FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;}-\\x{6FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;70000&lt;/span&gt;}-\\x{7FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;80000&lt;/span&gt;}-\\x{8FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;90000&lt;/span&gt;}-\\x{9FFFD}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;AFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;B0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;BFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;C0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;CFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;DFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E1000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;EFFFD&lt;/span&gt;}!\\&lt;span class=&quot;hljs-variable&quot;&gt;$&amp;amp;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;&lt;/span&gt;\\(\\)\\*\\+,;=&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;@]))*)*)&lt;span class=&quot;hljs-string&quot;&gt;?|&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]&lt;/span&gt;|[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\._~\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D7FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F900&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDCF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDF0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFEF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;}-\\x{1FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;20000&lt;/span&gt;}-\\x{2FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;}-\\x{3FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;40000&lt;/span&gt;}-\\x{4FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;}-\\x{5FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;}-\\x{6FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;70000&lt;/span&gt;}-\\x{7FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;80000&lt;/span&gt;}-\\x{8FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;90000&lt;/span&gt;}-\\x{9FFFD}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;AFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;B0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;BFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;C0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;CFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;DFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E1000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;EFFFD&lt;/span&gt;}!\\&lt;span class=&quot;hljs-variable&quot;&gt;$&amp;amp;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\)\\*\\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;&lt;/span&gt;\\(\\)\\*\\+,;=&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;@])))(&lt;span class=&quot;hljs-string&quot;&gt;?:\\?&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:@])&lt;/span&gt;|[\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F8FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;100000&lt;/span&gt;}-\\x{10FFFD}\\/\\&lt;span class=&quot;hljs-string&quot;&gt;?]&lt;/span&gt;)*)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;?:\\#&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:@])&lt;/span&gt;|[\\/\\&lt;span class=&quot;hljs-string&quot;&gt;?]&lt;/span&gt;)*)&lt;span class=&quot;hljs-string&quot;&gt;?|&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:\\/\\/&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:])*@)?(?:\\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;}&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;){&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;}[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;})&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;)|&lt;span class=&quot;hljs-params&quot;&gt;v[0-9a-f]+\\.[-a-z0-9\\._~!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:]+)\\]&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}|&lt;span class=&quot;hljs-params&quot;&gt;(?:%[0-9a-f][0-9a-f]&lt;/span&gt;|[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\._~\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D7FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F900&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDCF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDF0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFEF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;}-\\x{1FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;20000&lt;/span&gt;}-\\x{2FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;}-\\x{3FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;40000&lt;/span&gt;}-\\x{4FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;}-\\x{5FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;}-\\x{6FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;70000&lt;/span&gt;}-\\x{7FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;80000&lt;/span&gt;}-\\x{8FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;90000&lt;/span&gt;}-\\x{9FFFD}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;AFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;B0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;BFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;C0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;CFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;DFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E1000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;EFFFD&lt;/span&gt;}!\\&lt;span class=&quot;hljs-variable&quot;&gt;$&amp;amp;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\)\\*\\+,;=])*)(?::[0-9]*)?(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;&lt;/span&gt;\\(\\)\\*\\+,;=&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;@]))*)*|&lt;span class=&quot;hljs-params&quot;&gt;\\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]&lt;/span&gt;|[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\._~\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D7FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F900&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDCF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDF0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFEF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;}-\\x{1FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;20000&lt;/span&gt;}-\\x{2FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;}-\\x{3FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;40000&lt;/span&gt;}-\\x{4FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;}-\\x{5FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;}-\\x{6FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;70000&lt;/span&gt;}-\\x{7FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;80000&lt;/span&gt;}-\\x{8FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;90000&lt;/span&gt;}-\\x{9FFFD}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;AFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;B0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;BFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;C0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;CFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;DFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E1000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;EFFFD&lt;/span&gt;}!\\&lt;span class=&quot;hljs-variable&quot;&gt;$&amp;amp;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;&lt;/span&gt;\\(\\)\\*\\+,;=&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;@]))*)*)&lt;span class=&quot;hljs-string&quot;&gt;?|&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=@])+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]&lt;/span&gt;|[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\._~\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D7FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F900&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDCF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDF0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFEF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;}-\\x{1FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;20000&lt;/span&gt;}-\\x{2FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;}-\\x{3FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;40000&lt;/span&gt;}-\\x{4FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;}-\\x{5FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;}-\\x{6FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;70000&lt;/span&gt;}-\\x{7FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;80000&lt;/span&gt;}-\\x{8FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;90000&lt;/span&gt;}-\\x{9FFFD}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;AFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;B0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;BFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;C0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;CFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;DFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E1000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;EFFFD&lt;/span&gt;}!\\&lt;span class=&quot;hljs-variable&quot;&gt;$&amp;amp;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\)\\*\\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;&lt;/span&gt;\\(\\)\\*\\+,;=&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;@])))(&lt;span class=&quot;hljs-string&quot;&gt;?:\\?&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:@])&lt;/span&gt;|[\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F8FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;100000&lt;/span&gt;}-\\x{10FFFD}\\/\\&lt;span class=&quot;hljs-string&quot;&gt;?]&lt;/span&gt;)*)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;?:\\#&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:@])&lt;/span&gt;|[\\/\\&lt;span class=&quot;hljs-string&quot;&gt;?]&lt;/span&gt;)*)&lt;span class=&quot;hljs-string&quot;&gt;?)&lt;/span&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$/&lt;/span&gt;i\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;How they were compiled (in PHP):&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/* Regex convenience functions (character class, non-capturing group) */&lt;/span&gt;\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$str&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$suffix&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$negate&lt;/span&gt; = &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;[&apos;&lt;/span&gt; . (&lt;span class=&quot;hljs-variable&quot;&gt;$negate&lt;/span&gt; ? &lt;span class=&quot;hljs-string&quot;&gt;&apos;^&apos;&lt;/span&gt; : &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$str&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;]&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$suffix&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$str&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$suffix&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;(?:&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$str&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;)&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$suffix&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/* Preserved from RFC3986 */&lt;/span&gt;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ALPHA&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;a-z&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;0-9&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable&quot;&gt;$HEXDIG&lt;/span&gt; = &lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;a-f&apos;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$sub_delims&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;!\\\\$&amp;amp;\\&apos;\\\\(\\\\)\\\\*\\\\+,;=&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable&quot;&gt;$gen_delims&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;:\\\\/\\\\?\\\\#\\\\[\\\\]@&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable&quot;&gt;$reserved&lt;/span&gt; = &lt;span class=&quot;hljs-variable&quot;&gt;$gen_delims&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$sub_delims&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable&quot;&gt;$unreserved&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;-&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ALPHA&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\._~&apos;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$pct_encoded&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;%&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$HEXDIG&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$HEXDIG&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$dec_octet&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;implode&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt;),\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;1-9&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt;),\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;1&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt;),\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;2&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;0-4&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt;),\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;25&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;0-5&apos;&lt;/span&gt;)\n)));\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$IPv4address&lt;/span&gt; = &lt;span class=&quot;hljs-variable&quot;&gt;$dec_octet&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\.&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$dec_octet&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{3}&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$HEXDIG&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{1,4}&apos;&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable&quot;&gt;$ls32&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$IPv4address&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$IPv6address&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;implode&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{6}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$ls32&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;::&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{5}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$ls32&lt;/span&gt;,\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;::&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{4}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$ls32&lt;/span&gt;,\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;::&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{3}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$ls32&lt;/span&gt;,\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{0,2}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;::&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{2}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$ls32&lt;/span&gt;,\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{0,3}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;::&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ls32&lt;/span&gt;,\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{0,4}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;::&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ls32&lt;/span&gt;,\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{0,5}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;::&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt;,\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{0,6}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;::&apos;&lt;/span&gt;,\n)));\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$IPvFuture&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;v&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$HEXDIG&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;+&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$unreserved&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$sub_delims&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;+&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$IP_literal&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\[&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;implode&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$IPv6address&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$IPvFuture&lt;/span&gt;))) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\]&apos;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$port&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$scheme&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$ALPHA&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;-&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ALPHA&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\+\\\\.&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/* New or changed in RFC3987 */&lt;/span&gt;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$iprivate&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\x{E000}-\\x{F8FF}\\x{F0000}-\\x{FFFFD}\\x{100000}-\\x{10FFFD}&apos;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ucschar&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}&apos;&lt;/span&gt; .\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}&apos;&lt;/span&gt; .\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}&apos;&lt;/span&gt; .\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}&apos;&lt;/span&gt; .\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}&apos;&lt;/span&gt; .\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}&apos;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$iunreserved&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;-&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ALPHA&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\._~&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ucschar&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ipchar&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$pct_encoded&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$iunreserved&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$sub_delims&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:@&apos;&lt;/span&gt;));\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ifragment&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$ipchar&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\/\\\\?&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$iquery&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$ipchar&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$iprivate&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\/\\\\?&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$isegment_nz_nc&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$pct_encoded&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$iunreserved&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$sub_delims&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;@&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&apos;+&apos;&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable&quot;&gt;$isegment_nz&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$ipchar&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;+&apos;&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable&quot;&gt;$isegment&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$ipchar&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ipath_empty&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;(?!&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ipchar&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;)&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable&quot;&gt;$ipath_rootless&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$isegment_nz&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\/&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$isegment&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable&quot;&gt;$ipath_noscheme&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$isegment_nz_nc&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\/&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$isegment&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable&quot;&gt;$ipath_absolute&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\/&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$ipath_rootless&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// Spec says isegment-nz *( &quot;/&quot; isegment )&lt;/span&gt;\n&lt;span class=&quot;hljs-variable&quot;&gt;$ipath_abempty&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\/&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$isegment&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ipath&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;implode&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(\n    &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_abempty&lt;/span&gt;,\n    &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_absolute&lt;/span&gt;,\n    &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_noscheme&lt;/span&gt;,\n    &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_rootless&lt;/span&gt;,\n    &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_empty&lt;/span&gt;\n))) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;)&apos;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ireg_name&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$pct_encoded&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$iunreserved&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$sub_delims&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;@&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ihost&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;implode&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$IP_literal&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$IPv4address&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$ireg_name&lt;/span&gt;)));\n&lt;span class=&quot;hljs-variable&quot;&gt;$iuserinfo&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$pct_encoded&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$iunreserved&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$sub_delims&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable&quot;&gt;$iauthority&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$iuserinfo&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;@&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$ihost&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$port&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$irelative_part&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;implode&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\/\\\\/&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$iauthority&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_abempty&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_absolute&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_noscheme&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_empty&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;\n)));\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$irelative_ref&lt;/span&gt; = &lt;span class=&quot;hljs-variable&quot;&gt;$irelative_part&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\?&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$iquery&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\#&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ifragment&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ihier_part&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;implode&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\/\\\\/&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$iauthority&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_abempty&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_absolute&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_rootless&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_empty&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;\n)));\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$absolute_IRI&lt;/span&gt; = &lt;span class=&quot;hljs-variable&quot;&gt;$scheme&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ihier_part&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\?&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$iquery&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$IRI&lt;/span&gt; = &lt;span class=&quot;hljs-variable&quot;&gt;$scheme&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ihier_part&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\?&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$iquery&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\#&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ifragment&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$IRI_reference&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$IRI&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$irelative_ref&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Edit 7 March 2011: Because of the way PHP handles backslashes in quoted strings, these are unusable by default. You&apos;ll need to double-escape backslashes except where the backslash has a special meaning in regex. You can do that this way:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$escape_backslash&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;/(?&amp;lt;!\\\\)\\\\(?![\\[\\]\\\\\\^\\$\\.\\|\\*\\+\\(\\)QEnrtaefvdwsDWSbAZzB1-9GX]|x\\{[0-9a-f]{1,4}\\}|\\c[A-Z]|)/&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable&quot;&gt;$absolute_IRI&lt;/span&gt; = preg_replace(&lt;span class=&quot;hljs-variable&quot;&gt;$escape_backslash&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\\\\\&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$absolute_IRI&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable&quot;&gt;$IRI&lt;/span&gt; = preg_replace(&lt;span class=&quot;hljs-variable&quot;&gt;$escape_backslash&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\\\\\&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$IRI&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable&quot;&gt;$IRI_reference&lt;/span&gt; = preg_replace(&lt;span class=&quot;hljs-variable&quot;&gt;$escape_backslash&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\\\\\&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$IRI_reference&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I&apos;ve just written up a blog post for a great solution for recognizing URLs in most used formats such as:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;www.google.com&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;http://www.google.com&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;mailto:somebody@google.com&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;somebody@google.com&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;www.url-with-querystring.com/?url=has-querystring&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;The regular expression used is:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt;/((([A-Za-z]{&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;}&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:\\/\\/&lt;/span&gt;)&lt;span class=&quot;hljs-string&quot;&gt;?)&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[-;&lt;span class=&quot;hljs-symbol&quot;&gt;:&amp;amp;&lt;/span&gt;=\\+\\&lt;span class=&quot;hljs-variable&quot;&gt;$,&lt;/span&gt;\\w]+@)&lt;span class=&quot;hljs-string&quot;&gt;?[&lt;/span&gt;A-Za-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;.-]+|&lt;span class=&quot;hljs-params&quot;&gt;(?:www.&lt;/span&gt;|[-;&lt;span class=&quot;hljs-symbol&quot;&gt;:&amp;amp;&lt;/span&gt;=\\+\\&lt;span class=&quot;hljs-variable&quot;&gt;$,&lt;/span&gt;\\w]+@)[A-Za-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;.-]+)((&lt;span class=&quot;hljs-string&quot;&gt;?:\\/&lt;/span&gt;[\\+~%\\/.\\w-_]*)&lt;span class=&quot;hljs-string&quot;&gt;?\\?&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[-\\+=&amp;amp;;%@.\\w_]*)&lt;span class=&quot;hljs-comment&quot;&gt;#?(?:[\\w]*))?)/&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;What platform? If using .NET, use &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/system.uri.trycreate&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;System.Uri.TryCreate&lt;/code&gt;&lt;/a&gt;, not a regex.&lt;/p&gt;\n\n&lt;p&gt;For example:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;IsValidUrl&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt; urlString&lt;/span&gt;)&lt;/span&gt;\n{\n    Uri uri;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; Uri.TryCreate(urlString, UriKind.Absolute, &lt;span class=&quot;hljs-keyword&quot;&gt;out&lt;/span&gt; uri)\n        &amp;amp;&amp;amp; (uri.Scheme == Uri.UriSchemeHttp\n         || uri.Scheme == Uri.UriSchemeHttps\n         || uri.Scheme == Uri.UriSchemeFtp\n         || uri.Scheme == Uri.UriSchemeMailto\n            &lt;span class=&quot;hljs-comment&quot;&gt;/*...*/&lt;/span&gt;);\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// In test fixture...&lt;/span&gt;\n\n[&lt;span class=&quot;hljs-meta&quot;&gt;Test&lt;/span&gt;]\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;IsValidUrl_Test&lt;/span&gt;()&lt;/span&gt;\n{\n    Assert.True(IsValidUrl(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.example.com&quot;&lt;/span&gt;));\n    Assert.False(IsValidUrl(&lt;span class=&quot;hljs-string&quot;&gt;&quot;javascript:alert(&apos;xss&apos;)&quot;&lt;/span&gt;));\n    Assert.False(IsValidUrl(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;));\n    Assert.False(IsValidUrl(&lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;));\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;(Thanks to &lt;a href=&quot;https://stackoverflow.com/users/450141/yoshi&quot;&gt;@Yoshi&lt;/a&gt; for the tip about &lt;code&gt;javascript:&lt;/code&gt;)&lt;/p&gt;\n    ","\n&lt;p&gt;Here&apos;s what &lt;a href=&quot;http://en.wikipedia.org/wiki/RegexBuddy&quot; rel=&quot;noreferrer&quot;&gt;RegexBuddy&lt;/a&gt; uses.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt;(\\b(https?|&lt;span class=&quot;hljs-params&quot;&gt;ftp&lt;/span&gt;|file)&lt;span class=&quot;hljs-symbol&quot;&gt;://&lt;/span&gt;)&lt;span class=&quot;hljs-string&quot;&gt;?[&lt;/span&gt;-A-Za-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;+&amp;amp;@&lt;span class=&quot;hljs-comment&quot;&gt;#/%?=~_|!:,.;]+[-A-Za-z0-9+&amp;amp;@#/%=~_|]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It matches these below (inside the &lt;code&gt;** **&lt;/code&gt; marks):  &lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;**http://www.regexbuddy.com**  \n**http://www.regexbuddy.com/**  \n**http://www.regexbuddy.com/index.html**  \n**http://www.regexbuddy.com/index.html?&lt;span class=&quot;hljs-built_in&quot;&gt;source&lt;/span&gt;=library**  \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You can download RegexBuddy at &lt;strong&gt;&lt;a href=&quot;http://www.regexbuddy.com/download.html&quot; rel=&quot;noreferrer&quot;&gt;http://www.regexbuddy.com/download.html&lt;/a&gt;&lt;/strong&gt;. &lt;/p&gt;\n    ","\n&lt;p&gt;Mathias Bynens has a great article on the best comparison of a lot of regular expressions: &lt;a href=&quot;http://mathiasbynens.be/demo/url-regex&quot;&gt;In search of the perfect URL validation regex&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://gist.github.com/729294&quot;&gt;The best one posted&lt;/a&gt; is a little long, but it matches just about anything you can throw at it.&lt;/p&gt;\n\n&lt;h3&gt;JavaScript version&lt;/h3&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt;/^(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;https?|&lt;span class=&quot;hljs-params&quot;&gt;ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;127&lt;/span&gt;)(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.\\d&lt;/span&gt;{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})(&lt;span class=&quot;hljs-string&quot;&gt;?!&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;169&lt;/span&gt;\\.&lt;span class=&quot;hljs-number&quot;&gt;254&lt;/span&gt;|&lt;span class=&quot;hljs-params&quot;&gt;192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\\d|&lt;span class=&quot;hljs-params&quot;&gt;3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\\d\\d|&lt;span class=&quot;hljs-params&quot;&gt;2[01]\\d&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;22&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;?\\d{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;}|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4]\\d&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;}(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\\d?|&lt;span class=&quot;hljs-params&quot;&gt;1\\d\\d&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\\d|&lt;span class=&quot;hljs-params&quot;&gt;25[0-4]))&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[a-z\\u00a1-\\uffff0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]-*)*[a-z\\u00a1-\\uffff0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]+)(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[a-z\\u00a1-\\uffff0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]-*)*[a-z\\u00a1-\\uffff0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]+)*(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[a-z\\u00a1-\\uffff]{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,}))\\.&lt;span class=&quot;hljs-string&quot;&gt;?)&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;\\d{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;})&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-regexp&quot;&gt;/?#]\\S*)?$/i&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h3&gt;PHP version&lt;/h3&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-perl&quot;&gt;&lt;span class=&quot;hljs-number&quot;&gt;_&lt;/span&gt;^(?:(?:https?|ftp):&lt;span class=&quot;hljs-regexp&quot;&gt;//&lt;/span&gt;)(?:\\S+(?::\\S*)?@)?(?:(?!(?:&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;127&lt;/span&gt;)(?:\\.\\d{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})&lt;span class=&quot;hljs-string&quot;&gt;{3}&lt;/span&gt;)(?!(?:&lt;span class=&quot;hljs-number&quot;&gt;169&lt;/span&gt;\\.&lt;span class=&quot;hljs-number&quot;&gt;254&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;192&lt;/span&gt;\\.&lt;span class=&quot;hljs-number&quot;&gt;168&lt;/span&gt;)(?:\\.\\d{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})&lt;span class=&quot;hljs-string&quot;&gt;{2}&lt;/span&gt;)(?!&lt;span class=&quot;hljs-number&quot;&gt;172&lt;/span&gt;\\.(?:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\\d|&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;])(?:\\.\\d{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})&lt;span class=&quot;hljs-string&quot;&gt;{2}&lt;/span&gt;)(?:[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\\d?|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\\d\\d|&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;]\\d|&lt;span class=&quot;hljs-number&quot;&gt;22&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;])(?:\\.(?:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;?\\d{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;}|&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\\d|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]))&lt;span class=&quot;hljs-string&quot;&gt;{2}&lt;/span&gt;(?:\\.(?:[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\\d?|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\\d\\d|&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\\d|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]))|(?:(?:[a-z\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{00a1}&lt;/span&gt;-\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{ffff}&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]-*)*[a-z\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{00a1}&lt;/span&gt;-\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{ffff}&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]+)(?:\\.(?:[a-z\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{00a1}&lt;/span&gt;-\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{ffff}&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]-*)*[a-z\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{00a1}&lt;/span&gt;-\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{ffff}&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]+)*(?:\\.(?:[a-z\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{00a1}&lt;/span&gt;-\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{ffff}&lt;/span&gt;]{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,}))\\.?)(?::\\d{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;})?(?:[/?&lt;span class=&quot;hljs-comment&quot;&gt;#]\\S*)?$_iuS&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;With regard to &lt;strong&gt;eyelidness&lt;/strong&gt;&apos; answer post that reads &quot;This is based on my reading of the URI specification.&quot;: Thanks Eyelidness, yours is the perfect solution I sought, as it is based on the URI spec! Superb work. :)&lt;/p&gt;\n\n&lt;p&gt;I had to make two amendments. The first to get the regexp to match IP address URLs correctly in PHP (v5.2.10) with the preg_match() function.&lt;/p&gt;\n\n&lt;p&gt;I had to add one more set of parenthesis to the line above &quot;IP Address&quot; around the pipes:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;)|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}(?&lt;span class=&quot;hljs-comment&quot;&gt;#&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Not sure why.&lt;/p&gt;\n\n&lt;p&gt;I have also reduced the top level domain minimum length from 3 to 2 letters to support .co.uk and similar.&lt;/p&gt;\n\n&lt;p&gt;Final code:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;/^(https?|ftp):\\/\\/(?&lt;span class=&quot;hljs-comment&quot;&gt;#                                      protocol&lt;/span&gt;\n)(([a-z0-9&lt;span class=&quot;hljs-variable&quot;&gt;$_&lt;/span&gt;\\.\\+!\\*\\&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\),;\\?&amp;amp;=-]|%[0-9a-f]{2})+(?#         username\n)(:([a-z0-9$_\\.\\+!\\*\\&apos;&lt;/span&gt;\\(\\),;\\?&amp;amp;=-]|%[0-9a-f]{2})+)?(?&lt;span class=&quot;hljs-comment&quot;&gt;#      password&lt;/span&gt;\n)@)?(?&lt;span class=&quot;hljs-comment&quot;&gt;#                                                     auth requires @&lt;/span&gt;\n)((([a-z0-9]\\.|[a-z0-9][a-z0-9-]*[a-z0-9]\\.)*(?&lt;span class=&quot;hljs-comment&quot;&gt;#             domain segments AND&lt;/span&gt;\n)[a-z][a-z0-9-]*[a-z0-9](?&lt;span class=&quot;hljs-comment&quot;&gt;#                                 top level domain  OR&lt;/span&gt;\n)|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}(?&lt;span class=&quot;hljs-comment&quot;&gt;#&lt;/span&gt;\n    )(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?&lt;span class=&quot;hljs-comment&quot;&gt;#             IP address&lt;/span&gt;\n))(:\\d+)?(?&lt;span class=&quot;hljs-comment&quot;&gt;#                                                port&lt;/span&gt;\n))(((\\/+([a-z0-9&lt;span class=&quot;hljs-variable&quot;&gt;$_&lt;/span&gt;\\.\\+!\\*\\&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\),;:@&amp;amp;=-]|%[0-9a-f]{2})*)*(?# path\n)(\\?([a-z0-9$_\\.\\+!\\*\\&apos;&lt;/span&gt;\\(\\),;:@&amp;amp;=-]|%[0-9a-f]{2})*)(?&lt;span class=&quot;hljs-comment&quot;&gt;#      query string&lt;/span&gt;\n)?)?)?(?&lt;span class=&quot;hljs-comment&quot;&gt;#                                                   path and query string optional&lt;/span&gt;\n)(&lt;span class=&quot;hljs-comment&quot;&gt;#([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;:@&amp;amp;=-]|%[0-9a-f]{2})*)?(?#      fragment&lt;/span&gt;\n)$/i\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This modified version was not checked against the URI specification so I can&apos;t vouch for it&apos;s compliance, it was altered to handle URLs on local network environments and two digit TLDs as well as other kinds of Web URL, and to work better in the PHP setup I use.&lt;/p&gt;\n\n&lt;p&gt;As &lt;strong&gt;PHP&lt;/strong&gt; code:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-dart&quot;&gt;define(&lt;span class=&quot;hljs-string&quot;&gt;&apos;URL_FORMAT&apos;&lt;/span&gt;, \n&lt;span class=&quot;hljs-string&quot;&gt;&apos;/^(https?):\\/\\/&apos;&lt;/span&gt;.                                         &lt;span class=&quot;hljs-comment&quot;&gt;// protocol&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(([a-z0-9&lt;span class=&quot;hljs-subst&quot;&gt;$_&lt;/span&gt;\\.\\+!\\*\\&apos;\\(\\),;\\?&amp;amp;=-]|%[0-9a-f]{2})+&apos;&lt;/span&gt;.         &lt;span class=&quot;hljs-comment&quot;&gt;// username&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(:([a-z0-9&lt;span class=&quot;hljs-subst&quot;&gt;$_&lt;/span&gt;\\.\\+!\\*\\&apos;\\(\\),;\\?&amp;amp;=-]|%[0-9a-f]{2})+)?&apos;&lt;/span&gt;.      &lt;span class=&quot;hljs-comment&quot;&gt;// password&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;@)?(?#&apos;&lt;/span&gt;.                                                  &lt;span class=&quot;hljs-comment&quot;&gt;// auth requires @&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;)((([a-z0-9]\\.|[a-z0-9][a-z0-9-]*[a-z0-9]\\.)*&apos;&lt;/span&gt;.                      &lt;span class=&quot;hljs-comment&quot;&gt;// domain segments AND&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;[a-z][a-z0-9-]*[a-z0-9]&apos;&lt;/span&gt;.                                 &lt;span class=&quot;hljs-comment&quot;&gt;// top level domain  OR&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}&apos;&lt;/span&gt;.\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])&apos;&lt;/span&gt;.                 &lt;span class=&quot;hljs-comment&quot;&gt;// IP address&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;)(:\\d+)?&apos;&lt;/span&gt;.                                                &lt;span class=&quot;hljs-comment&quot;&gt;// port&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;)(((\\/+([a-z0-9&lt;span class=&quot;hljs-subst&quot;&gt;$_&lt;/span&gt;\\.\\+!\\*\\&apos;\\(\\),;:@&amp;amp;=-]|%[0-9a-f]{2})*)*&apos;&lt;/span&gt;. &lt;span class=&quot;hljs-comment&quot;&gt;// path&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(\\?([a-z0-9&lt;span class=&quot;hljs-subst&quot;&gt;$_&lt;/span&gt;\\.\\+!\\*\\&apos;\\(\\),;:@&amp;amp;=-]|%[0-9a-f]{2})*)&apos;&lt;/span&gt;.      &lt;span class=&quot;hljs-comment&quot;&gt;// query string&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;?)?)?&apos;&lt;/span&gt;.                                                   &lt;span class=&quot;hljs-comment&quot;&gt;// path and query string optional&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(#([a-z0-9&lt;span class=&quot;hljs-subst&quot;&gt;$_&lt;/span&gt;\\.\\+!\\*\\&apos;\\(\\),;:@&amp;amp;=-]|%[0-9a-f]{2})*)?&apos;&lt;/span&gt;.      &lt;span class=&quot;hljs-comment&quot;&gt;// fragment&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;$/i&apos;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here is a test program in PHP which validates a variety of URLs using the regex:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt;\n\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;define&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;URL_FORMAT&apos;&lt;/span&gt;,\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;/^(https?):\\/\\/&apos;&lt;/span&gt;.                                         // protocol\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;\\?&amp;amp;=-]|%[0-9a-f]{2})+&apos;&lt;/span&gt;.         // username\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(:([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;\\?&amp;amp;=-]|%[0-9a-f]{2})+)?&apos;&lt;/span&gt;.      // password\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;@)?(?#&apos;&lt;/span&gt;.                                                  // auth requires @\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;)((([a-z0-9]\\.|[a-z0-9][a-z0-9-]*[a-z0-9]\\.)*&apos;&lt;/span&gt;.                      // domain segments AND\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;[a-z][a-z0-9-]*[a-z0-9]&apos;&lt;/span&gt;.                                 // top level domain  OR\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}&apos;&lt;/span&gt;.\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])&apos;&lt;/span&gt;.                 // IP address\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;)(:\\d+)?&apos;&lt;/span&gt;.                                                // port\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;)(((\\/+([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;:@&amp;amp;=-]|%[0-9a-f]{2})*)*&apos;&lt;/span&gt;. // path\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(\\?([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;:@&amp;amp;=-]|%[0-9a-f]{2})*)&apos;&lt;/span&gt;.      // query &lt;span class=&quot;hljs-keyword&quot;&gt;string&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;?)?)?&apos;&lt;/span&gt;.                                                   // path &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; query &lt;span class=&quot;hljs-keyword&quot;&gt;string&lt;/span&gt; optional\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(#([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;:@&amp;amp;=-]|%[0-9a-f]{2})*)?&apos;&lt;/span&gt;.      // fragment\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;$/i&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/**\n * Verify the syntax of the given URL. \n * \n * &lt;span class=&quot;hljs-doctag&quot;&gt;@access&lt;/span&gt; public\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; $url The URL to verify.\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@return&lt;/span&gt; boolean\n */&lt;/span&gt;\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;is_valid_url&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;str_starts_with&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;strtolower&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&apos;http://localhost&apos;&lt;/span&gt;)) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n  }\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;preg_match&lt;/span&gt;(URL_FORMAT, &lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;);\n}\n\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/**\n * String starts with something\n * \n * This function will return true only if input string starts with\n * niddle\n * \n * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; string $string Input string\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; string $niddle Needle string\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@return&lt;/span&gt; boolean\n */&lt;/span&gt;\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;str_starts_with&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$string&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$niddle&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;{\n      &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;substr&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$string&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;strlen&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$niddle&lt;/span&gt;)) == &lt;span class=&quot;hljs-variable&quot;&gt;$niddle&lt;/span&gt;;\n}\n\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/**\n * Test a URL for validity and count results.\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; url url\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; expected expected result (true or false)\n */&lt;/span&gt;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$numtests&lt;/span&gt; = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable&quot;&gt;$passed&lt;/span&gt; = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$expected&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;global&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$numtests&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$passed&lt;/span&gt;;\n  &lt;span class=&quot;hljs-variable&quot;&gt;$numtests&lt;/span&gt;++;\n  &lt;span class=&quot;hljs-variable&quot;&gt;$valid&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;is_valid_url&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;URL Valid?: &quot;&lt;/span&gt; . (&lt;span class=&quot;hljs-variable&quot;&gt;$valid&lt;/span&gt;?&lt;span class=&quot;hljs-string&quot;&gt;&quot;yes&quot;&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;no&quot;&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&quot; for URL: &lt;span class=&quot;hljs-subst&quot;&gt;$url&lt;/span&gt;. Expected: &quot;&lt;/span&gt;.(&lt;span class=&quot;hljs-variable&quot;&gt;$expected&lt;/span&gt;?&lt;span class=&quot;hljs-string&quot;&gt;&quot;yes&quot;&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;no&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-string&quot;&gt;&quot;. &quot;&lt;/span&gt;;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$valid&lt;/span&gt; == &lt;span class=&quot;hljs-variable&quot;&gt;$expected&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;PASS\\n&quot;&lt;/span&gt;; &lt;span class=&quot;hljs-variable&quot;&gt;$passed&lt;/span&gt;++;\n  } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;FAIL\\n&quot;&lt;/span&gt;;\n  }\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;URL Tests:\\n\\n&quot;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://localserver/projects/public/assets/javascript/widgets/UserBoxMenu/widget.css&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.com&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.co.uk/projects/my%20folder/test.php&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://myserver.localdomain&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://192.168.1.120/projects/index.php&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://192.168.1.1/projects/index.php&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://projectpier-server.localdomain/projects/public/assets/javascript/widgets/UserBoxMenu/widget.css&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://2.4.168.19/project-pier?c=test&amp;amp;a=b&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://localhost/a/b/c/test.php?c=controller&amp;amp;arg1=20&amp;amp;arg2=20&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://user:password@localhost/a/b/c/test.php?c=controller&amp;amp;arg1=20&amp;amp;arg2=20&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;\\n&lt;span class=&quot;hljs-subst&quot;&gt;$passed&lt;/span&gt; out of &lt;span class=&quot;hljs-subst&quot;&gt;$numtests&lt;/span&gt; tests passed.\\n\\n&quot;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Thanks again to &lt;strong&gt;eyelidness&lt;/strong&gt; for the regex!&lt;/p&gt;\n    ","\n&lt;p&gt;The post &lt;a href=&quot;https://stackoverflow.com/questions/27745/getting-parts-of-a-url-regex#27755&quot;&gt;Getting parts of a URL (Regex)&lt;/a&gt; discusses parsing a URL to identify its various components. If you want to check if a URL is well-formed, it should be sufficient for your needs.&lt;/p&gt;\n\n&lt;p&gt;If you need to check if it&apos;s actually valid, you&apos;ll eventually have to try to access whatever&apos;s on the other end.&lt;/p&gt;\n\n&lt;p&gt;In general, though, you&apos;d probably be better off using a function that&apos;s supplied to you by your framework or another library. Many platforms include functions that parse URLs. For example, there&apos;s Python&apos;s &lt;a href=&quot;https://docs.python.org/3/library/urllib.parse.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;urlparse&lt;/a&gt; module, and in .NET you could use the &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/aa332621.aspx&quot; rel=&quot;nofollow noreferrer&quot;&gt;System.Uri class&apos;s constructor&lt;/a&gt; as a means of validating the URL.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;This might not be a job for regexes, but for existing tools in your language of choice.&lt;/strong&gt;  You probably want to use existing code that has already been written, tested, and debugged.&lt;/p&gt;\n\n&lt;p&gt;In PHP, use the &lt;a href=&quot;http://php.net/manual/en/function.parse-url.php&quot;&gt;&lt;code&gt;parse_url&lt;/code&gt;&lt;/a&gt; function.&lt;/p&gt;\n\n&lt;p&gt;Perl: &lt;a href=&quot;http://search.cpan.org/dist/URI/&quot;&gt;&lt;code&gt;URI&lt;/code&gt; module&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;Ruby: &lt;a href=&quot;http://www.ruby-doc.org/stdlib-1.9.3/libdoc/uri/rdoc/URI.html&quot;&gt;&lt;code&gt;URI&lt;/code&gt; module&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;.NET: &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/txt7706a.aspx&quot;&gt;&apos;Uri&apos; class&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Regexes are not a magic wand you wave at every problem that happens to involve strings.&lt;/strong&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;This will match all URLs&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;with or without &lt;em&gt;http&lt;/em&gt;/&lt;em&gt;https&lt;/em&gt;   &lt;/li&gt;\n&lt;li&gt;with or without &lt;em&gt;www&lt;/em&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;...including sub-domains and those new top-level domain name extensions such as \n  .&lt;em&gt;museum&lt;/em&gt;, \n  .&lt;em&gt;academy&lt;/em&gt;, \n  .&lt;em&gt;foundation&lt;/em&gt;\n  etc. which can have up to 63 characters (not just .&lt;em&gt;com&lt;/em&gt;, .&lt;em&gt;net&lt;/em&gt;, .&lt;em&gt;info&lt;/em&gt; etc.)&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt;(([\\w]+&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;)&lt;span class=&quot;hljs-string&quot;&gt;?/&lt;/span&gt;/)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;([\\d\\w]|&lt;span class=&quot;hljs-params&quot;&gt;%[a-fA-f\\d]{2,2})+(:([\\d\\w]&lt;/span&gt;|&lt;span class=&quot;hljs-string&quot;&gt;%[a-fA-f\\d]&lt;/span&gt;{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;})+)&lt;span class=&quot;hljs-string&quot;&gt;?@&lt;/span&gt;)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;[\\d\\w][-\\d\\w]{&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;253&lt;/span&gt;}[\\d\\w]\\.)+[\\w]{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;63&lt;/span&gt;}(&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;[\\d]+)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;/([-+_~.\\d\\w]|&lt;span class=&quot;hljs-params&quot;&gt;%[a-fA-f\\d]{2,2})*)*(\\?(&amp;amp;?([-+_~.\\d\\w]&lt;/span&gt;|&lt;span class=&quot;hljs-string&quot;&gt;%[a-fA-f\\d]&lt;/span&gt;{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;})=&lt;span class=&quot;hljs-string&quot;&gt;?)&lt;/span&gt;*)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;&lt;span class=&quot;hljs-comment&quot;&gt;#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Because today maximum length of the available top-level domain name extension is 13 characters such as .&lt;em&gt;international&lt;/em&gt;, you can change the number 63 in expression to 13 to prevent someone misusing it.&lt;/p&gt;\n\n&lt;p&gt;as javascript&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; urlreg=&lt;span class=&quot;hljs-regexp&quot;&gt;/(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,63}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&amp;amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?/&lt;/span&gt;;\n\n$(&lt;span class=&quot;hljs-string&quot;&gt;&apos;textarea&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;on&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;input&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; url = $(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;val&lt;/span&gt;();\n  $(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;toggleClass&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;invalid&apos;&lt;/span&gt;, urlreg.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(url) == &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;)\n});\n\n$(&lt;span class=&quot;hljs-string&quot;&gt;&apos;textarea&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;trigger&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;input&apos;&lt;/span&gt;);&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;textarea&lt;/span&gt;{&lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;:green;}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.invalid&lt;/span&gt;{&lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;:red;}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;textarea&lt;/span&gt;&amp;gt;&lt;/span&gt;http://www.google.com&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;textarea&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;textarea&lt;/span&gt;&amp;gt;&lt;/span&gt;http//www.google.com&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;textarea&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;textarea&lt;/span&gt;&amp;gt;&lt;/span&gt;googlecom&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;textarea&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;textarea&lt;/span&gt;&amp;gt;&lt;/span&gt;https://www.google.com&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;textarea&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif1&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;Wikipedia Article: &lt;a href=&quot;http://en.wikipedia.org/wiki/List_of_Internet_top-level_domains&quot; rel=&quot;noreferrer&quot;&gt;List of all internet top-level domains&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;h1&gt;Non-validating URI-reference Parser&lt;/h1&gt;\n&lt;p&gt;For reference purposes, here&apos;s the IETF Spec: (&lt;a href=&quot;http://www.ietf.org/rfc/rfc3986.txt&quot; rel=&quot;nofollow noreferrer&quot;&gt;TXT&lt;/a&gt; | &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc3986#appendix-B&quot; rel=&quot;nofollow noreferrer&quot;&gt;HTML&lt;/a&gt;). In particular, &lt;em&gt;Appendix B. &lt;strong&gt;Parsing&lt;/strong&gt; a URI Reference with a Regular Expression&lt;/em&gt; demonstrates how to parse a &lt;strong&gt;valid regex&lt;/strong&gt;. This is described as,&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;for an example of a non-validating URI-reference parser that will take any given string and extract the URI components.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;Here&apos;s the regex they provide:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt; ^(([^&lt;span class=&quot;hljs-symbol&quot;&gt;:/&lt;span class=&quot;hljs-string&quot;&gt;?#&lt;/span&gt;&lt;/span&gt;]+)&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;/&lt;span class=&quot;hljs-regexp&quot;&gt;/([^/&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;?#&lt;/span&gt;]*))&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;[^&lt;span class=&quot;hljs-string&quot;&gt;?#&lt;/span&gt;]*)(\\&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;[^&lt;span class=&quot;hljs-comment&quot;&gt;#]*))?(#(.*))?&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;As someone else said, it&apos;s probably best to leave this to a lib/framework you&apos;re already using.&lt;/p&gt;\n    ","\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;^(http:\\/\\/www\\.|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)?&lt;span class=&quot;hljs-selector-attr&quot;&gt;[a-z0-9]&lt;/span&gt;+([\\-\\.]{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;}[a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]+)*\\.&lt;span class=&quot;hljs-selector-attr&quot;&gt;[a-z]&lt;/span&gt;{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;}(:[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;})?(\\/.*)?$\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;live demo: &lt;a href=&quot;https://regex101.com/r/HUNasA/2&quot; rel=&quot;noreferrer&quot;&gt;https://regex101.com/r/HUNasA/2&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;I have tested various expressions to match my requirements. &lt;/p&gt;\n\n&lt;p&gt;As a user I can hit browser search bar with following strings:&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;valid urls&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;https://www.google.com&quot; rel=&quot;noreferrer&quot;&gt;https://www.google.com&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://www.google.com&quot; rel=&quot;noreferrer&quot;&gt;http://www.google.com&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://google.com/&quot; rel=&quot;noreferrer&quot;&gt;http://google.com/&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://google.com/&quot; rel=&quot;noreferrer&quot;&gt;https://google.com/&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;www.google.com&lt;/li&gt;\n&lt;li&gt;google.com&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://www.google.com.ua&quot; rel=&quot;noreferrer&quot;&gt;https://www.google.com.ua&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://www.google.com.ua&quot; rel=&quot;noreferrer&quot;&gt;http://www.google.com.ua&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://google.com.ua&quot; rel=&quot;noreferrer&quot;&gt;http://google.com.ua&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://google.com.ua/&quot; rel=&quot;noreferrer&quot;&gt;https://google.com.ua/&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;www.google.com.ua&lt;/li&gt;\n&lt;li&gt;google.com.ua&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://mail.google.com&quot; rel=&quot;noreferrer&quot;&gt;https://mail.google.com&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://mail.google.com&quot; rel=&quot;noreferrer&quot;&gt;http://mail.google.com&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;mail.google.com&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;invalid urls&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;http://google&quot; rel=&quot;noreferrer&quot;&gt;http://google&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://google.c&quot; rel=&quot;noreferrer&quot;&gt;https://google.c&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;google&lt;/li&gt;\n&lt;li&gt;google.&lt;/li&gt;\n&lt;li&gt;.google&lt;/li&gt;\n&lt;li&gt;.google.com&lt;/li&gt;\n&lt;li&gt;goole.c&lt;/li&gt;\n&lt;li&gt;...&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;The best regular expression for URL for me would be:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;&quot;(([\\w]+:)?&lt;span class=&quot;hljs-comment&quot;&gt;//)?(([\\d\\w]|%[a-fA-F\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&amp;amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Here is a good rule that covers all possible cases: ports, params and etc&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt;/(&lt;span class=&quot;hljs-symbol&quot;&gt;https?:&lt;/span&gt;\\/\\/(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;](&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;-]{&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;61&lt;/span&gt;}[a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;])&lt;span class=&quot;hljs-string&quot;&gt;?\\.&lt;/span&gt;)+[a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;-]{&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;61&lt;/span&gt;}[a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;])(&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;span class=&quot;hljs-string&quot;&gt;?\\d&lt;/span&gt;*&lt;/span&gt;)\\/&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;[a-z_\\/&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\-&lt;span class=&quot;hljs-comment&quot;&gt;#.]*)\\??([a-z_\\/0-9\\-#=&amp;amp;]*)/g&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-delphi&quot;&gt;        &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;validateURL&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(textval)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;{\n            var urlregex = new RegExp(\n            &quot;^(http|https|ftp)\\://([a-zA-Z0-9\\.\\-]+(\\:[a-zA-Z0-9\\.&amp;amp;amp;%\\$\\-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}&lt;/span&gt;[0-9]&lt;span class=&quot;hljs-comment&quot;&gt;{2}&lt;/span&gt;|[1-9]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;[0-9]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;|[1-9])\\.&lt;span class=&quot;hljs-params&quot;&gt;(25[0-5]|2[0-4][0-9]|[0-1]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;[0-9]&lt;span class=&quot;hljs-comment&quot;&gt;{2}&lt;/span&gt;|[1-9]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;[0-9]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;|[1-9]|0)&lt;/span&gt;\\.&lt;span class=&quot;hljs-params&quot;&gt;(25[0-5]|2[0-4][0-9]|[0-1]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;[0-9]&lt;span class=&quot;hljs-comment&quot;&gt;{2}&lt;/span&gt;|[1-9]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;[0-9]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;|[1-9]|0)&lt;/span&gt;\\.&lt;span class=&quot;hljs-params&quot;&gt;(25[0-5]|2[0-4][0-9]|[0-1]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;[0-9]&lt;span class=&quot;hljs-comment&quot;&gt;{2}&lt;/span&gt;|[1-9]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;[0-9]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;|[0-9])&lt;/span&gt;|&lt;span class=&quot;hljs-title&quot;&gt;localhost&lt;/span&gt;|&lt;span class=&quot;hljs-params&quot;&gt;([a-zA-Z0-9\\-]+\\.)&lt;/span&gt;*[&lt;span class=&quot;hljs-title&quot;&gt;a&lt;/span&gt;-&lt;span class=&quot;hljs-title&quot;&gt;zA&lt;/span&gt;-&lt;span class=&quot;hljs-title&quot;&gt;Z0&lt;/span&gt;-9\\-]+\\.&lt;span class=&quot;hljs-params&quot;&gt;(com|edu|gov|int|mil|net|org|biz|arpa|info|&lt;span class=&quot;hljs-keyword&quot;&gt;name&lt;/span&gt;|pro|aero|coop|museum|[a-zA-Z]&lt;span class=&quot;hljs-comment&quot;&gt;{2}&lt;/span&gt;)&lt;/span&gt;)&lt;span class=&quot;hljs-params&quot;&gt;(\\:[0-9]+)&lt;/span&gt;*&lt;span class=&quot;hljs-params&quot;&gt;(/($|[a-zA-Z0-9\\.\\,\\?\\&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\\\+&amp;amp;amp;%\\$#\\=~_\\-]+))*$&quot;);\n            return urlregex.test(textval);\n        }\n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Matches \n&lt;a href=&quot;http://site.com/dir/file.php?var=moo&quot; rel=&quot;noreferrer&quot;&gt;http://site.com/dir/file.php?var=moo&lt;/a&gt; | &lt;a href=&quot;ftp://user:pass@site.com:21/file/dir&quot; rel=&quot;noreferrer&quot;&gt;ftp://user:pass@site.com:21/file/dir&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Non-Matches \nsite.com | &lt;a href=&quot;http://site.com/dir//&quot; rel=&quot;noreferrer&quot;&gt;http://site.com/dir//&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I was not able to find the regex I was looking for so I modified a regex to fullfill my requirements, and apparently it seems to work fine now. My requirements were:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Match URLs w/o protocol (www.gooogle.com)&lt;/li&gt;\n&lt;li&gt;Match URLs with query parameters and path (&lt;a href=&quot;http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1&amp;amp;key2=value2e&quot; rel=&quot;noreferrer&quot;&gt;http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1&amp;amp;key2=value2e&lt;/a&gt;)&lt;/li&gt;\n&lt;li&gt;Don&apos;t match URLs where there are not acceptable characters (e.g. &quot;&apos;£), for instance: (www.google.com/somthing&quot;/somethingmore)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Here what I came up with, any suggestion is appreciated:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-swift&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;@Test&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; void testWebsiteUrl(){\n        &lt;span class=&quot;hljs-type&quot;&gt;String&lt;/span&gt; regularExpression &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;((http|ftp|https):&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;/&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;/)?[&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;w&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;-_]+(&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;.[&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;w&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;-_]+)+([&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;w&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;-&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;.,@?^=%&amp;amp;amp;:/~&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;+#]*[&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;w&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;-&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;@?^=%&amp;amp;amp;/~&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;+#])?&quot;&lt;/span&gt;;\n\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;www.google.com&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;www.google.co.uk&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.com&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.co.uk&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://www.google.com&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://www.google.co.uk&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;google.com&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;google.co.uk&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;google.mu&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;mes.intnet.mu&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;cse.uom.ac.mu&quot;&lt;/span&gt;.matches(regularExpression));\n\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.com/path&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1&amp;amp;key2=value2e&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.com/?queryparam=123&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.com/path?queryparam=123&quot;&lt;/span&gt;.matches(regularExpression));\n\n        assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;www..dr.google&quot;&lt;/span&gt;.matches(regularExpression));\n\n        assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;www:google.com&quot;&lt;/span&gt;.matches(regularExpression));\n\n        assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://www@.google.com&quot;&lt;/span&gt;.matches(regularExpression));\n\n        assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://www.google.com&lt;span class=&quot;hljs-subst&quot;&gt;\\&quot;&lt;/span&gt;&quot;&lt;/span&gt;.matches(regularExpression));\n        assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://www.google.com&apos;&quot;&lt;/span&gt;.matches(regularExpression));\n\n        assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.com/path&apos;&quot;&lt;/span&gt;.matches(regularExpression));\n        assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1&amp;amp;key2=value2e&apos;&quot;&lt;/span&gt;.matches(regularExpression));\n        assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.com/?queryparam=123&apos;&quot;&lt;/span&gt;.matches(regularExpression));\n        assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.com/path?queryparam=12&apos;3&quot;&lt;/span&gt;.matches(regularExpression));\n\n    }\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I wrote a little groovy version that you can run&lt;/p&gt;\n&lt;p&gt;it matches the following URLs (which is good enough for me)&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(args)&lt;/span&gt; {\n    &lt;span class=&quot;hljs-type&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;go to http://www.m.abut.ly/abc its awesome&quot;&lt;/span&gt;\n    url = url.replaceAll(/https?:\\/\\/w{&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}\\w*?\\.(\\w*?\\.)?\\w{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}\\S*|www\\.(\\w*?\\.)?\\w*?\\.\\w{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}\\S*|(\\w*?\\.)?\\w*?\\.\\w{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}[\\/\\?]\\S*/ , { it -&amp;gt;\n        &lt;span class=&quot;hljs-string&quot;&gt;&quot;woof${it}woof&quot;&lt;/span&gt;\n    })\n    println url \n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;lang-none s-code-block&quot;&gt;&lt;code&gt;http://google.com\nhttp://google.com/help.php\nhttp://google.com/help.php?a=5\n\nhttp://www.google.com\nhttp://www.google.com/help.php\nhttp://www.google.com?a=5\n\ngoogle.com?a=5\ngoogle.com/help.php\ngoogle.com/help.php?a=5\n\nhttp://www.m.google.com/help.php?a=5 (and all its permutations)\nwww.m.google.com/help.php?a=5 (and all its permutations)\nm.google.com/help.php?a=5 (and all its permutations)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The important thing for any URLs that don&apos;t start with &lt;code&gt;http&lt;/code&gt; or &lt;code&gt;www&lt;/code&gt; is that they must include a &lt;code&gt;/&lt;/code&gt; or &lt;code&gt;?&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;I bet this can be tweaked a little more but it does the job pretty nice for being so short and compact... because you can pretty much split it in 3:&lt;/p&gt;\n&lt;p&gt;find anything that starts with &lt;code&gt;http&lt;/code&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-none s-code-block&quot;&gt;&lt;code&gt;https?:\\/\\/w{0,3}\\w*?\\.\\w{2,3}\\S*\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;find anything that starts with &lt;code&gt;www&lt;/code&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-none s-code-block&quot;&gt;&lt;code&gt;www\\.\\w*?\\.\\w{2,3}\\S*\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;or find anything that must have a text then a dot then at least 2 letters and then a &lt;code&gt;?&lt;/code&gt; or &lt;code&gt;/&lt;/code&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-none s-code-block&quot;&gt;&lt;code&gt;\\w*?\\.\\w{2,3}[\\/\\?]\\S*\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;validateURL&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;textval&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; urlregex = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RegExp&lt;/span&gt;(\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;^(http|https|ftp)\\://[a-zA-Z0-9\\-\\.]+\\.[a-zA-Z]{2,3}(:[a-zA-Z0-9]*)?/?([a-zA-Z0-9\\-\\._\\?\\,\\&apos;/\\\\\\+&amp;amp;amp;%\\$#\\=~])*$&quot;&lt;/span&gt;);\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; urlregex.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(textval);\n        }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Matches \n&lt;a href=&quot;http://www.asdah.com/~joe&quot;&gt;http://www.asdah.com/~joe&lt;/a&gt; | &lt;a href=&quot;ftp://ftp.asdah.co.uk:2828/asdah%20asdah.gif&quot;&gt;ftp://ftp.asdah.co.uk:2828/asdah%20asdah.gif&lt;/a&gt; | &lt;a href=&quot;https://asdah.gov/asdh-ah.as&quot;&gt;https://asdah.gov/asdh-ah.as&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;If you really search for the &lt;strong&gt;ultimate&lt;/strong&gt; match, you probably find it on &quot;&lt;a href=&quot;http://flanders.co.nz/2009/11/08/a-good-url-regular-expression-repost/&quot; rel=&quot;nofollow noreferrer&quot;&gt;A Good Url Regular Expression?&lt;/a&gt;&quot;.&lt;/p&gt;\n\n&lt;p&gt;But a regex that really matches all possible domains and allows anything that is allowed according to RFCs is horribly long and unreadable, trust me ;-)&lt;/p&gt;\n    ","\n&lt;p&gt;I&apos;ve been working on an in-depth article discussing URI validation using regular expressions. It is based on RFC3986.  &lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;http://jmrware.com/articles/2009/uri_regexp/URI_regex.html&quot; rel=&quot;nofollow&quot;&gt;Regular Expression URI Validation&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Although the article is not yet complete, I have come up with a PHP function which does a pretty good job of validating HTTP and FTP URLs. Here is the current version:&lt;/p&gt;\n\n\n\n&lt;pre class=&quot;lang-php s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// function url_valid($url) { Rev:20110423_2000&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// Return associative array of valid URI components, or FALSE if $url is not&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// RFC-3986 compliant. If the passed URL begins with: &quot;www.&quot; or &quot;ftp.&quot;, then&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// &quot;http://&quot; or &quot;ftp://&quot; is prepended and the corrected full-url is stored in&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// the return array with a key name &quot;url&quot;. This value should be used by the caller.&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// Return value: FALSE if $url is not valid, otherwise array of URI components:&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// e.g.&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// Given: &quot;http://www.jmrware.com:80/articles?height=10&amp;amp;width=75#fragone&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// Array(&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [scheme] =&amp;gt; http&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [authority] =&amp;gt; www.jmrware.com:80&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [userinfo] =&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [host] =&amp;gt; www.jmrware.com&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [IP_literal] =&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [IPV6address] =&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [ls32] =&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [IPvFuture] =&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [IPv4address] =&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [regname] =&amp;gt; www.jmrware.com&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [port] =&amp;gt; 80&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [path_abempty] =&amp;gt; /articles&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [query] =&amp;gt; height=10&amp;amp;width=75&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [fragment] =&amp;gt; fragone&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [url] =&amp;gt; http://www.jmrware.com:80/articles?height=10&amp;amp;width=75#fragone&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// )&lt;/span&gt;\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;url_valid&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;strpos&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;www.&apos;&lt;/span&gt;) === &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;) &lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;http://&apos;&lt;/span&gt;. &lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;strpos&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;ftp.&apos;&lt;/span&gt;) === &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;) &lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;ftp://&apos;&lt;/span&gt;. &lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;preg_match&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;/# Valid absolute URI having a non-empty, valid DNS host.\n        ^\n        (?P&amp;lt;scheme&amp;gt;[A-Za-z][A-Za-z0-9+\\-.]*):\\/\\/\n        (?P&amp;lt;authority&amp;gt;\n          (?:(?P&amp;lt;userinfo&amp;gt;(?:[A-Za-z0-9\\-._~!$&amp;amp;\\&apos;()*+,;=:]|%[0-9A-Fa-f]{2})*)@)?\n          (?P&amp;lt;host&amp;gt;\n            (?P&amp;lt;IP_literal&amp;gt;\n              \\[\n              (?:\n                (?P&amp;lt;IPV6address&amp;gt;\n                  (?:                                                (?:[0-9A-Fa-f]{1,4}:){6}\n                  |                                                ::(?:[0-9A-Fa-f]{1,4}:){5}\n                  | (?:                          [0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){4}\n                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,1}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){3}\n                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){2}\n                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})?::   [0-9A-Fa-f]{1,4}:\n                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})?::\n                  )\n                  (?P&amp;lt;ls32&amp;gt;[0-9A-Fa-f]{1,4}:[0-9A-Fa-f]{1,4}\n                  | (?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}\n                       (?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\n                  )\n                |   (?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::   [0-9A-Fa-f]{1,4}\n                |   (?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::\n                )\n              | (?P&amp;lt;IPvFuture&amp;gt;[Vv][0-9A-Fa-f]+\\.[A-Za-z0-9\\-._~!$&amp;amp;\\&apos;()*+,;=:]+)\n              )\n              \\]\n            )\n          | (?P&amp;lt;IPv4address&amp;gt;(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}\n                               (?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))\n          | (?P&amp;lt;regname&amp;gt;(?:[A-Za-z0-9\\-._~!$&amp;amp;\\&apos;()*+,;=]|%[0-9A-Fa-f]{2})+)\n          )\n          (?::(?P&amp;lt;port&amp;gt;[0-9]*))?\n        )\n        (?P&amp;lt;path_abempty&amp;gt;(?:\\/(?:[A-Za-z0-9\\-._~!$&amp;amp;\\&apos;()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)\n        (?:\\?(?P&amp;lt;query&amp;gt;       (?:[A-Za-z0-9\\-._~!$&amp;amp;\\&apos;()*+,;=:@\\\\/?]|%[0-9A-Fa-f]{2})*))?\n        (?:\\#(?P&amp;lt;fragment&amp;gt;    (?:[A-Za-z0-9\\-._~!$&amp;amp;\\&apos;()*+,;=:@\\\\/?]|%[0-9A-Fa-f]{2})*))?\n        $\n        /mx&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$m&lt;/span&gt;)) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;switch&lt;/span&gt; (&lt;span class=&quot;hljs-variable&quot;&gt;$m&lt;/span&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;scheme&apos;&lt;/span&gt;]) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;https&apos;&lt;/span&gt;:\n    &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;http&apos;&lt;/span&gt;:\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable&quot;&gt;$m&lt;/span&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;userinfo&apos;&lt;/span&gt;]) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// HTTP scheme does not allow userinfo.&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;ftps&apos;&lt;/span&gt;:\n    &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;ftp&apos;&lt;/span&gt;:\n        &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;default&lt;/span&gt;:\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;;   &lt;span class=&quot;hljs-comment&quot;&gt;// Unrecognized URI scheme. Default to FALSE.&lt;/span&gt;\n    }\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Validate host name conforms to DNS &quot;dot-separated-parts&quot;.&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable&quot;&gt;$m&lt;/span&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;regname&apos;&lt;/span&gt;]) { &lt;span class=&quot;hljs-comment&quot;&gt;// If host regname specified, check for DNS conformance.&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;preg_match&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;/# HTTP DNS host name.\n            ^                      # Anchor to beginning of string.\n            (?!.{256})             # Overall host length is less than 256 chars.\n            (?:                    # Group dot separated host part alternatives.\n              [A-Za-z0-9]\\.        # Either a single alphanum followed by dot\n            |                      # or... part has more than one char (63 chars max).\n              [A-Za-z0-9]          # Part first char is alphanum (no dash).\n              [A-Za-z0-9\\-]{0,61}  # Internal chars are alphanum plus dash.\n              [A-Za-z0-9]          # Part last char is alphanum (no dash).\n              \\.                   # Each part followed by literal dot.\n            )*                     # Zero or more parts before top level domain.\n            (?:                    # Explicitly specify top level domains.\n              com|edu|gov|int|mil|net|org|biz|\n              info|name|pro|aero|coop|museum|\n              asia|cat|jobs|mobi|tel|travel|\n              [A-Za-z]{2})         # Country codes are exactly two alpha chars.\n              \\.?                  # Top level domain can end in a dot.\n            $                      # Anchor to end of string.\n            /ix&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$m&lt;/span&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;host&apos;&lt;/span&gt;])) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;;\n    }\n    &lt;span class=&quot;hljs-variable&quot;&gt;$m&lt;/span&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;url&apos;&lt;/span&gt;] = &lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-variable&quot;&gt;$i&lt;/span&gt; = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; &lt;span class=&quot;hljs-keyword&quot;&gt;isset&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$m&lt;/span&gt;[&lt;span class=&quot;hljs-variable&quot;&gt;$i&lt;/span&gt;]); ++&lt;span class=&quot;hljs-variable&quot;&gt;$i&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot;&gt;unset&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$m&lt;/span&gt;[&lt;span class=&quot;hljs-variable&quot;&gt;$i&lt;/span&gt;]);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$m&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// return TRUE == array of useful named $matches plus the valid $url.&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This function utilizes two regexes; one to match a subset of valid generic URIs (absolute ones having a non-empty host), and a second to validate the DNS &quot;dot-separated-parts&quot; host name. Although this function currently validates only HTTP and FTP schemes, it is structured such that it can be easily extended to handle other schemes.&lt;/p&gt;\n    ","\n&lt;p&gt;I use this regex:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt;((&lt;span class=&quot;hljs-symbol&quot;&gt;https?:&lt;/span&gt;)&lt;span class=&quot;hljs-string&quot;&gt;?/&lt;/span&gt;/)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;([\\d\\w]|&lt;span class=&quot;hljs-params&quot;&gt;%[a-fA-f\\d]{2,2})+(:([\\d\\w]&lt;/span&gt;|&lt;span class=&quot;hljs-string&quot;&gt;%[a-fA-f\\d]&lt;/span&gt;{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;})+)&lt;span class=&quot;hljs-string&quot;&gt;?@&lt;/span&gt;)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;[\\d\\w][-\\d\\w]{&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;253&lt;/span&gt;}[\\d\\w]\\.)+[\\w]{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;63&lt;/span&gt;}(&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;[\\d]+)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;/([-+_~.\\d\\w]|&lt;span class=&quot;hljs-params&quot;&gt;%[a-fA-f\\d]{2,2})*)*(\\?(&amp;amp;?([-+_~.\\d\\w]&lt;/span&gt;|&lt;span class=&quot;hljs-string&quot;&gt;%[a-fA-f\\d]&lt;/span&gt;{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;})=&lt;span class=&quot;hljs-string&quot;&gt;?)&lt;/span&gt;*)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;&lt;span class=&quot;hljs-comment&quot;&gt;#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To support both:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;http://stackoverflow.com\nhttps://stackoverflow.com\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And:    &lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;//stackoverflow.com\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Here&apos;s a ready-to-go Java version from the Android source code.  This is the best one I&apos;ve found.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-swift&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;Matcher&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;WEB&lt;/span&gt;  &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;Pattern&lt;/span&gt;.compile(new &lt;span class=&quot;hljs-type&quot;&gt;StringBuilder&lt;/span&gt;()                 \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;((?:(http|https|Http|Https|rtsp|Rtsp):&quot;&lt;/span&gt;)                      \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;/&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;/(?:(?:[a-zA-Z0-9&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;$&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;-&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;_&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;.&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;+&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;!&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;*&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;&apos;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;(&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;)&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;,&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;?&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;&amp;amp;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;=]|(?:&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;%[a-fA-F0-9]{2})){1,64}(?:&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;:(?:[a-zA-Z0-9&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;$&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;-&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;_&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;.&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;+&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;!&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;*&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;&apos;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;(&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;)&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;,&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;?&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;&amp;amp;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;=]|(?:&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;%[a-fA-F0-9]{2})){1,25})?&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;@)?)?&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;((?:(?:[a-zA-Z0-9][a-zA-Z0-9&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;-]{0,64}&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;.)+&quot;&lt;/span&gt;)   &lt;span class=&quot;hljs-comment&quot;&gt;// named host                            &lt;/span&gt;\n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;(?:&quot;&lt;/span&gt;)   &lt;span class=&quot;hljs-comment&quot;&gt;// plus top level domain                         &lt;/span&gt;\n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;(?:aero|arpa|asia|a[cdefgilmnoqrstuwxz])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:biz|b[abdefghijmnorstvwyz])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:cat|com|coop|c[acdfghiklmnoruvxyz])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|d[ejkmoz]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:edu|e[cegrstu])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|f[ijkmor]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:gov|g[abdefghilmnpqrstuwy])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|h[kmnrtu]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:info|int|i[delmnoqrst])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:jobs|j[emop])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|k[eghimnrwyz]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|l[abcikrstuvy]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:mil|mobi|museum|m[acdghklmnopqrstuvwxyz])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:name|net|n[acefgilopruz])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:org|om)&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:pro|p[aefghklmnrstwy])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|qa&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|r[eouw]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|s[abcdeghijklmnortuvyz]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:tel|travel|t[cdfghjklmnoprtvwz])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|u[agkmsyz]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|v[aceginu]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|w[fs]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|y[etu]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|z[amw]))&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:(?:25[0-5]|2[0-4]&quot;&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;// or ip address                                                 &lt;/span&gt;\n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;[0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;.(?:25[0-5]|2[0-4][0-9]&quot;&lt;/span&gt;)                             \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;.(?:25[0-5]|2[0-4][0-9]|[0-1]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;[0-9]{2}|[1-9][0-9]|[1-9]|0)&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|[1-9][0-9]|[0-9])))&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;(?:&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;:&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;d{1,5})?)&quot;&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;// plus option port number                             &lt;/span&gt;\n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;(&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;/(?:(?:[a-zA-Z0-9&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;/&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;?&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;:&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;@&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;&amp;amp;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;=&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;#&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;~&quot;&lt;/span&gt;)  &lt;span class=&quot;hljs-comment&quot;&gt;// plus option query params                         &lt;/span&gt;\n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;-&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;.&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;+&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;!&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;*&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;&apos;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;(&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;)&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;,&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;_])|(?:&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;%[a-fA-F0-9]{2}))*)?&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;(?:&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;b|$)&quot;&lt;/span&gt;).toString()                 \n).matcher(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I hope it&apos;s helpful for you...&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-makefile&quot;&gt;&lt;span class=&quot;hljs-section&quot;&gt;^(http|https):\\/\\/+[\\www\\d]+\\.[\\w]+(\\/[\\w\\d]+)?&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;For Python, this is the actual URL validating regex used in Django 1.5.1:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; re\nregex = re.&lt;span class=&quot;hljs-built_in&quot;&gt;compile&lt;/span&gt;(\n        &lt;span class=&quot;hljs-string&quot;&gt;r&apos;^(?:http|ftp)s?://&apos;&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# http:// or https://&lt;/span&gt;\n        &lt;span class=&quot;hljs-string&quot;&gt;r&apos;(?:(?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+(?:[A-Z]{2,6}\\.?|[A-Z0-9-]{2,}\\.?)|&apos;&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# domain...&lt;/span&gt;\n        &lt;span class=&quot;hljs-string&quot;&gt;r&apos;localhost|&apos;&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# localhost...&lt;/span&gt;\n        &lt;span class=&quot;hljs-string&quot;&gt;r&apos;\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}|&apos;&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# ...or ipv4&lt;/span&gt;\n        &lt;span class=&quot;hljs-string&quot;&gt;r&apos;\\[?[A-F0-9]*:[A-F0-9:]+\\]?)&apos;&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# ...or ipv6&lt;/span&gt;\n        &lt;span class=&quot;hljs-string&quot;&gt;r&apos;(?::\\d+)?&apos;&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# optional port&lt;/span&gt;\n        &lt;span class=&quot;hljs-string&quot;&gt;r&apos;(?:/?|[/?]\\S+)$&apos;&lt;/span&gt;, re.IGNORECASE)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This does both ipv4 and ipv6 addresses as well as ports and GET parameters.&lt;/p&gt;\n\n&lt;p&gt;Found in the &lt;a href=&quot;https://github.com/django/django/blob/master/django/core/validators.py&quot; rel=&quot;nofollow&quot;&gt;code here&lt;/a&gt;, Line 44.&lt;/p&gt;\n    ","\n&lt;p&gt;This one works for me very well. &lt;code&gt;(https?|ftp)://(www\\d?|[a-zA-Z0-9]+)?\\.[a-zA-Z0-9-]+(\\:|\\.)([a-zA-Z0-9.]+|(\\d+)?)([/?:].*)?&lt;/code&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Here is a regex I made which extracts the different parts from an URL:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;^((?:https?|ftp):\\/\\/?)?([^:/\\s.]+\\.[^:/\\s]|localhost)(:\\d+)?((?:\\/\\w+)*\\/)?([\\w\\-.]+[^#?\\s]+)?([^#]+)?(#[\\w-]+)?$&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;((?:https?|ftp):\\/\\/?)?&lt;/code&gt;&lt;em&gt;(group 1)&lt;/em&gt;: extracts the protocol&lt;br&gt;\n&lt;code&gt;([^:/\\s.]+\\.[^:/\\s]|localhost)&lt;/code&gt;&lt;em&gt;(group 2)&lt;/em&gt;: extracts the hostname&lt;br&gt;\n&lt;code&gt;(:\\d+)?&lt;/code&gt;&lt;em&gt;(group 3)&lt;/em&gt;: extracts the port number&lt;br&gt;\n&lt;code&gt;((?:\\/\\w+)*\\/)?([\\w\\-.]+[^#?\\s]+)?&lt;/code&gt;&lt;em&gt;(groups 4 &amp;amp; 5)&lt;/em&gt;: extracts the path part&lt;br&gt;\n&lt;code&gt;([^#]+)?&lt;/code&gt;&lt;em&gt;(group 6)&lt;/em&gt;: extracts the query part&lt;br&gt;\n&lt;code&gt;(#[\\w-]+)?&lt;/code&gt;&lt;em&gt;(group 7)&lt;/em&gt;: extracts the hash part&lt;/p&gt;\n\n&lt;p&gt;For every part of the regex listed above, you can remove the ending &lt;code&gt;?&lt;/code&gt; to force it (or add one to make it facultative). You can also remove the &lt;code&gt;^&lt;/code&gt; at the beginning and &lt;code&gt;$&lt;/code&gt; at the end of the regex so it won&apos;t need to match the whole string.&lt;/p&gt;\n\n&lt;p&gt;See it on &lt;a href=&quot;https://regex101.com/r/Q2ilqN/7&quot; rel=&quot;nofollow noreferrer&quot;&gt;regex101&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;&lt;em&gt;Note:&lt;/em&gt;&lt;/strong&gt;&lt;em&gt; this regex is not 100% safe and may accept some strings which are not necessarily valid URLs but it does indeed validate some criterias. Its main goal was to extract the different parts of an URL not to validate it.&lt;/em&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;For convenience here&apos;s a one-liner regexp for URL&apos;s that will also match localhost where you&apos;re more likely to have ports than &lt;code&gt;.com&lt;/code&gt; or similar.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt;(http(s)&lt;span class=&quot;hljs-string&quot;&gt;?:\\/\\/&lt;/span&gt;.)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;www\\.)&lt;span class=&quot;hljs-string&quot;&gt;?[&lt;/span&gt;-a-zA-&lt;span class=&quot;hljs-variable constant_&quot;&gt;Z0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;@&lt;span class=&quot;hljs-symbol&quot;&gt;:%&lt;/span&gt;._\\+~&lt;span class=&quot;hljs-comment&quot;&gt;#=]{2,256}(\\.[a-z]{2,6}|:[0-9]{3,4})\\b([-a-zA-Z0-9@:%_\\+.~#?&amp;amp;\\/\\/=]*)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I found the following Regex for URLs, &lt;strong&gt;tested successfully with 500+ URLs&lt;/strong&gt;:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;/\\b(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\x{00a1}-\\x{ffff}0-9]+-?)*[a-z\\x{00a1}-\\x{ffff}0-9]+)(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}0-9]+-?)*[a-z\\x{00a1}-\\x{ffff}0-9]+)*(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?\\b/gi&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;I know it looks ugly, but the good thing is that it works. :)&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://regex101.com/r/hU9aV3/5&quot; rel=&quot;nofollow&quot;&gt;Explanation and demo with &lt;strong&gt;581 random URLs&lt;/strong&gt; on regex101.&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Source: &lt;a href=&quot;https://mathiasbynens.be/demo/url-regex&quot; rel=&quot;nofollow&quot;&gt;In search of the perfect URL validation regex&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;To Match a URL there are various option and it depend on you requirement.\nbelow are few.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-perl&quot;&gt;&lt;span class=&quot;hljs-number&quot;&gt;_&lt;/span&gt;(^|[\\s.:;?\\-\\]&amp;lt;\\(])(https?:&lt;span class=&quot;hljs-regexp&quot;&gt;//&lt;/span&gt;[-\\w;&lt;span class=&quot;hljs-regexp&quot;&gt;/?:@&amp;amp;=+$\\|\\_.!~*\\|&apos;()\\[\\]%#,]+[\\w/&lt;/span&gt;&lt;span class=&quot;hljs-comment&quot;&gt;#](\\(\\))?)(?=$|[\\s&apos;,\\|\\(\\).:;?\\-\\[\\]&amp;gt;\\)])_i&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;#\\b(([\\w-]+://?|www[.])[^\\s()&amp;lt;&amp;gt;]+(?:\\([\\w\\d]+\\)|([^[:punct:]\\s]|/)))#iS&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And there is a link which gives you more than 10 different variations of validation for URL.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://mathiasbynens.be/demo/url-regex&quot; rel=&quot;nofollow&quot;&gt;https://mathiasbynens.be/demo/url-regex&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I tried to formulate my version of url. My requirement was to capture instances in a String where possible url can be cse.uom.ac.mu - noting that it is not preceded by http nor www&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;String regularExpression &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &quot;((((ht{2}ps?://)?)((w{3}\\\\.)?))?)[^.&amp;amp;&amp;amp;[a-zA-Z0-9]][a-zA-Z0-9.-]+[^.&amp;amp;&amp;amp;[a-zA-Z0-9]](\\\\.[a-zA-Z]{2,3})&quot;;\n\nassertTrue(&quot;www.google.com&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;www.google.co.uk&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;http://www.google.com&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;http://www.google.co.uk&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;https://www.google.com&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;https://www.google.co.uk&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;google.com&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;google.co.uk&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;google.mu&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;mes.intnet.mu&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;cse.uom.ac.mu&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\n\n&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;cannot contain &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;.&apos;&lt;/span&gt; after www\nassertFalse(&quot;www..dr.google&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\n\n&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;cannot contain &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;.&apos;&lt;/span&gt; just before com\nassertFalse(&quot;www.dr.google..com&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\n\n&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;to&lt;/span&gt; test &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;where&lt;/span&gt; url www must be followed &lt;span class=&quot;hljs-keyword&quot;&gt;with&lt;/span&gt; a &lt;span class=&quot;hljs-string&quot;&gt;&apos;.&apos;&lt;/span&gt;\nassertFalse(&quot;www:google.com&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\n\n&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;to&lt;/span&gt; test &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;where&lt;/span&gt; url www must be followed &lt;span class=&quot;hljs-keyword&quot;&gt;with&lt;/span&gt; a &lt;span class=&quot;hljs-string&quot;&gt;&apos;.&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;assertFalse(&quot;http://wwwe.google.com&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\n\n&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;to&lt;/span&gt; test &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;where&lt;/span&gt; www must be preceded &lt;span class=&quot;hljs-keyword&quot;&gt;with&lt;/span&gt; a &lt;span class=&quot;hljs-string&quot;&gt;&apos;.&apos;&lt;/span&gt;\nassertFalse(&quot;https://www@.google.com&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;whats wrong with plain and simple FILTER_VALIDATE_URL ?&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.example.com&quot;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(!filter_var(&lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;, FILTER_VALIDATE_URL))\n  {\n  &lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;URL is not valid&quot;&lt;/span&gt;;\n  }\n&lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;\n  {\n  &lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;URL is valid&quot;&lt;/span&gt;;\n  }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I know its not the question exactly but it did the job for me when I needed to validate urls so thought it might be useful to others who come across this post looking for the same thing&lt;/p&gt;\n    "],"319":["\n&lt;p&gt;JavaScript has two number types: &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;Number&lt;/code&gt;&lt;/a&gt; and &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Glossary/BigInt&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;BigInt&lt;/code&gt;&lt;/a&gt;. &lt;/p&gt;\n\n&lt;p&gt;The most frequently-used number type, &lt;code&gt;Number&lt;/code&gt;, is a 64-bit floating point &lt;a href=&quot;https://en.wikipedia.org/wiki/IEEE_754&quot; rel=&quot;noreferrer&quot;&gt;IEEE 754&lt;/a&gt; number. &lt;/p&gt;\n\n&lt;p&gt;The largest exact integral value of this type is &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;Number.MAX_SAFE_INTEGER&lt;/code&gt;&lt;/a&gt;, which is:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;2&lt;sup&gt;53&lt;/sup&gt;-1, or &lt;/li&gt;\n&lt;li&gt;+/- 9,007,199,254,740,991, or&lt;/li&gt;\n&lt;li&gt;nine quadrillion seven trillion one hundred ninety-nine billion two hundred fifty-four million seven hundred forty thousand nine hundred ninety-one &lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;To put this in perspective: one quadrillion bytes is a petabyte (or one thousand terabytes).&lt;/p&gt;\n\n&lt;p&gt;&quot;Safe&quot; in this context refers to the ability to represent integers exactly and to correctly compare them.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://www.ecma-international.org/ecma-262/10.0/index.html#sec-ecmascript-language-types-number-type&quot; rel=&quot;noreferrer&quot;&gt;From the spec:&lt;/a&gt;&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;Note that all the positive and negative integers whose magnitude is no\n  greater than 2&lt;sup&gt;53&lt;/sup&gt; are representable in the &lt;code&gt;Number&lt;/code&gt; type (indeed, the\n  integer 0 has two representations, +0 and -0).&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;To safely use integers larger than this, you need to use &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;BigInt&lt;/code&gt;&lt;/a&gt;, which has no upper bound. &lt;/p&gt;\n\n&lt;p&gt;Note that the bitwise operators and shift operators operate on 32-bit integers, so in that case, the max safe integer is 2&lt;sup&gt;31&lt;/sup&gt;-1, or 2,147,483,647.  &lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; log = &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;log&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; x = &lt;span class=&quot;hljs-number&quot;&gt;9007199254740992&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; y = -x\n&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(x == x + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;// true !&lt;/span&gt;\n&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(y == y - &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;// also true !&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Arithmetic operators work, but bitwise/shifts only operate on int32:&lt;/span&gt;\n&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(x / &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;)      &lt;span class=&quot;hljs-comment&quot;&gt;// 4503599627370496&lt;/span&gt;\n&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(x &amp;gt;&amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)     &lt;span class=&quot;hljs-comment&quot;&gt;// 0&lt;/span&gt;\n&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(x | &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)      &lt;span class=&quot;hljs-comment&quot;&gt;// 1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif1&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;Technical note on the subject of the number 9,007,199,254,740,992: There is an exact IEEE-754 representation of this value, and you can assign and read this value from a variable, so for &lt;em&gt;very carefully&lt;/em&gt; chosen applications in the domain of integers less than or equal to this value, you could treat this as a maximum value.&lt;/p&gt;\n\n&lt;p&gt;In the general case, you must treat this IEEE-754 value as inexact, because it is ambiguous whether it is encoding the logical value 9,007,199,254,740,992 or  9,007,199,254,740,993. &lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;&amp;gt;= ES6:&lt;/strong&gt;&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;MIN_SAFE_INTEGER&lt;/span&gt;;\n&lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;MAX_SAFE_INTEGER&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;&amp;lt;= ES5&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;From &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_VALUE&quot; rel=&quot;noreferrer&quot;&gt;the reference&lt;/a&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;MAX_VALUE&lt;/span&gt;;\n&lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;MIN_VALUE&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;true&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&lt;div class=&quot;snippet-display&quot; style=&quot;vertical-align: center&quot;&gt;&lt;p&gt;&lt;a class=&quot;snippet-show-link-chevron&quot;&gt;&lt;span class=&quot;expander-arrow-hide&quot; style=&quot;vertical-align: middle;&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;a class=&quot;snippet-show-link&quot;&gt;&lt;span class=&quot;show-hide&quot; data-ishidden=&quot;true&quot; style=&quot;vertical-align: middle&quot;&gt;Show code snippet&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;\n&lt;div class=&quot;snippet-code snippet-currently-hidden&quot; style=&quot;display: none;&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;MIN_VALUE&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;MIN_VALUE&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;MAX_VALUE&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;MAX_VALUE&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;MIN_SAFE_INTEGER&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;MIN_SAFE_INTEGER&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;//ES6&lt;/span&gt;\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;MAX_SAFE_INTEGER&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;MAX_SAFE_INTEGER&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;//ES6&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif2&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;It is 2&lt;sup&gt;53&lt;/sup&gt; == 9 007 199 254 740 992. This is because &lt;code&gt;Number&lt;/code&gt;s are stored as floating-point in a 52-bit mantissa.&lt;/p&gt;\n\n&lt;p&gt;The min value is -2&lt;sup&gt;53&lt;/sup&gt;.&lt;/p&gt;\n\n&lt;p&gt;This makes some fun things happening&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Math&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;pow&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;53&lt;/span&gt;) == &lt;span class=&quot;hljs-title class_&quot;&gt;Math&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;pow&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;53&lt;/span&gt;) + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&amp;gt;&amp;gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And can also be dangerous :)&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-variable constant_&quot;&gt;MAX_INT&lt;/span&gt; = &lt;span class=&quot;hljs-title class_&quot;&gt;Math&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;pow&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;53&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// 9 007 199 254 740 992&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; i = &lt;span class=&quot;hljs-variable constant_&quot;&gt;MAX_INT&lt;/span&gt;; i &amp;lt; &lt;span class=&quot;hljs-variable constant_&quot;&gt;MAX_INT&lt;/span&gt; + &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;; ++i) {\n    &lt;span class=&quot;hljs-comment&quot;&gt;// infinite loop&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;sub&gt;Further reading: &lt;a href=&quot;http://blog.vjeux.com/2010/javascript/javascript-max_int-number-limits.html&quot; rel=&quot;noreferrer&quot;&gt;http://blog.vjeux.com/2010/javascript/javascript-max_int-number-limits.html&lt;/a&gt;&lt;/sub&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;In JavaScript, there is a number called &lt;code&gt;Infinity&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Examples:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Infinity&lt;/span&gt;&amp;gt;&lt;span class=&quot;hljs-number&quot;&gt;100&lt;/span&gt;)\n=&amp;gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// Also worth noting&lt;/span&gt;\n&lt;span class=&quot;hljs-title class_&quot;&gt;Infinity&lt;/span&gt; - &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; == &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;Infinity&lt;/span&gt;\n=&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;\n\n&lt;span class=&quot;hljs-title class_&quot;&gt;Math&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;pow&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;1024&lt;/span&gt;) === &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-params&quot;&gt;Infinity&lt;/span&gt;\n=&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This may be sufficient for some questions regarding this topic.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/a/307200/508537&quot;&gt;Jimmy&apos;s answer&lt;/a&gt; correctly represents the continuous JavaScript integer spectrum as &lt;strong&gt;-9007199254740992&lt;/strong&gt; to &lt;strong&gt;9007199254740992&lt;/strong&gt; inclusive (sorry 9007199254740993, you might think you are 9007199254740993, but you are wrong!\n &lt;em&gt;Demonstration below or in &lt;a href=&quot;http://jsfiddle.net/briguy37/LRY3u/&quot; rel=&quot;nofollow noreferrer&quot;&gt;jsfiddle&lt;/a&gt;&lt;/em&gt;). &lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;9007199254740993&lt;/span&gt;);&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif3&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;However, there is no answer that finds/proves this programatically (other than the one CoolAJ86 alluded to in &lt;a href=&quot;https://stackoverflow.com/a/7179733/508537&quot;&gt;his answer&lt;/a&gt; that would finish in 28.56 years ;), so here&apos;s a slightly more efficient way to do that (to be precise, it&apos;s more efficient by about 28.559999999968312 years :), along with a &lt;a href=&quot;http://jsfiddle.net/briguy37/P4twR/&quot; rel=&quot;nofollow noreferrer&quot;&gt;test fiddle&lt;/a&gt;:&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;/**\n * Checks if adding/subtracting one to/from a number yields the correct result.\n *\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; number The number to test\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@return&lt;/span&gt; true if you can add/subtract 1, false otherwise.\n */&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; canAddSubtractOneFromNumber = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;number&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; numMinusOne = number - &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; numPlusOne = number + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n    \n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; ((number - numMinusOne) === &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) &amp;amp;&amp;amp; ((number - numPlusOne) === -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;//Find the highest number&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; highestNumber = &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;//Start with an integer 1 or higher&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;//Get a number higher than the valid integer range&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;hljs-title function_&quot;&gt;canAddSubtractOneFromNumber&lt;/span&gt;(highestNumber)) {\n    highestNumber *= &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;//Find the lowest number you can&apos;t add/subtract 1 from&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; numToSubtract = highestNumber / &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;;\n&lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (numToSubtract &amp;gt;= &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (!&lt;span class=&quot;hljs-title function_&quot;&gt;canAddSubtractOneFromNumber&lt;/span&gt;(highestNumber - numToSubtract)) {\n        highestNumber = highestNumber - numToSubtract;\n    }\n    \n    numToSubtract /= &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;;\n}        \n\n&lt;span class=&quot;hljs-comment&quot;&gt;//And there was much rejoicing.  Yay.    &lt;/span&gt;\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;HighestNumber = &apos;&lt;/span&gt; + highestNumber);&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif4&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Many earlier answers have shown &lt;code&gt;9007199254740992 === 9007199254740992 + 1&lt;/code&gt; is &lt;strong&gt;true&lt;/strong&gt; to verify that &lt;em&gt;&lt;strong&gt;9,007,199,254,740,991&lt;/strong&gt;&lt;/em&gt; is the maximum and safe integer.&lt;/p&gt;\n&lt;p&gt;But what if we keep doing accumulation:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-attr&quot;&gt;input&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;9007199254740992&lt;/span&gt; + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-attr&quot;&gt;output&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;9007199254740992&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;// expected: 9007199254740993&lt;/span&gt;\n&lt;span class=&quot;hljs-attr&quot;&gt;input&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;9007199254740992&lt;/span&gt; + &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;hljs-attr&quot;&gt;output&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;9007199254740994&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;// expected: 9007199254740994&lt;/span&gt;\n&lt;span class=&quot;hljs-attr&quot;&gt;input&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;9007199254740992&lt;/span&gt; + &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;hljs-attr&quot;&gt;output&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;9007199254740996&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;// expected: 9007199254740995&lt;/span&gt;\n&lt;span class=&quot;hljs-attr&quot;&gt;input&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;9007199254740992&lt;/span&gt; + &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  &lt;span class=&quot;hljs-attr&quot;&gt;output&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;9007199254740996&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;// expected: 9007199254740996&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;We can see that among numbers greater than &lt;em&gt;&lt;strong&gt;9,007,199,254,740,992&lt;/strong&gt;&lt;/em&gt;, only even numbers are &lt;strong&gt;representable&lt;/strong&gt;.&lt;/p&gt;\n&lt;p&gt;It&apos;s an entry to explain how the &lt;strong&gt;double-precision 64-bit binary format&lt;/strong&gt; works. Let&apos;s see how &lt;em&gt;&lt;strong&gt;9,007,199,254,740,992&lt;/strong&gt;&lt;/em&gt; be held (represented) by using this binary format.&lt;/p&gt;\n&lt;p&gt;Using a brief version to demonstrate it from &lt;em&gt;&lt;strong&gt;4,503,599,627,370,496&lt;/strong&gt;&lt;/em&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; . &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt;  *  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;^&lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt;            =&amp;gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt;.  \n     |-- &lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt; bits --|    |exponent part|        |-- &lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt; bits --|\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;On the left side of the arrow, we have &lt;strong&gt;bit value 1&lt;/strong&gt;, and an adjacent &lt;strong&gt;radix point&lt;/strong&gt;. By consuming the exponent part on the left, the radix point is moved 52 steps to the right. The radix point ends up at the end, and we get 4503599627370496 in pure binary.&lt;/p&gt;\n&lt;p&gt;Now let&apos;s keep incrementing the fraction part with 1 until all the bits are set to 1, which equals &lt;em&gt;&lt;strong&gt;9,007,199,254,740,991&lt;/strong&gt;&lt;/em&gt; in decimal.&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; . &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt;  *  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;^&lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt;  =&amp;gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt;.  \n                       (+&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; . &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;0001&lt;/span&gt;  *  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;^&lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt;  =&amp;gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;0001&lt;/span&gt;.  \n                       (+&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; . &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;0010&lt;/span&gt;  *  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;^&lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt;  =&amp;gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;0010&lt;/span&gt;.  \n                       (+&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n                        . \n                        .\n                        .\n  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; . &lt;span class=&quot;hljs-number&quot;&gt;1111&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;1111&lt;/span&gt;  *  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;^&lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt;  =&amp;gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1111&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;1111.&lt;/span&gt; \n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Because the 64-bit double-precision format strictly allots 52 bits for the fraction part, no more bits are available if we add another 1, so what we can do is setting all bits back to 0, and manipulate the exponent part:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;   &lt;span class=&quot;hljs-title class_&quot;&gt;This&lt;/span&gt; bit is implicit and persistent.\n          \n  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; . &lt;span class=&quot;hljs-number&quot;&gt;1111&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;1111&lt;/span&gt;  *  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;^&lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt;      =&amp;gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1111&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;1111.&lt;/span&gt; \n     |-- &lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt; bits --|                     |-- &lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt; bits --|\n\n                          (+&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;)\n\n  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; . &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt;  *  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;^&lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt; * &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  =&amp;gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt;. * &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  \n     |-- &lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt; bits --|                     |-- &lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt; bits --|\n                                      &lt;span class=&quot;hljs-function&quot;&gt;(&lt;span class=&quot;hljs-params&quot;&gt;By consuming the &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;^&lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt;, radix\n                                       point has no way to go, but\n                                       there is still one &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; left &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt;\n                                       exponent part&lt;/span&gt;)\n  =&amp;gt;&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; . &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt;  *  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;^&lt;span class=&quot;hljs-number&quot;&gt;53&lt;/span&gt; \n         |-- &lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt; bits --| \n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Now we get the  &lt;em&gt;&lt;strong&gt;9,007,199,254,740,992&lt;/strong&gt;&lt;/em&gt;, and for the numbers greater than it, the format can only handle increments of 2 because every increment of 1 on the fraction part ends up being multiplied by the left 2 in the exponent part. That&apos;s why &lt;strong&gt;double-precision 64-bit binary format&lt;/strong&gt; cannot hold odd numbers when the number is greater than &lt;em&gt;&lt;strong&gt;9,007,199,254,740,992&lt;/strong&gt;&lt;/em&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;                            (consume &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;^&lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt; to move radix point to the end)\n  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; . &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;0001&lt;/span&gt;  *  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;^&lt;span class=&quot;hljs-number&quot;&gt;53&lt;/span&gt;  =&amp;gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;0001&lt;/span&gt;.  *  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\n     |-- &lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt; bits --|                 |-- &lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt; bits --|\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Following this pattern, when the number gets greater than 9,007,199,254,740,992 * 2 = 18,014,398,509,481,984 only 4 times the fraction can be held:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-attr&quot;&gt;input&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;18014398509481984&lt;/span&gt; + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;hljs-attr&quot;&gt;output&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;18014398509481984&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;// expected: 18014398509481985&lt;/span&gt;\n&lt;span class=&quot;hljs-attr&quot;&gt;input&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;18014398509481984&lt;/span&gt; + &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;hljs-attr&quot;&gt;output&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;18014398509481984&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;// expected: 18014398509481986&lt;/span&gt;\n&lt;span class=&quot;hljs-attr&quot;&gt;input&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;18014398509481984&lt;/span&gt; + &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;hljs-attr&quot;&gt;output&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;18014398509481984&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;// expected: 18014398509481987&lt;/span&gt;\n&lt;span class=&quot;hljs-attr&quot;&gt;input&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;18014398509481984&lt;/span&gt; + &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;  &lt;span class=&quot;hljs-attr&quot;&gt;output&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;18014398509481988&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;// expected: 18014398509481988&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;How about numbers between [ &lt;em&gt;&lt;strong&gt;2 251 799 813 685 248&lt;/strong&gt;&lt;/em&gt;, &lt;em&gt;&lt;strong&gt;4 503 599 627 370 496&lt;/strong&gt;&lt;/em&gt; )?&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; . &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;0001&lt;/span&gt;  *  &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;^&lt;span class=&quot;hljs-number&quot;&gt;51&lt;/span&gt;  =&amp;gt;  &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0000&lt;/span&gt; ---- &lt;span class=&quot;hljs-number&quot;&gt;000&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;.1&lt;/span&gt;\n     |-- &lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt; bits --|                |-- &lt;span class=&quot;hljs-number&quot;&gt;52&lt;/span&gt; bits  --|\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The value 0.1 in binary is exactly 2^-1 (=1/2) (=0.5)\nSo when the number is less than &lt;em&gt;&lt;strong&gt;4,503,599,627,370,496&lt;/strong&gt;&lt;/em&gt; (2^52), there is one bit available to represent the &lt;strong&gt;1/2 times of the integer&lt;/strong&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-attr&quot;&gt;input&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;4503599627370495.5&lt;/span&gt;   &lt;span class=&quot;hljs-attr&quot;&gt;output&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;4503599627370495.5&lt;/span&gt;  \n&lt;span class=&quot;hljs-attr&quot;&gt;input&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;4503599627370495.75&lt;/span&gt;  &lt;span class=&quot;hljs-attr&quot;&gt;output&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;4503599627370495.5&lt;/span&gt;  \n            \n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Less than &lt;em&gt;&lt;strong&gt;2,251,799,813,685,248&lt;/strong&gt;&lt;/em&gt; (2^51)&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-attr&quot;&gt;input&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2251799813685246.75&lt;/span&gt;   &lt;span class=&quot;hljs-attr&quot;&gt;output&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2251799813685246.8&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;// expected: 2251799813685246.75 &lt;/span&gt;\n&lt;span class=&quot;hljs-attr&quot;&gt;input&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2251799813685246.25&lt;/span&gt;   &lt;span class=&quot;hljs-attr&quot;&gt;output&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2251799813685246.2&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;// expected: 2251799813685246.25 &lt;/span&gt;\n&lt;span class=&quot;hljs-attr&quot;&gt;input&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2251799813685246.5&lt;/span&gt;    &lt;span class=&quot;hljs-attr&quot;&gt;output&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2251799813685246.5&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;/**\n   Please note that if you try this yourself and, say, log \n   these numbers to the console, they will get rounded. JavaScript\n   rounds if the number of digits exceed 17. The value \n   is internally held correctly:\n*/&lt;/span&gt;\n            \n&lt;span class=&quot;hljs-attr&quot;&gt;input&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2251799813685246.25&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;) \n&lt;span class=&quot;hljs-attr&quot;&gt;output&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;111111111111111111111111111111111111111111111111110.01&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-attr&quot;&gt;input&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2251799813685246.75&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;) \n&lt;span class=&quot;hljs-attr&quot;&gt;output&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;111111111111111111111111111111111111111111111111110.11&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-attr&quot;&gt;input&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;2251799813685246.78&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;)   \n&lt;span class=&quot;hljs-attr&quot;&gt;output&lt;/span&gt;: &lt;span class=&quot;hljs-string&quot;&gt;&quot;111111111111111111111111111111111111111111111111110.11&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;And what is the available range of &lt;strong&gt;exponent part&lt;/strong&gt;? 11 bits allotted for it by the format.&lt;/p&gt;\n&lt;p&gt;From &lt;a href=&quot;https://en.wikipedia.org/wiki/Double-precision_floating-point_format&quot; rel=&quot;nofollow noreferrer&quot;&gt;Wikipedia&lt;/a&gt; (for more details, go there)&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;https://commons.wikimedia.org/wiki/File:IEEE_754_Double_Floating_Point_Format.svg#/media/File:IEEE_754_Double_Floating_Point_Format.svg&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/IEEE_754_Double_Floating_Point_Format.svg/1200px-IEEE_754_Double_Floating_Point_Format.svg.png&quot; alt=&quot;IEEE 754 Double Floating Point Format.svg&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n&lt;p&gt;So to make the exponent part be 2^52, we exactly need to set e = 1075.&lt;/p&gt;\n    ","\n&lt;h1&gt;To be safe&lt;/h1&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;hljs-variable constant_&quot;&gt;MAX_INT&lt;/span&gt; = &lt;span class=&quot;hljs-number&quot;&gt;4294967295&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;Reasoning&lt;/h1&gt;\n\n&lt;p&gt;I thought I&apos;d be clever and find the value at which &lt;code&gt;x + 1 === x&lt;/code&gt; with a more pragmatic approach.&lt;/p&gt;\n\n&lt;p&gt;My machine can only count 10 million per second or so... so I&apos;ll post back with the definitive answer in 28.56 years.&lt;/p&gt;\n\n&lt;p&gt;If you can&apos;t wait that long, I&apos;m willing to bet that&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Most of your loops don&apos;t run for 28.56 years&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;9007199254740992 === Math.pow(2, 53) + 1&lt;/code&gt; is proof enough&lt;/li&gt;\n&lt;li&gt;You should stick to &lt;code&gt;4294967295&lt;/code&gt; which is &lt;code&gt;Math.pow(2,32) - 1&lt;/code&gt; as to avoid expected issues with bit-shifting&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Finding &lt;code&gt;x + 1 === x&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-string&quot;&gt;&quot;use strict&quot;&lt;/span&gt;;\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; x = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;\n    , start = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Date&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;valueOf&lt;/span&gt;()\n    ;\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (x + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; != x) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!(x % &lt;span class=&quot;hljs-number&quot;&gt;10000000&lt;/span&gt;)) {\n      &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(x);\n    }\n\n    x += &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n  }\n\n  &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(x, &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;Date&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;valueOf&lt;/span&gt;() - start);\n}());\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;The short answer is it depends.&lt;/p&gt;\n\n&lt;p&gt;If youre using bitwise operators anywhere (or if youre referring to the length of an Array), the ranges are:&lt;/p&gt;\n\n&lt;p&gt;Unsigned: &lt;code&gt;0(-1&amp;gt;&amp;gt;&amp;gt;0)&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;Signed: &lt;code&gt;(-(-1&amp;gt;&amp;gt;&amp;gt;1)-1)(-1&amp;gt;&amp;gt;&amp;gt;1)&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;(It so happens that the bitwise operators and the maximum length of an array are restricted to 32-bit integers.)&lt;/p&gt;\n\n&lt;p&gt;If youre not using bitwise operators or working with array lengths:&lt;/p&gt;\n\n&lt;p&gt;Signed: &lt;code&gt;(-Math.pow(2,53))(+Math.pow(2,53))&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;These limitations are imposed by the internal representation of the Number type, which generally corresponds to IEEE 754 double-precision floating-point representation. (Note that unlike typical signed integers, the magnitude of the negative limit is the same as the magnitude of the positive limit, due to characteristics of the internal representation, which actually includes a &lt;em&gt;negative&lt;/em&gt; 0!)&lt;/p&gt;\n    ","\n&lt;p&gt;ECMAScript 6:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;MAX_SAFE_INTEGER&lt;/span&gt; = &lt;span class=&quot;hljs-title class_&quot;&gt;Math&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;pow&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;53&lt;/span&gt;)-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;;\n&lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;MIN_SAFE_INTEGER&lt;/span&gt; = -&lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;MAX_SAFE_INTEGER&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Other may have already given the generic answer, but I thought it would be a good idea to give a fast way of determining it :&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; x = &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;; x + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; !== x; x *= &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(x);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Which gives me 9007199254740992 within less than a millisecond in Chrome 30.&lt;/p&gt;\n\n&lt;p&gt;It will test powers of 2 to find which one, when &apos;added&apos; 1, equals himself.&lt;/p&gt;\n    ","\n&lt;p&gt;Anything you want to use for bitwise operations must be between 0x80000000 (-2147483648 or -2^31) and 0x7fffffff (2147483647 or 2^31 - 1).&lt;/p&gt;\n\n&lt;p&gt;The console will tell you that 0x80000000 equals +2147483648, but 0x80000000 &amp;amp; 0x80000000 equals -2147483648.&lt;/p&gt;\n    ","\n&lt;p&gt;JavaScript has received a new data type in ECMAScript 2020: &lt;code&gt;BigInt&lt;/code&gt;. It introduced numerical literals having an &quot;n&quot; suffix and allows for arbitrary precision:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; a = &lt;span class=&quot;hljs-number&quot;&gt;123456789012345678901012345678901n&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Precision will still be lost, of course, when such big integer is (maybe unintentionally) coerced to a number data type.&lt;/p&gt;\n&lt;p&gt;And, obviously, there will always be precision limitations due to finite memory, and a cost in terms of time in order to allocate the necessary memory and to perform arithmetic on such large numbers.&lt;/p&gt;\n&lt;p&gt;For instance, the generation of a number with a hundred thousand decimal digits, will take a noticeable delay before completion:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;BigInt&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;1&quot;&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;padEnd&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;100000&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;0&quot;&lt;/span&gt;)) + &lt;span class=&quot;hljs-number&quot;&gt;1n&lt;/span&gt;)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;...but it works.&lt;/p&gt;\n    ","\n&lt;p&gt;Try:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;maxInt = -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &amp;gt;&amp;gt;&amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;In Firefox 3.6 it&apos;s 2^31 - 1.&lt;/p&gt;\n    ","\n&lt;p&gt;I did a simple test with a formula, X-(X+1)=-1, and the largest value of X I can get to work on Safari, Opera and Firefox (tested on OS&amp;nbsp;X) is 9e15. Here is the code I used for testing:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-attr&quot;&gt;javascript&lt;/span&gt;: &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;9e15&lt;/span&gt;-(&lt;span class=&quot;hljs-number&quot;&gt;9e15&lt;/span&gt;+&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;));\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I write it like this:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; max_int = &lt;span class=&quot;hljs-number&quot;&gt;0x20000000000000&lt;/span&gt;;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; min_int = -&lt;span class=&quot;hljs-number&quot;&gt;0x20000000000000&lt;/span&gt;;\n(max_int + &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) === &lt;span class=&quot;hljs-number&quot;&gt;0x20000000000000&lt;/span&gt;;  &lt;span class=&quot;hljs-comment&quot;&gt;//true&lt;/span&gt;\n(max_int - &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;) &amp;lt; &lt;span class=&quot;hljs-number&quot;&gt;0x20000000000000&lt;/span&gt;;    &lt;span class=&quot;hljs-comment&quot;&gt;//true&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Same for int32&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; max_int32 =  &lt;span class=&quot;hljs-number&quot;&gt;0x80000000&lt;/span&gt;;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; min_int32 = -&lt;span class=&quot;hljs-number&quot;&gt;0x80000000&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;h1&gt;Let&apos;s get to the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER&quot; rel=&quot;nofollow noreferrer&quot;&gt;sources&lt;/a&gt;&lt;/h1&gt;\n&lt;h2&gt;Description&lt;/h2&gt;\n&lt;blockquote&gt;\n&lt;p&gt;The &lt;code&gt;MAX_SAFE_INTEGER&lt;/code&gt; constant has a value of &lt;code&gt;9007199254740991&lt;/code&gt; (9,007,199,254,740,991 or ~9 quadrillion). The reasoning behind that number is that JavaScript uses &lt;a href=&quot;https://en.wikipedia.org/wiki/Double-precision_floating-point_format&quot; rel=&quot;nofollow noreferrer&quot;&gt;double-precision floating-point format numbers&lt;/a&gt; as specified in &lt;a href=&quot;https://en.wikipedia.org/wiki/IEEE_754&quot; rel=&quot;nofollow noreferrer&quot;&gt;IEEE 754&lt;/a&gt; and can only safely represent numbers between &lt;code&gt;-(2^53 - 1)&lt;/code&gt; and &lt;code&gt;2^53 - 1&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;Safe in this context refers to the ability to represent integers exactly and to correctly compare them. For example, &lt;code&gt;Number.MAX_SAFE_INTEGER + 1 === Number.MAX_SAFE_INTEGER + 2&lt;/code&gt; will evaluate to true, which is mathematically incorrect. See &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isSafeInteger&quot; rel=&quot;nofollow noreferrer&quot;&gt;Number.isSafeInteger()&lt;/a&gt; for more information.&lt;/p&gt;\n&lt;p&gt;Because &lt;code&gt;MAX_SAFE_INTEGER&lt;/code&gt; is a static property of &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number&quot; rel=&quot;nofollow noreferrer&quot;&gt;Number&lt;/a&gt;, you always use it as &lt;code&gt;Number.MAX_SAFE_INTEGER&lt;/code&gt;, rather than as a property of a &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number&quot; rel=&quot;nofollow noreferrer&quot;&gt;Number&lt;/a&gt; object you created.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;h2&gt;Browser compatibility&lt;/h2&gt;\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/jmCpa.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/jmCpa.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;In JavaScript the representation of numbers is &lt;code&gt;2^53 - 1&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;However&lt;/strong&gt;, &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;code&gt;Bitwise operation&lt;/code&gt; are calculated on &lt;code&gt;32 bits ( 4 bytes )&lt;/code&gt;, meaning if you exceed 32bits shifts you will start loosing bits.&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;In the Google Chrome built-in javascript, you can go to approximately 2^1024 before the number is called infinity.&lt;/p&gt;\n    ","\n&lt;p&gt;Scato wrotes:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;anything you want to use for bitwise operations must be between\n  0x80000000 (-2147483648 or -2^31) and 0x7fffffff (2147483647 or 2^31 -\n  1).&lt;/p&gt;\n  \n  &lt;p&gt;the console will tell you that 0x80000000 equals +2147483648, but\n  0x80000000 &amp;amp; 0x80000000 equals -2147483648&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Hex-Decimals are unsigned positive values, so 0x80000000 = 2147483648 - thats mathematically correct. If you want to make it a signed value you have to right shift: 0x80000000 &amp;gt;&amp;gt; 0 = -2147483648. You can write 1 &amp;lt;&amp;lt; 31 instead, too.&lt;/p&gt;\n    ","\n&lt;p&gt;Firefox 3 doesn&apos;t seem to have a problem with huge numbers. &lt;/p&gt;\n\n&lt;p&gt;1e+200 * 1e+100 will calculate fine to 1e+300.&lt;/p&gt;\n\n&lt;p&gt;Safari seem to have no problem with it as well. (For the record, this is on a Mac if anyone else decides to test this.)&lt;/p&gt;\n\n&lt;p&gt;Unless I lost my brain at this time of day, this is way bigger than a 64-bit integer.&lt;/p&gt;\n    ","\n&lt;p&gt;Node.js and Google Chrome seem to both be using 1024 bit floating point values so:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;Number&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;MAX_VALUE&lt;/span&gt; = &lt;span class=&quot;hljs-number&quot;&gt;1.7976931348623157e+308&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    "],"320":["\n&lt;p&gt;DOM event delegation is a mechanism of responding to ui-events via a single common parent rather than each child, through the magic of event &quot;bubbling&quot; (aka event propagation).&lt;/p&gt;\n\n&lt;p&gt;When an event is triggered on an element, &lt;a href=&quot;http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-flow-bubbling&quot; rel=&quot;noreferrer&quot;&gt;the following occurs&lt;/a&gt;:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;The event is dispatched to its target\n  &lt;code&gt;EventTarget&lt;/code&gt; and any event listeners\n  found there are triggered. &lt;em&gt;Bubbling&lt;/em&gt;\n  events will then trigger any\n  additional event listeners found by\n  following the &lt;code&gt;EventTarget&lt;/code&gt;&apos;s parent\n  chain &lt;em&gt;upward&lt;/em&gt;, checking for any event\n  listeners registered on each\n  successive EventTarget. This upward\n  propagation will continue up to and\n  including the &lt;code&gt;Document&lt;/code&gt;.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Event bubbling provides the foundation for event delegation in browsers. Now you can bind an event handler to a single parent element, and that handler will get executed whenever the event occurs &lt;em&gt;on any of its child nodes&lt;/em&gt; (and any of their children in turn). &lt;strong&gt;This is event delegation.&lt;/strong&gt; Here&apos;s an example of it in practice:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;ul onclick=&lt;span class=&quot;hljs-string&quot;&gt;&quot;alert(event.type + &apos;!&apos;)&quot;&lt;/span&gt;&amp;gt;\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;One&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;Two&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;Three&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&amp;lt;/ul&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;With that example if you were to click on any of the child &lt;code&gt;&amp;lt;li&amp;gt;&lt;/code&gt; nodes, you would see an alert of &lt;code&gt;&quot;click!&quot;&lt;/code&gt;, even though there is no click handler bound to the &lt;code&gt;&amp;lt;li&amp;gt;&lt;/code&gt; you clicked on. If we bound &lt;code&gt;onclick=&quot;...&quot;&lt;/code&gt; to each &lt;code&gt;&amp;lt;li&amp;gt;&lt;/code&gt; you would get the same effect.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;So what&apos;s the benefit?&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Imagine you now have a need to dynamically add new &lt;code&gt;&amp;lt;li&amp;gt;&lt;/code&gt; items to the above list via DOM manipulation:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; newLi = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;createElement&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;li&apos;&lt;/span&gt;);\nnewLi.&lt;span class=&quot;hljs-property&quot;&gt;innerHTML&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;Four&apos;&lt;/span&gt;;\nmyUL.&lt;span class=&quot;hljs-title function_&quot;&gt;appendChild&lt;/span&gt;(newLi);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;em&gt;Without&lt;/em&gt; using event delegation you would have to &quot;rebind&quot; the &lt;code&gt;&quot;onclick&quot;&lt;/code&gt; event handler to the new &lt;code&gt;&amp;lt;li&amp;gt;&lt;/code&gt; element, in order for it to act the same way as its siblings. &lt;em&gt;With&lt;/em&gt; event delegation you don&apos;t need to do anything. Just add the new &lt;code&gt;&amp;lt;li&amp;gt;&lt;/code&gt; to the list and you&apos;re done.&lt;/p&gt;\n\n&lt;p&gt;This is absolutely fantastic for web apps with event handlers bound to many elements, where new elements are dynamically created and/or removed in the DOM. With event delegation the number of event bindings can be drastically decreased by moving them to a common parent element, and code that dynamically creates new elements on the fly can be decoupled from the logic of binding their event handlers.&lt;/p&gt;\n\n&lt;p&gt;Another benefit to event delegation is that the total memory footprint used by event listeners goes down (since the number of event bindings go down). It may not make much of a difference to small pages that unload often (i.e. user&apos;s navigate to different pages often). But for long-lived applications it can be significant. There are some really difficult-to-track-down situations when elements removed from the DOM still claim memory (i.e. they leak), and often this leaked memory is tied to an event binding. With event delegation you&apos;re free to destroy child elements without risk of forgetting to &quot;unbind&quot; their event listeners (since the listener is on the ancestor). These types of memory leaks can then be contained (if not eliminated, which is freaking hard to do sometimes. IE I&apos;m looking at you).&lt;/p&gt;\n\n&lt;p&gt;Here are some better concrete code examples of event delegation:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;http://davidwalsh.name/event-delegate&quot; rel=&quot;noreferrer&quot;&gt;How JavaScript Event Delegation Works&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://web.archive.org/web/20090415060836/http://icant.co.uk/sandbox/eventdelegation/&quot; rel=&quot;noreferrer&quot;&gt;Event Delegation versus Event Handling&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://api.jquery.com/delegate/&quot; rel=&quot;noreferrer&quot;&gt;jQuery.delegate&lt;/a&gt; is event delegation + selector specification&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://api.jquery.com/on/#direct-and-delegated-events&quot; rel=&quot;noreferrer&quot;&gt;jQuery.on&lt;/a&gt; uses event delegation when passed a selector as the 2nd parameter&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://web.archive.org/web/20090420170842/http://usabletype.com/weblog/event-delegation-without-javascript-library/&quot; rel=&quot;noreferrer&quot; title=&quot;http://usabletype.com/weblog/event-delegation-without-javascript-library/&quot;&gt;Event delegation without a JavaScript library&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://lists.evolt.org/archive/Week-of-Mon-20090209/127339.html&quot; rel=&quot;noreferrer&quot;&gt;Closures vs Event delegation&lt;/a&gt;: takes a look at the pros of &lt;em&gt;not&lt;/em&gt; converting code to use event delegation&lt;/li&gt;\n&lt;li&gt;Interesting approach PPK uncovered for &lt;a href=&quot;http://www.quirksmode.org/blog/archives/2008/04/delegating_the.html&quot; rel=&quot;noreferrer&quot;&gt;delegating the &lt;code&gt;focus&lt;/code&gt; and &lt;code&gt;blur&lt;/code&gt; events&lt;/a&gt; (which do &lt;em&gt;not&lt;/em&gt; bubble)&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;Event delegation allows you to avoid adding event listeners to specific nodes;  instead, the event listener is added to one parent.  That event listener analyzes bubbled events to find a match on child elements.&lt;/p&gt;\n&lt;p&gt;JavaScript Example :&lt;/p&gt;\n&lt;p&gt;Let&apos;s say that we have a parent UL element with several child elements:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;ul id=&lt;span class=&quot;hljs-string&quot;&gt;&quot;parent-list&quot;&lt;/span&gt;&amp;gt;\n  &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;post-1&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Item 1&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n  &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;post-2&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Item 2&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n  &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;post-3&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Item 3&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n  &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;post-4&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Item 4&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n  &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;post-5&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Item 5&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n  &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;post-6&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Item 6&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&amp;lt;/ul&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Let&apos;s also say that something needs to happen when each child element is clicked.  You could add a separate event listener to each individual LI element, but what if LI elements are frequently added and removed from the list?  Adding and removing event listeners would be a nightmare, especially if addition and removal code is in different places within your app.  The better solution is to add an event listener to the parent UL element.  But if you add the event listener to the parent, how will you know which element was clicked?&lt;/p&gt;\n&lt;p&gt;Simple:  when the event bubbles up to the UL element, you check the event object&apos;s target property to gain a reference to the actual clicked node.  Here&apos;s a very basic JavaScript snippet which illustrates event delegation:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// Get the element, add a click listener...&lt;/span&gt;\n&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;parent-list&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;click&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;e&lt;/span&gt;) {\n  &lt;span class=&quot;hljs-comment&quot;&gt;// e.target is the clicked element!&lt;/span&gt;\n  &lt;span class=&quot;hljs-comment&quot;&gt;// If it was a list item&lt;/span&gt;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(e.&lt;span class=&quot;hljs-property&quot;&gt;target&lt;/span&gt; &amp;amp;&amp;amp; e.&lt;span class=&quot;hljs-property&quot;&gt;target&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;nodeName&lt;/span&gt; == &lt;span class=&quot;hljs-string&quot;&gt;&quot;LI&quot;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-comment&quot;&gt;// List item found!  Output the ID!&lt;/span&gt;\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;List item &quot;&lt;/span&gt;, e.&lt;span class=&quot;hljs-property&quot;&gt;target&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;replace&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;post-&quot;&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&quot; was clicked!&quot;&lt;/span&gt;);\n   }\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Start by adding a click event listener to the parent element.  When the event listener is triggered, check the event element to ensure it&apos;s the type of element to react to.  If it is an LI element, boom:  we have what we need!  If it&apos;s not an element that we want, the event can be ignored.  This example is pretty simple -- UL and LI is a straight-forward comparison.  Let&apos;s try something more difficult.  Let&apos;s have a parent DIV with many children but all we care about is an A tag with the classA CSS class:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// Get the parent DIV, add click listener...&lt;/span&gt;\n&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;myDiv&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;click&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;e&lt;/span&gt;) {\n&lt;span class=&quot;hljs-comment&quot;&gt;// e.target was the clicked element&lt;/span&gt;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(e.&lt;span class=&quot;hljs-property&quot;&gt;target&lt;/span&gt; &amp;amp;&amp;amp; e.&lt;span class=&quot;hljs-property&quot;&gt;target&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;nodeName&lt;/span&gt; == &lt;span class=&quot;hljs-string&quot;&gt;&quot;A&quot;&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Get the CSS classes&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; classes = e.&lt;span class=&quot;hljs-property&quot;&gt;target&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;className&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;split&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot; &quot;&lt;/span&gt;);\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Search for the CSS class!&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(classes) {\n        &lt;span class=&quot;hljs-comment&quot;&gt;// For every CSS class the element has...&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; x = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; x &amp;lt; classes.&lt;span class=&quot;hljs-property&quot;&gt;length&lt;/span&gt;; x++) {\n            &lt;span class=&quot;hljs-comment&quot;&gt;// If it has the CSS class we want...&lt;/span&gt;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(classes[x] == &lt;span class=&quot;hljs-string&quot;&gt;&quot;classA&quot;&lt;/span&gt;) {\n                &lt;span class=&quot;hljs-comment&quot;&gt;// Bingo!&lt;/span&gt;\n                &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Anchor element clicked!&quot;&lt;/span&gt;);\n                &lt;span class=&quot;hljs-comment&quot;&gt;// Now do something here....&lt;/span&gt;\n            }\n        }\n    }\n  }\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;a href=&quot;http://davidwalsh.name/event-delegate&quot; rel=&quot;noreferrer&quot;&gt;http://davidwalsh.name/event-delegate&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;dom event delegation&lt;/strong&gt; is something different from the computer science definition.&lt;/p&gt;\n\n&lt;p&gt;It refers to handling bubbling events from many elements, like table cells, from a parent object, like the table. It can keep the code simpler, especially when adding or removing elements, and saves some memory.&lt;/p&gt;\n    ","\n&lt;p&gt;Event delegation is handling an event that &lt;em&gt;bubbles&lt;/em&gt; using an event handler on a container element, but only activating the event handler&apos;s behavior if the event happened on an element within the container that matches a given condition. This can simplify handling events on elements within the container.&lt;/p&gt;\n\n&lt;p&gt;For instance, suppose you want to handle a click on any table cell in a big table. You &lt;em&gt;could&lt;/em&gt; write a loop to hook up a click handler to each cell...or you could hook up a click handler on the table and use event delegation to trigger it only for table cells (and not table headers, or the whitespace within a row around cells, etc.).&lt;/p&gt;\n\n&lt;p&gt;It&apos;s also useful when you&apos;re going to be adding and removing elements from the container, because you don&apos;t have to worry about adding and removing event handlers on those elements; just hook the event on the container and handle the event when it bubbles.&lt;/p&gt;\n\n&lt;p&gt;Here&apos;s a simple example (it&apos;s intentionally verbose to allow for inline explanation): Handling a click on any &lt;code&gt;td&lt;/code&gt; element in a container table:&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// Handle the event on the container&lt;/span&gt;\n&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;container&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;click&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;event&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Find out if the event targeted or bubbled through a `td` en route to this container element&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; element = event.&lt;span class=&quot;hljs-property&quot;&gt;target&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; target;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (element &amp;amp;&amp;amp; !target) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (element.&lt;span class=&quot;hljs-title function_&quot;&gt;matches&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;td&quot;&lt;/span&gt;)) {\n            &lt;span class=&quot;hljs-comment&quot;&gt;// Found a `td` within the container!&lt;/span&gt;\n            target = element;\n        } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n            &lt;span class=&quot;hljs-comment&quot;&gt;// Not found&lt;/span&gt;\n            &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (element === &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;) {\n                &lt;span class=&quot;hljs-comment&quot;&gt;// We&apos;ve reached the container, stop&lt;/span&gt;\n                element = &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;;\n            } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n                &lt;span class=&quot;hljs-comment&quot;&gt;// Go to the next parent in the ancestry&lt;/span&gt;\n                element = element.&lt;span class=&quot;hljs-property&quot;&gt;parentNode&lt;/span&gt;;\n            }\n        }\n    }\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (target) {\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;You clicked a td: &quot;&lt;/span&gt; + target.&lt;span class=&quot;hljs-property&quot;&gt;textContent&lt;/span&gt;);\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;That wasn&apos;t a td in the container table&quot;&lt;/span&gt;);\n    }\n});&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;table&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;border-collapse&lt;/span&gt;: collapse;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid &lt;span class=&quot;hljs-number&quot;&gt;#ddd&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;th&lt;/span&gt;, &lt;span class=&quot;hljs-selector-tag&quot;&gt;td&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;4px&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid &lt;span class=&quot;hljs-number&quot;&gt;#ddd&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;font-weight&lt;/span&gt;: normal;\n}\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;th&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.rowheader&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;text-align&lt;/span&gt;: left;\n}\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;td&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;cursor&lt;/span&gt;: pointer;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;container&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;thead&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;Language&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;1&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;2&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;3&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;thead&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tbody&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;rowheader&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;English&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;one&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;two&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;three&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;rowheader&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Español&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;uno&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;dos&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;tres&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;rowheader&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Italiano&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;uno&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;due&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;tre&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tbody&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;table&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif1&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;Before going into the details of that, let&apos;s remind ourselves how DOM events work.&lt;/p&gt;\n\n&lt;p&gt;DOM events are dispatched from the document to the target element (the &lt;em&gt;capturing&lt;/em&gt; phase), and then bubble from the target element back to the document (the &lt;em&gt;bubbling&lt;/em&gt; phase). This graphic in the old &lt;a href=&quot;https://www.w3.org/TR/DOM-Level-3-Events/#event-flow&quot; rel=&quot;noreferrer&quot;&gt;DOM3 events spec&lt;/a&gt; (now superceded, but the graphic&apos;s still valid) shows it really well:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/Y3dk9.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/Y3dk9.png&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Not all events bubble, but most do, including &lt;code&gt;click&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;The comments in the code example above describe how it works. &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Element/matches&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;matches&lt;/code&gt;&lt;/a&gt; checks to see if an element matches a CSS selector, but of course you can check for whether something matches your criteria in other ways if you don&apos;t want to use a CSS selector.&lt;/p&gt;\n\n&lt;p&gt;That code is written to call out the individual steps verbosely, but on vaguely-modern browsers (and also on IE if you use a polyfill), you can use &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Element/closest&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;closest&lt;/code&gt;&lt;/a&gt; and &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Node/contains&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;contains&lt;/code&gt;&lt;/a&gt; instead of the loop:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; target = event.&lt;span class=&quot;hljs-property&quot;&gt;target&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;closest&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;td&quot;&lt;/span&gt;);\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;You clicked a td: &quot;&lt;/span&gt; + target.&lt;span class=&quot;hljs-property&quot;&gt;textContent&lt;/span&gt;);\n} &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n    &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;That wasn&apos;t a td in the container table&quot;&lt;/span&gt;);\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Live Example:&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;true&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&lt;div class=&quot;snippet-display&quot; style=&quot;vertical-align: center&quot;&gt;&lt;p&gt;&lt;a class=&quot;snippet-show-link-chevron&quot;&gt;&lt;span class=&quot;expander-arrow-hide&quot; style=&quot;vertical-align: middle;&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;a class=&quot;snippet-show-link&quot;&gt;&lt;span class=&quot;show-hide&quot; data-ishidden=&quot;true&quot; style=&quot;vertical-align: middle&quot;&gt;Show code snippet&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;\n&lt;div class=&quot;snippet-code snippet-currently-hidden&quot; style=&quot;display: none;&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// Handle the event on the container&lt;/span&gt;\n&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;container&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;click&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;event&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; target = event.&lt;span class=&quot;hljs-property&quot;&gt;target&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;closest&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;td&quot;&lt;/span&gt;);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (target &amp;amp;&amp;amp; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(target)) {\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;You clicked a td: &quot;&lt;/span&gt; + target.&lt;span class=&quot;hljs-property&quot;&gt;textContent&lt;/span&gt;);\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;That wasn&apos;t a td in the container table&quot;&lt;/span&gt;);\n    }\n});&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;table&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;border-collapse&lt;/span&gt;: collapse;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid &lt;span class=&quot;hljs-number&quot;&gt;#ddd&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;th&lt;/span&gt;, &lt;span class=&quot;hljs-selector-tag&quot;&gt;td&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;4px&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid &lt;span class=&quot;hljs-number&quot;&gt;#ddd&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;font-weight&lt;/span&gt;: normal;\n}\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;th&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.rowheader&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;text-align&lt;/span&gt;: left;\n}\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;td&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;cursor&lt;/span&gt;: pointer;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;container&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;thead&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;Language&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;1&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;2&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;3&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;thead&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tbody&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;rowheader&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;English&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;one&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;two&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;three&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;rowheader&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Español&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;uno&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;dos&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;tres&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;rowheader&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Italiano&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;uno&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;due&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;tre&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tbody&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;table&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif2&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;closest&lt;/code&gt; checks the element you call it on to see if it matches the given CSS selector and, if it does, returns that same element; if not, it checks the parent element to see if it matches, and returns the parent if so; if not, it checks the parent&apos;s parent, etc. So it finds the &quot;closest&quot; element in the ancestor list that matches the selector. Since that might go past the container element, the code above uses &lt;code&gt;contains&lt;/code&gt; to check that if a matching element was found, it&apos;s within the container&amp;nbsp; since by hooking the event on the container, you&apos;ve indicated you only want to handle elements &lt;em&gt;within&lt;/em&gt; that container.&lt;/p&gt;\n\n&lt;p&gt;Going back to our table example, that means that if you have a table within a table cell, it won&apos;t match the table cell containing the table:&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;true&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;&lt;div class=&quot;snippet-display&quot; style=&quot;vertical-align: center&quot;&gt;&lt;p&gt;&lt;a class=&quot;snippet-show-link-chevron&quot;&gt;&lt;span class=&quot;expander-arrow-hide&quot; style=&quot;vertical-align: middle;&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;a class=&quot;snippet-show-link&quot;&gt;&lt;span class=&quot;show-hide&quot; data-ishidden=&quot;true&quot; style=&quot;vertical-align: middle&quot;&gt;Show code snippet&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;\n&lt;div class=&quot;snippet-code snippet-currently-hidden&quot; style=&quot;display: none;&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// Handle the event on the container&lt;/span&gt;\n&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;container&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;addEventListener&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;click&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;event&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; target = event.&lt;span class=&quot;hljs-property&quot;&gt;target&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;closest&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;td&quot;&lt;/span&gt;);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (target &amp;amp;&amp;amp; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(target)) {\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;You clicked a td: &quot;&lt;/span&gt; + target.&lt;span class=&quot;hljs-property&quot;&gt;textContent&lt;/span&gt;);\n    } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;That wasn&apos;t a td in the container table&quot;&lt;/span&gt;);\n    }\n});&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;table&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;border-collapse&lt;/span&gt;: collapse;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid &lt;span class=&quot;hljs-number&quot;&gt;#ddd&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;th&lt;/span&gt;, &lt;span class=&quot;hljs-selector-tag&quot;&gt;td&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;padding&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;4px&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;border&lt;/span&gt;: &lt;span class=&quot;hljs-number&quot;&gt;1px&lt;/span&gt; solid &lt;span class=&quot;hljs-number&quot;&gt;#ddd&lt;/span&gt;;\n    &lt;span class=&quot;hljs-attribute&quot;&gt;font-weight&lt;/span&gt;: normal;\n}\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;th&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.rowheader&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;text-align&lt;/span&gt;: left;\n}\n&lt;span class=&quot;hljs-selector-tag&quot;&gt;td&lt;/span&gt; {\n    &lt;span class=&quot;hljs-attribute&quot;&gt;cursor&lt;/span&gt;: pointer;\n}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- The table wrapped around the #container table --&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;table&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tbody&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- This cell doesn&apos;t get matched, thanks to the `this.contains(target)` check --&amp;gt;&lt;/span&gt;\n                &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;container&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;thead&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;Language&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;1&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;2&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;3&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;thead&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tbody&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;rowheader&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;English&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;one&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;two&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;three&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;rowheader&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Español&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;uno&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;dos&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;tres&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;rowheader&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Italiano&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;th&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;uno&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;due&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;tre&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tbody&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;table&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                This is next to the container table\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;td&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tr&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;tbody&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;table&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif3&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;a href=&quot;http://best-practice-software-engineering.ifs.tuwien.ac.at/patterns/delegation.html&quot; rel=&quot;noreferrer&quot;&gt;Delegation&lt;/a&gt; is a technique where an object expresses certain behavior to the outside but in reality delegates responsibility for implementing that behaviour to an associated object. This sounds at first very similar to the proxy pattern, but it serves a much different purpose. Delegation is an abstraction mechanism which centralizes object (method) behavior.&lt;/p&gt;\n\n&lt;p&gt;Generally spoken: use delegation as alternative to inheritance. Inheritance is a good strategy, when a close relationship exist in between parent and child object, however, inheritance couples objects very closely. Often, delegation is the more flexible way to express a relationship between classes.&lt;/p&gt;\n\n&lt;p&gt;This pattern is also known as &quot;proxy chains&quot;. Several other design patterns use delegation - the State, Strategy and Visitor Patterns depend on it.&lt;/p&gt;\n    ","\n&lt;h3&gt;The delegation concept&lt;/h3&gt;\n&lt;p&gt;If there are many elements inside one parent, and you want to handle events on them of them - dont bind handlers to each element.\nInstead, bind the single handler to their parent, and get the child from event.target.\nThis site provides useful info about how to implement event delegation.\n&lt;a href=&quot;http://javascript.info/tutorial/event-delegation&quot; rel=&quot;noreferrer&quot;&gt;http://javascript.info/tutorial/event-delegation&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;To understand event delegation first we need to know why and when we actually need or want event delegation.&lt;/p&gt;\n\n&lt;p&gt;There may be many cases but let&apos;s discuss two big use cases for event delegation.\n1. The first case is when we have an element with lots of child elements that we are interested in. In this case, instead of adding an event handler to all of these child elements, we simply add it to the parent element and then determine on which child element the event was fired. &lt;/p&gt;\n\n&lt;p&gt;2.The second use case for event delegation is when we want an event handler attached to an element that is not yet in the DOM when our page is loaded. That&apos;s, of course, because we cannot add an event handler to something that&apos;s not on our page, so in a case of deprecation that we&apos;re coding.&lt;/p&gt;\n\n&lt;p&gt;Suppose you have a list of 0, 10, or 100 items in the DOM when you load your page, and more items are waiting in your hand to add in the list. So there is no way to attach an event handler for the future elements or those elements are not added in the DOM yet, and also there may be a lot of items, so it wouldn&apos;t be useful to have one event handler attached to each of them.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Event Delegation&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;All right, so in order to talk about event delegation, the first concept that we actually need to talk about is event bubbling.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Event bubbling:&lt;/strong&gt;\nEvent bubbling means that when an event is fired or triggered on some DOM element, for example by clicking on our button here on the bellow image, then the exact same event is also triggered on all of the parent elements.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/pcbPG.jpg&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/pcbPG.jpg&quot; alt=&quot;enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;The event is first fired on the button, but then it will also be fired on all the parent elements one at a time, so it will also fire on the paragraph to the  section the main element and actually all the way up in a DOM tree until the HTML element which is the root. So we say that the event bubbles up inside the DOM tree, and that&apos;s why it&apos;s called bubbling.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/sCEZA.jpg&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/sCEZA.jpg&quot; alt=&quot;1&quot;&gt;&lt;/a&gt;\n&lt;a href=&quot;https://i.stack.imgur.com/VNtwk.jpg&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/VNtwk.jpg&quot; alt=&quot;2&quot;&gt;&lt;/a&gt;\n&lt;a href=&quot;https://i.stack.imgur.com/0ONWn.jpg&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/0ONWn.jpg&quot; alt=&quot;3&quot;&gt;&lt;/a&gt;\n&lt;a href=&quot;https://i.stack.imgur.com/QX0Iy.jpg&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/QX0Iy.jpg&quot; alt=&quot;4&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Target element:&lt;/strong&gt; The element on which the event was actually first fired called the target element, so the element that caused the event to happen, is called the target element. In our above example here it&apos;s, of course, the button that was clicked. The important part is that this target element is stored as a property in the event object, This means that all the parent elements on which the event will also fire will know the target element of the event, so where the event was first fired.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;That brings us to event delegation&lt;/strong&gt; because if the event bubbles up in the DOM tree, and if we know where the event was fired then we can simply attach an event handler to a parent element and wait for the event to bubble up, and we can then do whatever we intended to do with our target element. This technique is called event delegation. In this example here, we could simply add the event handler\nto the main element.&lt;/p&gt;\n\n&lt;p&gt;All right, so again, event delegation is to not set up the event handler on the original element that we&apos;re interested in but to attach it to a parent element and, basically, catch the event there because it bubbles up. We can then act on the element that we&apos;re interested in using the target element property.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Example:&lt;/strong&gt;\nNow lets assume we have two list item in our page, after adding items in those list programmtically we want to delete one or more items from them. Using event delegation tecnique we can achive our ppurpose easily.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;div &lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;body&quot;&lt;/span&gt;&amp;gt;\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;top&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n    &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;bottom&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;other&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- other bottom elements --&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;container clearfix&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;income&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h2&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;icome__title&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Income&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;h2&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;income__list&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                    &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- list items --&amp;gt;&lt;/span&gt;\n                &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;expenses&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;h2&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;expenses__title&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Expenses&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;h2&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;expenses__list&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n                    &lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- list items --&amp;gt;&lt;/span&gt;\n                &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n            &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&amp;lt;/div&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Adding items in those list:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;DOMstrings&lt;/span&gt;={\n        &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;:{\n            &lt;span class=&quot;hljs-attr&quot;&gt;income&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;inc&apos;&lt;/span&gt;,\n            &lt;span class=&quot;hljs-attr&quot;&gt;expense&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;exp&apos;&lt;/span&gt;\n        },\n        &lt;span class=&quot;hljs-attr&quot;&gt;incomeContainer&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;.income__list&apos;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;expenseContainer&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;.expenses__list&apos;&lt;/span&gt;,\n        &lt;span class=&quot;hljs-attr&quot;&gt;container&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&apos;.container&apos;&lt;/span&gt;\n   }\n\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; addListItem = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;obj, type&lt;/span&gt;){\n        &lt;span class=&quot;hljs-comment&quot;&gt;//create html string with the place holder&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; html, element;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(type===&lt;span class=&quot;hljs-title class_&quot;&gt;DOMstrings&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;type&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;income&lt;/span&gt;){\n            element = &lt;span class=&quot;hljs-title class_&quot;&gt;DOMstrings&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;incomeContainer&lt;/span&gt;\n            html = &lt;span class=&quot;hljs-string&quot;&gt;`&amp;lt;div class=&quot;item clearfix&quot; id=&quot;inc-&lt;span class=&quot;hljs-subst&quot;&gt;${obj.id}&lt;/span&gt;&quot;&amp;gt;\n            &amp;lt;div class=&quot;item__description&quot;&amp;gt;&lt;span class=&quot;hljs-subst&quot;&gt;${obj.descripiton}&lt;/span&gt;&amp;lt;/div&amp;gt;\n            &amp;lt;div class=&quot;right clearfix&quot;&amp;gt;\n                &amp;lt;div class=&quot;item__value&quot;&amp;gt;&lt;span class=&quot;hljs-subst&quot;&gt;${obj.value}&lt;/span&gt;&amp;lt;/div&amp;gt;\n                &amp;lt;div class=&quot;item__delete&quot;&amp;gt;\n                    &amp;lt;button class=&quot;item__delete--btn&quot;&amp;gt;&amp;lt;i class=&quot;ion-ios-close-outline&quot;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/button&amp;gt;\n                &amp;lt;/div&amp;gt;\n            &amp;lt;/div&amp;gt;\n        &amp;lt;/div&amp;gt;`&lt;/span&gt;\n        }&lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (type ===&lt;span class=&quot;hljs-title class_&quot;&gt;DOMstrings&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;type&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;expense&lt;/span&gt;){\n            element=&lt;span class=&quot;hljs-title class_&quot;&gt;DOMstrings&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;expenseContainer&lt;/span&gt;;\n            html = &lt;span class=&quot;hljs-string&quot;&gt;` &amp;lt;div class=&quot;item clearfix&quot; id=&quot;exp-&lt;span class=&quot;hljs-subst&quot;&gt;${obj.id}&lt;/span&gt;&quot;&amp;gt;\n            &amp;lt;div class=&quot;item__description&quot;&amp;gt;&lt;span class=&quot;hljs-subst&quot;&gt;${obj.descripiton}&lt;/span&gt;&amp;lt;/div&amp;gt;\n            &amp;lt;div class=&quot;right clearfix&quot;&amp;gt;\n                &amp;lt;div class=&quot;item__value&quot;&amp;gt;&lt;span class=&quot;hljs-subst&quot;&gt;${obj.value}&lt;/span&gt;&amp;lt;/div&amp;gt;\n                &amp;lt;div class=&quot;item__percentage&quot;&amp;gt;21%&amp;lt;/div&amp;gt;\n                &amp;lt;div class=&quot;item__delete&quot;&amp;gt;\n                    &amp;lt;button class=&quot;item__delete--btn&quot;&amp;gt;&amp;lt;i class=&quot;ion-ios-close-outline&quot;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;/button&amp;gt;\n                &amp;lt;/div&amp;gt;\n            &amp;lt;/div&amp;gt;\n        &amp;lt;/div&amp;gt;`&lt;/span&gt;\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; htmlObject = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;createElement&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;div&apos;&lt;/span&gt;);\n        htmlObject.&lt;span class=&quot;hljs-property&quot;&gt;innerHTML&lt;/span&gt;=html;\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;querySelector&lt;/span&gt;(element).&lt;span class=&quot;hljs-title function_&quot;&gt;insertAdjacentElement&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;beforeend&apos;&lt;/span&gt;, htmlObject);\n    }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Delete items:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; ctrlDeleteItem = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;event&lt;/span&gt;){\n       &lt;span class=&quot;hljs-comment&quot;&gt;// var itemId = event.target.parentNode.parentNode.parentNode.parentNode.id;&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; parent = event.&lt;span class=&quot;hljs-property&quot;&gt;target&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;parentNode&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; splitId, type, &lt;span class=&quot;hljs-variable constant_&quot;&gt;ID&lt;/span&gt;;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt;(parent.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt;===&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;){\n            parent = parent.&lt;span class=&quot;hljs-property&quot;&gt;parentNode&lt;/span&gt;\n        }\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(parent.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt;){\n            splitId = parent.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;split&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;-&apos;&lt;/span&gt;);\n            type = splitId[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;];\n            &lt;span class=&quot;hljs-variable constant_&quot;&gt;ID&lt;/span&gt;=&lt;span class=&quot;hljs-built_in&quot;&gt;parseInt&lt;/span&gt;(splitId[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]);\n        }\n\n        &lt;span class=&quot;hljs-title function_&quot;&gt;deleteItem&lt;/span&gt;(type, &lt;span class=&quot;hljs-variable constant_&quot;&gt;ID&lt;/span&gt;);\n        &lt;span class=&quot;hljs-title function_&quot;&gt;deleteListItem&lt;/span&gt;(parent.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt;);\n }\n\n &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; deleteItem = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;type, id&lt;/span&gt;){\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; ids, index;\n        ids = data.&lt;span class=&quot;hljs-property&quot;&gt;allItems&lt;/span&gt;[type].&lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;current&lt;/span&gt;){\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; current.&lt;span class=&quot;hljs-property&quot;&gt;id&lt;/span&gt;;\n        });\n        index = ids.&lt;span class=&quot;hljs-title function_&quot;&gt;indexOf&lt;/span&gt;(id);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(index&amp;gt;-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;){\n            data.&lt;span class=&quot;hljs-property&quot;&gt;allItems&lt;/span&gt;[type].&lt;span class=&quot;hljs-title function_&quot;&gt;splice&lt;/span&gt;(index,&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n        }\n    }\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; deleteListItem = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;selectorID&lt;/span&gt;){\n        &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; element = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(selectorID);\n        element.&lt;span class=&quot;hljs-property&quot;&gt;parentNode&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;removeChild&lt;/span&gt;(element);\n    }\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;It&apos;s basically how association is made to the element. &lt;code&gt;.click&lt;/code&gt; applies to the current DOM, while &lt;code&gt;.on&lt;/code&gt; (using delegation) will continue to be valid for new elements added to the DOM after event association.&lt;/p&gt;\n\n&lt;p&gt;Which is better to use, I&apos;d say it depends on the case.&lt;/p&gt;\n\n&lt;p&gt;Example:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;ul id=&lt;span class=&quot;hljs-string&quot;&gt;&quot;todo&quot;&lt;/span&gt;&amp;gt;\n&amp;nbsp;&amp;nbsp; &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;Do 1&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&amp;nbsp;&amp;nbsp; &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;Do 2&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&amp;nbsp;&amp;nbsp; &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;Do 3&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&amp;nbsp;&amp;nbsp; &lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;Do 4&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;li&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;\n&amp;lt;/ul&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;.Click Event:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$(&lt;span class=&quot;hljs-string&quot;&gt;&quot;li&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;click&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n&amp;nbsp;&amp;nbsp; $(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;).&lt;span class=&quot;hljs-property&quot;&gt;remove&lt;/span&gt; ();\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Event .on:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#todo&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;on&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;click&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;li&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n&amp;nbsp;&amp;nbsp; $(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;remove&lt;/span&gt;();\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Note that I&apos;ve separated the selector in the .on. I&apos;ll explain why.&lt;/p&gt;\n\n&lt;p&gt;Let us suppose that after this association, let us do the following:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$(&lt;span class=&quot;hljs-string&quot;&gt;&quot;#todo&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;append&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&amp;lt;li&amp;gt;Do 5&amp;lt;/li&amp;gt;&quot;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;That is where you will notice the difference.&lt;/p&gt;\n\n&lt;p&gt;If the event was associated via .click, task 5 will not obey the click event, and so it will not be removed.&lt;/p&gt;\n\n&lt;p&gt;If it was associated via .on, with the selector separate, it will obey.&lt;/p&gt;\n    ","\n&lt;p&gt;A delegate in C# is similar to a function pointer in C or C++. Using a delegate allows the programmer to encapsulate a reference to a method inside a delegate object. The delegate object can then be passed to code which can call the referenced method, without having to know at compile time which method will be invoked. &lt;/p&gt;\n\n&lt;p&gt;See this link  --&amp;gt; &lt;a href=&quot;http://www.akadia.com/services/dotnet_delegates_and_events.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://www.akadia.com/services/dotnet_delegates_and_events.html&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Event delegation makes use of two often overlooked features of JavaScript events: event bubbling and the target element.When an event is triggered on an element, for example a mouse click on a button, the same event is also triggered on all of that elements ancestors. This process is known as event bubbling; the event bubbles up from the originating element to the top of the DOM tree.&lt;/p&gt;\n\n&lt;p&gt;Imagine an HTML table with 10 columns and 100 rows in which you want something to happen when the user clicks on a table cell. For example, I once had to make each cell of a table of that size editable when clicked. Adding event handlers to each of the 1000 cells would be a major performance problem and, potentially, a source of browser-crashing memory leaks. Instead, using event delegation, you would add only one event handler to the table element, intercept the click event and determine which cell was clicked.&lt;/p&gt;\n    ","\n&lt;b&gt;Event Delegation&lt;/b&gt;\n\n&lt;p&gt;Attach an event listener to a parent element that fires when an event occurs on a child element.&lt;/p&gt;\n\n&lt;b&gt;Event Propagation&lt;/b&gt;\n\n&lt;p&gt;When an event moves through the DOM from child to a parent element, that&apos;s called &lt;i&gt;Event Propagation&lt;/i&gt;, because the event propagates, or moves through the DOM.&lt;/p&gt;\n\n&lt;p&gt;In this example, an event (onclick) from a button gets passed to the parent paragraph.&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot; data-console=&quot;true&quot; data-babel=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$(&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;ready&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n\n    $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;.spoiler span&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;hide&lt;/span&gt;();\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;/* add event onclick on parent (.spoiler) and delegate its event to child (button) */&lt;/span&gt;\n    $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;.spoiler&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;on&lt;/span&gt;( &lt;span class=&quot;hljs-string&quot;&gt;&quot;click&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;button&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n    \n        $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;.spoiler button&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;hide&lt;/span&gt;();    \n    \n        $(&lt;span class=&quot;hljs-string&quot;&gt;&quot;.spoiler span&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;show&lt;/span&gt;();\n    \n    } );\n\n});&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;spoiler&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;Hello World&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;Click Me&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif4&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://codepen.io/antelove/pen/abojvLL&quot; rel=&quot;nofollow noreferrer&quot;&gt;Codepen&lt;/a&gt;&lt;/p&gt;\n    "]},"page":"59","randomQuestions":[{"title":"Calculate distance between two latitude-longitude points? (Haversine formula)","slug":"calculate-distance-between-two-latitude-longitude-points-(haversine-formula)-1657388500103"},{"title":"Are dictionaries ordered in Python 3.6+?","slug":"are-dictionaries-ordered-in-python-3.6+-1657387834234"},{"title":"Scroll to an element with jQuery","slug":"scroll-to-an-element-with-jquery-1657388523178"},{"title":"Simulating group_concat MySQL function in Microsoft SQL Server 2005?","slug":"simulating-group_concat-mysql-function-in-microsoft-sql-server-2005-1657384832169"},{"title":"Javascript infamous Loop issue? [duplicate]","slug":"javascript-infamous-loop-issue-duplicate-1657387498530"},{"title":"Grouping functions (tapply, by, aggregate) and the *apply family","slug":"grouping-functions-(tapply-by-aggregate)-and-the-*apply-family-1657387844286"},{"title":"How do I set, clear, and toggle a single bit?","slug":"how-do-i-set-clear-and-toggle-a-single-bit-1657388227052"},{"title":"What is the difference between \"INNER JOIN\" and \"OUTER JOIN\"?","slug":"what-is-the-difference-between-\"inner-join\"-and-\"outer-join\"-1657387501982"},{"title":"List of lists changes reflected across sublists unexpectedly","slug":"list-of-lists-changes-reflected-across-sublists-unexpectedly-1657384393720"},{"title":"How should a model be structured in MVC? [closed]","slug":"how-should-a-model-be-structured-in-mvc-closed-1657388394807"},{"title":"How do I Pandas group-by to get sum?","slug":"how-do-i-pandas-group-by-to-get-sum-1657387908708"},{"title":"Merge/flatten an array of arrays","slug":"mergeflatten-an-array-of-arrays-1657387827427"},{"title":"Read file line by line using ifstream in C++","slug":"read-file-line-by-line-using-ifstream-in-c++-1657388236966"},{"title":"What is a NullPointerException, and how do I fix it?","slug":"what-is-a-nullpointerexception-and-how-do-i-fix-it-1657384201768"},{"title":"re.findall behaves weird","slug":"re.findall-behaves-weird-1657388408049"},{"title":"Is there any way to kill a Thread?","slug":"is-there-any-way-to-kill-a-thread-1657387859831"},{"title":"What is a stack trace, and how can I use it to debug my application errors?","slug":"what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors-1657384750732"},{"title":"How to create a GUID / UUID","slug":"how-to-create-a-guid-uuid-1657387749530"},{"title":"How can I return pivot table output in MySQL?","slug":"how-can-i-return-pivot-table-output-in-mysql-1657384715043"},{"title":"What does \"Fatal error: Unexpectedly found nil while unwrapping an Optional value\" mean?","slug":"what-does-\"fatal-error:-unexpectedly-found-nil-while-unwrapping-an-optional-value\"-mean-1657384593944"}]},"__N_SSG":true}