{"pageProps":{"data":{"answer":["\n&lt;p&gt;There are actually several approaches to do this. Some require more overhead than others, and some are considered better than others.&lt;/p&gt;\n\n&lt;p&gt;In no particular order:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;Use AJAX to get the data you need from the server.&lt;/li&gt;\n&lt;li&gt;Echo the data into the page somewhere, and use JavaScript to get the information from the DOM.&lt;/li&gt;\n&lt;li&gt;Echo the data directly to JavaScript.&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;In this post, we&apos;ll examine each of the above methods, and see the pros and cons of each, as well as how to implement them.&lt;/p&gt;\n\n&lt;h1&gt;1. Use AJAX to get the data you need from the server&lt;/h1&gt;\n\n&lt;p&gt;This method is considered the best, because &lt;strong&gt;your server side and client side scripts are completely separate&lt;/strong&gt;.&lt;/p&gt;\n\n&lt;h3&gt;Pros&lt;/h3&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;Better separation between layers&lt;/strong&gt; - If tomorrow you stop using PHP, and want to move to a servlet, a REST API, or some other service, you don&apos;t have to change much of the JavaScript code.&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;More readable&lt;/strong&gt; - JavaScript is JavaScript, PHP is PHP. Without mixing the two, you get more readable code on both languages.&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Allows for asynchronous data transfer&lt;/strong&gt; - Getting the information from PHP might be time/resources expensive. Sometimes you just don&apos;t want to wait for the information, load the page, and have the information reach whenever.&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Data is not directly found on the markup&lt;/strong&gt; - This means that your markup is kept clean of any additional data, and only JavaScript sees it.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h3&gt;Cons&lt;/h3&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;Latency&lt;/strong&gt; - AJAX creates an HTTP request, and HTTP requests are carried over network and have network latencies.&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;State&lt;/strong&gt; - Data fetched via a separate HTTP request won&apos;t include any information from the HTTP request that fetched the HTML document. You may need this information (e.g., if the HTML document is generated in response to a form submission) and, if you do, will have to transfer it across somehow. If you have ruled out embedding the data in the page (which you have if you are using this technique) then that limits you to cookies/sessions which may be subject to race conditions.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h2&gt;Implementation Example&lt;/h2&gt;\n\n&lt;p&gt;With AJAX, you need two pages, one is where PHP generates the output, and the second is where JavaScript gets that output:&lt;/p&gt;\n\n&lt;h3&gt;get-data.php&lt;/h3&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;/* Do some operation here, like talk to the database, the file-session\n * The world beyond, limbo, the city of shimmers, and Canada.\n *\n * AJAX generally uses strings, but you can output JSON, HTML and XML as well.\n * It all depends on the Content-type header that you send with your AJAX\n * request. */&lt;/span&gt;\n\necho &lt;span class=&quot;hljs-built_in&quot;&gt;json_encode&lt;/span&gt;(&lt;span class=&quot;hljs-number&quot;&gt;42&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// In the end, you need to echo the result.&lt;/span&gt;\n                      &lt;span class=&quot;hljs-comment&quot;&gt;// All data should be json_encode()d.&lt;/span&gt;\n\n                      &lt;span class=&quot;hljs-comment&quot;&gt;// You can json_encode() any value in PHP, arrays, strings,&lt;/span&gt;\n                      &lt;span class=&quot;hljs-comment&quot;&gt;//even objects.&lt;/span&gt;\n\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h3&gt;index.php (or whatever the actual page is named like)&lt;/h3&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- snip --&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;reqListener&lt;/span&gt; () {\n      &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;responseText&lt;/span&gt;);\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; oReq = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;XMLHttpRequest&lt;/span&gt;(); &lt;span class=&quot;hljs-comment&quot;&gt;// New request object&lt;/span&gt;\n    oReq.&lt;span class=&quot;hljs-property&quot;&gt;onload&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-comment&quot;&gt;// This is where you handle what to do with the response.&lt;/span&gt;\n        &lt;span class=&quot;hljs-comment&quot;&gt;// The actual data is found on this.responseText&lt;/span&gt;\n        &lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;responseText&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// Will alert: 42&lt;/span&gt;\n    };\n    oReq.&lt;span class=&quot;hljs-title function_&quot;&gt;open&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;get&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;get-data.php&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n    &lt;span class=&quot;hljs-comment&quot;&gt;//                               ^ Don&apos;t block the rest of the execution.&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;//                                 Don&apos;t wait until the request finishes to&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;//                                 continue.&lt;/span&gt;\n    oReq.&lt;span class=&quot;hljs-title function_&quot;&gt;send&lt;/span&gt;();\n&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- snip --&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The above combination of the two files will alert &lt;code&gt;42&lt;/code&gt; when the file finishes loading.&lt;/p&gt;\n\n&lt;h2&gt;Some more reading material&lt;/h2&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest&quot; rel=&quot;noreferrer&quot;&gt;Using XMLHttpRequest - MDN&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest&quot; rel=&quot;noreferrer&quot;&gt;XMLHttpRequest object reference - MDN&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;https://stackoverflow.com/questions/14220321/how-to-return-the-response-from-an-ajax-call&quot;&gt;How do I return the response from an asynchronous call?&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h1&gt;2. Echo the data into the page somewhere, and use JavaScript to get the information from the DOM&lt;/h1&gt;\n\n&lt;p&gt;This method is less preferable to AJAX, but it still has its advantages. It&apos;s still &lt;em&gt;relatively&lt;/em&gt; separated between PHP and JavaScript in a sense that there is no PHP directly in the JavaScript.&lt;/p&gt;\n\n&lt;h3&gt;Pros&lt;/h3&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;Fast&lt;/strong&gt; - DOM operations are often quick, and you can store and access a lot of data relatively quickly.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h3&gt;Cons&lt;/h3&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;Potentially Unsemantic Markup&lt;/strong&gt; - Usually, what happens is that you use some sort of &lt;code&gt;&amp;lt;input type=hidden&amp;gt;&lt;/code&gt; to store the information, because it&apos;s easier to get the information out of &lt;code&gt;inputNode.value&lt;/code&gt;, but doing so means that you have a meaningless element in your HTML. HTML has the &lt;code&gt;&amp;lt;meta&amp;gt;&lt;/code&gt; element for data about the document, and HTML 5 introduces &lt;code&gt;data-*&lt;/code&gt; attributes for data specifically for reading with JavaScript that can be associated with particular elements.&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Dirties up the Source&lt;/strong&gt; - Data that PHP generates is outputted directly to the HTML source, meaning that you get a bigger and less focused HTML source.&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Harder to get structured data&lt;/strong&gt; - Structured data will have to be valid HTML, otherwise you&apos;ll have to escape and convert strings yourself.&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Tightly couples PHP to your data logic&lt;/strong&gt; - Because PHP is used in presentation, you can&apos;t separate the two cleanly.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h2&gt;Implementation Example&lt;/h2&gt;\n\n&lt;p&gt;With this, the idea is to create some sort of element which will not be displayed to the user, but is visible to JavaScript.&lt;/p&gt;\n\n&lt;h3&gt;index.php&lt;/h3&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php-template&quot;&gt;&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- snip --&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;dom-target&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;style&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;display: none;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;/span&gt;&lt;span class=&quot;language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt;\n        &lt;span class=&quot;hljs-variable&quot;&gt;$output&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;42&quot;&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// Again, do some operation, get the output.&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;htmlspecialchars&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$output&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;/* You have to escape because the result\n                                           will not be valid HTML otherwise. */&lt;/span&gt;\n    &lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;language-xml&quot;&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; div = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;dom-target&quot;&lt;/span&gt;);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; myData = div.&lt;span class=&quot;hljs-property&quot;&gt;textContent&lt;/span&gt;;\n&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- snip --&amp;gt;&lt;/span&gt;\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h1&gt;3. Echo the data directly to JavaScript&lt;/h1&gt;\n\n&lt;p&gt;This is probably the easiest to understand.&lt;/p&gt;\n\n&lt;h3&gt;Pros&lt;/h3&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;Very easily implemented&lt;/strong&gt; - It takes very little to implement this, and understand.&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Does not dirty source&lt;/strong&gt; - Variables are outputted directly to JavaScript, so the DOM is not affected.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h3&gt;Cons&lt;/h3&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;Tightly couples PHP to your data logic&lt;/strong&gt; - Because PHP is used in presentation, you can&apos;t separate the two cleanly.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h2&gt;Implementation Example&lt;/h2&gt;\n\n&lt;p&gt;Implementation is relatively straightforward:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php-template&quot;&gt;&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- snip --&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; data = &lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;json_encode&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;42&quot;&lt;/span&gt;, JSON_HEX_TAG); &lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;language-javascript&quot;&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// Don&apos;t forget the extra semicolon!&lt;/span&gt;\n&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;&amp;lt;!-- snip --&amp;gt;&lt;/span&gt;\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Good luck!&lt;/p&gt;\n    ","\n&lt;p&gt;I usually use data-* attributes in HTML.&lt;/p&gt;\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;\n    &lt;span class=&quot;hljs-attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;service-container&quot;&lt;/span&gt;\n    &lt;span class=&quot;hljs-attr&quot;&gt;data-service&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&amp;lt;?= htmlspecialchars($myService-&amp;gt;getValue()) ?&amp;gt;&quot;&lt;/span&gt;\n&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;\n    $(&lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;ready&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n        $(&lt;span class=&quot;hljs-string&quot;&gt;&apos;.service-container&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;each&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; container = $(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;);\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; service = container.&lt;span class=&quot;hljs-title function_&quot;&gt;data&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;service&apos;&lt;/span&gt;);\n\n            &lt;span class=&quot;hljs-comment&quot;&gt;// Var &quot;service&quot; now contains the value of $myService-&amp;gt;getValue();&lt;/span&gt;\n        });\n    });\n&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This example uses jQuery, but it can be adapted for another library or vanilla JavaScript.&lt;/p&gt;\n&lt;p&gt;You can read more about the dataset property here: &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement.dataset&quot; rel=&quot;noreferrer&quot;&gt;https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement.dataset&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I&apos;m going to try a simpler answer:&lt;/p&gt;\n&lt;h2&gt;Explanation of the problem&lt;/h2&gt;\n&lt;p&gt;First, let&apos;s understand the flow of events when a page is served from our server:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;First PHP is run, it generates the HTML that is served to the client.&lt;/li&gt;\n&lt;li&gt;Then, the HTML is delivered to the client, after PHP is done with it, I&apos;d like to emphasize that once the code leaves the server - PHP is done with it and can no longer access it.&lt;/li&gt;\n&lt;li&gt;Then, the HTML with JavaScript reaches the client, which can execute JavaScript on that HTML.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;So really, the core thing to remember here is that &lt;strong&gt;HTTP is stateless&lt;/strong&gt;. Once a request left the server, the server can not touch it. So, that leaves our options to:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;Send more requests from the client &lt;em&gt;after&lt;/em&gt; the initial request is done.&lt;/li&gt;\n&lt;li&gt;Encode what the server had to say in the initial request.&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2&gt;Solutions&lt;/h2&gt;\n&lt;p&gt;That&apos;s the core question you should be asking yourself is:&lt;/p&gt;\n&lt;h2&gt;Am I writing a website or an application?&lt;/h2&gt;\n&lt;p&gt;Websites are mainly page based, and the page load times needs to be as fast as possible (for example - Wikipedia). Web applications are more AJAX heavy and perform a lot of round trips to get the client fast information (for example - a stock dashboard).&lt;/p&gt;\n&lt;h3&gt;Website&lt;/h3&gt;\n&lt;p&gt;Sending more requests from the client after the initial request is done is &lt;strong&gt;slow&lt;/strong&gt; as it requires more HTTP requests which have significant overhead. Moreover, it requires &lt;em&gt;asynchronousity&lt;/em&gt; as making an AJAX request requires a handler for when it&apos;s complete.&lt;/p&gt;\n&lt;p&gt;I would &lt;em&gt;not&lt;/em&gt; recommend making another request &lt;em&gt;unless your site is an application&lt;/em&gt; for getting that information from the server.&lt;/p&gt;\n&lt;p&gt;You want fast response times which have a &lt;em&gt;huge&lt;/em&gt; impact on conversion and load times. Making Ajax requests is slow for the initial uptime in this case and unneeded.&lt;/p&gt;\n&lt;p&gt;You have two ways to tackle the issue&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;Set a cookie&lt;/strong&gt; - cookies are headers sent in HTTP requests that both the server and client can read.&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Encode the variable as JSON&lt;/strong&gt; - JSON looks very close to JavaScript objects and &lt;em&gt;most&lt;/em&gt; JSON objects are valid JavaScript variables.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;&lt;a href=&quot;http://www.php.net/manual/en/function.setcookie.php&quot; rel=&quot;noreferrer&quot;&gt;Setting a cookie&lt;/a&gt; is really not very difficult, you just assign it a value:&lt;/p&gt;\n&lt;pre class=&quot;lang-php s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;setcookie&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;MyCookie&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$value&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// Sets the cookie to the value, remember, do not&lt;/span&gt;\n                               &lt;span class=&quot;hljs-comment&quot;&gt;// Set it with HTTP only to true.&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Then, you can &lt;a href=&quot;https://stackoverflow.com/questions/5639346/shortest-function-for-reading-a-cookie-in-javascript&quot;&gt;read it with JavaScript&lt;/a&gt; using &lt;code&gt;document.cookie&lt;/code&gt;:&lt;/p&gt;\n&lt;p&gt;Here is a short hand rolled parser, but the answer I linked to right above this has better tested ones:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; cookies = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;cookie&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;split&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;;&quot;&lt;/span&gt;).\n    &lt;span class=&quot;hljs-title function_&quot;&gt;map&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;el&lt;/span&gt;){ &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; el.&lt;span class=&quot;hljs-title function_&quot;&gt;split&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;=&quot;&lt;/span&gt;); }).\n    &lt;span class=&quot;hljs-title function_&quot;&gt;reduce&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;prev,cur&lt;/span&gt;){ prev[cur[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;]] = cur[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;]; &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; prev },{});\n&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(cookies[&lt;span class=&quot;hljs-string&quot;&gt;&quot;MyCookie&quot;&lt;/span&gt;]); &lt;span class=&quot;hljs-comment&quot;&gt;// Value set with PHP.&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Cookies are good for a little data. This is what tracking services often do.&lt;/p&gt;\n&lt;p&gt;Once we have more data, we can encode it with JSON inside a JavaScript variable instead:&lt;/p&gt;\n&lt;pre class=&quot;lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; myServerData = &amp;lt;?=&lt;span class=&quot;hljs-title function_&quot;&gt;json_encode&lt;/span&gt;($value)?&amp;gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// Don&apos;t forget to sanitize&lt;/span&gt;\n                                                 &lt;span class=&quot;hljs-comment&quot;&gt;//server data&lt;/span&gt;\n&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Assuming &lt;code&gt;$value&lt;/code&gt; is &lt;code&gt;json_encode&lt;/code&gt;able on the PHP side (it usually is). This technique is what Stack Overflow does with its chat for example (only using .NET instead of PHP).&lt;/p&gt;\n&lt;h3&gt;Application&lt;/h3&gt;\n&lt;p&gt;If you&apos;re writing an application - suddenly the initial load time isn&apos;t always as important as the ongoing performance of the application, and it starts to pay off to load data and code separately.&lt;/p&gt;\n&lt;p&gt;My answer &lt;a href=&quot;https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call/16825593#16825593&quot;&gt;here&lt;/a&gt; explains how to load data using AJAX in JavaScript:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;callback&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;){\n    &lt;span class=&quot;hljs-comment&quot;&gt;// What do I do with the response?&lt;/span&gt;\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; httpRequest = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;XMLHttpRequest&lt;/span&gt;;\nhttpRequest.&lt;span class=&quot;hljs-property&quot;&gt;onreadystatechange&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (httpRequest.&lt;span class=&quot;hljs-property&quot;&gt;readyState&lt;/span&gt; === &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;) { &lt;span class=&quot;hljs-comment&quot;&gt;// Request is done&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (httpRequest.&lt;span class=&quot;hljs-property&quot;&gt;status&lt;/span&gt; === &lt;span class=&quot;hljs-number&quot;&gt;200&lt;/span&gt;) { &lt;span class=&quot;hljs-comment&quot;&gt;// successfully&lt;/span&gt;\n            &lt;span class=&quot;hljs-title function_&quot;&gt;callback&lt;/span&gt;(httpRequest.&lt;span class=&quot;hljs-property&quot;&gt;responseText&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// We&apos;re calling our method&lt;/span&gt;\n        }\n    }\n};\nhttpRequest.&lt;span class=&quot;hljs-title function_&quot;&gt;open&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;GET&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;/echo/json&quot;&lt;/span&gt;);\nhttpRequest.&lt;span class=&quot;hljs-title function_&quot;&gt;send&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Or with jQuery:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;$.&lt;span class=&quot;hljs-title function_&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;/your/url&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;done&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;data&lt;/span&gt;){\n    &lt;span class=&quot;hljs-comment&quot;&gt;// What do I do with the data?&lt;/span&gt;\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Now, the server just needs to contain a &lt;code&gt;/your/url&lt;/code&gt; route/file that contains code that grabs the data and does something with it, in your case:&lt;/p&gt;\n&lt;pre class=&quot;lang-php s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt;\n&lt;span class=&quot;hljs-variable&quot;&gt;$val&lt;/span&gt; = myService-&amp;gt;&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;getValue&lt;/span&gt;(); &lt;span class=&quot;hljs-comment&quot;&gt;// Makes an API and database call&lt;/span&gt;\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;header&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Content-Type: application/json&quot;&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// Advise client of response type&lt;/span&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;json_encode&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$val&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// Write it to the output&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This way, our JavaScript file asks for the data and shows it rather than asking for code or for layout. This is cleaner and starts to pay off as the application gets higher. It&apos;s also better separation of concerns and it allows testing the client side code without any server side technology involved which is another plus.&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Postscript:&lt;/strong&gt; You have to be &lt;em&gt;very&lt;/em&gt; aware of XSS attack vectors when you inject anything from PHP to JavaScript. It&apos;s &lt;em&gt;very&lt;/em&gt; hard to escape values properly and it&apos;s context sensitive. If you&apos;re unsure how to deal with XSS, or unaware of it - please read &lt;a href=&quot;https://www.owasp.org/index.php/Cross-site_Scripting_(XSS)&quot; rel=&quot;noreferrer&quot;&gt;this OWASP article&lt;/a&gt;, &lt;a href=&quot;https://www.owasp.org/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet&quot; rel=&quot;noreferrer&quot;&gt;this one&lt;/a&gt; and &lt;a href=&quot;https://stackoverflow.com/questions/71328/what-are-the-best-practices-for-avoiding-xss-attacks-in-a-php-site&quot;&gt;this question&lt;/a&gt;.&lt;/p&gt;\n    ","\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php-template&quot;&gt;&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; jsvar = &lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;json_encode&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$PHPVar&lt;/span&gt;); &lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;language-xml&quot;&gt;;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;json_encode() requires:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;PHP 5.2.0 or more&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;$PHPVar&lt;/code&gt; encoded as UTF-8, Unicode.&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;Simply use one of the following methods.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php-template&quot;&gt;&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; js_variable  = &lt;span class=&quot;hljs-string&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$php_variable&lt;/span&gt;;&lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;language-xml&quot;&gt;&apos;;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;OR&lt;/strong&gt; &lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php-template&quot;&gt;&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; js_variable = &lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;json_encode&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$php_variable&lt;/span&gt;); &lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;language-xml&quot;&gt;; \n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I quite like the way the WordPress works with its &lt;a href=&quot;http://codex.wordpress.org/Function_Reference/wp_enqueue_script&quot; rel=&quot;nofollow noreferrer&quot;&gt;enqueue&lt;/a&gt; and &lt;a href=&quot;http://codex.wordpress.org/Function_Reference/wp_localize_script&quot; rel=&quot;nofollow noreferrer&quot;&gt;localize&lt;/a&gt; functions, so following that model, I wrote a simple class for putting a scripts into page according to the script dependencies, and for making additional data available for the script.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;mHeader&lt;/span&gt; &lt;/span&gt;{\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$scripts&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;();\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;/**\n     * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; string $id        Unique script identifier\n     * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; string $src      Script src attribute\n     * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; array  $deps       An array of dependencies ( script identifiers ).\n     * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; array  $data       An array, data that will be json_encoded and available to the script.\n     */&lt;/span&gt;\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;enqueue_script&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$id&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$src&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$deps&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;), &lt;span class=&quot;hljs-variable&quot;&gt;$data&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;) &lt;/span&gt;{\n        &lt;span class=&quot;hljs-variable language_&quot;&gt;$this&lt;/span&gt;-&amp;gt;scripts[&lt;span class=&quot;hljs-variable&quot;&gt;$id&lt;/span&gt;] = &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;src&apos;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;hljs-variable&quot;&gt;$src&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;deps&apos;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;hljs-variable&quot;&gt;$deps&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;data&apos;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;hljs-variable&quot;&gt;$data&lt;/span&gt;);\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;dependencies&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$script&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;{\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable&quot;&gt;$script&lt;/span&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;deps&apos;&lt;/span&gt;]) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;array_map&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$this&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;dependencies&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;array_intersect_key&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$this&lt;/span&gt;-&amp;gt;scripts, &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;array_flip&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$script&lt;/span&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;deps&apos;&lt;/span&gt;])));\n        }\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;_unset&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$key&lt;/span&gt;, &amp;amp;&lt;span class=&quot;hljs-variable&quot;&gt;$deps&lt;/span&gt;, &amp;amp;&lt;span class=&quot;hljs-variable&quot;&gt;$out&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;{\n        &lt;span class=&quot;hljs-variable&quot;&gt;$out&lt;/span&gt;[&lt;span class=&quot;hljs-variable&quot;&gt;$key&lt;/span&gt;] = &lt;span class=&quot;hljs-variable language_&quot;&gt;$this&lt;/span&gt;-&amp;gt;scripts[&lt;span class=&quot;hljs-variable&quot;&gt;$key&lt;/span&gt;];\n        &lt;span class=&quot;hljs-keyword&quot;&gt;unset&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$deps&lt;/span&gt;[&lt;span class=&quot;hljs-variable&quot;&gt;$key&lt;/span&gt;]);\n    }\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;flattern&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&amp;amp;&lt;span class=&quot;hljs-variable&quot;&gt;$deps&lt;/span&gt;, &amp;amp;&lt;span class=&quot;hljs-variable&quot;&gt;$out&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;) &lt;/span&gt;{\n\n        &lt;span class=&quot;hljs-keyword&quot;&gt;foreach&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$deps&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$key&lt;/span&gt; =&amp;gt; &lt;span class=&quot;hljs-variable&quot;&gt;$value&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;empty&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$value&lt;/span&gt;) ? &lt;span class=&quot;hljs-variable language_&quot;&gt;$this&lt;/span&gt;-&amp;gt;&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;_unset&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$key&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$deps&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$out&lt;/span&gt;) : &lt;span class=&quot;hljs-variable language_&quot;&gt;$this&lt;/span&gt;-&amp;gt;&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;flattern&lt;/span&gt;( &lt;span class=&quot;hljs-variable&quot;&gt;$deps&lt;/span&gt;[&lt;span class=&quot;hljs-variable&quot;&gt;$key&lt;/span&gt;], &lt;span class=&quot;hljs-variable&quot;&gt;$out&lt;/span&gt;);\n        }\n    }\n\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;print_scripts&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;{\n\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;hljs-variable language_&quot;&gt;$this&lt;/span&gt;-&amp;gt;scripts)\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt;;\n\n        &lt;span class=&quot;hljs-variable&quot;&gt;$deps&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;array_map&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$this&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;dependencies&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-variable language_&quot;&gt;$this&lt;/span&gt;-&amp;gt;scripts);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;hljs-variable&quot;&gt;$deps&lt;/span&gt;)\n            &lt;span class=&quot;hljs-variable language_&quot;&gt;$this&lt;/span&gt;-&amp;gt;&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;flattern&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$deps&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$js&lt;/span&gt;);\n\n        &lt;span class=&quot;hljs-keyword&quot;&gt;foreach&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$js&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$key&lt;/span&gt; =&amp;gt; &lt;span class=&quot;hljs-variable&quot;&gt;$script&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-variable&quot;&gt;$script&lt;/span&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;data&apos;&lt;/span&gt;] &amp;amp;&amp;amp; &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;printf&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&amp;lt;script&amp;gt; var %s = %s; &amp;lt;/script&amp;gt;&quot;&lt;/span&gt; . PHP_EOL, &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;key&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$script&lt;/span&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;data&apos;&lt;/span&gt;]), &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;json_encode&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;current&lt;/span&gt;( &lt;span class=&quot;hljs-variable&quot;&gt;$script&lt;/span&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;data&apos;&lt;/span&gt;])));\n            &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&amp;lt;script id=\\&quot;&lt;span class=&quot;hljs-subst&quot;&gt;$key&lt;/span&gt;-js\\&quot; src=\\&quot;&lt;span class=&quot;hljs-subst&quot;&gt;$script&lt;/span&gt;[src]\\&quot; type=\\&quot;text/javascript\\&quot;&amp;gt;&amp;lt;/script&amp;gt;&quot;&lt;/span&gt; . PHP_EOL;\n        }\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The call to the &lt;code&gt;enqueue_script()&lt;/code&gt; function is for adding script, setting the source and dependencies on other scripts, and additional data needed for the script.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$header&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;mHeader&lt;/span&gt;();\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$header&lt;/span&gt;-&amp;gt;&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;enqueue_script&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;jquery-ui&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;jquery&apos;&lt;/span&gt;));\n&lt;span class=&quot;hljs-variable&quot;&gt;$header&lt;/span&gt;-&amp;gt;&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;enqueue_script&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;jquery&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js&apos;&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable&quot;&gt;$header&lt;/span&gt;-&amp;gt;&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;enqueue_script&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;custom-script&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;//custom-script.min.js&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;jquery-ui&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;mydata&apos;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;value&apos;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;)));\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$header&lt;/span&gt;-&amp;gt;&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;print_scripts&lt;/span&gt;();\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And, &lt;code&gt;print_scripts()&lt;/code&gt; method of the above example will send this output:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;jquery-js&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;jquery-ui-js&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; mydata = {&lt;span class=&quot;hljs-string&quot;&gt;&quot;value&quot;&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;}; &lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;custom-script-js&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;//custom-script.min.js&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Regardless the fact that the script &apos;jquery&apos; is enqueued after the &apos;jquery-ui&apos;, it is printed before because it is defined in &apos;jquery-ui&apos; that it depends on &apos;jquery&apos;.\nAdditional data for the &apos;custom-script&apos; are inside a new script block and are placed in front of it, it contains &lt;code&gt;mydata&lt;/code&gt; object that holds additional data, now available to &apos;custom-script&apos;.&lt;/p&gt;\n    ","\n&lt;p&gt;Try this:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&amp;lt;script&amp;gt; var x = &quot;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;json_encode&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$phpVariable&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&quot;&amp;lt;/script&amp;gt;&quot;&lt;/span&gt;;\n&lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;--&lt;/p&gt;\n\n&lt;p&gt;-After trying this for a while&lt;/p&gt;\n\n&lt;p&gt;Although it works, however it slows down the performance. As PHP is a server-side script while JavaScript is a user side.&lt;/p&gt;\n    ","\n&lt;p&gt;I have come out with an easy method to assign JavaScript variables using PHP.&lt;/p&gt;\n&lt;p&gt;It uses HTML5 data attributes to store PHP variables and then it&apos;s assigned to JavaScript on page load.&lt;/p&gt;\n&lt;p&gt;Example:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php-template&quot;&gt;&lt;span class=&quot;language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt;\n    &lt;span class=&quot;hljs-variable&quot;&gt;$variable_1&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;QNimate&quot;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-variable&quot;&gt;$variable_2&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;QScutter&quot;&lt;/span&gt;;\n&lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;language-xml&quot;&gt;\n    &lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;storage&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;data-variable-one&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$variable_1&lt;/span&gt;; &lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;data-variable-two&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$variable_2&lt;/span&gt;; &lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/span&gt;&lt;span class=&quot;language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt;\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Here is the JavaScript code&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; variable_1 = &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt;;\n&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; variable_2 = &lt;span class=&quot;hljs-literal&quot;&gt;undefined&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-variable language_&quot;&gt;window&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;onload&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    variable_1 = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;storage&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;getAttribute&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;data-variable-one&quot;&lt;/span&gt;);\n    variable_2 = &lt;span class=&quot;hljs-variable language_&quot;&gt;document&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getElementById&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;storage&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;getAttribute&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;data-variable-two&quot;&lt;/span&gt;);\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;ol&gt;\n&lt;li&gt;Convert the data into &lt;em&gt;JSON&lt;/em&gt; &lt;/li&gt;\n&lt;li&gt;Call &lt;em&gt;AJAX&lt;/em&gt; to recieve &lt;em&gt;JSON&lt;/em&gt; file&lt;/li&gt;\n&lt;li&gt;Convert &lt;em&gt;JSON&lt;/em&gt; into &lt;em&gt;Javascript&lt;/em&gt; object&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;Example:&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;STEP 1&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt;\n\n   &lt;span class=&quot;hljs-variable&quot;&gt;$servername&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;localhost&quot;&lt;/span&gt;;\n   &lt;span class=&quot;hljs-variable&quot;&gt;$username&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;;\n   &lt;span class=&quot;hljs-variable&quot;&gt;$password&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;;\n   &lt;span class=&quot;hljs-variable&quot;&gt;$dbname&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;;\n   &lt;span class=&quot;hljs-variable&quot;&gt;$conn&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;mysqli&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$servername&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$username&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$password&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$dbname&lt;/span&gt;);\n\n   &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable&quot;&gt;$conn&lt;/span&gt;-&amp;gt;connect_error) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;die&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Connection failed: &quot;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$conn&lt;/span&gt;-&amp;gt;connect_error);\n   } \n\n   &lt;span class=&quot;hljs-variable&quot;&gt;$sql&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;SELECT id, name, image FROM phone&quot;&lt;/span&gt;;\n   &lt;span class=&quot;hljs-variable&quot;&gt;$result&lt;/span&gt; = &lt;span class=&quot;hljs-variable&quot;&gt;$conn&lt;/span&gt;-&amp;gt;&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;query&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$sql&lt;/span&gt;);\n\n   &lt;span class=&quot;hljs-keyword&quot;&gt;while&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$row&lt;/span&gt; = &lt;span class=&quot;hljs-variable&quot;&gt;$result&lt;/span&gt;-&amp;gt;&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;fetch_assoc&lt;/span&gt;()){ \n      &lt;span class=&quot;hljs-variable&quot;&gt;$v&lt;/span&gt;[] = &lt;span class=&quot;hljs-variable&quot;&gt;$row&lt;/span&gt;;    \n   }\n\n  &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;json_encode&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$v&lt;/span&gt;);\n\n  &lt;span class=&quot;hljs-variable&quot;&gt;$conn&lt;/span&gt;-&amp;gt;&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;close&lt;/span&gt;();\n&lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;STEP 2&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;showUser&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;fnc&lt;/span&gt;) {\n   &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; xhttp = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;XMLHttpRequest&lt;/span&gt;();\n\n   xhttp.&lt;span class=&quot;hljs-property&quot;&gt;onreadystatechange&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;readyState&lt;/span&gt; == &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;status&lt;/span&gt; == &lt;span class=&quot;hljs-number&quot;&gt;200&lt;/span&gt;) {\n         &lt;span class=&quot;hljs-comment&quot;&gt;// STEP 3    &lt;/span&gt;\n         &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; p = &lt;span class=&quot;hljs-title class_&quot;&gt;JSON&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;parse&lt;/span&gt;(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;responseText&lt;/span&gt;);\n      }\n   }\n}\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt;myPlugin.start($&lt;span class=&quot;hljs-keyword&quot;&gt;val&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// Tried this, didn&apos;t work&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It doesn&apos;t work because &lt;code&gt;$val&lt;/code&gt; is undefined as far as JavaScript is concerned, i.e. the PHP code did not output anything for &lt;code&gt;$val&lt;/code&gt;. Try viewing the source in your browser and here is what you&apos;ll see:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;myPlugin&lt;span class=&quot;hljs-selector-class&quot;&gt;.start&lt;/span&gt;(); &lt;span class=&quot;hljs-comment&quot;&gt;// I tried this, and it didn&apos;t work&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt; myPlugin.&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;start&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$val&lt;/span&gt;); &lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;// This didn&apos;t work either&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This doesn&apos;t work because PHP will try to treat &lt;code&gt;myPlugin&lt;/code&gt; as a constant and when that fails it will try to treat it as the string &lt;code&gt;&apos;myPlugin&apos;&lt;/code&gt; which it will try to concatenate with the output of the PHP function &lt;code&gt;start()&lt;/code&gt; and since that is undefined it will produce a fatal error.&lt;/p&gt;\n\n&lt;p&gt;And&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt; myPlugin.start(&amp;lt;?=$&lt;span class=&quot;hljs-keyword&quot;&gt;val&lt;/span&gt;?&amp;gt; &lt;span class=&quot;hljs-comment&quot;&gt;// This works sometimes, but sometimes it fails&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;While this is most likely to work, since the PHP code is producing valid JavaScript with the expected arguments, if it fails, chances are it&apos;s because &lt;code&gt;myPlugin&lt;/code&gt; isn&apos;t ready yet. Check your order of execution.&lt;/p&gt;\n\n&lt;p&gt;Also you should note that the PHP code output is insecure and should be filtered with &lt;code&gt;json_encode()&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;EDIT&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;Because I didn&apos;t notice the missing parenthesis in &lt;code&gt;myPlugin.start(&amp;lt;?=$val?&amp;gt;&lt;/code&gt; :-\\&lt;/p&gt;\n\n&lt;p&gt;As @Second Rikudo points out, for it to work correctly &lt;code&gt;$val&lt;/code&gt; would need to contain the closing parenthesis, for example: &lt;code&gt;$val=&quot;42);&quot;&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;Meaning that the PHP will now produce &lt;code&gt;myPlugin.start(42);&lt;/code&gt; and will work as expected when executed by the JavaScript code.&lt;/p&gt;\n    ","\n&lt;p&gt;Here is is the trick:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&lt;p&gt;Here is your &lt;strong&gt;&apos;PHP&apos;&lt;/strong&gt; to use that variable:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt;\n    &lt;span class=&quot;hljs-variable&quot;&gt;$name&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;PHP variable&apos;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;script&amp;gt;&apos;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;var name = &apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;json_encode&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$name&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;;&apos;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;/script&amp;gt;&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;Now you have a JavaScript variable called &lt;code&gt;&apos;name&apos;&lt;/code&gt;, and here is your JavaScript code to use that variable:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;\n     &lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;I am everywhere &quot;&lt;/span&gt; + name);\n&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;\n&lt;/ol&gt;\n    ","\n&lt;p&gt;Let&apos;s say your variable is always integer. In that case this is easier:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?&lt;/span&gt;PHP\n    &lt;span class=&quot;hljs-variable&quot;&gt;$number&lt;/span&gt; = &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;script&amp;gt;&apos;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;var number = &apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$number&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;;&apos;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;alert(number);&apos;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;/script&amp;gt;&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Output&lt;/strong&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; number = &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;;&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(number);&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Let&apos;s say your variable is not an integer, but if you try above method you will get something like this:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; number = abcd;&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(number);&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;But in JavaScript this is a syntax error.&lt;/p&gt;\n\n&lt;p&gt;So in PHP we have a function call &lt;code&gt;json_encode&lt;/code&gt; that encode string to a JSON object.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?&lt;/span&gt;PHP\n    &lt;span class=&quot;hljs-variable&quot;&gt;$number&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;abcd&apos;&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;script&amp;gt;&apos;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;var number = &apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;json_encode&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$number&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;;&apos;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;alert(number);&apos;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;/script&amp;gt;&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Since &lt;code&gt;abcd&lt;/code&gt; in JSON is &lt;code&gt;&quot;abcd&quot;&lt;/code&gt;, it looks like this:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; number = &lt;span class=&quot;hljs-string&quot;&gt;&quot;abcd&quot;&lt;/span&gt;;&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(number);&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You can use same method for arrays:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?&lt;/span&gt;PHP\n    &lt;span class=&quot;hljs-variable&quot;&gt;$details&lt;/span&gt; = [\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;name&apos;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;supun&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;age&apos;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;hljs-number&quot;&gt;456&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;weight&apos;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;55&apos;&lt;/span&gt;\n    ];\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;script&amp;gt;&apos;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;var details = &apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;json_encode&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$details&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;;&apos;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;alert(details);&apos;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;console.log(details);&apos;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;/script&amp;gt;&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And your JavaScript code looks like this:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; details = {&lt;span class=&quot;hljs-string&quot;&gt;&quot;name&quot;&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;supun&quot;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;age&quot;&lt;/span&gt;:&lt;span class=&quot;hljs-number&quot;&gt;456&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot;&gt;&quot;weight&quot;&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;55&quot;&lt;/span&gt;};&lt;span class=&quot;hljs-title function_&quot;&gt;alert&lt;/span&gt;(details);&lt;span class=&quot;hljs-variable language_&quot;&gt;console&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;log&lt;/span&gt;(details);&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Console output&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://i.stack.imgur.com/q4sHw.png&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/q4sHw.png&quot; alt=&quot;Enter image description here&quot;&gt;&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I&apos;ll assume that the data to transmit is a string.&lt;/p&gt;\n\n&lt;p&gt;As other commenters have stated, AJAX is one possible solution, but the cons outweigh the pros: it has a latency and it is harder to program (it needs the code to retrieve the value both server- and client-side), when a simpler escaping function should suffice.&lt;/p&gt;\n\n&lt;p&gt;So, we&apos;re back to escaping. &lt;code&gt;json_encode($string)&lt;/code&gt; works &lt;em&gt;if&lt;/em&gt; you encode the source string as UTF-8 first in case it is not already, because &lt;code&gt;json_encode&lt;/code&gt; requires UTF-8 data. If the string is in ISO-8859-1 then you can simply use &lt;code&gt;json_encode(utf8_encode($string))&lt;/code&gt;; otherwise you can always use &lt;code&gt;iconv&lt;/code&gt; to do the conversion first.&lt;/p&gt;\n\n&lt;p&gt;But there&apos;s a big gotcha. If you&apos;re using it in events, you need to run &lt;code&gt;htmlspecialchars()&lt;/code&gt; on the result in order to make it correct code. And then you have to either be careful to use double quotes to enclose the event, or always add &lt;code&gt;ENT_QUOTES&lt;/code&gt; to htmlspecialchars. For example:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt;\n    &lt;span class=&quot;hljs-variable&quot;&gt;$myvar&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;I&apos;m in \\&quot;UTF-8\\&quot; encoding and I have &amp;lt;script&amp;gt;script tags&amp;lt;/script&amp;gt; &amp;amp; ampersand!&quot;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Fails:&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;//echo &apos;&amp;lt;body onload=&quot;alert(&apos;, json_encode($myvar), &apos;);&quot;&amp;gt;&apos;;&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Fails:&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;//echo &quot;&amp;lt;body onload=&apos;alert(&quot;, json_encode($myvar), &quot;);&apos;&amp;gt;&quot;;&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Fails:&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;//echo &quot;&amp;lt;body onload=&apos;alert(&quot;, htmlspecialchars(json_encode($myvar)), &quot;);&apos;&amp;gt;&quot;;&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Works:&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;//echo &quot;&amp;lt;body onload=&apos;alert(&quot;, htmlspecialchars(json_encode($myvar), ENT_QUOTES), &quot;);&apos;&amp;gt;&quot;;&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Works:&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;body onload=&quot;alert(&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;htmlspecialchars&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;json_encode&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$myvar&lt;/span&gt;)), &lt;span class=&quot;hljs-string&quot;&gt;&apos;);&quot;&amp;gt;&apos;&lt;/span&gt;;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&amp;lt;/body&amp;gt;&quot;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;However, you can&apos;t use &lt;code&gt;htmlspecialchars&lt;/code&gt; on regular JavaScript code (code enclosed in &lt;code&gt;&amp;lt;script&amp;gt;&lt;/code&gt;...&lt;code&gt;&amp;lt;/script&amp;gt;&lt;/code&gt; tags). That makes use of this function prone to mistakes, by forgetting to &lt;code&gt;htmlspecialchars&lt;/code&gt; the result when writing event code.&lt;/p&gt;\n\n&lt;p&gt;It&apos;s possible to write a function that does not have that problem, and can be used both in events and in regular JavaScript code, as long as you enclose your events always in single quotes, or always in double quotes. Here is my proposal, requiring them to be in double quotes (which I prefer):&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Optionally pass the encoding of the source string, if not UTF-8&lt;/span&gt;\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;escapeJSString&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$string&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$encoding&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;UTF-8&apos;&lt;/span&gt;&lt;/span&gt;)\n    &lt;/span&gt;{\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable&quot;&gt;$encoding&lt;/span&gt; != &lt;span class=&quot;hljs-string&quot;&gt;&apos;UTF-8&apos;&lt;/span&gt;)\n            &lt;span class=&quot;hljs-variable&quot;&gt;$string&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;iconv&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$encoding&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;UTF-8&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$string&lt;/span&gt;);\n        &lt;span class=&quot;hljs-variable&quot;&gt;$flags&lt;/span&gt; = JSON_HEX_TAG|JSON_HEX_AMP|JSON_HEX_APOS|JSON_HEX_QUOT|JSON_UNESCAPED_SLASHES;\n        &lt;span class=&quot;hljs-variable&quot;&gt;$string&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;substr&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;json_encode&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$string&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$flags&lt;/span&gt;), &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;, -&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;);\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&apos;&lt;span class=&quot;hljs-subst&quot;&gt;$string&lt;/span&gt;&apos;&quot;&lt;/span&gt;;\n    }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;The function requires PHP 5.4+. Example usage:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt;\n    &lt;span class=&quot;hljs-variable&quot;&gt;$myvar&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;I&apos;m in \\&quot;UTF-8\\&quot; encoding and I have &amp;lt;script&amp;gt;script tags&amp;lt;/script&amp;gt; &amp;amp; ampersand!&quot;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Note use of double quotes to enclose the event definition!&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;body onload=&quot;alert(&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;escapeJSString&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$myvar&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&apos;);&quot;&amp;gt;&apos;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Example with regular code:&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;script&amp;gt;alert(&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;escapeJSString&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$myvar&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&apos;);&amp;lt;/script&amp;gt;&apos;&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;/body&amp;gt;&apos;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;After much research, I found the easiest method is to pass all kinds of variables easily.&lt;/p&gt;\n\n&lt;p&gt;In the server script, you have two variables, and you are trying to send them to the client scripts:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$php_var1&lt;/span&gt; =&lt;span class=&quot;hljs-string&quot;&gt;&quot;Hello world&quot;&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable&quot;&gt;$php_var2&lt;/span&gt; =&lt;span class=&quot;hljs-string&quot;&gt;&quot;Helloow&quot;&lt;/span&gt;;\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;script&amp;gt;&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;var js_variable1= &apos;&lt;/span&gt; . json_encode(&lt;span class=&quot;hljs-variable&quot;&gt;$php_var1&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;;&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;var js_variable2= &apos;&lt;/span&gt; . json_encode(&lt;span class=&quot;hljs-variable&quot;&gt;$php_var2&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;;&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;/script&amp;gt;&apos;&lt;/span&gt;;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;In any of your JavaScript code called on the page, simply call those variables.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;PHP&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$fruits&lt;/span&gt; = &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;apple&quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;yellow&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;strawberry&quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;red&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&quot;kiwi&quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;green&quot;&lt;/span&gt;);\n&amp;lt;script&amp;gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; color = &lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;json_encode&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$fruits&lt;/span&gt;) &lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;;\n&amp;lt;/script&amp;gt;\n&amp;lt;script src=&lt;span class=&quot;hljs-string&quot;&gt;&quot;../yourexternal.js&quot;&lt;/span&gt;&amp;gt;&amp;lt;/script&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;JS&lt;/strong&gt; &lt;em&gt;(yourexternal.js)&lt;/em&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;alert(&quot;The apple &lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt; is&quot; + &lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;hljs-selector-attr&quot;&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;apple&apos;&lt;/span&gt;]&lt;/span&gt; + &quot;, the strawberry &lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt; is &quot; + &lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;hljs-selector-attr&quot;&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;strawberry&apos;&lt;/span&gt;]&lt;/span&gt; + &quot; and the kiwi &lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt; is &quot; + &lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;hljs-selector-attr&quot;&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;kiwi&apos;&lt;/span&gt;]&lt;/span&gt; + &quot;.&quot;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;OUTPUT&lt;/strong&gt;&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;The apple color is yellow, the strawberry color is red and the kiwi\n  color is green.&lt;/p&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;p&gt;As per your code&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-variable&quot;&gt;$php&lt;/span&gt;\n     &lt;span class=&quot;hljs-variable&quot;&gt;$val&lt;/span&gt; = &lt;span class=&quot;hljs-variable&quot;&gt;$myService&lt;/span&gt;-&amp;gt;&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;getValue&lt;/span&gt;(); &lt;span class=&quot;hljs-comment&quot;&gt;// Makes an API and database call&lt;/span&gt;\n     &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;span id=&quot;value&quot;&amp;gt;&apos;&lt;/span&gt;.&lt;span class=&quot;hljs-variable&quot;&gt;$val&lt;/span&gt;.&lt;span class=&quot;hljs-string&quot;&gt;&apos;&amp;lt;/span&amp;gt;&apos;&lt;/span&gt;;\n$&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now you can get value using DOM, use innerHTML of span id, in this case you don&apos;t need to do any call to server, or Ajax or another thing.&lt;/p&gt;\n\n&lt;p&gt;Your page will print it using PHP, and you JavaScript will get value using DOM.&lt;/p&gt;\n    ","\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-variable&quot;&gt;$val&lt;/span&gt; = &lt;span class=&quot;hljs-variable&quot;&gt;$myService&lt;/span&gt;-&amp;gt;&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;getValue&lt;/span&gt;(); &lt;span class=&quot;hljs-comment&quot;&gt;// Makes an API and database call&lt;/span&gt;\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;\n        &amp;lt;script&amp;gt;\n            myPlugin.start(&lt;span class=&quot;hljs-subst&quot;&gt;{$val}&lt;/span&gt;);\n        &amp;lt;/script&amp;gt; &quot;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;we also can do it in this way for some usecases:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt;\n    \n&lt;span class=&quot;hljs-variable&quot;&gt;$inPhpVar&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;i am php var&quot;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ScriptInline&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&amp;lt;&amp;lt;&amp;lt;JS\n&amp;lt;script&amp;gt;\nalert(&apos;&lt;span class=&quot;hljs-subst&quot;&gt;{$inPhpVar}&lt;/span&gt; that used in js code&apos;);\n&amp;lt;/script&amp;gt;\nJS&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$ScriptInline&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;If you need to get some important data in your script, that is available in php, you can automatically echo a complete script before your script where the data is needed, with some globals with that information.&lt;/p&gt;\n&lt;p&gt;In your scirpt imports on your html:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php-template&quot;&gt;&lt;span class=&quot;language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;&amp;lt;script&amp;gt;\n                const importantData = &quot;&lt;/span&gt;.&lt;span class=&quot;hljs-variable&quot;&gt;$php_data&lt;/span&gt;.&lt;span class=&quot;hljs-string&quot;&gt;&quot;;\n        &amp;lt;/script&amp;gt;&quot;&lt;/span&gt;;\n&lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;language-xml&quot;&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;../assets/js/your_script.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;So then you can access that information through the const named &apos;importantData&apos; from your_script.js&lt;/p&gt;\n    "],"id":121,"title":"How do I pass variables and data from PHP to JavaScript?","content":"\n                    &lt;div&gt;\n            &lt;aside class=&quot;s-notice s-notice__info post-notice js-post-notice mb16&quot; role=&quot;status&quot;&gt;\n        &lt;div class=&quot;d-flex fd-column fw-nowrap&quot;&gt;\n            &lt;div class=&quot;d-flex fw-nowrap&quot;&gt;\n                    &lt;div class=&quot;flex--item mr8&quot;&gt;\n                        &lt;svg aria-hidden=&quot;true&quot; class=&quot;svg-icon iconLightbulb&quot; width=&quot;18&quot; height=&quot;18&quot; viewBox=&quot;0 0 18 18&quot;&gt;&lt;path d=&quot;M15 6.38A6.48 6.48 0 0 0 7.78.04h-.02A6.49 6.49 0 0 0 2.05 5.6a6.31 6.31 0 0 0 2.39 5.75c.49.39.76.93.76 1.5v.24c0 1.07.89 1.9 1.92 1.9h2.75c1.04 0 1.92-.83 1.92-1.9v-.2c0-.6.26-1.15.7-1.48A6.32 6.32 0 0 0 15 6.37ZM4.03 5.85A4.49 4.49 0 0 1 8 2.02a4.48 4.48 0 0 1 5 4.36 4.3 4.3 0 0 1-1.72 3.44c-.98.74-1.5 1.9-1.5 3.08v.1H7.2v-.14c0-1.23-.6-2.34-1.53-3.07a4.32 4.32 0 0 1-1.64-3.94ZM10 18a1 1 0 0 0 0-2H7a1 1 0 1 0 0 2h3Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;\n                    &lt;/div&gt;\n                &lt;div class=&quot;flex--item wmn0 fl1 lh-lg&quot;&gt;\n                    &lt;div class=&quot;flex--item fl1 lh-lg&quot;&gt;\n                        &lt;b&gt;Want to improve this post?&lt;/b&gt; Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.\n                        \n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n&lt;/aside&gt;\n\n    &lt;/div&gt;\n\n&lt;p&gt;I have a variable in PHP, and I need its value in my JavaScript code. How can I get my variable from PHP to JavaScript?&lt;/p&gt;\n&lt;p&gt;I have code that looks like this:&lt;/p&gt;\n&lt;pre class=&quot;lang-php s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt;\n&lt;span class=&quot;hljs-variable&quot;&gt;$val&lt;/span&gt; = &lt;span class=&quot;hljs-variable&quot;&gt;$myService&lt;/span&gt;-&amp;gt;&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;getValue&lt;/span&gt;(); &lt;span class=&quot;hljs-comment&quot;&gt;// Makes an API and database call&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;On the same page, I have JavaScript code that needs the value of the &lt;code&gt;$val&lt;/code&gt; variable to be passed as a parameter:&lt;/p&gt;\n&lt;pre class=&quot;lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&amp;lt;script&amp;gt;\n    myPlugin.&lt;span class=&quot;hljs-title function_&quot;&gt;start&lt;/span&gt;($val); &lt;span class=&quot;hljs-comment&quot;&gt;// I tried this, but it didn&apos;t work&lt;/span&gt;\n    &amp;lt;?php myPlugin.&lt;span class=&quot;hljs-title function_&quot;&gt;start&lt;/span&gt;($val); ?&amp;gt; &lt;span class=&quot;hljs-comment&quot;&gt;// This didn&apos;t work either&lt;/span&gt;\n    myPlugin.&lt;span class=&quot;hljs-title function_&quot;&gt;start&lt;/span&gt;(&amp;lt;?=$val?&amp;gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// This works sometimes, but sometimes it fails&lt;/span&gt;\n&amp;lt;/script&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","slug":"how-do-i-pass-variables-and-data-from-php-to-javascript-1657384684553","postType":"QUESTION","createdAt":"2022-07-09T16:38:04.000Z","updatedAt":"2022-07-09T16:38:04.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"Why is processing a sorted array faster than processing an unsorted array?","slug":"why-is-processing-a-sorted-array-faster-than-processing-an-unsorted-array-1657385497444"},{"title":"Generating random whole numbers in JavaScript in a specific range","slug":"generating-random-whole-numbers-in-javascript-in-a-specific-range-1657388112728"},{"title":"srand()  why call it only once?","slug":"srand()-why-call-it-only-once-1657387794760"},{"title":"Why is iostream::eof inside a loop condition (i.e. `while (!stream.eof())`) considered wrong?","slug":"why-is-iostream::eof-inside-a-loop-condition-(i.e.-while-(!stream.eof()))-considered-wrong-1657384355427"},{"title":"Do DOM tree elements with IDs become global properties?","slug":"do-dom-tree-elements-with-ids-become-global-properties-1657387475110"},{"title":"Error: could not find function ... in R","slug":"error:-could-not-find-function-...-in-r-1657388476492"},{"title":"How do we control web page caching, across all browsers?","slug":"how-do-we-control-web-page-caching-across-all-browsers-1657387529059"},{"title":"AsyncTask Android example","slug":"asynctask-android-example-1657388127898"},{"title":"How do you remove duplicates from a list whilst preserving order?","slug":"how-do-you-remove-duplicates-from-a-list-whilst-preserving-order-1657387877978"},{"title":"Command not found error in Bash variable assignment","slug":"command-not-found-error-in-bash-variable-assignment-1657388326347"},{"title":"How do I write a correct micro-benchmark in Java?","slug":"how-do-i-write-a-correct-micro-benchmark-in-java-1657384488725"},{"title":"How do I create variable variables?","slug":"how-do-i-create-variable-variables-1657384387679"},{"title":"Reference: What is variable scope, which variables are accessible from where and what are \"undefined variable\" errors?","slug":"reference:-what-is-variable-scope-which-variables-are-accessible-from-where-and-what-are-\"undefined-variable\"-errors-1657384644697"},{"title":"What does a \"Cannot find symbol\" or \"Cannot resolve symbol\" error mean?","slug":"what-does-a-\"cannot-find-symbol\"-or-\"cannot-resolve-symbol\"-error-mean-1657384492160"},{"title":"Removing duplicates in lists","slug":"removing-duplicates-in-lists-1657388207448"},{"title":"Variables are not behaving as expected","slug":"variables-are-not-behaving-as-expected-1657384865672"},{"title":"Why does my ArrayList contain N copies of the last item added to the list?","slug":"why-does-my-arraylist-contain-n-copies-of-the-last-item-added-to-the-list-1657387712003"},{"title":"What is the difference between a deep copy and a shallow copy?","slug":"what-is-the-difference-between-a-deep-copy-and-a-shallow-copy-1657388445063"},{"title":"How do I use extern to share variables between source files?","slug":"how-do-i-use-extern-to-share-variables-between-source-files-1657387453605"},{"title":"What is the copy-and-swap idiom?","slug":"what-is-the-copy-and-swap-idiom-1657384840329"}]},"__N_SSG":true}