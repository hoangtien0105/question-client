{"pageProps":{"data":{"answer":["\n&lt;p&gt;Data is loaded from Firebase asynchronously. Since it may take some time to get the data from the server, the main Android code continues and Firebase calls your &lt;code&gt;onDataChange&lt;/code&gt; when the data is available.&lt;/p&gt;\n&lt;p&gt;This means that by the time you &lt;code&gt;return mContactsFromFirebase&lt;/code&gt; it is still empty. The easiest way to see this is by placing a few log statements:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Before attaching listener&quot;&lt;/span&gt;);\n&lt;span class=&quot;hljs-title class_&quot;&gt;FirebaseDatabase&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getInstance&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;getReference&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;child&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Users&quot;&lt;/span&gt;)\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;addListenerForSingleValueEvent&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ValueEventListener&lt;/span&gt;() {\n      &lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n      &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;onDataChange&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;DataSnapshot dataSnapshot&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-title class_&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;In onDataChange&quot;&lt;/span&gt;);\n      }\n      &lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n      &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;onCancelled&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;DatabaseError databaseError&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; databaseError.&lt;span class=&quot;hljs-title function_&quot;&gt;toException&lt;/span&gt;(); &lt;span class=&quot;hljs-comment&quot;&gt;// don&apos;t ignore errors&lt;/span&gt;\n      }\n    });\n&lt;span class=&quot;hljs-title class_&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;After attaching listener&quot;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;When you run this code, it will print:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Before attaching listener&lt;/p&gt;\n&lt;p&gt;After attaching listener&lt;/p&gt;\n&lt;p&gt;In onDataChange&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;That is probably not the order that you expected the output in. As you can see the line &lt;em&gt;after&lt;/em&gt; the callback gets called before &lt;code&gt;onDataChange&lt;/code&gt;. That explains why the list you return is empty, or (more correctly) it is empty when you return it and only gets filled later.&lt;/p&gt;\n&lt;p&gt;There are a few ways of dealing with this asynchronous loading.&lt;/p&gt;\n&lt;p&gt;The simplest to explain is to put all code that returns the list &lt;em&gt;into&lt;/em&gt; the &lt;code&gt;onDataChange&lt;/code&gt; method. That means that this code is only execute after the data has been loaded. In its simplest form:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;onDataChange&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;DataSnapshot dataSnapshot&lt;/span&gt;)&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (DataSnapshot snapshot : dataSnapshot.getChildren()) {\n        Users user = snapshot.getValue(Users.&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt;);\n        assert user != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;;\n        String contact_found = user.getPhone_number();\n        mContactsFromFirebase.&lt;span class=&quot;hljs-keyword&quot;&gt;add&lt;/span&gt;(contact_found);\n        System.&lt;span class=&quot;hljs-keyword&quot;&gt;out&lt;/span&gt;.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Loaded &quot;&lt;/span&gt;+mContactsFromFirebase.size()+&lt;span class=&quot;hljs-string&quot;&gt;&quot; contacts&quot;&lt;/span&gt;);\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;p&gt;But there are more approaches including using a custom callback (similar to Firebase&apos;s own &lt;code&gt;ValueEventListener&lt;/code&gt;):&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Java&lt;/strong&gt;:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;UserListCallback&lt;/span&gt; {\n  &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;onCallback&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;List&amp;lt;Users&amp;gt; &lt;span class=&quot;hljs-keyword&quot;&gt;value&lt;/span&gt;&lt;/span&gt;)&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;Kotlin&lt;/strong&gt;:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt;&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;UserListCallback&lt;/span&gt; &lt;/span&gt;{\n  &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;onCallback&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(value:&lt;span class=&quot;hljs-type&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-type&quot;&gt;Users&lt;/span&gt;&amp;gt;)&lt;/span&gt;&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Now you can pass in an implementation of this interface to your &lt;code&gt;getContactsFromFirebase&lt;/code&gt; method:&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Java&lt;/strong&gt;:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;getContactsFromFirebase&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;final UserListCallback myCallback&lt;/span&gt;) {\n  databaseReference.&lt;span class=&quot;hljs-title function_&quot;&gt;child&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;format&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;users/%s/name&quot;&lt;/span&gt;, uid)).&lt;span class=&quot;hljs-title function_&quot;&gt;addListenerForSingleValueEvent&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ValueEventListener&lt;/span&gt;() {\n    &lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;onDataChange&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;DataSnapshot dataSnapshot&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-title class_&quot;&gt;DataSnapshot&lt;/span&gt; snapshot : dataSnapshot.&lt;span class=&quot;hljs-title function_&quot;&gt;getChildren&lt;/span&gt;()) {\n        &lt;span class=&quot;hljs-title class_&quot;&gt;Users&lt;/span&gt; user = snapshot.&lt;span class=&quot;hljs-title function_&quot;&gt;getValue&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Users&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;class&lt;/span&gt;);\n        assert user != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;;\n        &lt;span class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt; contact_found = user.&lt;span class=&quot;hljs-title function_&quot;&gt;getPhone_number&lt;/span&gt;();\n        mContactsFromFirebase.&lt;span class=&quot;hljs-title function_&quot;&gt;add&lt;/span&gt;(contact_found);\n        &lt;span class=&quot;hljs-title class_&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Loaded &quot;&lt;/span&gt;+mContactsFromFirebase.&lt;span class=&quot;hljs-title function_&quot;&gt;size&lt;/span&gt;()+&lt;span class=&quot;hljs-string&quot;&gt;&quot; contacts&quot;&lt;/span&gt;);\n      }\n      myCallback.&lt;span class=&quot;hljs-title function_&quot;&gt;onCallback&lt;/span&gt;(mContactsFromFirebase);\n    }\n\n    &lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;onCancelled&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;DatabaseError databaseError&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; databaseError.&lt;span class=&quot;hljs-title function_&quot;&gt;toException&lt;/span&gt;();\n    }\n  });\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;Kotlin&lt;/strong&gt;:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;getContactsFromFirebase&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(myCallback:&lt;span class=&quot;hljs-type&quot;&gt;UserListCallback&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt; {\n  databaseReference.child(String.format(&lt;span class=&quot;hljs-string&quot;&gt;&quot;users/%s/name&quot;&lt;/span&gt;, uid)).addListenerForSingleValueEvent(&lt;span class=&quot;hljs-keyword&quot;&gt;object&lt;/span&gt;:ValueEventListener() {\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;onDataChange&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(dataSnapshot:&lt;span class=&quot;hljs-type&quot;&gt;DataSnapshot&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt; {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (snapshot &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; dataSnapshot.getChildren())\n      {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;val&lt;/span&gt; user = snapshot.getValue(Users::&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt;.java)\n        assert(user != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;)\n        &lt;span class=&quot;hljs-keyword&quot;&gt;val&lt;/span&gt; contact_found = user.getPhone_number()\n        mContactsFromFirebase.add(contact_found)\n        System.&lt;span class=&quot;hljs-keyword&quot;&gt;out&lt;/span&gt;.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Loaded &quot;&lt;/span&gt; + mContactsFromFirebase.size() + &lt;span class=&quot;hljs-string&quot;&gt;&quot; contacts&quot;&lt;/span&gt;)\n      }\n      myCallback.onCallback(mContactsFromFirebase)\n    }\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;onCancelled&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(databaseError:&lt;span class=&quot;hljs-type&quot;&gt;DatabaseError&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt; {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; databaseError.toException()\n    }\n  })\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;And then call it like this:&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Java&lt;/strong&gt;:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;getContactsFromFirebase&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;UserListCallback&lt;/span&gt;() {\n  &lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;onCallback&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;List&amp;lt;Users&amp;gt; users&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-title class_&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Loaded &quot;&lt;/span&gt;+users.&lt;span class=&quot;hljs-title function_&quot;&gt;size&lt;/span&gt;()+&lt;span class=&quot;hljs-string&quot;&gt;&quot; contacts&quot;&lt;/span&gt;)\n  }\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;Kotlin&lt;/strong&gt;:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt;getContactsFromFirebase(&lt;span class=&quot;hljs-keyword&quot;&gt;object&lt;/span&gt;:UserListCallback() {\n  &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;onCallback&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(users:&lt;span class=&quot;hljs-type&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-type&quot;&gt;Users&lt;/span&gt;&amp;gt;)&lt;/span&gt;&lt;/span&gt; {\n    System.&lt;span class=&quot;hljs-keyword&quot;&gt;out&lt;/span&gt;.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Loaded &quot;&lt;/span&gt; + users.size() + &lt;span class=&quot;hljs-string&quot;&gt;&quot; contacts&quot;&lt;/span&gt;)\n  }\n})\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;It&apos;s not as simple as when data is loaded synchronously, but this has the advantage that it runs without blocking your main thread.&lt;/p&gt;\n&lt;p&gt;This topic has been discussed &lt;em&gt;a lot&lt;/em&gt; before, so I recommend you check out some of these questions too:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;this &lt;a href=&quot;https://medium.com/google-developers/why-are-firebase-apis-asynchronous-callbacks-promises-tasks-e037a6654a93&quot; rel=&quot;noreferrer&quot;&gt;blog post from Doug&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener&quot;&gt;Setting Singleton property value in Firebase Listener&lt;/a&gt; (where I explained how in some cases you &lt;em&gt;can&lt;/em&gt; get synchronous data loading, but usually can&apos;t)&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/29345638/return-an-object-android/29373963#29373963&quot;&gt;return an object Android&lt;/a&gt; (the first time I used the log statements to explain what&apos;s going on)&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/31700830/is-it-possible-to-synchronously-load-data-from-firebase&quot;&gt;Is it possible to synchronously load data from Firebase?&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/a/38188683&quot;&gt;https://stackoverflow.com/a/38188683&lt;/a&gt; (where Doug shows a cool-but-complex way of using the &lt;code&gt;Task&lt;/code&gt; API with Firebase Database)&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method&quot;&gt;How to return DataSnapshot value as a result of a method?&lt;/a&gt; (from where I borrowed some of the callback syntax)&lt;/li&gt;\n&lt;/ul&gt;\n    "],"id":565,"title":"getContactsFromFirebase() method return an empty list","content":"\n                \n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt;&amp;gt; &lt;span class=&quot;hljs-title function_&quot;&gt;getContactsFromFirebase&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-title class_&quot;&gt;FirebaseDatabase&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getInstance&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;getReference&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;child&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Users&quot;&lt;/span&gt;)\n            .&lt;span class=&quot;hljs-title function_&quot;&gt;addListenerForSingleValueEvent&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ValueEventListener&lt;/span&gt;() {\n                &lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n                &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;onDataChange&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;DataSnapshot dataSnapshot&lt;/span&gt;) {\n                    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-title class_&quot;&gt;DataSnapshot&lt;/span&gt; snapshot : dataSnapshot.&lt;span class=&quot;hljs-title function_&quot;&gt;getChildren&lt;/span&gt;()) {\n                        &lt;span class=&quot;hljs-title class_&quot;&gt;Users&lt;/span&gt; user = snapshot.&lt;span class=&quot;hljs-title function_&quot;&gt;getValue&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Users&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;class&lt;/span&gt;);\n                        assert user != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;;\n                        &lt;span class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt; contact_found = user.&lt;span class=&quot;hljs-title function_&quot;&gt;getPhone_number&lt;/span&gt;();\n                        mContactsFromFirebase.&lt;span class=&quot;hljs-title function_&quot;&gt;add&lt;/span&gt;(contact_found);\n                        &lt;span class=&quot;hljs-title class_&quot;&gt;Log&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;i&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Test&quot;&lt;/span&gt;, mContactsFromFirebase.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;());\n                    }\n\n                }\n                &lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n                &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;onCancelled&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;DatabaseError databaseError&lt;/span&gt;) {\n                }\n            });\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; mContactsFromFirebase;\n\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I can&apos;t seem to find the error. In the code above, when I call the log, I get the values from &lt;code&gt;mContactsFromFirebase&lt;/code&gt;, but the &lt;code&gt;getContactsFromFirebase()&lt;/code&gt; method return an empty list. Could you help me please?&lt;/p&gt;\n    ","slug":"getcontactsfromfirebase()-method-return-an-empty-list-1657388433928","postType":"QUESTION","createdAt":"2022-07-09T17:40:33.000Z","updatedAt":"2022-07-09T17:40:33.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"Does JavaScript guarantee object property order?","slug":"does-javascript-guarantee-object-property-order-1657384822587"},{"title":"Iterating through a Collection, avoiding ConcurrentModificationException when removing objects in a loop","slug":"iterating-through-a-collection-avoiding-concurrentmodificationexception-when-removing-objects-in-a-loop-1657387311824"},{"title":"Sort (order) data frame rows by multiple columns","slug":"sort-(order)-data-frame-rows-by-multiple-columns-1657388355671"},{"title":"What is the best way to detect a mobile device?","slug":"what-is-the-best-way-to-detect-a-mobile-device-1657387665025"},{"title":"Why should there be spaces around '[' and ']' in Bash?","slug":"why-should-there-be-spaces-around-''-and-''-in-bash-1657387984122"},{"title":"Deserialize JSON into C# dynamic object?","slug":"deserialize-json-into-c-dynamic-object-1657388568720"},{"title":"addEventListener vs onclick","slug":"addeventlistener-vs-onclick-1657388191429"},{"title":"How to fix \"Headers already sent\" error in PHP","slug":"how-to-fix-\"headers-already-sent\"-error-in-php-1657384315553"},{"title":"Why is the gets function so dangerous that it should not be used?","slug":"why-is-the-gets-function-so-dangerous-that-it-should-not-be-used-1657384544362"},{"title":"How do I use reflection to call a generic method?","slug":"how-do-i-use-reflection-to-call-a-generic-method-1657387256751"},{"title":"How can I sort arrays and data in PHP?","slug":"how-can-i-sort-arrays-and-data-in-php-1657384726665"},{"title":"Where should I put <script> tags in HTML markup?","slug":"where-should-i-put-lessscriptgreater-tags-in-html-markup-1657388350798"},{"title":"Why does the order in which libraries are linked sometimes cause errors in GCC?","slug":"why-does-the-order-in-which-libraries-are-linked-sometimes-cause-errors-in-gcc-1657387609554"},{"title":"How to parse JSON in Java","slug":"how-to-parse-json-in-java-1657384575136"},{"title":"What is array to pointer decay?","slug":"what-is-array-to-pointer-decay-1657384709608"},{"title":"Is there a unique Android device ID?","slug":"is-there-a-unique-android-device-id-1657388089268"},{"title":"How can I do a FULL OUTER JOIN in MySQL?","slug":"how-can-i-do-a-full-outer-join-in-mysql-1657388175444"},{"title":"How do you use a variable in a regular expression?","slug":"how-do-you-use-a-variable-in-a-regular-expression-1657387939007"},{"title":"Official locator strategies for the webdriver","slug":"official-locator-strategies-for-the-webdriver-1657384353174"},{"title":"What special characters must be escaped in regular expressions?","slug":"what-special-characters-must-be-escaped-in-regular-expressions-1657387465381"}]},"__N_SSG":true}