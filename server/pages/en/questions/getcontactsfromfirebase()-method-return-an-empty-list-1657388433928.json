{"pageProps":{"data":{"answer":["\n&lt;p&gt;Data is loaded from Firebase asynchronously. Since it may take some time to get the data from the server, the main Android code continues and Firebase calls your &lt;code&gt;onDataChange&lt;/code&gt; when the data is available.&lt;/p&gt;\n&lt;p&gt;This means that by the time you &lt;code&gt;return mContactsFromFirebase&lt;/code&gt; it is still empty. The easiest way to see this is by placing a few log statements:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;&lt;span class=&quot;hljs-title class_&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Before attaching listener&quot;&lt;/span&gt;);\n&lt;span class=&quot;hljs-title class_&quot;&gt;FirebaseDatabase&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getInstance&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;getReference&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;child&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Users&quot;&lt;/span&gt;)\n    .&lt;span class=&quot;hljs-title function_&quot;&gt;addListenerForSingleValueEvent&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ValueEventListener&lt;/span&gt;() {\n      &lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n      &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;onDataChange&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;DataSnapshot dataSnapshot&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-title class_&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;In onDataChange&quot;&lt;/span&gt;);\n      }\n      &lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n      &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;onCancelled&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;DatabaseError databaseError&lt;/span&gt;) {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; databaseError.&lt;span class=&quot;hljs-title function_&quot;&gt;toException&lt;/span&gt;(); &lt;span class=&quot;hljs-comment&quot;&gt;// don&apos;t ignore errors&lt;/span&gt;\n      }\n    });\n&lt;span class=&quot;hljs-title class_&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;After attaching listener&quot;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;When you run this code, it will print:&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Before attaching listener&lt;/p&gt;\n&lt;p&gt;After attaching listener&lt;/p&gt;\n&lt;p&gt;In onDataChange&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;That is probably not the order that you expected the output in. As you can see the line &lt;em&gt;after&lt;/em&gt; the callback gets called before &lt;code&gt;onDataChange&lt;/code&gt;. That explains why the list you return is empty, or (more correctly) it is empty when you return it and only gets filled later.&lt;/p&gt;\n&lt;p&gt;There are a few ways of dealing with this asynchronous loading.&lt;/p&gt;\n&lt;p&gt;The simplest to explain is to put all code that returns the list &lt;em&gt;into&lt;/em&gt; the &lt;code&gt;onDataChange&lt;/code&gt; method. That means that this code is only execute after the data has been loaded. In its simplest form:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;onDataChange&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;DataSnapshot dataSnapshot&lt;/span&gt;)&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (DataSnapshot snapshot : dataSnapshot.getChildren()) {\n        Users user = snapshot.getValue(Users.&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt;);\n        assert user != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;;\n        String contact_found = user.getPhone_number();\n        mContactsFromFirebase.&lt;span class=&quot;hljs-keyword&quot;&gt;add&lt;/span&gt;(contact_found);\n        System.&lt;span class=&quot;hljs-keyword&quot;&gt;out&lt;/span&gt;.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Loaded &quot;&lt;/span&gt;+mContactsFromFirebase.size()+&lt;span class=&quot;hljs-string&quot;&gt;&quot; contacts&quot;&lt;/span&gt;);\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;p&gt;But there are more approaches including using a custom callback (similar to Firebase&apos;s own &lt;code&gt;ValueEventListener&lt;/code&gt;):&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Java&lt;/strong&gt;:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;UserListCallback&lt;/span&gt; {\n  &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;onCallback&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;List&amp;lt;Users&amp;gt; &lt;span class=&quot;hljs-keyword&quot;&gt;value&lt;/span&gt;&lt;/span&gt;)&lt;/span&gt;;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;Kotlin&lt;/strong&gt;:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt;&lt;span class=&quot;hljs-class&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;UserListCallback&lt;/span&gt; &lt;/span&gt;{\n  &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;onCallback&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(value:&lt;span class=&quot;hljs-type&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-type&quot;&gt;Users&lt;/span&gt;&amp;gt;)&lt;/span&gt;&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Now you can pass in an implementation of this interface to your &lt;code&gt;getContactsFromFirebase&lt;/code&gt; method:&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Java&lt;/strong&gt;:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;getContactsFromFirebase&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;final UserListCallback myCallback&lt;/span&gt;) {\n  databaseReference.&lt;span class=&quot;hljs-title function_&quot;&gt;child&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;format&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;users/%s/name&quot;&lt;/span&gt;, uid)).&lt;span class=&quot;hljs-title function_&quot;&gt;addListenerForSingleValueEvent&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ValueEventListener&lt;/span&gt;() {\n    &lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;onDataChange&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;DataSnapshot dataSnapshot&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-title class_&quot;&gt;DataSnapshot&lt;/span&gt; snapshot : dataSnapshot.&lt;span class=&quot;hljs-title function_&quot;&gt;getChildren&lt;/span&gt;()) {\n        &lt;span class=&quot;hljs-title class_&quot;&gt;Users&lt;/span&gt; user = snapshot.&lt;span class=&quot;hljs-title function_&quot;&gt;getValue&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Users&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;class&lt;/span&gt;);\n        assert user != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;;\n        &lt;span class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt; contact_found = user.&lt;span class=&quot;hljs-title function_&quot;&gt;getPhone_number&lt;/span&gt;();\n        mContactsFromFirebase.&lt;span class=&quot;hljs-title function_&quot;&gt;add&lt;/span&gt;(contact_found);\n        &lt;span class=&quot;hljs-title class_&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Loaded &quot;&lt;/span&gt;+mContactsFromFirebase.&lt;span class=&quot;hljs-title function_&quot;&gt;size&lt;/span&gt;()+&lt;span class=&quot;hljs-string&quot;&gt;&quot; contacts&quot;&lt;/span&gt;);\n      }\n      myCallback.&lt;span class=&quot;hljs-title function_&quot;&gt;onCallback&lt;/span&gt;(mContactsFromFirebase);\n    }\n\n    &lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;onCancelled&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;DatabaseError databaseError&lt;/span&gt;) {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; databaseError.&lt;span class=&quot;hljs-title function_&quot;&gt;toException&lt;/span&gt;();\n    }\n  });\n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;Kotlin&lt;/strong&gt;:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;getContactsFromFirebase&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(myCallback:&lt;span class=&quot;hljs-type&quot;&gt;UserListCallback&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt; {\n  databaseReference.child(String.format(&lt;span class=&quot;hljs-string&quot;&gt;&quot;users/%s/name&quot;&lt;/span&gt;, uid)).addListenerForSingleValueEvent(&lt;span class=&quot;hljs-keyword&quot;&gt;object&lt;/span&gt;:ValueEventListener() {\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;onDataChange&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(dataSnapshot:&lt;span class=&quot;hljs-type&quot;&gt;DataSnapshot&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt; {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (snapshot &lt;span class=&quot;hljs-keyword&quot;&gt;in&lt;/span&gt; dataSnapshot.getChildren())\n      {\n        &lt;span class=&quot;hljs-keyword&quot;&gt;val&lt;/span&gt; user = snapshot.getValue(Users::&lt;span class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt;.java)\n        assert(user != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;)\n        &lt;span class=&quot;hljs-keyword&quot;&gt;val&lt;/span&gt; contact_found = user.getPhone_number()\n        mContactsFromFirebase.add(contact_found)\n        System.&lt;span class=&quot;hljs-keyword&quot;&gt;out&lt;/span&gt;.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Loaded &quot;&lt;/span&gt; + mContactsFromFirebase.size() + &lt;span class=&quot;hljs-string&quot;&gt;&quot; contacts&quot;&lt;/span&gt;)\n      }\n      myCallback.onCallback(mContactsFromFirebase)\n    }\n    &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;onCancelled&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(databaseError:&lt;span class=&quot;hljs-type&quot;&gt;DatabaseError&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt; {\n      &lt;span class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; databaseError.toException()\n    }\n  })\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;And then call it like this:&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Java&lt;/strong&gt;:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;&lt;span class=&quot;hljs-title function_&quot;&gt;getContactsFromFirebase&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;UserListCallback&lt;/span&gt;() {\n  &lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;onCallback&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;List&amp;lt;Users&amp;gt; users&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-title class_&quot;&gt;System&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;out&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;println&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Loaded &quot;&lt;/span&gt;+users.&lt;span class=&quot;hljs-title function_&quot;&gt;size&lt;/span&gt;()+&lt;span class=&quot;hljs-string&quot;&gt;&quot; contacts&quot;&lt;/span&gt;)\n  }\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;strong&gt;Kotlin&lt;/strong&gt;:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-kotlin&quot;&gt;getContactsFromFirebase(&lt;span class=&quot;hljs-keyword&quot;&gt;object&lt;/span&gt;:UserListCallback() {\n  &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;fun&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;onCallback&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(users:&lt;span class=&quot;hljs-type&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-type&quot;&gt;Users&lt;/span&gt;&amp;gt;)&lt;/span&gt;&lt;/span&gt; {\n    System.&lt;span class=&quot;hljs-keyword&quot;&gt;out&lt;/span&gt;.println(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Loaded &quot;&lt;/span&gt; + users.size() + &lt;span class=&quot;hljs-string&quot;&gt;&quot; contacts&quot;&lt;/span&gt;)\n  }\n})\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;It&apos;s not as simple as when data is loaded synchronously, but this has the advantage that it runs without blocking your main thread.&lt;/p&gt;\n&lt;p&gt;This topic has been discussed &lt;em&gt;a lot&lt;/em&gt; before, so I recommend you check out some of these questions too:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;this &lt;a href=&quot;https://medium.com/google-developers/why-are-firebase-apis-asynchronous-callbacks-promises-tasks-e037a6654a93&quot; rel=&quot;noreferrer&quot;&gt;blog post from Doug&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener&quot;&gt;Setting Singleton property value in Firebase Listener&lt;/a&gt; (where I explained how in some cases you &lt;em&gt;can&lt;/em&gt; get synchronous data loading, but usually can&apos;t)&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/29345638/return-an-object-android/29373963#29373963&quot;&gt;return an object Android&lt;/a&gt; (the first time I used the log statements to explain what&apos;s going on)&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/31700830/is-it-possible-to-synchronously-load-data-from-firebase&quot;&gt;Is it possible to synchronously load data from Firebase?&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/a/38188683&quot;&gt;https://stackoverflow.com/a/38188683&lt;/a&gt; (where Doug shows a cool-but-complex way of using the &lt;code&gt;Task&lt;/code&gt; API with Firebase Database)&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method&quot;&gt;How to return DataSnapshot value as a result of a method?&lt;/a&gt; (from where I borrowed some of the callback syntax)&lt;/li&gt;\n&lt;/ul&gt;\n    "],"id":565,"title":"getContactsFromFirebase() method return an empty list","content":"\n                \n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-typescript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;List&lt;/span&gt;&amp;lt;&lt;span class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt;&amp;gt; &lt;span class=&quot;hljs-title function_&quot;&gt;getContactsFromFirebase&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n    &lt;span class=&quot;hljs-title class_&quot;&gt;FirebaseDatabase&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;getInstance&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;getReference&lt;/span&gt;().&lt;span class=&quot;hljs-title function_&quot;&gt;child&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Users&quot;&lt;/span&gt;)\n            .&lt;span class=&quot;hljs-title function_&quot;&gt;addListenerForSingleValueEvent&lt;/span&gt;(&lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;ValueEventListener&lt;/span&gt;() {\n                &lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n                &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;onDataChange&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;DataSnapshot dataSnapshot&lt;/span&gt;) {\n                    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-title class_&quot;&gt;DataSnapshot&lt;/span&gt; snapshot : dataSnapshot.&lt;span class=&quot;hljs-title function_&quot;&gt;getChildren&lt;/span&gt;()) {\n                        &lt;span class=&quot;hljs-title class_&quot;&gt;Users&lt;/span&gt; user = snapshot.&lt;span class=&quot;hljs-title function_&quot;&gt;getValue&lt;/span&gt;(&lt;span class=&quot;hljs-title class_&quot;&gt;Users&lt;/span&gt;.&lt;span class=&quot;hljs-property&quot;&gt;class&lt;/span&gt;);\n                        assert user != &lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;;\n                        &lt;span class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt; contact_found = user.&lt;span class=&quot;hljs-title function_&quot;&gt;getPhone_number&lt;/span&gt;();\n                        mContactsFromFirebase.&lt;span class=&quot;hljs-title function_&quot;&gt;add&lt;/span&gt;(contact_found);\n                        &lt;span class=&quot;hljs-title class_&quot;&gt;Log&lt;/span&gt;.&lt;span class=&quot;hljs-title function_&quot;&gt;i&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;Test&quot;&lt;/span&gt;, mContactsFromFirebase.&lt;span class=&quot;hljs-title function_&quot;&gt;toString&lt;/span&gt;());\n                    }\n\n                }\n                &lt;span class=&quot;hljs-meta&quot;&gt;@Override&lt;/span&gt;\n                &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;onCancelled&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;DatabaseError databaseError&lt;/span&gt;) {\n                }\n            });\n\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; mContactsFromFirebase;\n\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I can&apos;t seem to find the error. In the code above, when I call the log, I get the values from &lt;code&gt;mContactsFromFirebase&lt;/code&gt;, but the &lt;code&gt;getContactsFromFirebase()&lt;/code&gt; method return an empty list. Could you help me please?&lt;/p&gt;\n    ","slug":"getcontactsfromfirebase()-method-return-an-empty-list-1657388433928","postType":"QUESTION","createdAt":"2022-07-09T17:40:33.000Z","updatedAt":"2022-07-09T17:40:33.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"When should I wrap quotes around a shell variable?","slug":"when-should-i-wrap-quotes-around-a-shell-variable-1657384659265"},{"title":"How do I sort a dictionary by value?","slug":"how-do-i-sort-a-dictionary-by-value-1657385485049"},{"title":"Example images for code and mark-up Q&As [closed]","slug":"example-images-for-code-and-mark-up-qandas-closed-1657387690222"},{"title":"What is the \"N+1 selects problem\" in ORM (Object-Relational Mapping)?","slug":"what-is-the-\"n+1-selects-problem\"-in-orm-(object-relational-mapping)-1657388055597"},{"title":"JQuery - $ is not defined","slug":"jquery-dollar-is-not-defined-1657388385731"},{"title":"Generating random whole numbers in JavaScript in a specific range","slug":"generating-random-whole-numbers-in-javascript-in-a-specific-range-1657388112728"},{"title":"How does the \"this\" keyword work, and when should it be used?","slug":"how-does-the-\"this\"-keyword-work-and-when-should-it-be-used-1657384384385"},{"title":"What are valid values for the id attribute in HTML?","slug":"what-are-valid-values-for-the-id-attribute-in-html-1657384874780"},{"title":"What are good ways to prevent SQL injection? [duplicate]","slug":"what-are-good-ways-to-prevent-sql-injection-duplicate-1657388431570"},{"title":"Why not use Double or Float to represent currency?","slug":"why-not-use-double-or-float-to-represent-currency-1657387417964"},{"title":"How to use variables in SQL statement in Python?","slug":"how-to-use-variables-in-sql-statement-in-python-1657388479077"},{"title":"How do I detect collision in pygame?","slug":"how-do-i-detect-collision-in-pygame-1657387496338"},{"title":"Does JavaScript guarantee object property order?","slug":"does-javascript-guarantee-object-property-order-1657384822587"},{"title":"How do I Pandas group-by to get sum?","slug":"how-do-i-pandas-group-by-to-get-sum-1657387908708"},{"title":"Actual meaning of 'shell=True' in subprocess","slug":"actual-meaning-of-'shelltrue'-in-subprocess-1657388470341"},{"title":"How to generate all permutations of a list","slug":"how-to-generate-all-permutations-of-a-list-1657388537371"},{"title":"How can I access and process nested objects, arrays, or JSON?","slug":"how-can-i-access-and-process-nested-objects-arrays-or-json-1657384332823"},{"title":"How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?","slug":"how-do-i-determine-the-correct-path-for-fxml-files-css-files-images-and-other-resources-needed-by-my-javafx-application-1657388143988"},{"title":"Selenium \"selenium.common.exceptions.NoSuchElementException\" when using Chrome","slug":"selenium-\"selenium.common.exceptions.nosuchelementexception\"-when-using-chrome-1657388136699"},{"title":"How do I attach events to dynamic HTML elements with jQuery? [duplicate]","slug":"how-do-i-attach-events-to-dynamic-html-elements-with-jquery-duplicate-1657387992964"}]},"__N_SSG":true}