<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find the solution to any question. We focus on finding the fastest possible solution for users. Main topics like coding, learning. - solutionschecker.com"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><link name="keywords" content="solutions checker, solution checker, how to, solution for, check for solution, resolve question, what is, what solution for, find solution"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://solutionschecker.com","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://solutionschecker.com/questions","name":"Questions"}},{"@type":"ListItem","position":3,"item":{"@id":"https://solutionschecker.com/questions/is-there-a-built-in-function-for-string-natural-sort-1657388069553","name":"Questions"}}]}</script><title>Is there a built in function for string natural sort? | Solution Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="I have a list of strings for which I would like to perform a natural alphabetical sort.
For instance, the following list is naturally sorted (what I want):
[&#x27;elm0&#x27;, &#x27;elm1&#x27;, &#x27;Elm2&#x27;, &#x27;elm9&#x27;, &#x27;elm10&#x27;, &#x27;Elm11&#x27;, &#x27;Elm12&#x27;, &#x27;elm13&#x27;]

And here&#x27;s the &quot;sorted&quot; version of the above list (what I get using sorted()):
[&#x27;Elm11&#x27;, &#x27;Elm12&#x27;, &#x27;Elm2&#x27;, &#x27;elm0&#x27;, &#x27;elm1&#x27;, &#x27;elm10&#x27;, &#x27;elm13&#x27;, &#x27;elm9&#x27;]

I&#x27;m looking for a sort function which behaves like the first one.
    "/><meta property="og:title" content="Is there a built in function for string natural sort? | Solution Checker"/><meta property="og:description" content="I have a list of strings for which I would like to perform a natural alphabetical sort.
For instance, the following list is naturally sorted (what I want):
[&#x27;elm0&#x27;, &#x27;elm1&#x27;, &#x27;Elm2&#x27;, &#x27;elm9&#x27;, &#x27;elm10&#x27;, &#x27;Elm11&#x27;, &#x27;Elm12&#x27;, &#x27;elm13&#x27;]

And here&#x27;s the &quot;sorted&quot; version of the above list (what I get using sorted()):
[&#x27;Elm11&#x27;, &#x27;Elm12&#x27;, &#x27;Elm2&#x27;, &#x27;elm0&#x27;, &#x27;elm1&#x27;, &#x27;elm10&#x27;, &#x27;elm13&#x27;, &#x27;elm9&#x27;]

I&#x27;m looking for a sort function which behaves like the first one.
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"Is there a built in function for string natural sort?","text":"I have a list of strings for which I would like to perform a natural alphabetical sort.\nFor instance, the following list is naturally sorted (what I want):\n[&apos;elm0&apos;, &apos;elm1&apos;, &apos;Elm2&apos;, &apos;elm9&apos;, &apos;elm10&apos;, &apos;Elm11&apos;, &apos;Elm12&apos;, &apos;elm13&apos;]\n\nAnd here&apos;s the &quot;sorted&quot; version of the above list (what I get using sorted()):\n[&apos;Elm11&apos;, &apos;Elm12&apos;, &apos;Elm2&apos;, &apos;elm0&apos;, &apos;elm1&apos;, &apos;elm10&apos;, &apos;elm13&apos;, &apos;elm9&apos;]\n\nI&apos;m looking for a sort function which behaves like the first one.\n    ","answerCount":22,"upVoteCount":500,"suggestedAnswer":[{"text":"There is a third party library for this on PyPI called natsort (full disclosure, I am the package&apos;s author).  For your case, you can do either of the following:\n&gt;&gt;&gt; from natsort import natsorted, ns\n&gt;&gt;&gt; x = [&apos;Elm11&apos;, &apos;Elm12&apos;, &apos;Elm2&apos;, &apos;elm0&apos;, &apos;elm1&apos;, &apos;elm10&apos;, &apos;elm13&apos;, &apos;elm9&apos;]\n&gt;&gt;&gt; natsorted(x, key=lambda y: y.lower())\n[&apos;elm0&apos;, &apos;elm1&apos;, &apos;Elm2&apos;, &apos;elm9&apos;, &apos;elm10&apos;, &apos;Elm11&apos;, &apos;Elm12&apos;, &apos;elm13&apos;]\n&gt;&gt;&gt; natsorted(x, alg=ns.IGNORECASE)  # or alg=ns.IC\n[&apos;elm0&apos;, &apos;elm1&apos;, &apos;Elm2&apos;, &apos;elm9&apos;, &apos;elm10&apos;, &apos;Elm11&apos;, &apos;Elm12&apos;, &apos;elm13&apos;]\n\nYou should note that natsort uses a general algorithm so it should work for just about any input that you throw at it. If you want more details on why you might choose a library to do this rather than rolling your own function, check out the natsort documentation&apos;s How It Works page, in particular the Special Cases Everywhere! section.\n\nIf you need a sorting key instead of a sorting function, use either of the below formulas.\n&gt;&gt;&gt; from natsort import natsort_keygen, ns\n&gt;&gt;&gt; l1 = [&apos;elm0&apos;, &apos;elm1&apos;, &apos;Elm2&apos;, &apos;elm9&apos;, &apos;elm10&apos;, &apos;Elm11&apos;, &apos;Elm12&apos;, &apos;elm13&apos;]\n&gt;&gt;&gt; l2 = l1[:]\n&gt;&gt;&gt; natsort_key1 = natsort_keygen(key=lambda y: y.lower())\n&gt;&gt;&gt; l1.sort(key=natsort_key1)\n&gt;&gt;&gt; l1\n[&apos;elm0&apos;, &apos;elm1&apos;, &apos;Elm2&apos;, &apos;elm9&apos;, &apos;elm10&apos;, &apos;Elm11&apos;, &apos;Elm12&apos;, &apos;elm13&apos;]\n&gt;&gt;&gt; natsort_key2 = natsort_keygen(alg=ns.IGNORECASE)\n&gt;&gt;&gt; l2.sort(key=natsort_key2)\n&gt;&gt;&gt; l2\n[&apos;elm0&apos;, &apos;elm1&apos;, &apos;Elm2&apos;, &apos;elm9&apos;, &apos;elm10&apos;, &apos;Elm11&apos;, &apos;Elm12&apos;, &apos;elm13&apos;]\n\n\nUpdate November 2020\nGiven that a popular request/question is &quot;how to sort like Windows Explorer?&quot; (or whatever is your operating system&apos;s file system browser), as of natsort version 7.1.0 there is a function called os_sorted to do exactly this. On Windows, it will sort in the same order as Windows Explorer, and on other operating systems it should sort like whatever is the local file system browser.\n&gt;&gt;&gt; from natsort import os_sorted\n&gt;&gt;&gt; os_sorted(list_of_paths)\n# your paths sorted like your file system browser\n\nFor those needing a sort key, you can use os_sort_keygen (or os_sort_key if you just need the defaults).\nCaveat - Please read the API documentation for this function before you use to understand the limitations and how to get best results.\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"Try this:\nimport re\n\ndef natural_sort(l): \n    convert = lambda text: int(text) if text.isdigit() else text.lower()\n    alphanum_key = lambda key: [convert(c) for c in re.split(&apos;([0-9]+)&apos;, key)]\n    return sorted(l, key=alphanum_key)\n\nOutput:\n[&apos;elm0&apos;, &apos;elm1&apos;, &apos;Elm2&apos;, &apos;elm9&apos;, &apos;elm10&apos;, &apos;Elm11&apos;, &apos;Elm12&apos;, &apos;elm13&apos;]\n\nCode adapted from here: Sorting for Humans : Natural Sort Order.\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"Here&apos;s a much more pythonic version of Mark Byer&apos;s answer:\nimport re\n\ndef natural_sort_key(s, _nsre=re.compile(&apos;([0-9]+)&apos;)):\n    return [int(text) if text.isdigit() else text.lower()\n            for text in _nsre.split(s)]\n\nNow this function can be used as a key in any function that uses it, like list.sort, sorted, max, etc.\nAs a lambda:\nlambda s: [int(t) if t.isdigit() else t.lower() for t in re.split(&apos;(\\d+)&apos;, s)]\n\n\nFully reproducible demo code:\nimport re\nnatsort = lambda s: [int(t) if t.isdigit() else t.lower() for t in re.split(&apos;(\\d+)&apos;, s)]\nL = [&quot;a1&quot;, &quot;a10&quot;, &quot;a11&quot;, &quot;a2&quot;, &quot;a22&quot;, &quot;a3&quot;]   \nprint(sorted(L, key=natsort))  \n# [&apos;a1&apos;, &apos;a2&apos;, &apos;a3&apos;, &apos;a10&apos;, &apos;a11&apos;, &apos;a22&apos;] \n\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"data = [&apos;elm13&apos;, &apos;elm9&apos;, &apos;elm0&apos;, &apos;elm1&apos;, &apos;Elm11&apos;, &apos;Elm2&apos;, &apos;elm10&apos;]\n\n\nLet&apos;s analyse the data. The digit capacity of all elements is 2. And there are 3 letters in common literal part &apos;elm&apos;. \n\nSo, the maximal length of element is 5. We can increase this value to make sure (for example, to 8).\n\nBearing that in mind, we&apos;ve got a one-line solution:\n\ndata.sort(key=lambda x: &apos;{0:0&gt;8}&apos;.format(x).lower())\n\n\nwithout regular expressions and external libraries!\n\nprint(data)\n\n&gt;&gt;&gt; [&apos;elm0&apos;, &apos;elm1&apos;, &apos;Elm2&apos;, &apos;elm9&apos;, &apos;elm10&apos;, &apos;Elm11&apos;, &apos;elm13&apos;]\n\n\nExplanation:\n\nfor elm in data:\n    print(&apos;{0:0&gt;8}&apos;.format(elm).lower())\n\n&gt;&gt;&gt;\n0000elm0\n0000elm1\n0000elm2\n0000elm9\n000elm10\n000elm11\n000elm13\n\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"I wrote a function based on http://www.codinghorror.com/blog/2007/12/sorting-for-humans-natural-sort-order.html which adds the ability to still pass in your own &apos;key&apos; parameter. I need this in order to perform a natural sort of lists that contain more complex objects (not just strings).\n\nimport re\n\ndef natural_sort(list, key=lambda s:s):\n    &quot;&quot;&quot;\n    Sort the list into natural alphanumeric order.\n    &quot;&quot;&quot;\n    def get_alphanum_key_func(key):\n        convert = lambda text: int(text) if text.isdigit() else text \n        return lambda s: [convert(c) for c in re.split(&apos;([0-9]+)&apos;, key(s))]\n    sort_key = get_alphanum_key_func(key)\n    list.sort(key=sort_key)\n\n\nFor example:\n\nmy_list = [{&apos;name&apos;:&apos;b&apos;}, {&apos;name&apos;:&apos;10&apos;}, {&apos;name&apos;:&apos;a&apos;}, {&apos;name&apos;:&apos;1&apos;}, {&apos;name&apos;:&apos;9&apos;}]\nnatural_sort(my_list, key=lambda x: x[&apos;name&apos;])\nprint my_list\n[{&apos;name&apos;: &apos;1&apos;}, {&apos;name&apos;: &apos;9&apos;}, {&apos;name&apos;: &apos;10&apos;}, {&apos;name&apos;: &apos;a&apos;}, {&apos;name&apos;: &apos;b&apos;}]\n\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"Given:\ndata = [&apos;Elm11&apos;, &apos;Elm12&apos;, &apos;Elm2&apos;, &apos;elm0&apos;, &apos;elm1&apos;, &apos;elm10&apos;, &apos;elm13&apos;, &apos;elm9&apos;]\n\nSimilar to SergO&apos;s solution, a 1-liner without external libraries would be:\ndata.sort(key=lambda x: int(x[3:]))\n\nor\nsorted_data = sorted(data, key=lambda x: int(x[3:]))\n\nExplanation:\nThis solution uses the key feature of sort to define a function that will be employed for the sorting. Because we know that every data entry is preceded by &apos;elm&apos; the sorting function converts to integer the portion of the string after the 3rd character (i.e. int(x[3:])). If the numerical part of the data is in a different location, then this part of the function would have to change.\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"And now for something more* elegant (pythonic) -just a touch\n\nThere are many implementations out there, and while some have come close, none quite captured the elegance modern python affords.\n\n\nTested using python(3.5.1)\nIncluded an additional list to demonstrate that it works when the\nnumbers are mid string\nDidn&apos;t test, however, I am assuming that if your list was sizable it would be more efficient to compile the regex beforehand\n\n\nI&apos;m sure someone will correct me if this is an erroneous assumption\n\n\n\n\n\nQuicky\n\nfrom re import compile, split    \ndre = compile(r&apos;(\\d+)&apos;)\nmylist.sort(key=lambda l: [int(s) if s.isdigit() else s.lower() for s in split(dre, l)])\n\n\nFull-Code\n\n#!/usr/bin/python3\n# coding=utf-8\n&quot;&quot;&quot;\nNatural-Sort Test\n&quot;&quot;&quot;\n\nfrom re import compile, split\n\ndre = compile(r&apos;(\\d+)&apos;)\nmylist = [&apos;elm0&apos;, &apos;elm1&apos;, &apos;Elm2&apos;, &apos;elm9&apos;, &apos;elm10&apos;, &apos;Elm11&apos;, &apos;Elm12&apos;, &apos;elm13&apos;, &apos;elm&apos;]\nmylist2 = [&apos;e0lm&apos;, &apos;e1lm&apos;, &apos;E2lm&apos;, &apos;e9lm&apos;, &apos;e10lm&apos;, &apos;E12lm&apos;, &apos;e13lm&apos;, &apos;elm&apos;, &apos;e01lm&apos;]\n\nmylist.sort(key=lambda l: [int(s) if s.isdigit() else s.lower() for s in split(dre, l)])\nmylist2.sort(key=lambda l: [int(s) if s.isdigit() else s.lower() for s in split(dre, l)])\n\nprint(mylist)  \n  # [&apos;elm&apos;, &apos;elm0&apos;, &apos;elm1&apos;, &apos;Elm2&apos;, &apos;elm9&apos;, &apos;elm10&apos;, &apos;Elm11&apos;, &apos;Elm12&apos;, &apos;elm13&apos;]\nprint(mylist2)  \n  # [&apos;e0lm&apos;, &apos;e1lm&apos;, &apos;e01lm&apos;, &apos;E2lm&apos;, &apos;e9lm&apos;, &apos;e10lm&apos;, &apos;E12lm&apos;, &apos;e13lm&apos;, &apos;elm&apos;]\n\n\nCaution when using\n\n\nfrom os.path import split\n\n\nyou will need to differentiate the imports\n\n\n\nInspiration from\n\n\nPython Documentation- Sorting HOW TO\nSorting for Humans : Natural Sort Order\nHuman Sorting\nContributors/Commentators to this and referenced posts \n\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"Value Of This Post\nMy point is to offer a non regex solution that can be applied generally.\nI&apos;ll create three functions:\n\nfind_first_digit which I borrowed from @AnuragUniyal.  It will find the position of the first digit or non-digit in a string.\nsplit_digits which is a generator that picks apart a string into digit and non digit chunks.  It will also yield integers when it is a digit.\nnatural_key just wraps split_digits into a tuple.  This is what we use as a key for sorted, max, min.\n\nFunctions\ndef find_first_digit(s, non=False):\n    for i, x in enumerate(s):\n        if x.isdigit() ^ non:\n            return i\n    return -1\n\ndef split_digits(s, case=False):\n    non = True\n    while s:\n        i = find_first_digit(s, non)\n        if i == 0:\n            non = not non\n        elif i == -1:\n            yield int(s) if s.isdigit() else s if case else s.lower()\n            s = &apos;&apos;\n        else:\n            x, s = s[:i], s[i:]\n            yield int(x) if x.isdigit() else x if case else x.lower()\n\ndef natural_key(s, *args, **kwargs):\n    return tuple(split_digits(s, *args, **kwargs))\n\nWe can see that it is general in that we can have multiple digit chunks:\n# Note that the key has lower case letters\nnatural_key(&apos;asl;dkfDFKJ:sdlkfjdf809lkasdjfa_543_hh&apos;)\n\n(&apos;asl;dkfdfkj:sdlkfjdf&apos;, 809, &apos;lkasdjfa_&apos;, 543, &apos;_hh&apos;)\n\nOr leave as case sensitive:\nnatural_key(&apos;asl;dkfDFKJ:sdlkfjdf809lkasdjfa_543_hh&apos;, True)\n\n(&apos;asl;dkfDFKJ:sdlkfjdf&apos;, 809, &apos;lkasdjfa_&apos;, 543, &apos;_hh&apos;)\n\n\nWe can see that it sorts the OP&apos;s list in the appropriate order\nsorted(\n    [&apos;elm0&apos;, &apos;elm1&apos;, &apos;Elm2&apos;, &apos;elm9&apos;, &apos;elm10&apos;, &apos;Elm11&apos;, &apos;Elm12&apos;, &apos;elm13&apos;],\n    key=natural_key\n)\n\n[&apos;elm0&apos;, &apos;elm1&apos;, &apos;Elm2&apos;, &apos;elm9&apos;, &apos;elm10&apos;, &apos;Elm11&apos;, &apos;Elm12&apos;, &apos;elm13&apos;]\n\nBut it can handle more complicated lists as well:\nsorted(\n    [&apos;f_1&apos;, &apos;e_1&apos;, &apos;a_2&apos;, &apos;g_0&apos;, &apos;d_0_12:2&apos;, &apos;d_0_1_:2&apos;],\n    key=natural_key\n)\n\n[&apos;a_2&apos;, &apos;d_0_1_:2&apos;, &apos;d_0_12:2&apos;, &apos;e_1&apos;, &apos;f_1&apos;, &apos;g_0&apos;]\n\n\nMy regex equivalent would be\ndef int_maybe(x):\n    return int(x) if str(x).isdigit() else x\n\ndef split_digits_re(s, case=False):\n    parts = re.findall(&apos;\\d+|\\D+&apos;, s)\n    if not case:\n        return map(int_maybe, (x.lower() for x in parts))\n    else:\n        return map(int_maybe, parts)\n    \ndef natural_key_re(s, *args, **kwargs):\n    return tuple(split_digits_re(s, *args, **kwargs))\n\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"One option is to turn the string into a tuple and replace digits using expanded form http://wiki.answers.com/Q/What_does_expanded_form_mean\n\nthat way a90 would become (&quot;a&quot;,90,0) and a1 would become (&quot;a&quot;,1)\n\nbelow is some sample code (which isn&apos;t very efficient due to the way It removes leading 0&apos;s from numbers)\n\nalist=[&quot;something1&quot;,\n    &quot;something12&quot;,\n    &quot;something17&quot;,\n    &quot;something2&quot;,\n    &quot;something25and_then_33&quot;,\n    &quot;something25and_then_34&quot;,\n    &quot;something29&quot;,\n    &quot;beta1.1&quot;,\n    &quot;beta2.3.0&quot;,\n    &quot;beta2.33.1&quot;,\n    &quot;a001&quot;,\n    &quot;a2&quot;,\n    &quot;z002&quot;,\n    &quot;z1&quot;]\n\ndef key(k):\n    nums=set(list(&quot;0123456789&quot;))\n        chars=set(list(k))\n    chars=chars-nums\n    for i in range(len(k)):\n        for c in chars:\n            k=k.replace(c+&quot;0&quot;,c)\n    l=list(k)\n    base=10\n    j=0\n    for i in range(len(l)-1,-1,-1):\n        try:\n            l[i]=int(l[i])*base**j\n            j+=1\n        except:\n            j=0\n    l=tuple(l)\n    print l\n    return l\n\nprint sorted(alist,key=key)\n\n\noutput:\n\n(&apos;s&apos;, &apos;o&apos;, &apos;m&apos;, &apos;e&apos;, &apos;t&apos;, &apos;h&apos;, &apos;i&apos;, &apos;n&apos;, &apos;g&apos;, 1)\n(&apos;s&apos;, &apos;o&apos;, &apos;m&apos;, &apos;e&apos;, &apos;t&apos;, &apos;h&apos;, &apos;i&apos;, &apos;n&apos;, &apos;g&apos;, 10, 2)\n(&apos;s&apos;, &apos;o&apos;, &apos;m&apos;, &apos;e&apos;, &apos;t&apos;, &apos;h&apos;, &apos;i&apos;, &apos;n&apos;, &apos;g&apos;, 10, 7)\n(&apos;s&apos;, &apos;o&apos;, &apos;m&apos;, &apos;e&apos;, &apos;t&apos;, &apos;h&apos;, &apos;i&apos;, &apos;n&apos;, &apos;g&apos;, 2)\n(&apos;s&apos;, &apos;o&apos;, &apos;m&apos;, &apos;e&apos;, &apos;t&apos;, &apos;h&apos;, &apos;i&apos;, &apos;n&apos;, &apos;g&apos;, 20, 5, &apos;a&apos;, &apos;n&apos;, &apos;d&apos;, &apos;_&apos;, &apos;t&apos;, &apos;h&apos;, &apos;e&apos;, &apos;n&apos;, &apos;_&apos;, 30, 3)\n(&apos;s&apos;, &apos;o&apos;, &apos;m&apos;, &apos;e&apos;, &apos;t&apos;, &apos;h&apos;, &apos;i&apos;, &apos;n&apos;, &apos;g&apos;, 20, 5, &apos;a&apos;, &apos;n&apos;, &apos;d&apos;, &apos;_&apos;, &apos;t&apos;, &apos;h&apos;, &apos;e&apos;, &apos;n&apos;, &apos;_&apos;, 30, 4)\n(&apos;s&apos;, &apos;o&apos;, &apos;m&apos;, &apos;e&apos;, &apos;t&apos;, &apos;h&apos;, &apos;i&apos;, &apos;n&apos;, &apos;g&apos;, 20, 9)\n(&apos;b&apos;, &apos;e&apos;, &apos;t&apos;, &apos;a&apos;, 1, &apos;.&apos;, 1)\n(&apos;b&apos;, &apos;e&apos;, &apos;t&apos;, &apos;a&apos;, 2, &apos;.&apos;, 3, &apos;.&apos;)\n(&apos;b&apos;, &apos;e&apos;, &apos;t&apos;, &apos;a&apos;, 2, &apos;.&apos;, 30, 3, &apos;.&apos;, 1)\n(&apos;a&apos;, 1)\n(&apos;a&apos;, 2)\n(&apos;z&apos;, 2)\n(&apos;z&apos;, 1)\n[&apos;a001&apos;, &apos;a2&apos;, &apos;beta1.1&apos;, &apos;beta2.3.0&apos;, &apos;beta2.33.1&apos;, &apos;something1&apos;, &apos;something2&apos;, &apos;something12&apos;, &apos;something17&apos;, &apos;something25and_then_33&apos;, &apos;something25and_then_34&apos;, &apos;something29&apos;, &apos;z1&apos;, &apos;z002&apos;]\n\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"An improvement on Claudiu&apos;s improvement on Mark Byers&apos; answer ;-)\nimport re\n\ndef natural_sort_key(s, _re=re.compile(r&apos;(\\d+)&apos;)):\n    return [int(t) if i &amp; 1 else t.lower() for i, t in enumerate(_re.split(s))]\n\n...\nmy_naturally_sorted_list = sorted(my_list, key=natural_sort_key)\n\nBTW, maybe not everyone remembers that function argument defaults are evaluated at def time\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"Based on the answers here, I wrote a natural_sorted function that behaves like the built-in function sorted:\n\n# Copyright (C) 2018, Benjamin Drung &lt;bdrung@posteo.de&gt;\n#\n# Permission to use, copy, modify, and/or distribute this software for any\n# purpose with or without fee is hereby granted, provided that the above\n# copyright notice and this permission notice appear in all copies.\n#\n# THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n# WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n# MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n# ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n# WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n# ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n# OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n\nimport re\n\ndef natural_sorted(iterable, key=None, reverse=False):\n    &quot;&quot;&quot;Return a new naturally sorted list from the items in *iterable*.\n\n    The returned list is in natural sort order. The string is ordered\n    lexicographically (using the Unicode code point number to order individual\n    characters), except that multi-digit numbers are ordered as a single\n    character.\n\n    Has two optional arguments which must be specified as keyword arguments.\n\n    *key* specifies a function of one argument that is used to extract a\n    comparison key from each list element: ``key=str.lower``.  The default value\n    is ``None`` (compare the elements directly).\n\n    *reverse* is a boolean value.  If set to ``True``, then the list elements are\n    sorted as if each comparison were reversed.\n\n    The :func:`natural_sorted` function is guaranteed to be stable. A sort is\n    stable if it guarantees not to change the relative order of elements that\n    compare equal --- this is helpful for sorting in multiple passes (for\n    example, sort by department, then by salary grade).\n    &quot;&quot;&quot;\n    prog = re.compile(r&quot;(\\d+)&quot;)\n\n    def alphanum_key(element):\n        &quot;&quot;&quot;Split given key in list of strings and digits&quot;&quot;&quot;\n        return [int(c) if c.isdigit() else c for c in prog.split(key(element)\n                if key else element)]\n\n    return sorted(iterable, key=alphanum_key, reverse=reverse)\n\n\nThe source code is also available in my GitHub snippets repository:\nhttps://github.com/bdrung/snippets/blob/master/natural_sorted.py\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"The algorithm I use is padzero_with_lower as defined as:\nimport re\n\ndef padzero_with_lower(s):\n    return re.sub(r&apos;\\d+&apos;, lambda m: m.group(0).rjust(10, &apos;0&apos;), s).lower()\n\nThe algorithm finds:\n\nfinds and pads numbers of any length, to a large enough length, e.g. 10\nthen, it turns the string into lower case\n\nHere&apos;s an example usage:\nprint(padzero_with_lower(&apos;file1.txt&apos;))   # file0000000001.txt\nprint(padzero_with_lower(&apos;file12.txt&apos;))  # file0000000012.txt\nprint(padzero_with_lower(&apos;file23.txt&apos;))  # file0000000023.txt\nprint(padzero_with_lower(&apos;file123.txt&apos;)) # file0000000123.txt\nprint(padzero_with_lower(&apos;file301.txt&apos;)) # file0000000301.txt\nprint(padzero_with_lower(&apos;Dir2/file15.txt&apos;))  # dir0000000002/file0000000015.txt\nprint(padzero_with_lower(&apos;dir2/file123.txt&apos;)) # dir0000000002/file0000000123.txt\nprint(padzero_with_lower(&apos;dir15/file2.txt&apos;))  # dir0000000015/file0000000002.txt\nprint(padzero_with_lower(&apos;Dir15/file15.txt&apos;)) # dir0000000015/file0000000015.txt\nprint(padzero_with_lower(&apos;elm0&apos;))  # elm0000000000\nprint(padzero_with_lower(&apos;elm1&apos;))  # elm0000000001\nprint(padzero_with_lower(&apos;Elm2&apos;))  # elm0000000002\nprint(padzero_with_lower(&apos;elm9&apos;))  # elm0000000009\nprint(padzero_with_lower(&apos;elm10&apos;)) # elm0000000010\nprint(padzero_with_lower(&apos;Elm11&apos;)) # elm0000000011 \nprint(padzero_with_lower(&apos;Elm12&apos;)) # elm0000000012\nprint(padzero_with_lower(&apos;elm13&apos;)) # elm0000000013\n\nWith this function tested, we can now use it as our key, i.e.\nlis = [&apos;elm0&apos;, &apos;elm1&apos;, &apos;Elm2&apos;, &apos;elm9&apos;, &apos;elm10&apos;, &apos;Elm11&apos;, &apos;Elm12&apos;, &apos;elm13&apos;]\nlis.sort(key=padzero_with_lower)\nprint(lis)\n# Output: [&apos;elm0&apos;, &apos;elm1&apos;, &apos;Elm2&apos;, &apos;elm9&apos;, &apos;elm10&apos;, &apos;Elm11&apos;, &apos;Elm12&apos;, &apos;elm13&apos;]\n\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"A compact solution, based on the transformation of the string into a List[Tuple(str, int)].\nCode\ndef string_to_pairs(s, pairs=re.compile(r&quot;(\\D*)(\\d*)&quot;).findall):\n    return [(text.lower(), int(digits or 0)) for (text, digits) in pairs(s)[:-1]]\n\nDemonstration\nsorted([&apos;Elm11&apos;, &apos;Elm12&apos;, &apos;Elm2&apos;, &apos;elm0&apos;, &apos;elm1&apos;, &apos;elm10&apos;, &apos;elm13&apos;, &apos;elm9&apos;], key=string_to_pairs)\n\nOutput:\n[&apos;elm0&apos;, &apos;elm1&apos;, &apos;Elm2&apos;, &apos;elm9&apos;, &apos;elm10&apos;, &apos;Elm11&apos;, &apos;Elm12&apos;, &apos;elm13&apos;]\n\nTests\nTransformation\nassert string_to_pairs(&quot;&quot;) == []\nassert string_to_pairs(&quot;123&quot;) == [(&quot;&quot;, 123)]\nassert string_to_pairs(&quot;abc&quot;) == [(&quot;abc&quot;, 0)]\nassert string_to_pairs(&quot;123abc&quot;) == [(&quot;&quot;, 123), (&quot;abc&quot;, 0)]\nassert string_to_pairs(&quot;abc123&quot;) == [(&quot;abc&quot;, 123)]\nassert string_to_pairs(&quot;123abc456&quot;) == [(&quot;&quot;, 123), (&quot;abc&quot;, 456)]\nassert string_to_pairs(&quot;abc123efg&quot;) == [(&quot;abc&quot;, 123), (&quot;efg&quot;, 0)]\n\nSorting\n# Some extracts from the test suite of the natsort library. Permalink:\n# https://github.com/SethMMorton/natsort/blob/e3c32f5638bf3a0e9a23633495269bea0e75d379/tests/test_natsorted.py\n\nsort_data = [\n    (  # same as test_natsorted_can_sort_as_unsigned_ints_which_is_default()\n        [&quot;a50&quot;, &quot;a51.&quot;, &quot;a50.31&quot;, &quot;a-50&quot;, &quot;a50.4&quot;, &quot;a5.034e1&quot;, &quot;a50.300&quot;],\n        [&quot;a5.034e1&quot;, &quot;a50&quot;, &quot;a50.4&quot;, &quot;a50.31&quot;, &quot;a50.300&quot;, &quot;a51.&quot;, &quot;a-50&quot;],\n    ),\n    (  # same as test_natsorted_numbers_in_ascending_order()\n        [&quot;a2&quot;, &quot;a5&quot;, &quot;a9&quot;, &quot;a1&quot;, &quot;a4&quot;, &quot;a10&quot;, &quot;a6&quot;],\n        [&quot;a1&quot;, &quot;a2&quot;, &quot;a4&quot;, &quot;a5&quot;, &quot;a6&quot;, &quot;a9&quot;, &quot;a10&quot;],\n    ),\n    (  # same as test_natsorted_can_sort_as_version_numbers()\n        [&quot;1.9.9a&quot;, &quot;1.11&quot;, &quot;1.9.9b&quot;, &quot;1.11.4&quot;, &quot;1.10.1&quot;],\n        [&quot;1.9.9a&quot;, &quot;1.9.9b&quot;, &quot;1.10.1&quot;, &quot;1.11&quot;, &quot;1.11.4&quot;],\n    ),\n    (  # different from test_natsorted_handles_filesystem_paths()\n        [\n            &quot;/p/Folder (10)/file.tar.gz&quot;,\n            &quot;/p/Folder (1)/file (1).tar.gz&quot;,\n            &quot;/p/Folder/file.x1.9.tar.gz&quot;,\n            &quot;/p/Folder (1)/file.tar.gz&quot;,\n            &quot;/p/Folder/file.x1.10.tar.gz&quot;,\n        ],\n        [\n            &quot;/p/Folder (1)/file (1).tar.gz&quot;,\n            &quot;/p/Folder (1)/file.tar.gz&quot;,\n            &quot;/p/Folder (10)/file.tar.gz&quot;,\n            &quot;/p/Folder/file.x1.9.tar.gz&quot;,\n            &quot;/p/Folder/file.x1.10.tar.gz&quot;,\n        ],\n    ),\n    (  # same as test_natsorted_path_extensions_heuristic()\n        [\n            &quot;Try.Me.Bug - 09 - One.Two.Three.[text].mkv&quot;,\n            &quot;Try.Me.Bug - 07 - One.Two.5.[text].mkv&quot;,\n            &quot;Try.Me.Bug - 08 - One.Two.Three[text].mkv&quot;,\n        ],\n        [\n            &quot;Try.Me.Bug - 07 - One.Two.5.[text].mkv&quot;,\n            &quot;Try.Me.Bug - 08 - One.Two.Three[text].mkv&quot;,\n            &quot;Try.Me.Bug - 09 - One.Two.Three.[text].mkv&quot;,\n        ],\n    ),\n    (  # same as ns.IGNORECASE for test_natsorted_supports_case_handling()\n        [&quot;Apple&quot;, &quot;corn&quot;, &quot;Corn&quot;, &quot;Banana&quot;, &quot;apple&quot;, &quot;banana&quot;],\n        [&quot;Apple&quot;, &quot;apple&quot;, &quot;Banana&quot;, &quot;banana&quot;, &quot;corn&quot;, &quot;Corn&quot;],\n    ),\n\n]\n\nfor (given, expected) in sort_data:\n    assert sorted(given, key=string_to_pairs) == expected\n\nBonus\nIf your strings mix non-ascii texts and numbers, you may be interested in composing string_to_pairs() with the function remove_diacritics() I give elsewhere.\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0},{"text":"The above answers are good for the specific example that was shown, but miss several useful cases for the more general question of natural sort. I just got bit by one of those cases, so created a more thorough solution:\n\ndef natural_sort_key(string_or_number):\n    &quot;&quot;&quot;\n    by Scott S. Lawton &lt;scott@ProductArchitect.com&gt; 2014-12-11; public domain and/or CC0 license\n\n    handles cases where simple &apos;int&apos; approach fails, e.g.\n        [&apos;0.501&apos;, &apos;0.55&apos;] floating point with different number of significant digits\n        [0.01, 0.1, 1]    already numeric so regex and other string functions won&apos;t work (and aren&apos;t required)\n        [&apos;elm1&apos;, &apos;Elm2&apos;]  ASCII vs. letters (not case sensitive)\n    &quot;&quot;&quot;\n\n    def try_float(astring):\n        try:\n            return float(astring)\n        except:\n            return astring\n\n    if isinstance(string_or_number, basestring):\n        string_or_number = string_or_number.lower()\n\n        if len(re.findall(&apos;[.]\\d&apos;, string_or_number)) &lt;= 1:\n            # assume a floating point value, e.g. to correctly sort [&apos;0.501&apos;, &apos;0.55&apos;]\n            # &apos;.&apos; for decimal is locale-specific, e.g. correct for the Anglosphere and Asia but not continental Europe\n            return [try_float(s) for s in re.split(r&apos;([\\d.]+)&apos;, string_or_number)]\n        else:\n            # assume distinct fields, e.g. IP address, phone number with &apos;.&apos;, etc.\n            # caveat: might want to first split by whitespace\n            # TBD: for unicode, replace isdigit with isdecimal\n            return [int(s) if s.isdigit() else s for s in re.split(r&apos;(\\d+)&apos;, string_or_number)]\n    else:\n        # consider: add code to recurse for lists/tuples and perhaps other iterables\n        return string_or_number\n\n\nTest code and several links (on and off of StackOverflow) are here:\nhttp://productarchitect.com/code/better-natural-sort.py\n\nFeedback welcome. That&apos;s not meant to be a definitive solution; just a step forward.\n    ","url":"/questions/[slug]#solution14","@type":"Answer","upvoteCount":0},{"text":"Most likely functools.cmp_to_key() is closely tied to the underlying implementation of python&apos;s sort. Besides, the cmp parameter is legacy. The modern way is to transform the input items into objects that support the desired rich comparison operations.\n\nUnder CPython 2.x, objects of disparate types can be ordered even if the respective rich comparison operators haven&apos;t been implemented. Under CPython 3.x, objects of different types must explicitly support the comparison. See How does Python compare string and int? which links to the official documentation. Most of the answers depend on this implicit ordering. Switching to Python 3.x will require a new type to implement and unify comparisons between numbers and strings.\n\nPython 2.7.12 (default, Sep 29 2016, 13:30:34) \n&gt;&gt;&gt; (0,&quot;foo&quot;) &lt; (&quot;foo&quot;,0)\nTrue  \n\n\n\n\nPython 3.5.2 (default, Oct 14 2016, 12:54:53) \n&gt;&gt;&gt; (0,&quot;foo&quot;) &lt; (&quot;foo&quot;,0)\nTraceback (most recent call last):\n  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\n  TypeError: unorderable types: int() &lt; str()\n\n\nThere are three different approaches. The first uses nested classes to take advantage of Python&apos;s Iterable comparison algorithm. The second unrolls this nesting into a single class. The third foregoes subclassing str to focus on performance. All are timed; the second is twice as fast while the third almost six times faster. Subclassing str isn&apos;t required, and was probably a bad idea in the first place, but it does come with certain conveniences.\n\nThe sort characters are duplicated to force ordering by case, and case-swapped to force lower case letter to sort first; this is the typical definition of &quot;natural sort&quot;. I couldn&apos;t decide on the type of grouping; some might prefer the following, which also brings significant performance benefits:\n\nd = lambda s: s.lower()+s.swapcase()\n\n\nWhere utilized, the comparison operators are set to that of object so they won&apos;t be ignored by functools.total_ordering.\n\nimport functools\nimport itertools\n\n\n@functools.total_ordering\nclass NaturalStringA(str):\n    def __repr__(self):\n        return &quot;{}({})&quot;.format\\\n            ( type(self).__name__\n            , super().__repr__()\n            )\n    d = lambda c, s: [ c.NaturalStringPart(&quot;&quot;.join(v))\n                        for k,v in\n                       itertools.groupby(s, c.isdigit)\n                     ]\n    d = classmethod(d)\n    @functools.total_ordering\n    class NaturalStringPart(str):\n        d = lambda s: &quot;&quot;.join(c.lower()+c.swapcase() for c in s)\n        d = staticmethod(d)\n        def __lt__(self, other):\n            if not isinstance(self, type(other)):\n                return NotImplemented\n            try:\n                return int(self) &lt; int(other)\n            except ValueError:\n                if self.isdigit():\n                    return True\n                elif other.isdigit():\n                    return False\n                else:\n                    return self.d(self) &lt; self.d(other)\n        def __eq__(self, other):\n            if not isinstance(self, type(other)):\n                return NotImplemented\n            try:\n                return int(self) == int(other)\n            except ValueError:\n                if self.isdigit() or other.isdigit():\n                    return False\n                else:\n                    return self.d(self) == self.d(other)\n        __le__ = object.__le__\n        __ne__ = object.__ne__\n        __gt__ = object.__gt__\n        __ge__ = object.__ge__\n    def __lt__(self, other):\n        return self.d(self) &lt; self.d(other)\n    def __eq__(self, other):\n        return self.d(self) == self.d(other)\n    __le__ = object.__le__\n    __ne__ = object.__ne__\n    __gt__ = object.__gt__\n    __ge__ = object.__ge__\n\n\n\n\nimport functools\nimport itertools\n\n\n@functools.total_ordering\nclass NaturalStringB(str):\n    def __repr__(self):\n        return &quot;{}({})&quot;.format\\\n            ( type(self).__name__\n            , super().__repr__()\n            )\n    d = lambda s: &quot;&quot;.join(c.lower()+c.swapcase() for c in s)\n    d = staticmethod(d)\n    def __lt__(self, other):\n        if not isinstance(self, type(other)):\n            return NotImplemented\n        groups = map(lambda i: itertools.groupby(i, type(self).isdigit), (self, other))\n        zipped = itertools.zip_longest(*groups)\n        for s,o in zipped:\n            if s is None:\n                return True\n            if o is None:\n                return False\n            s_k, s_v = s[0], &quot;&quot;.join(s[1])\n            o_k, o_v = o[0], &quot;&quot;.join(o[1])\n            if s_k and o_k:\n                s_v, o_v = int(s_v), int(o_v)\n                if s_v == o_v:\n                    continue\n                return s_v &lt; o_v\n            elif s_k:\n                return True\n            elif o_k:\n                return False\n            else:\n                s_v, o_v = self.d(s_v), self.d(o_v)\n                if s_v == o_v:\n                    continue\n                return s_v &lt; o_v\n        return False\n    def __eq__(self, other):\n        if not isinstance(self, type(other)):\n            return NotImplemented\n        groups = map(lambda i: itertools.groupby(i, type(self).isdigit), (self, other))\n        zipped = itertools.zip_longest(*groups)\n        for s,o in zipped:\n            if s is None or o is None:\n                return False\n            s_k, s_v = s[0], &quot;&quot;.join(s[1])\n            o_k, o_v = o[0], &quot;&quot;.join(o[1])\n            if s_k and o_k:\n                s_v, o_v = int(s_v), int(o_v)\n                if s_v == o_v:\n                    continue\n                return False\n            elif s_k or o_k:\n                return False\n            else:\n                s_v, o_v = self.d(s_v), self.d(o_v)\n                if s_v == o_v:\n                    continue\n                return False\n        return True\n    __le__ = object.__le__\n    __ne__ = object.__ne__\n    __gt__ = object.__gt__\n    __ge__ = object.__ge__\n\n\n\n\nimport functools\nimport itertools\nimport enum\n\n\nclass OrderingType(enum.Enum):\n    PerWordSwapCase         = lambda s: s.lower()+s.swapcase()\n    PerCharacterSwapCase    = lambda s: &quot;&quot;.join(c.lower()+c.swapcase() for c in s)\n\n\nclass NaturalOrdering:\n    @classmethod\n    def by(cls, ordering):\n        def wrapper(string):\n            return cls(string, ordering)\n        return wrapper\n    def __init__(self, string, ordering=OrderingType.PerCharacterSwapCase):\n        self.string = string\n        self.groups = [ (k,int(&quot;&quot;.join(v)))\n                            if k else\n                        (k,ordering(&quot;&quot;.join(v)))\n                            for k,v in\n                        itertools.groupby(string, str.isdigit)\n                      ]\n    def __repr__(self):\n        return &quot;{}({})&quot;.format\\\n            ( type(self).__name__\n            , self.string\n            )\n    def __lesser(self, other, default):\n        if not isinstance(self, type(other)):\n            return NotImplemented\n        for s,o in itertools.zip_longest(self.groups, other.groups):\n            if s is None:\n                return True\n            if o is None:\n                return False\n            s_k, s_v = s\n            o_k, o_v = o\n            if s_k and o_k:\n                if s_v == o_v:\n                    continue\n                return s_v &lt; o_v\n            elif s_k:\n                return True\n            elif o_k:\n                return False\n            else:\n                if s_v == o_v:\n                    continue\n                return s_v &lt; o_v\n        return default\n    def __lt__(self, other):\n        return self.__lesser(other, default=False)\n    def __le__(self, other):\n        return self.__lesser(other, default=True)\n    def __eq__(self, other):\n        if not isinstance(self, type(other)):\n            return NotImplemented\n        for s,o in itertools.zip_longest(self.groups, other.groups):\n            if s is None or o is None:\n                return False\n            s_k, s_v = s\n            o_k, o_v = o\n            if s_k and o_k:\n                if s_v == o_v:\n                    continue\n                return False\n            elif s_k or o_k:\n                return False\n            else:\n                if s_v == o_v:\n                    continue\n                return False\n        return True\n    # functools.total_ordering doesn&apos;t create single-call wrappers if both\n    # __le__ and __lt__ exist, so do it manually.\n    def __gt__(self, other):\n        op_result = self.__le__(other)\n        if op_result is NotImplemented:\n            return op_result\n        return not op_result\n    def __ge__(self, other):\n        op_result = self.__lt__(other)\n        if op_result is NotImplemented:\n            return op_result\n        return not op_result\n    # __ne__ is the only implied ordering relationship, it automatically\n    # delegates to __eq__\n\n\n\n\n&gt;&gt;&gt; import natsort\n&gt;&gt;&gt; import timeit\n&gt;&gt;&gt; l1 = [&apos;Apple&apos;, &apos;corn&apos;, &apos;apPlE&apos;, &apos;arbour&apos;, &apos;Corn&apos;, &apos;Banana&apos;, &apos;apple&apos;, &apos;banana&apos;]\n&gt;&gt;&gt; l2 = list(map(str, range(30)))\n&gt;&gt;&gt; l3 = [&quot;{} {}&quot;.format(x,y) for x in l1 for y in l2]\n&gt;&gt;&gt; print(timeit.timeit(&apos;sorted(l3+[&quot;0&quot;], key=NaturalStringA)&apos;, number=10000, globals=globals()))\n362.4729259099986\n&gt;&gt;&gt; print(timeit.timeit(&apos;sorted(l3+[&quot;0&quot;], key=NaturalStringB)&apos;, number=10000, globals=globals()))\n189.7340817489967\n&gt;&gt;&gt; print(timeit.timeit(&apos;sorted(l3+[&quot;0&quot;], key=NaturalOrdering.by(OrderingType.PerCharacterSwapCase))&apos;, number=10000, globals=globals()))\n69.34636392899847\n&gt;&gt;&gt; print(timeit.timeit(&apos;natsort.natsorted(l3+[&quot;0&quot;], alg=natsort.ns.GROUPLETTERS | natsort.ns.LOWERCASEFIRST)&apos;, number=10000, globals=globals()))\n98.2531585780016\n\n\nNatural sorting is both pretty complicated and vaguely defined as a problem. Don&apos;t forget to run unicodedata.normalize(...) beforehand, and consider use str.casefold() rather than str.lower(). There are probably subtle encoding issues I haven&apos;t considered. So I tentatively recommend the natsort library. I took a quick glance at the github repository; the code maintenance has been stellar.\n\nAll the algorithms I&apos;ve seen depend on tricks such as duplicating and lowering characters, and swapping case. While this doubles the running time, an alternative would require a total natural ordering on the input character set. I don&apos;t think this is part of the unicode specification, and since there are many more unicode digits than [0-9], creating such a sorting would be equally daunting. If you want locale-aware comparisons, prepare your strings with locale.strxfrm per Python&apos;s Sorting HOW TO.\n    ","url":"/questions/[slug]#solution15","@type":"Answer","upvoteCount":0},{"text":"Following @Mark Byers answer, here is an adaptation which accepts the key parameter, and is more PEP8-compliant.\n\ndef natsorted(seq, key=None):\n    def convert(text):\n        return int(text) if text.isdigit() else text\n\n    def alphanum(obj):\n        if key is not None:\n            return [convert(c) for c in re.split(r&apos;([0-9]+)&apos;, key(obj))]\n        return [convert(c) for c in re.split(r&apos;([0-9]+)&apos;, obj)]\n\n    return sorted(seq, key=alphanum)\n\n\nI also made a Gist\n    ","url":"/questions/[slug]#solution16","@type":"Answer","upvoteCount":0},{"text":"Let me submit my own take on this need:\n\nfrom typing import Tuple, Union, Optional, Generator\n\n\nStrOrInt = Union[str, int]\n\n\n# On Python 3.6, string concatenation is REALLY fast\n# Tested myself, and this fella also tested:\n# https://blog.ganssle.io/articles/2019/11/string-concat.html\ndef griter(s: str) -&gt; Generator[StrOrInt, None, None]:\n    last_was_digit: Optional[bool] = None\n    cluster: str = &quot;&quot;\n    for c in s:\n        if last_was_digit is None:\n            last_was_digit = c.isdigit()\n            cluster += c\n            continue\n        if c.isdigit() != last_was_digit:\n            if last_was_digit:\n                yield int(cluster)\n            else:\n                yield cluster\n            last_was_digit = c.isdigit()\n            cluster = &quot;&quot;\n        cluster += c\n    if last_was_digit:\n        yield int(cluster)\n    else:\n        yield cluster\n    return\n\n\ndef grouper(s: str) -&gt; Tuple[StrOrInt, ...]:\n    return tuple(griter(s))\n\n\nNow if we have the list like such:\n\nfilelist = [\n    &apos;File3&apos;, &apos;File007&apos;, &apos;File3a&apos;, &apos;File10&apos;, &apos;File11&apos;, &apos;File1&apos;, &apos;File4&apos;, &apos;File5&apos;,\n    &apos;File9&apos;, &apos;File8&apos;, &apos;File8b1&apos;, &apos;File8b2&apos;, &apos;File8b11&apos;, &apos;File6&apos;\n]\n\n\nWe can simply use the key= kwarg to do a natural sort:\n\n&gt;&gt;&gt; sorted(filelist, key=grouper)\n[&apos;File1&apos;, &apos;File3&apos;, &apos;File3a&apos;, &apos;File4&apos;, &apos;File5&apos;, &apos;File6&apos;, &apos;File007&apos;, &apos;File8&apos;, \n&apos;File8b1&apos;, &apos;File8b2&apos;, &apos;File8b11&apos;, &apos;File9&apos;, &apos;File10&apos;, &apos;File11&apos;]\n\n\nThe drawback here is of course, as it is now, the function will sort uppercase letters before lowercase letters.\n\nI&apos;ll leave the implementation of a case-insenstive grouper to the reader :-)\n    ","url":"/questions/[slug]#solution17","@type":"Answer","upvoteCount":0},{"text":"Just for the records, here is yet another variant of Mark Byers&apos; simple solution, similar to the one suggested by Walter Tross, which avoids calling isdigit(). This not only makes it faster, but also avoids the problems that can occur because isdigit() considers more unicode chars as digits than the the regex \\d+.\nimport re\nfrom itertools import cycle\n\n_re_digits = re.compile(r&quot;(\\d+)&quot;)\n\n\ndef natural_comparison_key(key):\n    return tuple(\n        int(part) if is_digit else part\n        for part, is_digit in zip(_re_digits.split(key), cycle((False, True)))\n    )\n\n    ","url":"/questions/[slug]#solution18","@type":"Answer","upvoteCount":0},{"text":"Here&apos;s another version of Mark Byers&apos;s answer. This version demonstrates how to pass in an attribute name, that is to be used to evaluate the objects in the list.\ndef natural_sort(l, attrib):\n    convert = lambda text: int(text) if text.isdigit() else text.lower()\n    alphanum_key = lambda key: [convert(c) for c in re.split(&apos;([0-9]+)&apos;, key.__dict__[attrib])]\n    return sorted(l, key=alphanum_key)\n\nresults = natural_sort(albums, &apos;albumid&apos;)\n\nWhere albums is a list of Album instances, and albumid is an string attribute that nominally has numbers in it.\n    ","url":"/questions/[slug]#solution19","@type":"Answer","upvoteCount":0},{"text":"I suggest you simply use the key keyword argument of sorted to achieve your desired list\nFor example:\n\nto_order= [e2,E1,e5,E4,e3]\nordered= sorted(to_order, key= lambda x: x.lower())\n    # ordered should be [E1,e2,e3,E4,e5]\n\n    ","url":"/questions/[slug]#solution20","@type":"Answer","upvoteCount":0},{"text":"a = [&apos;H1&apos;, &apos;H100&apos;, &apos;H10&apos;, &apos;H3&apos;, &apos;H2&apos;, &apos;H6&apos;, &apos;H11&apos;, &apos;H50&apos;, &apos;H5&apos;, &apos;H99&apos;, &apos;H8&apos;]\nb = &apos;&apos;\nc = []\n\ndef bubble(bad_list):#bubble sort method\n        length = len(bad_list) - 1\n        sorted = False\n\n        while not sorted:\n                sorted = True\n                for i in range(length):\n                        if bad_list[i] &gt; bad_list[i+1]:\n                                sorted = False\n                                bad_list[i], bad_list[i+1] = bad_list[i+1], bad_list[i] #sort the integer list \n                                a[i], a[i+1] = a[i+1], a[i] #sort the main list based on the integer list index value\n\nfor a_string in a: #extract the number in the string character by character\n        for letter in a_string:\n                if letter.isdigit():\n                        #print letter\n                        b += letter\n        c.append(b)\n        b = &apos;&apos;\n\nprint &apos;Before sorting....&apos;\nprint a\nc = map(int, c) #converting string list into number list\nprint c\nbubble(c)\n\nprint &apos;After sorting....&apos;\nprint c\nprint a\n\n\nAcknowledgments:\n\nBubble Sort Homework\n\nHow to read a string one letter at a time in python\n    ","url":"/questions/[slug]#solution21","@type":"Answer","upvoteCount":0},{"text":"&gt;&gt;&gt; import re\n&gt;&gt;&gt; sorted(lst, key=lambda x: int(re.findall(r&apos;\\d+$&apos;, x)[0]))\n[&apos;elm0&apos;, &apos;elm1&apos;, &apos;Elm2&apos;, &apos;elm9&apos;, &apos;elm10&apos;, &apos;Elm11&apos;, &apos;Elm12&apos;, &apos;elm13&apos;]\n\n    ","url":"/questions/[slug]#solution22","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="22"/><link rel="preload" href="/_next/static/css/c116652e2d6f4ad0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c116652e2d6f4ad0.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-260362324a06d105.js" defer=""></script><script src="/_next/static/chunks/294-106ef8570fa99deb.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-50e201fdaa1e0fd1.js" defer=""></script><script src="/_next/static/5tS3Jli5j89_wXapXajXn/_buildManifest.js" defer=""></script><script src="/_next/static/5tS3Jli5j89_wXapXajXn/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h1 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h1></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/is-there-a-built-in-function-for-string-natural-sort-1657388069553#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/is-there-a-built-in-function-for-string-natural-sort-1657388069553"><h1>Is there a built in function for string natural sort?</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"></div></div><div class="question-content mt-5">
                
<p>I have a list of strings for which I would like to perform a <a href="https://en.wikipedia.org/wiki/Natural_sort_order" rel="noreferrer">natural alphabetical sort</a>.</p>
<p>For instance, the following list is naturally sorted (what I want):</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">[<span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm9'</span>, <span class="hljs-string">'elm10'</span>, <span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'Elm12'</span>, <span class="hljs-string">'elm13'</span>]
</code></pre>
<p>And here's the "sorted" version of the above list (what I get using <a href="https://docs.python.org/library/functions.html#sorted" rel="noreferrer"><code>sorted()</code></a>):</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">[<span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'Elm12'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'elm10'</span>, <span class="hljs-string">'elm13'</span>, <span class="hljs-string">'elm9'</span>]
</code></pre>
<p>I'm looking for a sort function which behaves like the first one.</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><h1 class="text-lg font-semibold mb-5">Navigate to solutions: </h1><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li><li class="pagination-solution-item"><span data-id="#solution15" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">15</span></li><li class="pagination-solution-item"><span data-id="#solution16" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">16</span></li><li class="pagination-solution-item"><span data-id="#solution17" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">17</span></li><li class="pagination-solution-item"><span data-id="#solution18" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">18</span></li><li class="pagination-solution-item"><span data-id="#solution19" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">19</span></li><li class="pagination-solution-item"><span data-id="#solution20" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">20</span></li><li class="pagination-solution-item"><span data-id="#solution21" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">21</span></li><li class="pagination-solution-item"><span data-id="#solution22" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">22</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 1</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>There is a third party library for this on PyPI called <a href="https://github.com/SethMMorton/natsort" rel="noreferrer">natsort</a> (full disclosure, I am the package's author).  For your case, you can do either of the following:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> natsort <span class="hljs-keyword">import</span> natsorted, ns
<span class="hljs-meta">&gt;&gt;&gt; </span>x = [<span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'Elm12'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'elm10'</span>, <span class="hljs-string">'elm13'</span>, <span class="hljs-string">'elm9'</span>]
<span class="hljs-meta">&gt;&gt;&gt; </span>natsorted(x, key=<span class="hljs-keyword">lambda</span> y: y.lower())
[<span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm9'</span>, <span class="hljs-string">'elm10'</span>, <span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'Elm12'</span>, <span class="hljs-string">'elm13'</span>]
<span class="hljs-meta">&gt;&gt;&gt; </span>natsorted(x, alg=ns.IGNORECASE)  <span class="hljs-comment"># or alg=ns.IC</span>
[<span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm9'</span>, <span class="hljs-string">'elm10'</span>, <span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'Elm12'</span>, <span class="hljs-string">'elm13'</span>]
</code></pre>
<p>You should note that <code>natsort</code> uses a general algorithm so it should work for just about any input that you throw at it. If you want more details on why you might choose a library to do this rather than rolling your own function, check out the <code>natsort</code> documentation's <a href="http://natsort.readthedocs.io/en/master/howitworks.html" rel="noreferrer">How It Works</a> page, in particular the <a href="http://natsort.readthedocs.io/en/master/howitworks.html#special-cases-everywhere" rel="noreferrer">Special Cases Everywhere!</a> section.</p>
<hr>
<p>If you need a sorting key instead of a sorting function, use either of the below formulas.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> natsort <span class="hljs-keyword">import</span> natsort_keygen, ns
<span class="hljs-meta">&gt;&gt;&gt; </span>l1 = [<span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm9'</span>, <span class="hljs-string">'elm10'</span>, <span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'Elm12'</span>, <span class="hljs-string">'elm13'</span>]
<span class="hljs-meta">&gt;&gt;&gt; </span>l2 = l1[:]
<span class="hljs-meta">&gt;&gt;&gt; </span>natsort_key1 = natsort_keygen(key=<span class="hljs-keyword">lambda</span> y: y.lower())
<span class="hljs-meta">&gt;&gt;&gt; </span>l1.sort(key=natsort_key1)
<span class="hljs-meta">&gt;&gt;&gt; </span>l1
[<span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm9'</span>, <span class="hljs-string">'elm10'</span>, <span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'Elm12'</span>, <span class="hljs-string">'elm13'</span>]
<span class="hljs-meta">&gt;&gt;&gt; </span>natsort_key2 = natsort_keygen(alg=ns.IGNORECASE)
<span class="hljs-meta">&gt;&gt;&gt; </span>l2.sort(key=natsort_key2)
<span class="hljs-meta">&gt;&gt;&gt; </span>l2
[<span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm9'</span>, <span class="hljs-string">'elm10'</span>, <span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'Elm12'</span>, <span class="hljs-string">'elm13'</span>]
</code></pre>
<hr>
<p><strong>Update November 2020</strong></p>
<p>Given that a popular request/question is "how to sort like Windows Explorer?" (or whatever is your operating system's file system browser), as of <code>natsort</code> version 7.1.0 there is a function called <a href="https://natsort.readthedocs.io/en/master/api.html#natsort.os_sorted" rel="noreferrer"><code>os_sorted</code></a> to do exactly this. On Windows, it will sort in the same order as Windows Explorer, and on other operating systems it should sort like whatever is the local file system browser.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> natsort <span class="hljs-keyword">import</span> os_sorted
<span class="hljs-meta">&gt;&gt;&gt; </span>os_sorted(list_of_paths)
<span class="hljs-comment"># your paths sorted like your file system browser</span>
</code></pre>
<p>For those needing a sort key, you can use <code>os_sort_keygen</code> (or <code>os_sort_key</code> if you just need the defaults).</p>
<p><em>Caveat</em> - Please read the API documentation for this function before you use to understand the limitations and how to get best results.</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 2</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Try this:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> re

<span class="hljs-keyword">def</span> <span class="hljs-title function_">natural_sort</span>(<span class="hljs-params">l</span>): 
    convert = <span class="hljs-keyword">lambda</span> text: <span class="hljs-built_in">int</span>(text) <span class="hljs-keyword">if</span> text.isdigit() <span class="hljs-keyword">else</span> text.lower()
    alphanum_key = <span class="hljs-keyword">lambda</span> key: [convert(c) <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> re.split(<span class="hljs-string">'([0-9]+)'</span>, key)]
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">sorted</span>(l, key=alphanum_key)
</code></pre>
<p>Output:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">[<span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm9'</span>, <span class="hljs-string">'elm10'</span>, <span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'Elm12'</span>, <span class="hljs-string">'elm13'</span>]
</code></pre>
<p>Code adapted from here: <a href="http://www.codinghorror.com/blog/2007/12/sorting-for-humans-natural-sort-order.html" rel="noreferrer">Sorting for Humans : Natural Sort Order</a>.</p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 3</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here's a much more pythonic version of Mark Byer's answer:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> re

<span class="hljs-keyword">def</span> <span class="hljs-title function_">natural_sort_key</span>(<span class="hljs-params">s, _nsre=re.<span class="hljs-built_in">compile</span>(<span class="hljs-params"><span class="hljs-string">'([0-9]+)'</span></span>)</span>):
    <span class="hljs-keyword">return</span> [<span class="hljs-built_in">int</span>(text) <span class="hljs-keyword">if</span> text.isdigit() <span class="hljs-keyword">else</span> text.lower()
            <span class="hljs-keyword">for</span> text <span class="hljs-keyword">in</span> _nsre.split(s)]
</code></pre>
<p>Now this function can be used as a key in any function that uses it, like <code>list.sort</code>, <code>sorted</code>, <code>max</code>, etc.</p>
<p>As a lambda:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">lambda</span> s: [<span class="hljs-built_in">int</span>(t) <span class="hljs-keyword">if</span> t.isdigit() <span class="hljs-keyword">else</span> t.lower() <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> re.split(<span class="hljs-string">'(\d+)'</span>, s)]
</code></pre>
<hr>
<p>Fully reproducible demo code:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> re
natsort = <span class="hljs-keyword">lambda</span> s: [<span class="hljs-built_in">int</span>(t) <span class="hljs-keyword">if</span> t.isdigit() <span class="hljs-keyword">else</span> t.lower() <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> re.split(<span class="hljs-string">'(\d+)'</span>, s)]
L = [<span class="hljs-string">"a1"</span>, <span class="hljs-string">"a10"</span>, <span class="hljs-string">"a11"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a22"</span>, <span class="hljs-string">"a3"</span>]   
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">sorted</span>(L, key=natsort))  
<span class="hljs-comment"># ['a1', 'a2', 'a3', 'a10', 'a11', 'a22'] </span>
</code></pre>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 4</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-py s-code-block"><code class="hljs language-python">data = [<span class="hljs-string">'elm13'</span>, <span class="hljs-string">'elm9'</span>, <span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm10'</span>]
</code></pre>

<p>Let's analyse the data. The digit capacity of all elements is 2. And there are 3 letters in common literal part <code>'elm'</code>. </p>

<p>So, the maximal length of element is 5. We can increase this value to make sure (for example, to 8).</p>

<p><strong>Bearing that in mind, we've got a one-line solution:</strong></p>

<pre class="lang-py s-code-block"><code class="hljs language-python">data.sort(key=<span class="hljs-keyword">lambda</span> x: <span class="hljs-string">'{0:0&gt;8}'</span>.<span class="hljs-built_in">format</span>(x).lower())
</code></pre>

<p><strong>without regular expressions and external libraries!</strong></p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-built_in">print</span>(data)

<span class="hljs-meta">&gt;&gt;&gt; </span>[<span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm9'</span>, <span class="hljs-string">'elm10'</span>, <span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'elm13'</span>]
</code></pre>

<p>Explanation:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">for</span> elm <span class="hljs-keyword">in</span> data:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'{0:0&gt;8}'</span>.<span class="hljs-built_in">format</span>(elm).lower())

&gt;&gt;&gt;
0000elm0
0000elm1
0000elm2
0000elm9
000elm10
000elm11
000elm13
</code></pre>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 5</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I wrote a function based on <a href="http://www.codinghorror.com/blog/2007/12/sorting-for-humans-natural-sort-order.html">http://www.codinghorror.com/blog/2007/12/sorting-for-humans-natural-sort-order.html</a> which adds the ability to still pass in your own 'key' parameter. I need this in order to perform a natural sort of lists that contain more complex objects (not just strings).</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> re

<span class="hljs-keyword">def</span> <span class="hljs-title function_">natural_sort</span>(<span class="hljs-params"><span class="hljs-built_in">list</span>, key=<span class="hljs-keyword">lambda</span> s:s</span>):
    <span class="hljs-string">"""
    Sort the list into natural alphanumeric order.
    """</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_alphanum_key_func</span>(<span class="hljs-params">key</span>):
        convert = <span class="hljs-keyword">lambda</span> text: <span class="hljs-built_in">int</span>(text) <span class="hljs-keyword">if</span> text.isdigit() <span class="hljs-keyword">else</span> text 
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">lambda</span> s: [convert(c) <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> re.split(<span class="hljs-string">'([0-9]+)'</span>, key(s))]
    sort_key = get_alphanum_key_func(key)
    <span class="hljs-built_in">list</span>.sort(key=sort_key)
</code></pre>

<p>For example:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">my_list = [{<span class="hljs-string">'name'</span>:<span class="hljs-string">'b'</span>}, {<span class="hljs-string">'name'</span>:<span class="hljs-string">'10'</span>}, {<span class="hljs-string">'name'</span>:<span class="hljs-string">'a'</span>}, {<span class="hljs-string">'name'</span>:<span class="hljs-string">'1'</span>}, {<span class="hljs-string">'name'</span>:<span class="hljs-string">'9'</span>}]
natural_sort(my_list, key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-string">'name'</span>])
<span class="hljs-built_in">print</span> my_list
[{<span class="hljs-string">'name'</span>: <span class="hljs-string">'1'</span>}, {<span class="hljs-string">'name'</span>: <span class="hljs-string">'9'</span>}, {<span class="hljs-string">'name'</span>: <span class="hljs-string">'10'</span>}, {<span class="hljs-string">'name'</span>: <span class="hljs-string">'a'</span>}, {<span class="hljs-string">'name'</span>: <span class="hljs-string">'b'</span>}]
</code></pre>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 6</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Given:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">data = [<span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'Elm12'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'elm10'</span>, <span class="hljs-string">'elm13'</span>, <span class="hljs-string">'elm9'</span>]
</code></pre>
<p>Similar to SergO's solution, a <strong>1-liner without external libraries would be</strong>:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">data.sort(key=<span class="hljs-keyword">lambda</span> x: <span class="hljs-built_in">int</span>(x[<span class="hljs-number">3</span>:]))
</code></pre>
<p>or</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">sorted_data = <span class="hljs-built_in">sorted</span>(data, key=<span class="hljs-keyword">lambda</span> x: <span class="hljs-built_in">int</span>(x[<span class="hljs-number">3</span>:]))
</code></pre>
<p>Explanation:</p>
<p>This solution uses the <em>key</em> feature of <em>sort</em> to define a function that will be employed for the sorting. Because we know that every data entry is preceded by 'elm' the sorting function converts to integer the portion of the string after the 3rd character (i.e. int(x[3:])). If the numerical part of the data is in a different location, then this part of the function would have to change.</p>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 7</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<strong>And now for something more* elegant (pythonic)</strong> <em>-just a touch</em>

<p>There are many implementations out there, and while some have come close, none quite captured the elegance modern python affords.</p>

<ul>
<li>Tested using python(3.5.1)</li>
<li>Included an additional list to demonstrate that it works when the
numbers are mid string</li>
<li>Didn't test, however, I am assuming that if your list was sizable it would be more efficient to compile the regex beforehand

<ul>
<li><em>I'm sure someone will correct me if this is an erroneous assumption</em></li>
</ul></li>
</ul>

<p></p>

<strong>Quicky</strong>

<pre class="lang-python s-code-block"><code class="hljs language-python"><span class="hljs-keyword">from</span> re <span class="hljs-keyword">import</span> <span class="hljs-built_in">compile</span>, split    
dre = <span class="hljs-built_in">compile</span>(<span class="hljs-string">r'(\d+)'</span>)
mylist.sort(key=<span class="hljs-keyword">lambda</span> l: [<span class="hljs-built_in">int</span>(s) <span class="hljs-keyword">if</span> s.isdigit() <span class="hljs-keyword">else</span> s.lower() <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> split(dre, l)])
</code></pre>

<strong>Full-Code</strong>

<pre class="lang-python s-code-block"><code class="hljs language-python"><span class="hljs-comment">#!/usr/bin/python3</span>
<span class="hljs-comment"># coding=utf-8</span>
<span class="hljs-string">"""
Natural-Sort Test
"""</span>

<span class="hljs-keyword">from</span> re <span class="hljs-keyword">import</span> <span class="hljs-built_in">compile</span>, split

dre = <span class="hljs-built_in">compile</span>(<span class="hljs-string">r'(\d+)'</span>)
mylist = [<span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm9'</span>, <span class="hljs-string">'elm10'</span>, <span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'Elm12'</span>, <span class="hljs-string">'elm13'</span>, <span class="hljs-string">'elm'</span>]
mylist2 = [<span class="hljs-string">'e0lm'</span>, <span class="hljs-string">'e1lm'</span>, <span class="hljs-string">'E2lm'</span>, <span class="hljs-string">'e9lm'</span>, <span class="hljs-string">'e10lm'</span>, <span class="hljs-string">'E12lm'</span>, <span class="hljs-string">'e13lm'</span>, <span class="hljs-string">'elm'</span>, <span class="hljs-string">'e01lm'</span>]

mylist.sort(key=<span class="hljs-keyword">lambda</span> l: [<span class="hljs-built_in">int</span>(s) <span class="hljs-keyword">if</span> s.isdigit() <span class="hljs-keyword">else</span> s.lower() <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> split(dre, l)])
mylist2.sort(key=<span class="hljs-keyword">lambda</span> l: [<span class="hljs-built_in">int</span>(s) <span class="hljs-keyword">if</span> s.isdigit() <span class="hljs-keyword">else</span> s.lower() <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> split(dre, l)])

<span class="hljs-built_in">print</span>(mylist)  
  <span class="hljs-comment"># ['elm', 'elm0', 'elm1', 'Elm2', 'elm9', 'elm10', 'Elm11', 'Elm12', 'elm13']</span>
<span class="hljs-built_in">print</span>(mylist2)  
  <span class="hljs-comment"># ['e0lm', 'e1lm', 'e01lm', 'E2lm', 'e9lm', 'e10lm', 'E12lm', 'e13lm', 'elm']</span>
</code></pre>

<p><strong>Caution</strong> when using</p>

<ul>
<li><code>from os.path import split</code>

<ul>
<li>you will need to differentiate the imports</li>
</ul></li>
</ul>

<p><strong>Inspiration</strong> from</p>

<ul>
<li><a href="https://docs.python.org/3.5/howto/sorting.html" rel="noreferrer">Python Documentation- Sorting HOW TO</a></li>
<li><a href="https://blog.codinghorror.com/sorting-for-humans-natural-sort-order/" rel="noreferrer">Sorting for Humans : Natural Sort Order</a></li>
<li><a href="http://nedbatchelder.com/blog/200712.html#e20071211T054956" rel="noreferrer">Human Sorting</a></li>
<li>Contributors/Commentators to this and referenced posts </li>
</ul>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 8</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h1>Value Of This Post</h1>
<p>My point is to offer a non regex solution that can be applied generally.<br>
I'll create three functions:</p>
<ol>
<li><code>find_first_digit</code> which I borrowed from <a href="https://stackoverflow.com/a/4510805/2336654">@AnuragUniyal</a>.  It will find the position of the first digit or non-digit in a string.</li>
<li><code>split_digits</code> which is a generator that picks apart a string into digit and non digit chunks.  It will also <code>yield</code> integers when it is a digit.</li>
<li><code>natural_key</code> just wraps <code>split_digits</code> into a <code>tuple</code>.  This is what we use as a key for <code>sorted</code>, <code>max</code>, <code>min</code>.</li>
</ol>
<h1>Functions</h1>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">find_first_digit</span>(<span class="hljs-params">s, non=<span class="hljs-literal">False</span></span>):
    <span class="hljs-keyword">for</span> i, x <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(s):
        <span class="hljs-keyword">if</span> x.isdigit() ^ non:
            <span class="hljs-keyword">return</span> i
    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">split_digits</span>(<span class="hljs-params">s, case=<span class="hljs-literal">False</span></span>):
    non = <span class="hljs-literal">True</span>
    <span class="hljs-keyword">while</span> s:
        i = find_first_digit(s, non)
        <span class="hljs-keyword">if</span> i == <span class="hljs-number">0</span>:
            non = <span class="hljs-keyword">not</span> non
        <span class="hljs-keyword">elif</span> i == -<span class="hljs-number">1</span>:
            <span class="hljs-keyword">yield</span> <span class="hljs-built_in">int</span>(s) <span class="hljs-keyword">if</span> s.isdigit() <span class="hljs-keyword">else</span> s <span class="hljs-keyword">if</span> case <span class="hljs-keyword">else</span> s.lower()
            s = <span class="hljs-string">''</span>
        <span class="hljs-keyword">else</span>:
            x, s = s[:i], s[i:]
            <span class="hljs-keyword">yield</span> <span class="hljs-built_in">int</span>(x) <span class="hljs-keyword">if</span> x.isdigit() <span class="hljs-keyword">else</span> x <span class="hljs-keyword">if</span> case <span class="hljs-keyword">else</span> x.lower()

<span class="hljs-keyword">def</span> <span class="hljs-title function_">natural_key</span>(<span class="hljs-params">s, *args, **kwargs</span>):
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">tuple</span>(split_digits(s, *args, **kwargs))
</code></pre>
<p>We can see that it is general in that we can have multiple digit chunks:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-comment"># Note that the key has lower case letters</span>
natural_key(<span class="hljs-string">'asl;dkfDFKJ:sdlkfjdf809lkasdjfa_543_hh'</span>)

(<span class="hljs-string">'asl;dkfdfkj:sdlkfjdf'</span>, <span class="hljs-number">809</span>, <span class="hljs-string">'lkasdjfa_'</span>, <span class="hljs-number">543</span>, <span class="hljs-string">'_hh'</span>)
</code></pre>
<p>Or leave as case sensitive:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">natural_key(<span class="hljs-string">'asl;dkfDFKJ:sdlkfjdf809lkasdjfa_543_hh'</span>, <span class="hljs-literal">True</span>)

(<span class="hljs-string">'asl;dkfDFKJ:sdlkfjdf'</span>, <span class="hljs-number">809</span>, <span class="hljs-string">'lkasdjfa_'</span>, <span class="hljs-number">543</span>, <span class="hljs-string">'_hh'</span>)
</code></pre>
<hr>
<p>We can see that it sorts the OP's list in the appropriate order</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-built_in">sorted</span>(
    [<span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm9'</span>, <span class="hljs-string">'elm10'</span>, <span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'Elm12'</span>, <span class="hljs-string">'elm13'</span>],
    key=natural_key
)

[<span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm9'</span>, <span class="hljs-string">'elm10'</span>, <span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'Elm12'</span>, <span class="hljs-string">'elm13'</span>]
</code></pre>
<p>But it can handle more complicated lists as well:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-built_in">sorted</span>(
    [<span class="hljs-string">'f_1'</span>, <span class="hljs-string">'e_1'</span>, <span class="hljs-string">'a_2'</span>, <span class="hljs-string">'g_0'</span>, <span class="hljs-string">'d_0_12:2'</span>, <span class="hljs-string">'d_0_1_:2'</span>],
    key=natural_key
)

[<span class="hljs-string">'a_2'</span>, <span class="hljs-string">'d_0_1_:2'</span>, <span class="hljs-string">'d_0_12:2'</span>, <span class="hljs-string">'e_1'</span>, <span class="hljs-string">'f_1'</span>, <span class="hljs-string">'g_0'</span>]
</code></pre>
<hr>
<p>My regex equivalent would be</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">int_maybe</span>(<span class="hljs-params">x</span>):
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(x) <span class="hljs-keyword">if</span> <span class="hljs-built_in">str</span>(x).isdigit() <span class="hljs-keyword">else</span> x

<span class="hljs-keyword">def</span> <span class="hljs-title function_">split_digits_re</span>(<span class="hljs-params">s, case=<span class="hljs-literal">False</span></span>):
    parts = re.findall(<span class="hljs-string">'\d+|\D+'</span>, s)
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> case:
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">map</span>(int_maybe, (x.lower() <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> parts))
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">map</span>(int_maybe, parts)
    
<span class="hljs-keyword">def</span> <span class="hljs-title function_">natural_key_re</span>(<span class="hljs-params">s, *args, **kwargs</span>):
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">tuple</span>(split_digits_re(s, *args, **kwargs))
</code></pre>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 9</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>One option is to turn the string into a tuple and replace digits using expanded form <a href="http://wiki.answers.com/Q/What_does_expanded_form_mean" rel="nofollow">http://wiki.answers.com/Q/What_does_expanded_form_mean</a></p>

<p>that way a90 would become ("a",90,0) and a1 would become ("a",1)</p>

<p>below is some sample code (which isn't very efficient due to the way It removes leading 0's from numbers)</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">alist=[<span class="hljs-string">"something1"</span>,
    <span class="hljs-string">"something12"</span>,
    <span class="hljs-string">"something17"</span>,
    <span class="hljs-string">"something2"</span>,
    <span class="hljs-string">"something25and_then_33"</span>,
    <span class="hljs-string">"something25and_then_34"</span>,
    <span class="hljs-string">"something29"</span>,
    <span class="hljs-string">"beta1.1"</span>,
    <span class="hljs-string">"beta2.3.0"</span>,
    <span class="hljs-string">"beta2.33.1"</span>,
    <span class="hljs-string">"a001"</span>,
    <span class="hljs-string">"a2"</span>,
    <span class="hljs-string">"z002"</span>,
    <span class="hljs-string">"z1"</span>]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">key</span>(<span class="hljs-params">k</span>):
    nums=<span class="hljs-built_in">set</span>(<span class="hljs-built_in">list</span>(<span class="hljs-string">"0123456789"</span>))
        chars=<span class="hljs-built_in">set</span>(<span class="hljs-built_in">list</span>(k))
    chars=chars-nums
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(k)):
        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> chars:
            k=k.replace(c+<span class="hljs-string">"0"</span>,c)
    l=<span class="hljs-built_in">list</span>(k)
    base=<span class="hljs-number">10</span>
    j=<span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(l)-<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>):
        <span class="hljs-keyword">try</span>:
            l[i]=<span class="hljs-built_in">int</span>(l[i])*base**j
            j+=<span class="hljs-number">1</span>
        <span class="hljs-keyword">except</span>:
            j=<span class="hljs-number">0</span>
    l=<span class="hljs-built_in">tuple</span>(l)
    <span class="hljs-built_in">print</span> l
    <span class="hljs-keyword">return</span> l

<span class="hljs-built_in">print</span> <span class="hljs-built_in">sorted</span>(alist,key=key)
</code></pre>

<p>output:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">(<span class="hljs-string">'s'</span>, <span class="hljs-string">'o'</span>, <span class="hljs-string">'m'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'t'</span>, <span class="hljs-string">'h'</span>, <span class="hljs-string">'i'</span>, <span class="hljs-string">'n'</span>, <span class="hljs-string">'g'</span>, <span class="hljs-number">1</span>)
(<span class="hljs-string">'s'</span>, <span class="hljs-string">'o'</span>, <span class="hljs-string">'m'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'t'</span>, <span class="hljs-string">'h'</span>, <span class="hljs-string">'i'</span>, <span class="hljs-string">'n'</span>, <span class="hljs-string">'g'</span>, <span class="hljs-number">10</span>, <span class="hljs-number">2</span>)
(<span class="hljs-string">'s'</span>, <span class="hljs-string">'o'</span>, <span class="hljs-string">'m'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'t'</span>, <span class="hljs-string">'h'</span>, <span class="hljs-string">'i'</span>, <span class="hljs-string">'n'</span>, <span class="hljs-string">'g'</span>, <span class="hljs-number">10</span>, <span class="hljs-number">7</span>)
(<span class="hljs-string">'s'</span>, <span class="hljs-string">'o'</span>, <span class="hljs-string">'m'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'t'</span>, <span class="hljs-string">'h'</span>, <span class="hljs-string">'i'</span>, <span class="hljs-string">'n'</span>, <span class="hljs-string">'g'</span>, <span class="hljs-number">2</span>)
(<span class="hljs-string">'s'</span>, <span class="hljs-string">'o'</span>, <span class="hljs-string">'m'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'t'</span>, <span class="hljs-string">'h'</span>, <span class="hljs-string">'i'</span>, <span class="hljs-string">'n'</span>, <span class="hljs-string">'g'</span>, <span class="hljs-number">20</span>, <span class="hljs-number">5</span>, <span class="hljs-string">'a'</span>, <span class="hljs-string">'n'</span>, <span class="hljs-string">'d'</span>, <span class="hljs-string">'_'</span>, <span class="hljs-string">'t'</span>, <span class="hljs-string">'h'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'n'</span>, <span class="hljs-string">'_'</span>, <span class="hljs-number">30</span>, <span class="hljs-number">3</span>)
(<span class="hljs-string">'s'</span>, <span class="hljs-string">'o'</span>, <span class="hljs-string">'m'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'t'</span>, <span class="hljs-string">'h'</span>, <span class="hljs-string">'i'</span>, <span class="hljs-string">'n'</span>, <span class="hljs-string">'g'</span>, <span class="hljs-number">20</span>, <span class="hljs-number">5</span>, <span class="hljs-string">'a'</span>, <span class="hljs-string">'n'</span>, <span class="hljs-string">'d'</span>, <span class="hljs-string">'_'</span>, <span class="hljs-string">'t'</span>, <span class="hljs-string">'h'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'n'</span>, <span class="hljs-string">'_'</span>, <span class="hljs-number">30</span>, <span class="hljs-number">4</span>)
(<span class="hljs-string">'s'</span>, <span class="hljs-string">'o'</span>, <span class="hljs-string">'m'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'t'</span>, <span class="hljs-string">'h'</span>, <span class="hljs-string">'i'</span>, <span class="hljs-string">'n'</span>, <span class="hljs-string">'g'</span>, <span class="hljs-number">20</span>, <span class="hljs-number">9</span>)
(<span class="hljs-string">'b'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'t'</span>, <span class="hljs-string">'a'</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'.'</span>, <span class="hljs-number">1</span>)
(<span class="hljs-string">'b'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'t'</span>, <span class="hljs-string">'a'</span>, <span class="hljs-number">2</span>, <span class="hljs-string">'.'</span>, <span class="hljs-number">3</span>, <span class="hljs-string">'.'</span>)
(<span class="hljs-string">'b'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'t'</span>, <span class="hljs-string">'a'</span>, <span class="hljs-number">2</span>, <span class="hljs-string">'.'</span>, <span class="hljs-number">30</span>, <span class="hljs-number">3</span>, <span class="hljs-string">'.'</span>, <span class="hljs-number">1</span>)
(<span class="hljs-string">'a'</span>, <span class="hljs-number">1</span>)
(<span class="hljs-string">'a'</span>, <span class="hljs-number">2</span>)
(<span class="hljs-string">'z'</span>, <span class="hljs-number">2</span>)
(<span class="hljs-string">'z'</span>, <span class="hljs-number">1</span>)
[<span class="hljs-string">'a001'</span>, <span class="hljs-string">'a2'</span>, <span class="hljs-string">'beta1.1'</span>, <span class="hljs-string">'beta2.3.0'</span>, <span class="hljs-string">'beta2.33.1'</span>, <span class="hljs-string">'something1'</span>, <span class="hljs-string">'something2'</span>, <span class="hljs-string">'something12'</span>, <span class="hljs-string">'something17'</span>, <span class="hljs-string">'something25and_then_33'</span>, <span class="hljs-string">'something25and_then_34'</span>, <span class="hljs-string">'something29'</span>, <span class="hljs-string">'z1'</span>, <span class="hljs-string">'z002'</span>]
</code></pre>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 10</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>An improvement on Claudiu's improvement on Mark Byers' answer ;-)</p>
<pre class="lang-python s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> re

<span class="hljs-keyword">def</span> <span class="hljs-title function_">natural_sort_key</span>(<span class="hljs-params">s, _re=re.<span class="hljs-built_in">compile</span>(<span class="hljs-params"><span class="hljs-string">r'(\d+)'</span></span>)</span>):
    <span class="hljs-keyword">return</span> [<span class="hljs-built_in">int</span>(t) <span class="hljs-keyword">if</span> i &amp; <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> t.lower() <span class="hljs-keyword">for</span> i, t <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(_re.split(s))]

...
my_naturally_sorted_list = <span class="hljs-built_in">sorted</span>(my_list, key=natural_sort_key)
</code></pre>
<p>BTW, maybe not everyone remembers that function argument defaults are evaluated at <code>def</code> time</p>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 11</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Based on the answers here, I wrote a <code>natural_sorted</code> function that behaves like the built-in function <code>sorted</code>:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-comment"># Copyright (C) 2018, Benjamin Drung &lt;bdrung@posteo.de&gt;</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># Permission to use, copy, modify, and/or distribute this software for any</span>
<span class="hljs-comment"># purpose with or without fee is hereby granted, provided that the above</span>
<span class="hljs-comment"># copyright notice and this permission notice appear in all copies.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES</span>
<span class="hljs-comment"># WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF</span>
<span class="hljs-comment"># MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR</span>
<span class="hljs-comment"># ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES</span>
<span class="hljs-comment"># WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN</span>
<span class="hljs-comment"># ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF</span>
<span class="hljs-comment"># OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</span>

<span class="hljs-keyword">import</span> re

<span class="hljs-keyword">def</span> <span class="hljs-title function_">natural_sorted</span>(<span class="hljs-params">iterable, key=<span class="hljs-literal">None</span>, reverse=<span class="hljs-literal">False</span></span>):
    <span class="hljs-string">"""Return a new naturally sorted list from the items in *iterable*.

    The returned list is in natural sort order. The string is ordered
    lexicographically (using the Unicode code point number to order individual
    characters), except that multi-digit numbers are ordered as a single
    character.

    Has two optional arguments which must be specified as keyword arguments.

    *key* specifies a function of one argument that is used to extract a
    comparison key from each list element: ``key=str.lower``.  The default value
    is ``None`` (compare the elements directly).

    *reverse* is a boolean value.  If set to ``True``, then the list elements are
    sorted as if each comparison were reversed.

    The :func:`natural_sorted` function is guaranteed to be stable. A sort is
    stable if it guarantees not to change the relative order of elements that
    compare equal --- this is helpful for sorting in multiple passes (for
    example, sort by department, then by salary grade).
    """</span>
    prog = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r"(\d+)"</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">alphanum_key</span>(<span class="hljs-params">element</span>):
        <span class="hljs-string">"""Split given key in list of strings and digits"""</span>
        <span class="hljs-keyword">return</span> [<span class="hljs-built_in">int</span>(c) <span class="hljs-keyword">if</span> c.isdigit() <span class="hljs-keyword">else</span> c <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> prog.split(key(element)
                <span class="hljs-keyword">if</span> key <span class="hljs-keyword">else</span> element)]

    <span class="hljs-keyword">return</span> <span class="hljs-built_in">sorted</span>(iterable, key=alphanum_key, reverse=reverse)
</code></pre>

<p>The source code is also available in my GitHub snippets repository:
<a href="https://github.com/bdrung/snippets/blob/master/natural_sorted.py" rel="nofollow noreferrer">https://github.com/bdrung/snippets/blob/master/natural_sorted.py</a></p>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 12</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The algorithm I use is <code>padzero_with_lower</code> as defined as:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> re

<span class="hljs-keyword">def</span> <span class="hljs-title function_">padzero_with_lower</span>(<span class="hljs-params">s</span>):
    <span class="hljs-keyword">return</span> re.sub(<span class="hljs-string">r'\d+'</span>, <span class="hljs-keyword">lambda</span> m: m.group(<span class="hljs-number">0</span>).rjust(<span class="hljs-number">10</span>, <span class="hljs-string">'0'</span>), s).lower()
</code></pre>
<p>The algorithm finds:</p>
<ul>
<li>finds and pads numbers of any length, to a large enough length, e.g. 10</li>
<li>then, it turns the string into lower case</li>
</ul>
<p>Here's an example usage:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-built_in">print</span>(padzero_with_lower(<span class="hljs-string">'file1.txt'</span>))   <span class="hljs-comment"># file0000000001.txt</span>
<span class="hljs-built_in">print</span>(padzero_with_lower(<span class="hljs-string">'file12.txt'</span>))  <span class="hljs-comment"># file0000000012.txt</span>
<span class="hljs-built_in">print</span>(padzero_with_lower(<span class="hljs-string">'file23.txt'</span>))  <span class="hljs-comment"># file0000000023.txt</span>
<span class="hljs-built_in">print</span>(padzero_with_lower(<span class="hljs-string">'file123.txt'</span>)) <span class="hljs-comment"># file0000000123.txt</span>
<span class="hljs-built_in">print</span>(padzero_with_lower(<span class="hljs-string">'file301.txt'</span>)) <span class="hljs-comment"># file0000000301.txt</span>
<span class="hljs-built_in">print</span>(padzero_with_lower(<span class="hljs-string">'Dir2/file15.txt'</span>))  <span class="hljs-comment"># dir0000000002/file0000000015.txt</span>
<span class="hljs-built_in">print</span>(padzero_with_lower(<span class="hljs-string">'dir2/file123.txt'</span>)) <span class="hljs-comment"># dir0000000002/file0000000123.txt</span>
<span class="hljs-built_in">print</span>(padzero_with_lower(<span class="hljs-string">'dir15/file2.txt'</span>))  <span class="hljs-comment"># dir0000000015/file0000000002.txt</span>
<span class="hljs-built_in">print</span>(padzero_with_lower(<span class="hljs-string">'Dir15/file15.txt'</span>)) <span class="hljs-comment"># dir0000000015/file0000000015.txt</span>
<span class="hljs-built_in">print</span>(padzero_with_lower(<span class="hljs-string">'elm0'</span>))  <span class="hljs-comment"># elm0000000000</span>
<span class="hljs-built_in">print</span>(padzero_with_lower(<span class="hljs-string">'elm1'</span>))  <span class="hljs-comment"># elm0000000001</span>
<span class="hljs-built_in">print</span>(padzero_with_lower(<span class="hljs-string">'Elm2'</span>))  <span class="hljs-comment"># elm0000000002</span>
<span class="hljs-built_in">print</span>(padzero_with_lower(<span class="hljs-string">'elm9'</span>))  <span class="hljs-comment"># elm0000000009</span>
<span class="hljs-built_in">print</span>(padzero_with_lower(<span class="hljs-string">'elm10'</span>)) <span class="hljs-comment"># elm0000000010</span>
<span class="hljs-built_in">print</span>(padzero_with_lower(<span class="hljs-string">'Elm11'</span>)) <span class="hljs-comment"># elm0000000011 </span>
<span class="hljs-built_in">print</span>(padzero_with_lower(<span class="hljs-string">'Elm12'</span>)) <span class="hljs-comment"># elm0000000012</span>
<span class="hljs-built_in">print</span>(padzero_with_lower(<span class="hljs-string">'elm13'</span>)) <span class="hljs-comment"># elm0000000013</span>
</code></pre>
<p>With this function tested, we can now use it as our key, i.e.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">lis = [<span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm9'</span>, <span class="hljs-string">'elm10'</span>, <span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'Elm12'</span>, <span class="hljs-string">'elm13'</span>]
lis.sort(key=padzero_with_lower)
<span class="hljs-built_in">print</span>(lis)
<span class="hljs-comment"># Output: ['elm0', 'elm1', 'Elm2', 'elm9', 'elm10', 'Elm11', 'Elm12', 'elm13']</span>
</code></pre>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 13</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>A compact solution, based on the transformation of the string into a <code>List[Tuple(str, int)]</code>.</p>
<h2>Code</h2>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">string_to_pairs</span>(<span class="hljs-params">s, pairs=re.<span class="hljs-built_in">compile</span>(<span class="hljs-params"><span class="hljs-string">r"(\D*)(\d*)"</span></span>).findall</span>):
    <span class="hljs-keyword">return</span> [(text.lower(), <span class="hljs-built_in">int</span>(digits <span class="hljs-keyword">or</span> <span class="hljs-number">0</span>)) <span class="hljs-keyword">for</span> (text, digits) <span class="hljs-keyword">in</span> pairs(s)[:-<span class="hljs-number">1</span>]]
</code></pre>
<h2>Demonstration</h2>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-built_in">sorted</span>([<span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'Elm12'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'elm10'</span>, <span class="hljs-string">'elm13'</span>, <span class="hljs-string">'elm9'</span>], key=string_to_pairs)
</code></pre>
<p>Output:</p>
<pre class="lang-py s-code-block"><code class="hljs language-python">[<span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm9'</span>, <span class="hljs-string">'elm10'</span>, <span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'Elm12'</span>, <span class="hljs-string">'elm13'</span>]
</code></pre>
<h2>Tests</h2>
<h3>Transformation</h3>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">assert</span> string_to_pairs(<span class="hljs-string">""</span>) == []
<span class="hljs-keyword">assert</span> string_to_pairs(<span class="hljs-string">"123"</span>) == [(<span class="hljs-string">""</span>, <span class="hljs-number">123</span>)]
<span class="hljs-keyword">assert</span> string_to_pairs(<span class="hljs-string">"abc"</span>) == [(<span class="hljs-string">"abc"</span>, <span class="hljs-number">0</span>)]
<span class="hljs-keyword">assert</span> string_to_pairs(<span class="hljs-string">"123abc"</span>) == [(<span class="hljs-string">""</span>, <span class="hljs-number">123</span>), (<span class="hljs-string">"abc"</span>, <span class="hljs-number">0</span>)]
<span class="hljs-keyword">assert</span> string_to_pairs(<span class="hljs-string">"abc123"</span>) == [(<span class="hljs-string">"abc"</span>, <span class="hljs-number">123</span>)]
<span class="hljs-keyword">assert</span> string_to_pairs(<span class="hljs-string">"123abc456"</span>) == [(<span class="hljs-string">""</span>, <span class="hljs-number">123</span>), (<span class="hljs-string">"abc"</span>, <span class="hljs-number">456</span>)]
<span class="hljs-keyword">assert</span> string_to_pairs(<span class="hljs-string">"abc123efg"</span>) == [(<span class="hljs-string">"abc"</span>, <span class="hljs-number">123</span>), (<span class="hljs-string">"efg"</span>, <span class="hljs-number">0</span>)]
</code></pre>
<h3>Sorting</h3>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-comment"># Some extracts from the test suite of the natsort library. Permalink:</span>
<span class="hljs-comment"># https://github.com/SethMMorton/natsort/blob/e3c32f5638bf3a0e9a23633495269bea0e75d379/tests/test_natsorted.py</span>

sort_data = [
    (  <span class="hljs-comment"># same as test_natsorted_can_sort_as_unsigned_ints_which_is_default()</span>
        [<span class="hljs-string">"a50"</span>, <span class="hljs-string">"a51."</span>, <span class="hljs-string">"a50.31"</span>, <span class="hljs-string">"a-50"</span>, <span class="hljs-string">"a50.4"</span>, <span class="hljs-string">"a5.034e1"</span>, <span class="hljs-string">"a50.300"</span>],
        [<span class="hljs-string">"a5.034e1"</span>, <span class="hljs-string">"a50"</span>, <span class="hljs-string">"a50.4"</span>, <span class="hljs-string">"a50.31"</span>, <span class="hljs-string">"a50.300"</span>, <span class="hljs-string">"a51."</span>, <span class="hljs-string">"a-50"</span>],
    ),
    (  <span class="hljs-comment"># same as test_natsorted_numbers_in_ascending_order()</span>
        [<span class="hljs-string">"a2"</span>, <span class="hljs-string">"a5"</span>, <span class="hljs-string">"a9"</span>, <span class="hljs-string">"a1"</span>, <span class="hljs-string">"a4"</span>, <span class="hljs-string">"a10"</span>, <span class="hljs-string">"a6"</span>],
        [<span class="hljs-string">"a1"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a4"</span>, <span class="hljs-string">"a5"</span>, <span class="hljs-string">"a6"</span>, <span class="hljs-string">"a9"</span>, <span class="hljs-string">"a10"</span>],
    ),
    (  <span class="hljs-comment"># same as test_natsorted_can_sort_as_version_numbers()</span>
        [<span class="hljs-string">"1.9.9a"</span>, <span class="hljs-string">"1.11"</span>, <span class="hljs-string">"1.9.9b"</span>, <span class="hljs-string">"1.11.4"</span>, <span class="hljs-string">"1.10.1"</span>],
        [<span class="hljs-string">"1.9.9a"</span>, <span class="hljs-string">"1.9.9b"</span>, <span class="hljs-string">"1.10.1"</span>, <span class="hljs-string">"1.11"</span>, <span class="hljs-string">"1.11.4"</span>],
    ),
    (  <span class="hljs-comment"># different from test_natsorted_handles_filesystem_paths()</span>
        [
            <span class="hljs-string">"/p/Folder (10)/file.tar.gz"</span>,
            <span class="hljs-string">"/p/Folder (1)/file (1).tar.gz"</span>,
            <span class="hljs-string">"/p/Folder/file.x1.9.tar.gz"</span>,
            <span class="hljs-string">"/p/Folder (1)/file.tar.gz"</span>,
            <span class="hljs-string">"/p/Folder/file.x1.10.tar.gz"</span>,
        ],
        [
            <span class="hljs-string">"/p/Folder (1)/file (1).tar.gz"</span>,
            <span class="hljs-string">"/p/Folder (1)/file.tar.gz"</span>,
            <span class="hljs-string">"/p/Folder (10)/file.tar.gz"</span>,
            <span class="hljs-string">"/p/Folder/file.x1.9.tar.gz"</span>,
            <span class="hljs-string">"/p/Folder/file.x1.10.tar.gz"</span>,
        ],
    ),
    (  <span class="hljs-comment"># same as test_natsorted_path_extensions_heuristic()</span>
        [
            <span class="hljs-string">"Try.Me.Bug - 09 - One.Two.Three.[text].mkv"</span>,
            <span class="hljs-string">"Try.Me.Bug - 07 - One.Two.5.[text].mkv"</span>,
            <span class="hljs-string">"Try.Me.Bug - 08 - One.Two.Three[text].mkv"</span>,
        ],
        [
            <span class="hljs-string">"Try.Me.Bug - 07 - One.Two.5.[text].mkv"</span>,
            <span class="hljs-string">"Try.Me.Bug - 08 - One.Two.Three[text].mkv"</span>,
            <span class="hljs-string">"Try.Me.Bug - 09 - One.Two.Three.[text].mkv"</span>,
        ],
    ),
    (  <span class="hljs-comment"># same as ns.IGNORECASE for test_natsorted_supports_case_handling()</span>
        [<span class="hljs-string">"Apple"</span>, <span class="hljs-string">"corn"</span>, <span class="hljs-string">"Corn"</span>, <span class="hljs-string">"Banana"</span>, <span class="hljs-string">"apple"</span>, <span class="hljs-string">"banana"</span>],
        [<span class="hljs-string">"Apple"</span>, <span class="hljs-string">"apple"</span>, <span class="hljs-string">"Banana"</span>, <span class="hljs-string">"banana"</span>, <span class="hljs-string">"corn"</span>, <span class="hljs-string">"Corn"</span>],
    ),

]

<span class="hljs-keyword">for</span> (given, expected) <span class="hljs-keyword">in</span> sort_data:
    <span class="hljs-keyword">assert</span> <span class="hljs-built_in">sorted</span>(given, key=string_to_pairs) == expected
</code></pre>
<h2>Bonus</h2>
<p>If your strings mix non-ascii texts and numbers, you may be interested in composing <code>string_to_pairs()</code> with the function <code>remove_diacritics()</code> I give <a href="https://stackoverflow.com/a/71408065/173003">elsewhere</a>.</p>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 14</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The above answers are good for the <strong>specific example</strong> that was shown, but miss several useful cases for the more general question of natural sort. I just got bit by one of those cases, so created a more thorough solution:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">natural_sort_key</span>(<span class="hljs-params">string_or_number</span>):
    <span class="hljs-string">"""
    by Scott S. Lawton &lt;scott@ProductArchitect.com&gt; 2014-12-11; public domain and/or CC0 license

    handles cases where simple 'int' approach fails, e.g.
        ['0.501', '0.55'] floating point with different number of significant digits
        [0.01, 0.1, 1]    already numeric so regex and other string functions won't work (and aren't required)
        ['elm1', 'Elm2']  ASCII vs. letters (not case sensitive)
    """</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">try_float</span>(<span class="hljs-params">astring</span>):
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">float</span>(astring)
        <span class="hljs-keyword">except</span>:
            <span class="hljs-keyword">return</span> astring

    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(string_or_number, basestring):
        string_or_number = string_or_number.lower()

        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(re.findall(<span class="hljs-string">'[.]\d'</span>, string_or_number)) &lt;= <span class="hljs-number">1</span>:
            <span class="hljs-comment"># assume a floating point value, e.g. to correctly sort ['0.501', '0.55']</span>
            <span class="hljs-comment"># '.' for decimal is locale-specific, e.g. correct for the Anglosphere and Asia but not continental Europe</span>
            <span class="hljs-keyword">return</span> [try_float(s) <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> re.split(<span class="hljs-string">r'([\d.]+)'</span>, string_or_number)]
        <span class="hljs-keyword">else</span>:
            <span class="hljs-comment"># assume distinct fields, e.g. IP address, phone number with '.', etc.</span>
            <span class="hljs-comment"># caveat: might want to first split by whitespace</span>
            <span class="hljs-comment"># TBD: for unicode, replace isdigit with isdecimal</span>
            <span class="hljs-keyword">return</span> [<span class="hljs-built_in">int</span>(s) <span class="hljs-keyword">if</span> s.isdigit() <span class="hljs-keyword">else</span> s <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> re.split(<span class="hljs-string">r'(\d+)'</span>, string_or_number)]
    <span class="hljs-keyword">else</span>:
        <span class="hljs-comment"># consider: add code to recurse for lists/tuples and perhaps other iterables</span>
        <span class="hljs-keyword">return</span> string_or_number
</code></pre>

<p>Test code and several links (on and off of StackOverflow) are here:
<a href="http://productarchitect.com/code/better-natural-sort.py" rel="nofollow">http://productarchitect.com/code/better-natural-sort.py</a></p>

<p>Feedback welcome. That's not meant to be a definitive solution; just a step forward.</p>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 15</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Most likely <code>functools.cmp_to_key()</code> is closely tied to the underlying implementation of python's sort. Besides, the <em>cmp</em> parameter is legacy. The modern way is to transform the input items into objects that support the desired rich comparison operations.</p>

<p>Under CPython 2.x, objects of disparate types can be ordered even if the respective rich comparison operators haven't been implemented. Under CPython 3.x, objects of different types must explicitly support the comparison. See <a href="https://stackoverflow.com/a/3270689">How does Python compare string and int?</a> which links to the <a href="https://docs.python.org/2/library/stdtypes.html#comparisons" rel="nofollow noreferrer">official documentation</a>. Most of the answers depend on this implicit ordering. Switching to Python 3.x will require a new type to implement and unify comparisons between numbers and strings.</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">Python <span class="hljs-number">2.7</span><span class="hljs-number">.12</span> (default, Sep <span class="hljs-number">29</span> <span class="hljs-number">2016</span>, <span class="hljs-number">13</span>:<span class="hljs-number">30</span>:<span class="hljs-number">34</span>) 
<span class="hljs-meta">&gt;&gt;&gt; </span>(<span class="hljs-number">0</span>,<span class="hljs-string">"foo"</span>) &lt; (<span class="hljs-string">"foo"</span>,<span class="hljs-number">0</span>)
<span class="hljs-literal">True</span>  
</code></pre>



<pre class="lang-py s-code-block"><code class="hljs language-python">Python <span class="hljs-number">3.5</span><span class="hljs-number">.2</span> (default, Oct <span class="hljs-number">14</span> <span class="hljs-number">2016</span>, <span class="hljs-number">12</span>:<span class="hljs-number">54</span>:<span class="hljs-number">53</span>) 
<span class="hljs-meta">&gt;&gt;&gt; </span>(<span class="hljs-number">0</span>,<span class="hljs-string">"foo"</span>) &lt; (<span class="hljs-string">"foo"</span>,<span class="hljs-number">0</span>)
Traceback (most recent call last):
  File <span class="hljs-string">"&lt;stdin&gt;"</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;
  TypeError: unorderable types: <span class="hljs-built_in">int</span>() &lt; <span class="hljs-built_in">str</span>()
</code></pre>

<p>There are three different approaches. The first uses nested classes to take advantage of Python's <code>Iterable</code> comparison algorithm. The second unrolls this nesting into a single class. The third foregoes subclassing <code>str</code> to focus on performance. All are timed; the second is twice as fast while the third almost six times faster. Subclassing <code>str</code> isn't required, and was probably a bad idea in the first place, but it does come with certain conveniences.</p>

<p>The sort characters are duplicated to force ordering by case, and case-swapped to force lower case letter to sort first; this is the typical definition of "natural sort". I couldn't decide on the type of grouping; some might prefer the following, which also brings significant performance benefits:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">d = <span class="hljs-keyword">lambda</span> s: s.lower()+s.swapcase()
</code></pre>

<p>Where utilized, the comparison operators are set to that of <code>object</code> so they won't <a href="https://hg.python.org/cpython/file/3.5/Lib/functools.py#l192" rel="nofollow noreferrer">be ignored by <code>functools.total_ordering</code></a>.</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> functools
<span class="hljs-keyword">import</span> itertools


<span class="hljs-meta">@functools.total_ordering</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">NaturalStringA</span>(<span class="hljs-title class_ inherited__">str</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__repr__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">return</span> <span class="hljs-string">"{}({})"</span>.<span class="hljs-built_in">format</span>\
            ( <span class="hljs-built_in">type</span>(self).__name__
            , <span class="hljs-built_in">super</span>().__repr__()
            )
    d = <span class="hljs-keyword">lambda</span> c, s: [ c.NaturalStringPart(<span class="hljs-string">""</span>.join(v))
                        <span class="hljs-keyword">for</span> k,v <span class="hljs-keyword">in</span>
                       itertools.groupby(s, c.isdigit)
                     ]
    d = <span class="hljs-built_in">classmethod</span>(d)
<span class="hljs-meta">    @functools.total_ordering</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">NaturalStringPart</span>(<span class="hljs-title class_ inherited__">str</span>):
        d = <span class="hljs-keyword">lambda</span> s: <span class="hljs-string">""</span>.join(c.lower()+c.swapcase() <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> s)
        d = <span class="hljs-built_in">staticmethod</span>(d)
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__lt__</span>(<span class="hljs-params">self, other</span>):
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(self, <span class="hljs-built_in">type</span>(other)):
                <span class="hljs-keyword">return</span> <span class="hljs-literal">NotImplemented</span>
            <span class="hljs-keyword">try</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(self) &lt; <span class="hljs-built_in">int</span>(other)
            <span class="hljs-keyword">except</span> ValueError:
                <span class="hljs-keyword">if</span> self.isdigit():
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
                <span class="hljs-keyword">elif</span> other.isdigit():
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
                <span class="hljs-keyword">else</span>:
                    <span class="hljs-keyword">return</span> self.d(self) &lt; self.d(other)
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">__eq__</span>(<span class="hljs-params">self, other</span>):
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(self, <span class="hljs-built_in">type</span>(other)):
                <span class="hljs-keyword">return</span> <span class="hljs-literal">NotImplemented</span>
            <span class="hljs-keyword">try</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(self) == <span class="hljs-built_in">int</span>(other)
            <span class="hljs-keyword">except</span> ValueError:
                <span class="hljs-keyword">if</span> self.isdigit() <span class="hljs-keyword">or</span> other.isdigit():
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
                <span class="hljs-keyword">else</span>:
                    <span class="hljs-keyword">return</span> self.d(self) == self.d(other)
        __le__ = <span class="hljs-built_in">object</span>.__le__
        __ne__ = <span class="hljs-built_in">object</span>.__ne__
        __gt__ = <span class="hljs-built_in">object</span>.__gt__
        __ge__ = <span class="hljs-built_in">object</span>.__ge__
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__lt__</span>(<span class="hljs-params">self, other</span>):
        <span class="hljs-keyword">return</span> self.d(self) &lt; self.d(other)
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__eq__</span>(<span class="hljs-params">self, other</span>):
        <span class="hljs-keyword">return</span> self.d(self) == self.d(other)
    __le__ = <span class="hljs-built_in">object</span>.__le__
    __ne__ = <span class="hljs-built_in">object</span>.__ne__
    __gt__ = <span class="hljs-built_in">object</span>.__gt__
    __ge__ = <span class="hljs-built_in">object</span>.__ge__
</code></pre>



<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> functools
<span class="hljs-keyword">import</span> itertools


<span class="hljs-meta">@functools.total_ordering</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">NaturalStringB</span>(<span class="hljs-title class_ inherited__">str</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__repr__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">return</span> <span class="hljs-string">"{}({})"</span>.<span class="hljs-built_in">format</span>\
            ( <span class="hljs-built_in">type</span>(self).__name__
            , <span class="hljs-built_in">super</span>().__repr__()
            )
    d = <span class="hljs-keyword">lambda</span> s: <span class="hljs-string">""</span>.join(c.lower()+c.swapcase() <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> s)
    d = <span class="hljs-built_in">staticmethod</span>(d)
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__lt__</span>(<span class="hljs-params">self, other</span>):
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(self, <span class="hljs-built_in">type</span>(other)):
            <span class="hljs-keyword">return</span> <span class="hljs-literal">NotImplemented</span>
        groups = <span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> i: itertools.groupby(i, <span class="hljs-built_in">type</span>(self).isdigit), (self, other))
        zipped = itertools.zip_longest(*groups)
        <span class="hljs-keyword">for</span> s,o <span class="hljs-keyword">in</span> zipped:
            <span class="hljs-keyword">if</span> s <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
            <span class="hljs-keyword">if</span> o <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
            s_k, s_v = s[<span class="hljs-number">0</span>], <span class="hljs-string">""</span>.join(s[<span class="hljs-number">1</span>])
            o_k, o_v = o[<span class="hljs-number">0</span>], <span class="hljs-string">""</span>.join(o[<span class="hljs-number">1</span>])
            <span class="hljs-keyword">if</span> s_k <span class="hljs-keyword">and</span> o_k:
                s_v, o_v = <span class="hljs-built_in">int</span>(s_v), <span class="hljs-built_in">int</span>(o_v)
                <span class="hljs-keyword">if</span> s_v == o_v:
                    <span class="hljs-keyword">continue</span>
                <span class="hljs-keyword">return</span> s_v &lt; o_v
            <span class="hljs-keyword">elif</span> s_k:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
            <span class="hljs-keyword">elif</span> o_k:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
            <span class="hljs-keyword">else</span>:
                s_v, o_v = self.d(s_v), self.d(o_v)
                <span class="hljs-keyword">if</span> s_v == o_v:
                    <span class="hljs-keyword">continue</span>
                <span class="hljs-keyword">return</span> s_v &lt; o_v
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__eq__</span>(<span class="hljs-params">self, other</span>):
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(self, <span class="hljs-built_in">type</span>(other)):
            <span class="hljs-keyword">return</span> <span class="hljs-literal">NotImplemented</span>
        groups = <span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> i: itertools.groupby(i, <span class="hljs-built_in">type</span>(self).isdigit), (self, other))
        zipped = itertools.zip_longest(*groups)
        <span class="hljs-keyword">for</span> s,o <span class="hljs-keyword">in</span> zipped:
            <span class="hljs-keyword">if</span> s <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">or</span> o <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
            s_k, s_v = s[<span class="hljs-number">0</span>], <span class="hljs-string">""</span>.join(s[<span class="hljs-number">1</span>])
            o_k, o_v = o[<span class="hljs-number">0</span>], <span class="hljs-string">""</span>.join(o[<span class="hljs-number">1</span>])
            <span class="hljs-keyword">if</span> s_k <span class="hljs-keyword">and</span> o_k:
                s_v, o_v = <span class="hljs-built_in">int</span>(s_v), <span class="hljs-built_in">int</span>(o_v)
                <span class="hljs-keyword">if</span> s_v == o_v:
                    <span class="hljs-keyword">continue</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
            <span class="hljs-keyword">elif</span> s_k <span class="hljs-keyword">or</span> o_k:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
            <span class="hljs-keyword">else</span>:
                s_v, o_v = self.d(s_v), self.d(o_v)
                <span class="hljs-keyword">if</span> s_v == o_v:
                    <span class="hljs-keyword">continue</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
    __le__ = <span class="hljs-built_in">object</span>.__le__
    __ne__ = <span class="hljs-built_in">object</span>.__ne__
    __gt__ = <span class="hljs-built_in">object</span>.__gt__
    __ge__ = <span class="hljs-built_in">object</span>.__ge__
</code></pre>



<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> functools
<span class="hljs-keyword">import</span> itertools
<span class="hljs-keyword">import</span> enum


<span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderingType</span>(enum.Enum):
    PerWordSwapCase         = <span class="hljs-keyword">lambda</span> s: s.lower()+s.swapcase()
    PerCharacterSwapCase    = <span class="hljs-keyword">lambda</span> s: <span class="hljs-string">""</span>.join(c.lower()+c.swapcase() <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> s)


<span class="hljs-keyword">class</span> <span class="hljs-title class_">NaturalOrdering</span>:
<span class="hljs-meta">    @classmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">by</span>(<span class="hljs-params">cls, ordering</span>):
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">string</span>):
            <span class="hljs-keyword">return</span> cls(string, ordering)
        <span class="hljs-keyword">return</span> wrapper
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, string, ordering=OrderingType.PerCharacterSwapCase</span>):
        self.string = string
        self.groups = [ (k,<span class="hljs-built_in">int</span>(<span class="hljs-string">""</span>.join(v)))
                            <span class="hljs-keyword">if</span> k <span class="hljs-keyword">else</span>
                        (k,ordering(<span class="hljs-string">""</span>.join(v)))
                            <span class="hljs-keyword">for</span> k,v <span class="hljs-keyword">in</span>
                        itertools.groupby(string, <span class="hljs-built_in">str</span>.isdigit)
                      ]
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__repr__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">return</span> <span class="hljs-string">"{}({})"</span>.<span class="hljs-built_in">format</span>\
            ( <span class="hljs-built_in">type</span>(self).__name__
            , self.string
            )
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__lesser</span>(<span class="hljs-params">self, other, default</span>):
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(self, <span class="hljs-built_in">type</span>(other)):
            <span class="hljs-keyword">return</span> <span class="hljs-literal">NotImplemented</span>
        <span class="hljs-keyword">for</span> s,o <span class="hljs-keyword">in</span> itertools.zip_longest(self.groups, other.groups):
            <span class="hljs-keyword">if</span> s <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
            <span class="hljs-keyword">if</span> o <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
            s_k, s_v = s
            o_k, o_v = o
            <span class="hljs-keyword">if</span> s_k <span class="hljs-keyword">and</span> o_k:
                <span class="hljs-keyword">if</span> s_v == o_v:
                    <span class="hljs-keyword">continue</span>
                <span class="hljs-keyword">return</span> s_v &lt; o_v
            <span class="hljs-keyword">elif</span> s_k:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
            <span class="hljs-keyword">elif</span> o_k:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
            <span class="hljs-keyword">else</span>:
                <span class="hljs-keyword">if</span> s_v == o_v:
                    <span class="hljs-keyword">continue</span>
                <span class="hljs-keyword">return</span> s_v &lt; o_v
        <span class="hljs-keyword">return</span> default
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__lt__</span>(<span class="hljs-params">self, other</span>):
        <span class="hljs-keyword">return</span> self.__lesser(other, default=<span class="hljs-literal">False</span>)
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__le__</span>(<span class="hljs-params">self, other</span>):
        <span class="hljs-keyword">return</span> self.__lesser(other, default=<span class="hljs-literal">True</span>)
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__eq__</span>(<span class="hljs-params">self, other</span>):
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(self, <span class="hljs-built_in">type</span>(other)):
            <span class="hljs-keyword">return</span> <span class="hljs-literal">NotImplemented</span>
        <span class="hljs-keyword">for</span> s,o <span class="hljs-keyword">in</span> itertools.zip_longest(self.groups, other.groups):
            <span class="hljs-keyword">if</span> s <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">or</span> o <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
            s_k, s_v = s
            o_k, o_v = o
            <span class="hljs-keyword">if</span> s_k <span class="hljs-keyword">and</span> o_k:
                <span class="hljs-keyword">if</span> s_v == o_v:
                    <span class="hljs-keyword">continue</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
            <span class="hljs-keyword">elif</span> s_k <span class="hljs-keyword">or</span> o_k:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
            <span class="hljs-keyword">else</span>:
                <span class="hljs-keyword">if</span> s_v == o_v:
                    <span class="hljs-keyword">continue</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
    <span class="hljs-comment"># functools.total_ordering doesn't create single-call wrappers if both</span>
    <span class="hljs-comment"># __le__ and __lt__ exist, so do it manually.</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__gt__</span>(<span class="hljs-params">self, other</span>):
        op_result = self.__le__(other)
        <span class="hljs-keyword">if</span> op_result <span class="hljs-keyword">is</span> <span class="hljs-literal">NotImplemented</span>:
            <span class="hljs-keyword">return</span> op_result
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">not</span> op_result
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__ge__</span>(<span class="hljs-params">self, other</span>):
        op_result = self.__lt__(other)
        <span class="hljs-keyword">if</span> op_result <span class="hljs-keyword">is</span> <span class="hljs-literal">NotImplemented</span>:
            <span class="hljs-keyword">return</span> op_result
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">not</span> op_result
    <span class="hljs-comment"># __ne__ is the only implied ordering relationship, it automatically</span>
    <span class="hljs-comment"># delegates to __eq__</span>
</code></pre>



<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> natsort
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> timeit
<span class="hljs-meta">&gt;&gt;&gt; </span>l1 = [<span class="hljs-string">'Apple'</span>, <span class="hljs-string">'corn'</span>, <span class="hljs-string">'apPlE'</span>, <span class="hljs-string">'arbour'</span>, <span class="hljs-string">'Corn'</span>, <span class="hljs-string">'Banana'</span>, <span class="hljs-string">'apple'</span>, <span class="hljs-string">'banana'</span>]
<span class="hljs-meta">&gt;&gt;&gt; </span>l2 = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>, <span class="hljs-built_in">range</span>(<span class="hljs-number">30</span>)))
<span class="hljs-meta">&gt;&gt;&gt; </span>l3 = [<span class="hljs-string">"{} {}"</span>.<span class="hljs-built_in">format</span>(x,y) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> l1 <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> l2]
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(timeit.timeit(<span class="hljs-string">'sorted(l3+["0"], key=NaturalStringA)'</span>, number=<span class="hljs-number">10000</span>, <span class="hljs-built_in">globals</span>=<span class="hljs-built_in">globals</span>()))
<span class="hljs-number">362.4729259099986</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(timeit.timeit(<span class="hljs-string">'sorted(l3+["0"], key=NaturalStringB)'</span>, number=<span class="hljs-number">10000</span>, <span class="hljs-built_in">globals</span>=<span class="hljs-built_in">globals</span>()))
<span class="hljs-number">189.7340817489967</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(timeit.timeit(<span class="hljs-string">'sorted(l3+["0"], key=NaturalOrdering.by(OrderingType.PerCharacterSwapCase))'</span>, number=<span class="hljs-number">10000</span>, <span class="hljs-built_in">globals</span>=<span class="hljs-built_in">globals</span>()))
<span class="hljs-number">69.34636392899847</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(timeit.timeit(<span class="hljs-string">'natsort.natsorted(l3+["0"], alg=natsort.ns.GROUPLETTERS | natsort.ns.LOWERCASEFIRST)'</span>, number=<span class="hljs-number">10000</span>, <span class="hljs-built_in">globals</span>=<span class="hljs-built_in">globals</span>()))
<span class="hljs-number">98.2531585780016</span>
</code></pre>

<p>Natural sorting is both pretty complicated and vaguely defined as a problem. Don't forget to run <code>unicodedata.normalize(...)</code> beforehand, and consider use <code>str.casefold()</code> rather than <code>str.lower()</code>. There are probably subtle encoding issues I haven't considered. So I tentatively recommend the <a href="https://pypi.python.org/pypi/natsort" rel="nofollow noreferrer">natsort</a> library. I took a quick glance at the github repository; the code maintenance has been stellar.</p>

<p>All the algorithms I've seen depend on tricks such as duplicating and lowering characters, and swapping case. While this doubles the running time, an alternative would require a total natural ordering on the input character set. I don't think this is part of the unicode specification, and since there are many more unicode digits than <code>[0-9]</code>, creating such a sorting would be equally daunting. If you want locale-aware comparisons, prepare your strings with <a href="https://docs.python.org/3/library/locale.html#locale.strxfrm" rel="nofollow noreferrer"><code>locale.strxfrm</code></a> per Python's <a href="https://docs.python.org/3/howto/sorting.html#odd-and-ends" rel="nofollow noreferrer">Sorting HOW TO</a>.</p>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 16</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Following @Mark Byers answer, here is an adaptation which accepts the <code>key</code> parameter, and is more PEP8-compliant.</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">natsorted</span>(<span class="hljs-params">seq, key=<span class="hljs-literal">None</span></span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">convert</span>(<span class="hljs-params">text</span>):
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(text) <span class="hljs-keyword">if</span> text.isdigit() <span class="hljs-keyword">else</span> text

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">alphanum</span>(<span class="hljs-params">obj</span>):
        <span class="hljs-keyword">if</span> key <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
            <span class="hljs-keyword">return</span> [convert(c) <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> re.split(<span class="hljs-string">r'([0-9]+)'</span>, key(obj))]
        <span class="hljs-keyword">return</span> [convert(c) <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> re.split(<span class="hljs-string">r'([0-9]+)'</span>, obj)]

    <span class="hljs-keyword">return</span> <span class="hljs-built_in">sorted</span>(seq, key=alphanum)
</code></pre>

<p>I also made a <a href="https://gist.github.com/edouardtheron/5e23e494f5cfbd94cf5e19201d63ccaa" rel="nofollow noreferrer">Gist</a></p>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 17</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Let me submit my own take on this need:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Tuple</span>, <span class="hljs-type">Union</span>, <span class="hljs-type">Optional</span>, Generator


StrOrInt = <span class="hljs-type">Union</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">int</span>]


<span class="hljs-comment"># On Python 3.6, string concatenation is REALLY fast</span>
<span class="hljs-comment"># Tested myself, and this fella also tested:</span>
<span class="hljs-comment"># https://blog.ganssle.io/articles/2019/11/string-concat.html</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">griter</span>(<span class="hljs-params">s: <span class="hljs-built_in">str</span></span>) -&gt; Generator[StrOrInt, <span class="hljs-literal">None</span>, <span class="hljs-literal">None</span>]:
    last_was_digit: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">bool</span>] = <span class="hljs-literal">None</span>
    cluster: <span class="hljs-built_in">str</span> = <span class="hljs-string">""</span>
    <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> s:
        <span class="hljs-keyword">if</span> last_was_digit <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
            last_was_digit = c.isdigit()
            cluster += c
            <span class="hljs-keyword">continue</span>
        <span class="hljs-keyword">if</span> c.isdigit() != last_was_digit:
            <span class="hljs-keyword">if</span> last_was_digit:
                <span class="hljs-keyword">yield</span> <span class="hljs-built_in">int</span>(cluster)
            <span class="hljs-keyword">else</span>:
                <span class="hljs-keyword">yield</span> cluster
            last_was_digit = c.isdigit()
            cluster = <span class="hljs-string">""</span>
        cluster += c
    <span class="hljs-keyword">if</span> last_was_digit:
        <span class="hljs-keyword">yield</span> <span class="hljs-built_in">int</span>(cluster)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">yield</span> cluster
    <span class="hljs-keyword">return</span>


<span class="hljs-keyword">def</span> <span class="hljs-title function_">grouper</span>(<span class="hljs-params">s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">Tuple</span>[StrOrInt, ...]:
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">tuple</span>(griter(s))
</code></pre>

<p>Now if we have the list like such:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">filelist = [
    <span class="hljs-string">'File3'</span>, <span class="hljs-string">'File007'</span>, <span class="hljs-string">'File3a'</span>, <span class="hljs-string">'File10'</span>, <span class="hljs-string">'File11'</span>, <span class="hljs-string">'File1'</span>, <span class="hljs-string">'File4'</span>, <span class="hljs-string">'File5'</span>,
    <span class="hljs-string">'File9'</span>, <span class="hljs-string">'File8'</span>, <span class="hljs-string">'File8b1'</span>, <span class="hljs-string">'File8b2'</span>, <span class="hljs-string">'File8b11'</span>, <span class="hljs-string">'File6'</span>
]
</code></pre>

<p>We can simply use the <code>key=</code> kwarg to do a natural sort:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">sorted</span>(filelist, key=grouper)
[<span class="hljs-string">'File1'</span>, <span class="hljs-string">'File3'</span>, <span class="hljs-string">'File3a'</span>, <span class="hljs-string">'File4'</span>, <span class="hljs-string">'File5'</span>, <span class="hljs-string">'File6'</span>, <span class="hljs-string">'File007'</span>, <span class="hljs-string">'File8'</span>, 
<span class="hljs-string">'File8b1'</span>, <span class="hljs-string">'File8b2'</span>, <span class="hljs-string">'File8b11'</span>, <span class="hljs-string">'File9'</span>, <span class="hljs-string">'File10'</span>, <span class="hljs-string">'File11'</span>]
</code></pre>

<p>The drawback here is of course, as it is now, the function will sort uppercase letters before lowercase letters.</p>

<p>I'll leave the implementation of a case-insenstive grouper to the reader :-)</p>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 18</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Just for the records, here is yet another variant of Mark Byers' simple solution, similar to the one suggested by Walter Tross, which avoids calling <code>isdigit()</code>. This not only makes it faster, but also avoids the problems that can occur because <code>isdigit()</code> considers more unicode chars as digits than the the regex <code>\d+</code>.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">import</span> re
<span class="hljs-keyword">from</span> itertools <span class="hljs-keyword">import</span> cycle

_re_digits = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r"(\d+)"</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">natural_comparison_key</span>(<span class="hljs-params">key</span>):
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">tuple</span>(
        <span class="hljs-built_in">int</span>(part) <span class="hljs-keyword">if</span> is_digit <span class="hljs-keyword">else</span> part
        <span class="hljs-keyword">for</span> part, is_digit <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(_re_digits.split(key), cycle((<span class="hljs-literal">False</span>, <span class="hljs-literal">True</span>)))
    )
</code></pre>
    </div></div></div></div><div id="solution19" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 19</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here's another version of Mark Byers's answer. This version demonstrates how to pass in an attribute name, that is to be used to evaluate the objects in the list.</p>
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">natural_sort</span>(<span class="hljs-params">l, attrib</span>):
    convert = <span class="hljs-keyword">lambda</span> text: <span class="hljs-built_in">int</span>(text) <span class="hljs-keyword">if</span> text.isdigit() <span class="hljs-keyword">else</span> text.lower()
    alphanum_key = <span class="hljs-keyword">lambda</span> key: [convert(c) <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> re.split(<span class="hljs-string">'([0-9]+)'</span>, key.__dict__[attrib])]
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">sorted</span>(l, key=alphanum_key)

results = natural_sort(albums, <span class="hljs-string">'albumid'</span>)
</code></pre>
<p>Where <code>albums</code> is a list of Album instances, and <code>albumid</code> is an string attribute that nominally has numbers in it.</p>
    </div></div></div></div><div id="solution20" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 20</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I suggest you simply use the <code>key</code> keyword argument of <code>sorted</code> to achieve your desired list<br>
For example:</p>

<pre class="lang-py s-code-block"><code class="hljs language-python">to_order= [e2,E1,e5,E4,e3]
ordered= <span class="hljs-built_in">sorted</span>(to_order, key= <span class="hljs-keyword">lambda</span> x: x.lower())
    <span class="hljs-comment"># ordered should be [E1,e2,e3,E4,e5]</span>
</code></pre>
    </div></div></div></div><div id="solution21" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 21</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-py s-code-block"><code class="hljs language-python">a = [<span class="hljs-string">'H1'</span>, <span class="hljs-string">'H100'</span>, <span class="hljs-string">'H10'</span>, <span class="hljs-string">'H3'</span>, <span class="hljs-string">'H2'</span>, <span class="hljs-string">'H6'</span>, <span class="hljs-string">'H11'</span>, <span class="hljs-string">'H50'</span>, <span class="hljs-string">'H5'</span>, <span class="hljs-string">'H99'</span>, <span class="hljs-string">'H8'</span>]
b = <span class="hljs-string">''</span>
c = []

<span class="hljs-keyword">def</span> <span class="hljs-title function_">bubble</span>(<span class="hljs-params">bad_list</span>):<span class="hljs-comment">#bubble sort method</span>
        length = <span class="hljs-built_in">len</span>(bad_list) - <span class="hljs-number">1</span>
        <span class="hljs-built_in">sorted</span> = <span class="hljs-literal">False</span>

        <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">sorted</span>:
                <span class="hljs-built_in">sorted</span> = <span class="hljs-literal">True</span>
                <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(length):
                        <span class="hljs-keyword">if</span> bad_list[i] &gt; bad_list[i+<span class="hljs-number">1</span>]:
                                <span class="hljs-built_in">sorted</span> = <span class="hljs-literal">False</span>
                                bad_list[i], bad_list[i+<span class="hljs-number">1</span>] = bad_list[i+<span class="hljs-number">1</span>], bad_list[i] <span class="hljs-comment">#sort the integer list </span>
                                a[i], a[i+<span class="hljs-number">1</span>] = a[i+<span class="hljs-number">1</span>], a[i] <span class="hljs-comment">#sort the main list based on the integer list index value</span>

<span class="hljs-keyword">for</span> a_string <span class="hljs-keyword">in</span> a: <span class="hljs-comment">#extract the number in the string character by character</span>
        <span class="hljs-keyword">for</span> letter <span class="hljs-keyword">in</span> a_string:
                <span class="hljs-keyword">if</span> letter.isdigit():
                        <span class="hljs-comment">#print letter</span>
                        b += letter
        c.append(b)
        b = <span class="hljs-string">''</span>

<span class="hljs-built_in">print</span> <span class="hljs-string">'Before sorting....'</span>
<span class="hljs-built_in">print</span> a
c = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, c) <span class="hljs-comment">#converting string list into number list</span>
<span class="hljs-built_in">print</span> c
bubble(c)

<span class="hljs-built_in">print</span> <span class="hljs-string">'After sorting....'</span>
<span class="hljs-built_in">print</span> c
<span class="hljs-built_in">print</span> a
</code></pre>

<p><strong>Acknowledgments</strong>:</p>

<p><a href="https://stackoverflow.com/questions/895371/bubble-sort-homework">Bubble Sort Homework</a></p>

<p><a href="https://stackoverflow.com/questions/2633942/how-to-read-a-string-one-letter-at-a-time-in-python">How to read a string one letter at a time in python</a></p>
    </div></div></div></div><div id="solution22" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 22</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-py s-code-block"><code class="hljs language-python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> re
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">sorted</span>(lst, key=<span class="hljs-keyword">lambda</span> x: <span class="hljs-built_in">int</span>(re.findall(<span class="hljs-string">r'\d+$'</span>, x)[<span class="hljs-number">0</span>]))
[<span class="hljs-string">'elm0'</span>, <span class="hljs-string">'elm1'</span>, <span class="hljs-string">'Elm2'</span>, <span class="hljs-string">'elm9'</span>, <span class="hljs-string">'elm10'</span>, <span class="hljs-string">'Elm11'</span>, <span class="hljs-string">'Elm12'</span>, <span class="hljs-string">'elm13'</span>]
</code></pre>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/can-a-local-variable&#x27;s-memory-be-accessed-outside-its-scope-1657384460386">Can a local variable&#x27;s memory be accessed outside its scope?</a><a href="/questions/php-failed-to-open-stream-:-no-such-file-or-directory-1657387872896">PHP - Failed to open stream : No such file or directory</a><a href="/questions/what-does-enctype&#x27;multipartform-data&#x27;-mean-1657388229352">What does enctype=&#x27;multipart/form-data&#x27; mean?</a><a href="/questions/official-locator-strategies-for-the-webdriver-1657384353174">Official locator strategies for the webdriver</a><a href="/questions/how-to-make-good-reproducible-pandas-examples-1657384310402">How to make good reproducible pandas examples</a><a href="/questions/serialize-and-deserialize-json-and-json-array-in-unity-1657388273270">Serialize and Deserialize Json and Json Array in Unity</a><a href="/questions/what-methods-of-&#x27;clearfix&#x27;-can-i-use-1657387672727">What methods of clearfix can I use?</a><a href="/questions/how-do-i-give-text-or-an-image-a-transparent-background-using-css-1657388188508">How do I give text or an image a transparent background using CSS?</a><a href="/questions/addeventlistener-vs-onclick-1657388191429">addEventListener vs onclick</a><a href="/questions/what-is-the-difference-between-const-int*-const-int-*-const-and-int-const-*-1657388184604">What is the difference between const int*, const int * const, and int const *?</a><a href="/questions/how-to-check-if-element-is-visible-after-scrolling-1657387987960">How to check if element is visible after scrolling?</a><a href="/questions/returning-data-from-async-call-in-swift-function-1657387469218">Returning data from async call in Swift function</a><a href="/questions/is-floating-point-math-broken-1657384238910">Is floating point math broken?</a><a href="/questions/why-does-this-pdo-statement-silently-fail-1657384892133">Why does this PDO statement silently fail?</a><a href="/questions/how-can-i-access-and-process-nested-objects-arrays-or-json-1657384332823">How can I access and process nested objects, arrays, or JSON?</a><a href="/questions/how-to-add-jtable-in-jpanel-with-null-layout-1657384590912">How to add JTable in JPanel with null layout?</a><a href="/questions/how-do-i-sort-a-dictionary-by-value-1657385485049">How do I sort a dictionary by value?</a><a href="/questions/reference-what-does-this-regex-mean-1657384291445">Reference - What does this regex mean?</a><a href="/questions/safely-turning-a-json-string-into-an-object-1657388194824">Safely turning a JSON string into an object</a><a href="/questions/when-should-i-wrap-quotes-around-a-shell-variable-1657384659265">When should I wrap quotes around a shell variable?</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;There is a third party library for this on PyPI called \u0026lt;a href=\u0026quot;https://github.com/SethMMorton/natsort\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;natsort\u0026lt;/a\u0026gt; (full disclosure, I am the package\u0026apos;s author).  For your case, you can do either of the following:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; natsort \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; natsorted, ns\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;x = [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm12\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;natsorted(x, key=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; y: y.lower())\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm12\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;natsorted(x, alg=ns.IGNORECASE)  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# or alg=ns.IC\u0026lt;/span\u0026gt;\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm12\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;You should note that \u0026lt;code\u0026gt;natsort\u0026lt;/code\u0026gt; uses a general algorithm so it should work for just about any input that you throw at it. If you want more details on why you might choose a library to do this rather than rolling your own function, check out the \u0026lt;code\u0026gt;natsort\u0026lt;/code\u0026gt; documentation\u0026apos;s \u0026lt;a href=\u0026quot;http://natsort.readthedocs.io/en/master/howitworks.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;How It Works\u0026lt;/a\u0026gt; page, in particular the \u0026lt;a href=\u0026quot;http://natsort.readthedocs.io/en/master/howitworks.html#special-cases-everywhere\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Special Cases Everywhere!\u0026lt;/a\u0026gt; section.\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;If you need a sorting key instead of a sorting function, use either of the below formulas.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; natsort \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; natsort_keygen, ns\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;l1 = [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm12\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;l2 = l1[:]\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;natsort_key1 = natsort_keygen(key=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; y: y.lower())\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;l1.sort(key=natsort_key1)\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;l1\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm12\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;natsort_key2 = natsort_keygen(alg=ns.IGNORECASE)\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;l2.sort(key=natsort_key2)\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;l2\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm12\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Update November 2020\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Given that a popular request/question is \u0026quot;how to sort like Windows Explorer?\u0026quot; (or whatever is your operating system\u0026apos;s file system browser), as of \u0026lt;code\u0026gt;natsort\u0026lt;/code\u0026gt; version 7.1.0 there is a function called \u0026lt;a href=\u0026quot;https://natsort.readthedocs.io/en/master/api.html#natsort.os_sorted\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;os_sorted\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; to do exactly this. On Windows, it will sort in the same order as Windows Explorer, and on other operating systems it should sort like whatever is the local file system browser.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; natsort \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; os_sorted\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;os_sorted(list_of_paths)\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# your paths sorted like your file system browser\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;For those needing a sort key, you can use \u0026lt;code\u0026gt;os_sort_keygen\u0026lt;/code\u0026gt; (or \u0026lt;code\u0026gt;os_sort_key\u0026lt;/code\u0026gt; if you just need the defaults).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Caveat\u0026lt;/em\u0026gt; - Please read the API documentation for this function before you use to understand the limitations and how to get best results.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Try this:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; re\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;natural_sort\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;l\u0026lt;/span\u0026gt;): \n    convert = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; text: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(text) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; text.isdigit() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; text.lower()\n    alphanum_key = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; key: [convert(c) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; c \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; re.split(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;([0-9]+)\u0026apos;\u0026lt;/span\u0026gt;, key)]\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt;(l, key=alphanum_key)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Output:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm12\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Code adapted from here: \u0026lt;a href=\u0026quot;http://www.codinghorror.com/blog/2007/12/sorting-for-humans-natural-sort-order.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Sorting for Humans : Natural Sort Order\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here\u0026apos;s a much more pythonic version of Mark Byer\u0026apos;s answer:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; re\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;natural_sort_key\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;s, _nsre=re.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;compile\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;([0-9]+)\u0026apos;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; [\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(text) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; text.isdigit() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; text.lower()\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; text \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; _nsre.split(s)]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Now this function can be used as a key in any function that uses it, like \u0026lt;code\u0026gt;list.sort\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;sorted\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;max\u0026lt;/code\u0026gt;, etc.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;As a lambda:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; s: [\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(t) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; t.isdigit() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; t.lower() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; t \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; re.split(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;(\\d+)\u0026apos;\u0026lt;/span\u0026gt;, s)]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;Fully reproducible demo code:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; re\nnatsort = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; s: [\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(t) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; t.isdigit() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; t.lower() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; t \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; re.split(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;(\\d+)\u0026apos;\u0026lt;/span\u0026gt;, s)]\nL = [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a10\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a11\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a22\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a3\u0026quot;\u0026lt;/span\u0026gt;]   \n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt;(L, key=natsort))  \n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# [\u0026apos;a1\u0026apos;, \u0026apos;a2\u0026apos;, \u0026apos;a3\u0026apos;, \u0026apos;a10\u0026apos;, \u0026apos;a11\u0026apos;, \u0026apos;a22\u0026apos;] \u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;data = [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Let\u0026apos;s analyse the data. The digit capacity of all elements is 2. And there are 3 letters in common literal part \u0026lt;code\u0026gt;\u0026apos;elm\u0026apos;\u0026lt;/code\u0026gt;. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So, the maximal length of element is 5. We can increase this value to make sure (for example, to 8).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Bearing that in mind, we\u0026apos;ve got a one-line solution:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;data.sort(key=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; x: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;{0:0\u0026amp;gt;8}\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;format\u0026lt;/span\u0026gt;(x).lower())\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;without regular expressions and external libraries!\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(data)\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Explanation:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; elm \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; data:\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;{0:0\u0026amp;gt;8}\u0026apos;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;format\u0026lt;/span\u0026gt;(elm).lower())\n\n\u0026amp;gt;\u0026amp;gt;\u0026amp;gt;\n0000elm0\n0000elm1\n0000elm2\n0000elm9\n000elm10\n000elm11\n000elm13\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I wrote a function based on \u0026lt;a href=\u0026quot;http://www.codinghorror.com/blog/2007/12/sorting-for-humans-natural-sort-order.html\u0026quot;\u0026gt;http://www.codinghorror.com/blog/2007/12/sorting-for-humans-natural-sort-order.html\u0026lt;/a\u0026gt; which adds the ability to still pass in your own \u0026apos;key\u0026apos; parameter. I need this in order to perform a natural sort of lists that contain more complex objects (not just strings).\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; re\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;natural_sort\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;, key=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; s:s\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026quot;\n    Sort the list into natural alphanumeric order.\n    \u0026quot;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get_alphanum_key_func\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;):\n        convert = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; text: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(text) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; text.isdigit() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; text \n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; s: [convert(c) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; c \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; re.split(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;([0-9]+)\u0026apos;\u0026lt;/span\u0026gt;, key(s))]\n    sort_key = get_alphanum_key_func(key)\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;.sort(key=sort_key)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;For example:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;my_list = [{\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;name\u0026apos;\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;b\u0026apos;\u0026lt;/span\u0026gt;}, {\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;name\u0026apos;\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;10\u0026apos;\u0026lt;/span\u0026gt;}, {\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;name\u0026apos;\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;a\u0026apos;\u0026lt;/span\u0026gt;}, {\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;name\u0026apos;\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;1\u0026apos;\u0026lt;/span\u0026gt;}, {\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;name\u0026apos;\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;9\u0026apos;\u0026lt;/span\u0026gt;}]\nnatural_sort(my_list, key=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; x: x[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;name\u0026apos;\u0026lt;/span\u0026gt;])\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; my_list\n[{\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;name\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;1\u0026apos;\u0026lt;/span\u0026gt;}, {\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;name\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;9\u0026apos;\u0026lt;/span\u0026gt;}, {\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;name\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;10\u0026apos;\u0026lt;/span\u0026gt;}, {\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;name\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;a\u0026apos;\u0026lt;/span\u0026gt;}, {\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;name\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;b\u0026apos;\u0026lt;/span\u0026gt;}]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Given:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;data = [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm12\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Similar to SergO\u0026apos;s solution, a \u0026lt;strong\u0026gt;1-liner without external libraries would be\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;data.sort(key=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; x: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(x[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;:]))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;or\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;sorted_data = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt;(data, key=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; x: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(x[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;:]))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Explanation:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This solution uses the \u0026lt;em\u0026gt;key\u0026lt;/em\u0026gt; feature of \u0026lt;em\u0026gt;sort\u0026lt;/em\u0026gt; to define a function that will be employed for the sorting. Because we know that every data entry is preceded by \u0026apos;elm\u0026apos; the sorting function converts to integer the portion of the string after the 3rd character (i.e. int(x[3:])). If the numerical part of the data is in a different location, then this part of the function would have to change.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;strong\u0026gt;And now for something more* elegant (pythonic)\u0026lt;/strong\u0026gt; \u0026lt;em\u0026gt;-just a touch\u0026lt;/em\u0026gt;\n\n\u0026lt;p\u0026gt;There are many implementations out there, and while some have come close, none quite captured the elegance modern python affords.\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Tested using python(3.5.1)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Included an additional list to demonstrate that it works when the\nnumbers are mid string\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Didn\u0026apos;t test, however, I am assuming that if your list was sizable it would be more efficient to compile the regex beforehand\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;em\u0026gt;I\u0026apos;m sure someone will correct me if this is an erroneous assumption\u0026lt;/em\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;strong\u0026gt;Quicky\u0026lt;/strong\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-python s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; re \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;compile\u0026lt;/span\u0026gt;, split    \ndre = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;compile\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026apos;(\\d+)\u0026apos;\u0026lt;/span\u0026gt;)\nmylist.sort(key=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; l: [\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(s) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s.isdigit() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; s.lower() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; s \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; split(dre, l)])\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;strong\u0026gt;Full-Code\u0026lt;/strong\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-python s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#!/usr/bin/python3\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# coding=utf-8\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026quot;\nNatural-Sort Test\n\u0026quot;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; re \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;compile\u0026lt;/span\u0026gt;, split\n\ndre = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;compile\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026apos;(\\d+)\u0026apos;\u0026lt;/span\u0026gt;)\nmylist = [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm12\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm\u0026apos;\u0026lt;/span\u0026gt;]\nmylist2 = [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e0lm\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e1lm\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E2lm\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e9lm\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e10lm\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;E12lm\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e13lm\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e01lm\u0026apos;\u0026lt;/span\u0026gt;]\n\nmylist.sort(key=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; l: [\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(s) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s.isdigit() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; s.lower() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; s \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; split(dre, l)])\nmylist2.sort(key=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; l: [\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(s) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s.isdigit() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; s.lower() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; s \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; split(dre, l)])\n\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(mylist)  \n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# [\u0026apos;elm\u0026apos;, \u0026apos;elm0\u0026apos;, \u0026apos;elm1\u0026apos;, \u0026apos;Elm2\u0026apos;, \u0026apos;elm9\u0026apos;, \u0026apos;elm10\u0026apos;, \u0026apos;Elm11\u0026apos;, \u0026apos;Elm12\u0026apos;, \u0026apos;elm13\u0026apos;]\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(mylist2)  \n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# [\u0026apos;e0lm\u0026apos;, \u0026apos;e1lm\u0026apos;, \u0026apos;e01lm\u0026apos;, \u0026apos;E2lm\u0026apos;, \u0026apos;e9lm\u0026apos;, \u0026apos;e10lm\u0026apos;, \u0026apos;E12lm\u0026apos;, \u0026apos;e13lm\u0026apos;, \u0026apos;elm\u0026apos;]\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Caution\u0026lt;/strong\u0026gt; when using\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;from os.path import split\u0026lt;/code\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;you will need to differentiate the imports\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Inspiration\u0026lt;/strong\u0026gt; from\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://docs.python.org/3.5/howto/sorting.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Python Documentation- Sorting HOW TO\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://blog.codinghorror.com/sorting-for-humans-natural-sort-order/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Sorting for Humans : Natural Sort Order\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;http://nedbatchelder.com/blog/200712.html#e20071211T054956\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Human Sorting\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Contributors/Commentators to this and referenced posts \u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;h1\u0026gt;Value Of This Post\u0026lt;/h1\u0026gt;\n\u0026lt;p\u0026gt;My point is to offer a non regex solution that can be applied generally.\u0026lt;br\u0026gt;\nI\u0026apos;ll create three functions:\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;find_first_digit\u0026lt;/code\u0026gt; which I borrowed from \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/4510805/2336654\u0026quot;\u0026gt;@AnuragUniyal\u0026lt;/a\u0026gt;.  It will find the position of the first digit or non-digit in a string.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;split_digits\u0026lt;/code\u0026gt; which is a generator that picks apart a string into digit and non digit chunks.  It will also \u0026lt;code\u0026gt;yield\u0026lt;/code\u0026gt; integers when it is a digit.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;natural_key\u0026lt;/code\u0026gt; just wraps \u0026lt;code\u0026gt;split_digits\u0026lt;/code\u0026gt; into a \u0026lt;code\u0026gt;tuple\u0026lt;/code\u0026gt;.  This is what we use as a key for \u0026lt;code\u0026gt;sorted\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;max\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;min\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;h1\u0026gt;Functions\u0026lt;/h1\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;find_first_digit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;s, non=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; i, x \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;enumerate\u0026lt;/span\u0026gt;(s):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; x.isdigit() ^ non:\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; i\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;split_digits\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;s, case=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;):\n    non = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; s:\n        i = find_first_digit(s, non)\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; i == \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;:\n            non = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; non\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;elif\u0026lt;/span\u0026gt; i == -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;:\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;yield\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(s) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s.isdigit() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; s \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; case \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; s.lower()\n            s = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n            x, s = s[:i], s[i:]\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;yield\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(x) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; x.isdigit() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; x \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; case \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; x.lower()\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;natural_key\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;s, *args, **kwargs\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;tuple\u0026lt;/span\u0026gt;(split_digits(s, *args, **kwargs))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;We can see that it is general in that we can have multiple digit chunks:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Note that the key has lower case letters\u0026lt;/span\u0026gt;\nnatural_key(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;asl;dkfDFKJ:sdlkfjdf809lkasdjfa_543_hh\u0026apos;\u0026lt;/span\u0026gt;)\n\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;asl;dkfdfkj:sdlkfjdf\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;809\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;lkasdjfa_\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;543\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;_hh\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Or leave as case sensitive:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;natural_key(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;asl;dkfDFKJ:sdlkfjdf809lkasdjfa_543_hh\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;)\n\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;asl;dkfDFKJ:sdlkfjdf\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;809\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;lkasdjfa_\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;543\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;_hh\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;We can see that it sorts the OP\u0026apos;s list in the appropriate order\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt;(\n    [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm12\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;],\n    key=natural_key\n)\n\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm12\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;But it can handle more complicated lists as well:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt;(\n    [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;f_1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e_1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;a_2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;g_0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;d_0_12:2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;d_0_1_:2\u0026apos;\u0026lt;/span\u0026gt;],\n    key=natural_key\n)\n\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;a_2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;d_0_1_:2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;d_0_12:2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e_1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;f_1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;g_0\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;My regex equivalent would be\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;int_maybe\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(x) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;str\u0026lt;/span\u0026gt;(x).isdigit() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; x\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;split_digits_re\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;s, case=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;):\n    parts = re.findall(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\\d+|\\D+\u0026apos;\u0026lt;/span\u0026gt;, s)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; case:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(int_maybe, (x.lower() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; x \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; parts))\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(int_maybe, parts)\n    \n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;natural_key_re\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;s, *args, **kwargs\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;tuple\u0026lt;/span\u0026gt;(split_digits_re(s, *args, **kwargs))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;One option is to turn the string into a tuple and replace digits using expanded form \u0026lt;a href=\u0026quot;http://wiki.answers.com/Q/What_does_expanded_form_mean\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;http://wiki.answers.com/Q/What_does_expanded_form_mean\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;that way a90 would become (\u0026quot;a\u0026quot;,90,0) and a1 would become (\u0026quot;a\u0026quot;,1)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;below is some sample code (which isn\u0026apos;t very efficient due to the way It removes leading 0\u0026apos;s from numbers)\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;alist=[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;something1\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;something12\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;something17\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;something2\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;something25and_then_33\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;something25and_then_34\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;something29\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;beta1.1\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;beta2.3.0\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;beta2.33.1\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a001\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a2\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;z002\u0026quot;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;z1\u0026quot;\u0026lt;/span\u0026gt;]\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;k\u0026lt;/span\u0026gt;):\n    nums=\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;set\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;0123456789\u0026quot;\u0026lt;/span\u0026gt;))\n        chars=\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;set\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;(k))\n    chars=chars-nums\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; i \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;range\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;len\u0026lt;/span\u0026gt;(k)):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; c \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; chars:\n            k=k.replace(c+\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;0\u0026quot;\u0026lt;/span\u0026gt;,c)\n    l=\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;(k)\n    base=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;\n    j=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; i \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;range\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;len\u0026lt;/span\u0026gt;(l)-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt;:\n            l[i]=\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(l[i])*base**j\n            j+=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;except\u0026lt;/span\u0026gt;:\n            j=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;\n    l=\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;tuple\u0026lt;/span\u0026gt;(l)\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; l\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; l\n\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt;(alist,key=key)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;output:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;s\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;o\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;m\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;t\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;h\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;i\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;n\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;g\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;)\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;s\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;o\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;m\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;t\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;h\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;i\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;n\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;g\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;)\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;s\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;o\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;m\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;t\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;h\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;i\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;n\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;g\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;7\u0026lt;/span\u0026gt;)\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;s\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;o\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;m\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;t\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;h\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;i\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;n\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;g\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;)\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;s\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;o\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;m\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;t\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;h\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;i\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;n\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;g\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;a\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;n\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;d\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;_\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;t\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;h\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;n\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;_\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;)\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;s\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;o\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;m\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;t\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;h\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;i\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;n\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;g\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;a\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;n\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;d\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;_\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;t\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;h\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;n\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;_\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;)\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;s\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;o\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;m\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;t\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;h\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;i\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;n\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;g\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;)\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;b\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;t\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;a\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;)\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;b\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;t\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;a\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;)\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;b\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;e\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;t\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;a\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;.\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;)\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;a\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;)\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;a\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;)\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;z\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;)\n(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;z\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;)\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;a001\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;a2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;beta1.1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;beta2.3.0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;beta2.33.1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;something1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;something2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;something12\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;something17\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;something25and_then_33\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;something25and_then_34\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;something29\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;z1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;z002\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;An improvement on Claudiu\u0026apos;s improvement on Mark Byers\u0026apos; answer ;-)\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-python s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; re\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;natural_sort_key\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;s, _re=re.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;compile\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026apos;(\\d+)\u0026apos;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; [\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(t) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; i \u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; t.lower() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; i, t \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;enumerate\u0026lt;/span\u0026gt;(_re.split(s))]\n\n...\nmy_naturally_sorted_list = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt;(my_list, key=natural_sort_key)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;BTW, maybe not everyone remembers that function argument defaults are evaluated at \u0026lt;code\u0026gt;def\u0026lt;/code\u0026gt; time\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Based on the answers here, I wrote a \u0026lt;code\u0026gt;natural_sorted\u0026lt;/code\u0026gt; function that behaves like the built-in function \u0026lt;code\u0026gt;sorted\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Copyright (C) 2018, Benjamin Drung \u0026amp;lt;bdrung@posteo.de\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Permission to use, copy, modify, and/or distribute this software for any\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# purpose with or without fee is hereby granted, provided that the above\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# copyright notice and this permission notice appear in all copies.\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# THE SOFTWARE IS PROVIDED \u0026quot;AS IS\u0026quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIES\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; re\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;natural_sorted\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;iterable, key=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;, reverse=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026quot;Return a new naturally sorted list from the items in *iterable*.\n\n    The returned list is in natural sort order. The string is ordered\n    lexicographically (using the Unicode code point number to order individual\n    characters), except that multi-digit numbers are ordered as a single\n    character.\n\n    Has two optional arguments which must be specified as keyword arguments.\n\n    *key* specifies a function of one argument that is used to extract a\n    comparison key from each list element: ``key=str.lower``.  The default value\n    is ``None`` (compare the elements directly).\n\n    *reverse* is a boolean value.  If set to ``True``, then the list elements are\n    sorted as if each comparison were reversed.\n\n    The :func:`natural_sorted` function is guaranteed to be stable. A sort is\n    stable if it guarantees not to change the relative order of elements that\n    compare equal --- this is helpful for sorting in multiple passes (for\n    example, sort by department, then by salary grade).\n    \u0026quot;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;\n    prog = re.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;compile\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026quot;(\\d+)\u0026quot;\u0026lt;/span\u0026gt;)\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;alphanum_key\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;element\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026quot;Split given key in list of strings and digits\u0026quot;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; [\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(c) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; c.isdigit() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; c \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; c \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; prog.split(key(element)\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; key \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; element)]\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt;(iterable, key=alphanum_key, reverse=reverse)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The source code is also available in my GitHub snippets repository:\n\u0026lt;a href=\u0026quot;https://github.com/bdrung/snippets/blob/master/natural_sorted.py\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://github.com/bdrung/snippets/blob/master/natural_sorted.py\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The algorithm I use is \u0026lt;code\u0026gt;padzero_with_lower\u0026lt;/code\u0026gt; as defined as:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; re\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;padzero_with_lower\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;s\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; re.sub(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026apos;\\d+\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; m: m.group(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;).rjust(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;0\u0026apos;\u0026lt;/span\u0026gt;), s).lower()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The algorithm finds:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;finds and pads numbers of any length, to a large enough length, e.g. 10\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;then, it turns the string into lower case\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;Here\u0026apos;s an example usage:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(padzero_with_lower(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file1.txt\u0026apos;\u0026lt;/span\u0026gt;))   \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# file0000000001.txt\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(padzero_with_lower(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file12.txt\u0026apos;\u0026lt;/span\u0026gt;))  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# file0000000012.txt\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(padzero_with_lower(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file23.txt\u0026apos;\u0026lt;/span\u0026gt;))  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# file0000000023.txt\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(padzero_with_lower(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file123.txt\u0026apos;\u0026lt;/span\u0026gt;)) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# file0000000123.txt\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(padzero_with_lower(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;file301.txt\u0026apos;\u0026lt;/span\u0026gt;)) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# file0000000301.txt\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(padzero_with_lower(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Dir2/file15.txt\u0026apos;\u0026lt;/span\u0026gt;))  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# dir0000000002/file0000000015.txt\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(padzero_with_lower(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir2/file123.txt\u0026apos;\u0026lt;/span\u0026gt;)) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# dir0000000002/file0000000123.txt\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(padzero_with_lower(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;dir15/file2.txt\u0026apos;\u0026lt;/span\u0026gt;))  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# dir0000000015/file0000000002.txt\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(padzero_with_lower(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Dir15/file15.txt\u0026apos;\u0026lt;/span\u0026gt;)) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# dir0000000015/file0000000015.txt\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(padzero_with_lower(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;))  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# elm0000000000\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(padzero_with_lower(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;))  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# elm0000000001\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(padzero_with_lower(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;))  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# elm0000000002\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(padzero_with_lower(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;))  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# elm0000000009\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(padzero_with_lower(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;)) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# elm0000000010\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(padzero_with_lower(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;)) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# elm0000000011 \u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(padzero_with_lower(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm12\u0026apos;\u0026lt;/span\u0026gt;)) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# elm0000000012\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(padzero_with_lower(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;)) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# elm0000000013\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;With this function tested, we can now use it as our key, i.e.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;lis = [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm12\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;]\nlis.sort(key=padzero_with_lower)\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(lis)\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Output: [\u0026apos;elm0\u0026apos;, \u0026apos;elm1\u0026apos;, \u0026apos;Elm2\u0026apos;, \u0026apos;elm9\u0026apos;, \u0026apos;elm10\u0026apos;, \u0026apos;Elm11\u0026apos;, \u0026apos;Elm12\u0026apos;, \u0026apos;elm13\u0026apos;]\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;A compact solution, based on the transformation of the string into a \u0026lt;code\u0026gt;List[Tuple(str, int)]\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;Code\u0026lt;/h2\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;string_to_pairs\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;s, pairs=re.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;compile\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026quot;(\\D*)(\\d*)\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;).findall\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; [(text.lower(), \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(digits \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;or\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (text, digits) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; pairs(s)[:-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;]]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h2\u0026gt;Demonstration\u0026lt;/h2\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt;([\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm12\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;], key=string_to_pairs)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Output:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm12\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h2\u0026gt;Tests\u0026lt;/h2\u0026gt;\n\u0026lt;h3\u0026gt;Transformation\u0026lt;/h3\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;assert\u0026lt;/span\u0026gt; string_to_pairs(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;) == []\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;assert\u0026lt;/span\u0026gt; string_to_pairs(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;123\u0026quot;\u0026lt;/span\u0026gt;) == [(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;123\u0026lt;/span\u0026gt;)]\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;assert\u0026lt;/span\u0026gt; string_to_pairs(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;abc\u0026quot;\u0026lt;/span\u0026gt;) == [(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;abc\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)]\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;assert\u0026lt;/span\u0026gt; string_to_pairs(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;123abc\u0026quot;\u0026lt;/span\u0026gt;) == [(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;123\u0026lt;/span\u0026gt;), (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;abc\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)]\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;assert\u0026lt;/span\u0026gt; string_to_pairs(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;abc123\u0026quot;\u0026lt;/span\u0026gt;) == [(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;abc\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;123\u0026lt;/span\u0026gt;)]\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;assert\u0026lt;/span\u0026gt; string_to_pairs(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;123abc456\u0026quot;\u0026lt;/span\u0026gt;) == [(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;123\u0026lt;/span\u0026gt;), (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;abc\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;456\u0026lt;/span\u0026gt;)]\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;assert\u0026lt;/span\u0026gt; string_to_pairs(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;abc123efg\u0026quot;\u0026lt;/span\u0026gt;) == [(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;abc\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;123\u0026lt;/span\u0026gt;), (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;efg\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h3\u0026gt;Sorting\u0026lt;/h3\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Some extracts from the test suite of the natsort library. Permalink:\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# https://github.com/SethMMorton/natsort/blob/e3c32f5638bf3a0e9a23633495269bea0e75d379/tests/test_natsorted.py\u0026lt;/span\u0026gt;\n\nsort_data = [\n    (  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# same as test_natsorted_can_sort_as_unsigned_ints_which_is_default()\u0026lt;/span\u0026gt;\n        [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a50\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a51.\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a50.31\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a-50\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a50.4\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a5.034e1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a50.300\u0026quot;\u0026lt;/span\u0026gt;],\n        [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a5.034e1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a50\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a50.4\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a50.31\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a50.300\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a51.\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a-50\u0026quot;\u0026lt;/span\u0026gt;],\n    ),\n    (  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# same as test_natsorted_numbers_in_ascending_order()\u0026lt;/span\u0026gt;\n        [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a5\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a9\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a4\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a10\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a6\u0026quot;\u0026lt;/span\u0026gt;],\n        [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a2\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a4\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a5\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a6\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a9\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a10\u0026quot;\u0026lt;/span\u0026gt;],\n    ),\n    (  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# same as test_natsorted_can_sort_as_version_numbers()\u0026lt;/span\u0026gt;\n        [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1.9.9a\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1.11\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1.9.9b\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1.11.4\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1.10.1\u0026quot;\u0026lt;/span\u0026gt;],\n        [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1.9.9a\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1.9.9b\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1.10.1\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1.11\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1.11.4\u0026quot;\u0026lt;/span\u0026gt;],\n    ),\n    (  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# different from test_natsorted_handles_filesystem_paths()\u0026lt;/span\u0026gt;\n        [\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/p/Folder (10)/file.tar.gz\u0026quot;\u0026lt;/span\u0026gt;,\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/p/Folder (1)/file (1).tar.gz\u0026quot;\u0026lt;/span\u0026gt;,\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/p/Folder/file.x1.9.tar.gz\u0026quot;\u0026lt;/span\u0026gt;,\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/p/Folder (1)/file.tar.gz\u0026quot;\u0026lt;/span\u0026gt;,\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/p/Folder/file.x1.10.tar.gz\u0026quot;\u0026lt;/span\u0026gt;,\n        ],\n        [\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/p/Folder (1)/file (1).tar.gz\u0026quot;\u0026lt;/span\u0026gt;,\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/p/Folder (1)/file.tar.gz\u0026quot;\u0026lt;/span\u0026gt;,\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/p/Folder (10)/file.tar.gz\u0026quot;\u0026lt;/span\u0026gt;,\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/p/Folder/file.x1.9.tar.gz\u0026quot;\u0026lt;/span\u0026gt;,\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/p/Folder/file.x1.10.tar.gz\u0026quot;\u0026lt;/span\u0026gt;,\n        ],\n    ),\n    (  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# same as test_natsorted_path_extensions_heuristic()\u0026lt;/span\u0026gt;\n        [\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Try.Me.Bug - 09 - One.Two.Three.[text].mkv\u0026quot;\u0026lt;/span\u0026gt;,\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Try.Me.Bug - 07 - One.Two.5.[text].mkv\u0026quot;\u0026lt;/span\u0026gt;,\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Try.Me.Bug - 08 - One.Two.Three[text].mkv\u0026quot;\u0026lt;/span\u0026gt;,\n        ],\n        [\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Try.Me.Bug - 07 - One.Two.5.[text].mkv\u0026quot;\u0026lt;/span\u0026gt;,\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Try.Me.Bug - 08 - One.Two.Three[text].mkv\u0026quot;\u0026lt;/span\u0026gt;,\n            \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Try.Me.Bug - 09 - One.Two.Three.[text].mkv\u0026quot;\u0026lt;/span\u0026gt;,\n        ],\n    ),\n    (  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# same as ns.IGNORECASE for test_natsorted_supports_case_handling()\u0026lt;/span\u0026gt;\n        [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Apple\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;corn\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Corn\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Banana\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;apple\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;banana\u0026quot;\u0026lt;/span\u0026gt;],\n        [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Apple\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;apple\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Banana\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;banana\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;corn\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Corn\u0026quot;\u0026lt;/span\u0026gt;],\n    ),\n\n]\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (given, expected) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; sort_data:\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;assert\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt;(given, key=string_to_pairs) == expected\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h2\u0026gt;Bonus\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;If your strings mix non-ascii texts and numbers, you may be interested in composing \u0026lt;code\u0026gt;string_to_pairs()\u0026lt;/code\u0026gt; with the function \u0026lt;code\u0026gt;remove_diacritics()\u0026lt;/code\u0026gt; I give \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/71408065/173003\u0026quot;\u0026gt;elsewhere\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The above answers are good for the \u0026lt;strong\u0026gt;specific example\u0026lt;/strong\u0026gt; that was shown, but miss several useful cases for the more general question of natural sort. I just got bit by one of those cases, so created a more thorough solution:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;natural_sort_key\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;string_or_number\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026quot;\n    by Scott S. Lawton \u0026amp;lt;scott@ProductArchitect.com\u0026amp;gt; 2014-12-11; public domain and/or CC0 license\n\n    handles cases where simple \u0026apos;int\u0026apos; approach fails, e.g.\n        [\u0026apos;0.501\u0026apos;, \u0026apos;0.55\u0026apos;] floating point with different number of significant digits\n        [0.01, 0.1, 1]    already numeric so regex and other string functions won\u0026apos;t work (and aren\u0026apos;t required)\n        [\u0026apos;elm1\u0026apos;, \u0026apos;Elm2\u0026apos;]  ASCII vs. letters (not case sensitive)\n    \u0026quot;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;try_float\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;astring\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt;:\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;float\u0026lt;/span\u0026gt;(astring)\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;except\u0026lt;/span\u0026gt;:\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; astring\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;isinstance\u0026lt;/span\u0026gt;(string_or_number, basestring):\n        string_or_number = string_or_number.lower()\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;len\u0026lt;/span\u0026gt;(re.findall(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;[.]\\d\u0026apos;\u0026lt;/span\u0026gt;, string_or_number)) \u0026amp;lt;= \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;:\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# assume a floating point value, e.g. to correctly sort [\u0026apos;0.501\u0026apos;, \u0026apos;0.55\u0026apos;]\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# \u0026apos;.\u0026apos; for decimal is locale-specific, e.g. correct for the Anglosphere and Asia but not continental Europe\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; [try_float(s) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; s \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; re.split(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026apos;([\\d.]+)\u0026apos;\u0026lt;/span\u0026gt;, string_or_number)]\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# assume distinct fields, e.g. IP address, phone number with \u0026apos;.\u0026apos;, etc.\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# caveat: might want to first split by whitespace\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# TBD: for unicode, replace isdigit with isdecimal\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; [\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(s) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s.isdigit() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; s \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; s \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; re.split(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026apos;(\\d+)\u0026apos;\u0026lt;/span\u0026gt;, string_or_number)]\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# consider: add code to recurse for lists/tuples and perhaps other iterables\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; string_or_number\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Test code and several links (on and off of StackOverflow) are here:\n\u0026lt;a href=\u0026quot;http://productarchitect.com/code/better-natural-sort.py\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;http://productarchitect.com/code/better-natural-sort.py\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Feedback welcome. That\u0026apos;s not meant to be a definitive solution; just a step forward.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Most likely \u0026lt;code\u0026gt;functools.cmp_to_key()\u0026lt;/code\u0026gt; is closely tied to the underlying implementation of python\u0026apos;s sort. Besides, the \u0026lt;em\u0026gt;cmp\u0026lt;/em\u0026gt; parameter is legacy. The modern way is to transform the input items into objects that support the desired rich comparison operations.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Under CPython 2.x, objects of disparate types can be ordered even if the respective rich comparison operators haven\u0026apos;t been implemented. Under CPython 3.x, objects of different types must explicitly support the comparison. See \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/3270689\u0026quot;\u0026gt;How does Python compare string and int?\u0026lt;/a\u0026gt; which links to the \u0026lt;a href=\u0026quot;https://docs.python.org/2/library/stdtypes.html#comparisons\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;official documentation\u0026lt;/a\u0026gt;. Most of the answers depend on this implicit ordering. Switching to Python 3.x will require a new type to implement and unify comparisons between numbers and strings.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;Python \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.7\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.12\u0026lt;/span\u0026gt; (default, Sep \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;29\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2016\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;13\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;34\u0026lt;/span\u0026gt;) \n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;foo\u0026quot;\u0026lt;/span\u0026gt;) \u0026amp;lt; (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;foo\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)\n\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;  \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;Python \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3.5\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.2\u0026lt;/span\u0026gt; (default, Oct \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;14\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2016\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;12\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;54\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;53\u0026lt;/span\u0026gt;) \n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;foo\u0026quot;\u0026lt;/span\u0026gt;) \u0026amp;lt; (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;foo\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)\nTraceback (most recent call last):\n  File \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026amp;lt;stdin\u0026amp;gt;\u0026quot;\u0026lt;/span\u0026gt;, line \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; \u0026amp;lt;module\u0026amp;gt;\n  TypeError: unorderable types: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;() \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;str\u0026lt;/span\u0026gt;()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;There are three different approaches. The first uses nested classes to take advantage of Python\u0026apos;s \u0026lt;code\u0026gt;Iterable\u0026lt;/code\u0026gt; comparison algorithm. The second unrolls this nesting into a single class. The third foregoes subclassing \u0026lt;code\u0026gt;str\u0026lt;/code\u0026gt; to focus on performance. All are timed; the second is twice as fast while the third almost six times faster. Subclassing \u0026lt;code\u0026gt;str\u0026lt;/code\u0026gt; isn\u0026apos;t required, and was probably a bad idea in the first place, but it does come with certain conveniences.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The sort characters are duplicated to force ordering by case, and case-swapped to force lower case letter to sort first; this is the typical definition of \u0026quot;natural sort\u0026quot;. I couldn\u0026apos;t decide on the type of grouping; some might prefer the following, which also brings significant performance benefits:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;d = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; s: s.lower()+s.swapcase()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Where utilized, the comparison operators are set to that of \u0026lt;code\u0026gt;object\u0026lt;/code\u0026gt; so they won\u0026apos;t \u0026lt;a href=\u0026quot;https://hg.python.org/cpython/file/3.5/Lib/functools.py#l192\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;be ignored by \u0026lt;code\u0026gt;functools.total_ordering\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; functools\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; itertools\n\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@functools.total_ordering\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;NaturalStringA\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_ inherited__\u0026quot;\u0026gt;str\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;__repr__\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;self\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;{}({})\u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;format\u0026lt;/span\u0026gt;\\\n            ( \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;(self).__name__\n            , \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;().__repr__()\n            )\n    d = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; c, s: [ c.NaturalStringPart(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;.join(v))\n                        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; k,v \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt;\n                       itertools.groupby(s, c.isdigit)\n                     ]\n    d = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;classmethod\u0026lt;/span\u0026gt;(d)\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;    @functools.total_ordering\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;NaturalStringPart\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_ inherited__\u0026quot;\u0026gt;str\u0026lt;/span\u0026gt;):\n        d = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; s: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;.join(c.lower()+c.swapcase() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; c \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; s)\n        d = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;staticmethod\u0026lt;/span\u0026gt;(d)\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;__lt__\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;self, other\u0026lt;/span\u0026gt;):\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;isinstance\u0026lt;/span\u0026gt;(self, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;(other)):\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;NotImplemented\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt;:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(self) \u0026amp;lt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(other)\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;except\u0026lt;/span\u0026gt; ValueError:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; self.isdigit():\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;elif\u0026lt;/span\u0026gt; other.isdigit():\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; self.d(self) \u0026amp;lt; self.d(other)\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;__eq__\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;self, other\u0026lt;/span\u0026gt;):\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;isinstance\u0026lt;/span\u0026gt;(self, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;(other)):\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;NotImplemented\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt;:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(self) == \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(other)\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;except\u0026lt;/span\u0026gt; ValueError:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; self.isdigit() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;or\u0026lt;/span\u0026gt; other.isdigit():\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; self.d(self) == self.d(other)\n        __le__ = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;.__le__\n        __ne__ = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;.__ne__\n        __gt__ = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;.__gt__\n        __ge__ = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;.__ge__\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;__lt__\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;self, other\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; self.d(self) \u0026amp;lt; self.d(other)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;__eq__\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;self, other\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; self.d(self) == self.d(other)\n    __le__ = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;.__le__\n    __ne__ = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;.__ne__\n    __gt__ = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;.__gt__\n    __ge__ = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;.__ge__\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; functools\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; itertools\n\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@functools.total_ordering\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;NaturalStringB\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_ inherited__\u0026quot;\u0026gt;str\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;__repr__\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;self\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;{}({})\u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;format\u0026lt;/span\u0026gt;\\\n            ( \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;(self).__name__\n            , \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;().__repr__()\n            )\n    d = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; s: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;.join(c.lower()+c.swapcase() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; c \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; s)\n    d = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;staticmethod\u0026lt;/span\u0026gt;(d)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;__lt__\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;self, other\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;isinstance\u0026lt;/span\u0026gt;(self, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;(other)):\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;NotImplemented\u0026lt;/span\u0026gt;\n        groups = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; i: itertools.groupby(i, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;(self).isdigit), (self, other))\n        zipped = itertools.zip_longest(*groups)\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; s,o \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; zipped:\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; o \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n            s_k, s_v = s[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;], \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;.join(s[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;])\n            o_k, o_v = o[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;], \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;.join(o[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;])\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s_k \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;and\u0026lt;/span\u0026gt; o_k:\n                s_v, o_v = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(s_v), \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(o_v)\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s_v == o_v:\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;continue\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; s_v \u0026amp;lt; o_v\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;elif\u0026lt;/span\u0026gt; s_k:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;elif\u0026lt;/span\u0026gt; o_k:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n                s_v, o_v = self.d(s_v), self.d(o_v)\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s_v == o_v:\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;continue\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; s_v \u0026amp;lt; o_v\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;__eq__\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;self, other\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;isinstance\u0026lt;/span\u0026gt;(self, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;(other)):\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;NotImplemented\u0026lt;/span\u0026gt;\n        groups = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; i: itertools.groupby(i, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;(self).isdigit), (self, other))\n        zipped = itertools.zip_longest(*groups)\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; s,o \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; zipped:\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;or\u0026lt;/span\u0026gt; o \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n            s_k, s_v = s[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;], \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;.join(s[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;])\n            o_k, o_v = o[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;], \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;.join(o[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;])\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s_k \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;and\u0026lt;/span\u0026gt; o_k:\n                s_v, o_v = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(s_v), \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(o_v)\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s_v == o_v:\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;continue\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;elif\u0026lt;/span\u0026gt; s_k \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;or\u0026lt;/span\u0026gt; o_k:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n                s_v, o_v = self.d(s_v), self.d(o_v)\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s_v == o_v:\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;continue\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;\n    __le__ = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;.__le__\n    __ne__ = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;.__ne__\n    __gt__ = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;.__gt__\n    __ge__ = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;object\u0026lt;/span\u0026gt;.__ge__\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; functools\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; itertools\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; enum\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;OrderingType\u0026lt;/span\u0026gt;(enum.Enum):\n    PerWordSwapCase         = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; s: s.lower()+s.swapcase()\n    PerCharacterSwapCase    = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; s: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;.join(c.lower()+c.swapcase() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; c \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; s)\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;NaturalOrdering\u0026lt;/span\u0026gt;:\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;    @classmethod\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;by\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;cls, ordering\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;wrapper\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;string\u0026lt;/span\u0026gt;):\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; cls(string, ordering)\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; wrapper\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;__init__\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;self, string, ordering=OrderingType.PerCharacterSwapCase\u0026lt;/span\u0026gt;):\n        self.string = string\n        self.groups = [ (k,\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;.join(v)))\n                            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; k \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;\n                        (k,ordering(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;.join(v)))\n                            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; k,v \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt;\n                        itertools.groupby(string, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;str\u0026lt;/span\u0026gt;.isdigit)\n                      ]\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;__repr__\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;self\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;{}({})\u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;format\u0026lt;/span\u0026gt;\\\n            ( \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;(self).__name__\n            , self.string\n            )\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;__lesser\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;self, other, default\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;isinstance\u0026lt;/span\u0026gt;(self, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;(other)):\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;NotImplemented\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; s,o \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; itertools.zip_longest(self.groups, other.groups):\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; o \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n            s_k, s_v = s\n            o_k, o_v = o\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s_k \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;and\u0026lt;/span\u0026gt; o_k:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s_v == o_v:\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;continue\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; s_v \u0026amp;lt; o_v\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;elif\u0026lt;/span\u0026gt; s_k:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;elif\u0026lt;/span\u0026gt; o_k:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s_v == o_v:\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;continue\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; s_v \u0026amp;lt; o_v\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; default\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;__lt__\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;self, other\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; self.__lesser(other, default=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;__le__\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;self, other\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; self.__lesser(other, default=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;__eq__\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;self, other\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;isinstance\u0026lt;/span\u0026gt;(self, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;type\u0026lt;/span\u0026gt;(other)):\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;NotImplemented\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; s,o \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; itertools.zip_longest(self.groups, other.groups):\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;or\u0026lt;/span\u0026gt; o \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n            s_k, s_v = s\n            o_k, o_v = o\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s_k \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;and\u0026lt;/span\u0026gt; o_k:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s_v == o_v:\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;continue\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;elif\u0026lt;/span\u0026gt; s_k \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;or\u0026lt;/span\u0026gt; o_k:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; s_v == o_v:\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;continue\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# functools.total_ordering doesn\u0026apos;t create single-call wrappers if both\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# __le__ and __lt__ exist, so do it manually.\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;__gt__\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;self, other\u0026lt;/span\u0026gt;):\n        op_result = self.__le__(other)\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; op_result \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;NotImplemented\u0026lt;/span\u0026gt;:\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; op_result\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; op_result\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;__ge__\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;self, other\u0026lt;/span\u0026gt;):\n        op_result = self.__lt__(other)\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; op_result \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;NotImplemented\u0026lt;/span\u0026gt;:\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; op_result\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; op_result\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# __ne__ is the only implied ordering relationship, it automatically\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# delegates to __eq__\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; natsort\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; timeit\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;l1 = [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Apple\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;corn\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;apPlE\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;arbour\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Corn\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Banana\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;apple\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;banana\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;l2 = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;list\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;str\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;range\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30\u0026lt;/span\u0026gt;)))\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;l3 = [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;{} {}\u0026quot;\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;format\u0026lt;/span\u0026gt;(x,y) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; x \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; l1 \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; y \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; l2]\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(timeit.timeit(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;sorted(l3+[\u0026quot;0\u0026quot;], key=NaturalStringA)\u0026apos;\u0026lt;/span\u0026gt;, number=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;globals\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;globals\u0026lt;/span\u0026gt;()))\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;362.4729259099986\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(timeit.timeit(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;sorted(l3+[\u0026quot;0\u0026quot;], key=NaturalStringB)\u0026apos;\u0026lt;/span\u0026gt;, number=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;globals\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;globals\u0026lt;/span\u0026gt;()))\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;189.7340817489967\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(timeit.timeit(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;sorted(l3+[\u0026quot;0\u0026quot;], key=NaturalOrdering.by(OrderingType.PerCharacterSwapCase))\u0026apos;\u0026lt;/span\u0026gt;, number=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;globals\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;globals\u0026lt;/span\u0026gt;()))\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;69.34636392899847\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;(timeit.timeit(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;natsort.natsorted(l3+[\u0026quot;0\u0026quot;], alg=natsort.ns.GROUPLETTERS | natsort.ns.LOWERCASEFIRST)\u0026apos;\u0026lt;/span\u0026gt;, number=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10000\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;globals\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;globals\u0026lt;/span\u0026gt;()))\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;98.2531585780016\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Natural sorting is both pretty complicated and vaguely defined as a problem. Don\u0026apos;t forget to run \u0026lt;code\u0026gt;unicodedata.normalize(...)\u0026lt;/code\u0026gt; beforehand, and consider use \u0026lt;code\u0026gt;str.casefold()\u0026lt;/code\u0026gt; rather than \u0026lt;code\u0026gt;str.lower()\u0026lt;/code\u0026gt;. There are probably subtle encoding issues I haven\u0026apos;t considered. So I tentatively recommend the \u0026lt;a href=\u0026quot;https://pypi.python.org/pypi/natsort\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;natsort\u0026lt;/a\u0026gt; library. I took a quick glance at the github repository; the code maintenance has been stellar.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;All the algorithms I\u0026apos;ve seen depend on tricks such as duplicating and lowering characters, and swapping case. While this doubles the running time, an alternative would require a total natural ordering on the input character set. I don\u0026apos;t think this is part of the unicode specification, and since there are many more unicode digits than \u0026lt;code\u0026gt;[0-9]\u0026lt;/code\u0026gt;, creating such a sorting would be equally daunting. If you want locale-aware comparisons, prepare your strings with \u0026lt;a href=\u0026quot;https://docs.python.org/3/library/locale.html#locale.strxfrm\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;locale.strxfrm\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; per Python\u0026apos;s \u0026lt;a href=\u0026quot;https://docs.python.org/3/howto/sorting.html#odd-and-ends\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Sorting HOW TO\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Following @Mark Byers answer, here is an adaptation which accepts the \u0026lt;code\u0026gt;key\u0026lt;/code\u0026gt; parameter, and is more PEP8-compliant.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;natsorted\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;seq, key=\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;convert\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;text\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(text) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; text.isdigit() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; text\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;alphanum\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;obj\u0026lt;/span\u0026gt;):\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; key \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;:\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; [convert(c) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; c \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; re.split(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026apos;([0-9]+)\u0026apos;\u0026lt;/span\u0026gt;, key(obj))]\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; [convert(c) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; c \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; re.split(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026apos;([0-9]+)\u0026apos;\u0026lt;/span\u0026gt;, obj)]\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt;(seq, key=alphanum)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;I also made a \u0026lt;a href=\u0026quot;https://gist.github.com/edouardtheron/5e23e494f5cfbd94cf5e19201d63ccaa\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Gist\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Let me submit my own take on this need:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; typing \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Tuple\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Union\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Optional\u0026lt;/span\u0026gt;, Generator\n\n\nStrOrInt = \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Union\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;str\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;]\n\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# On Python 3.6, string concatenation is REALLY fast\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# Tested myself, and this fella also tested:\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# https://blog.ganssle.io/articles/2019/11/string-concat.html\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;griter\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;s: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;str\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) -\u0026amp;gt; Generator[StrOrInt, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;]:\n    last_was_digit: \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Optional\u0026lt;/span\u0026gt;[\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;bool\u0026lt;/span\u0026gt;] = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;\n    cluster: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;str\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; c \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; s:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; last_was_digit \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;is\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;None\u0026lt;/span\u0026gt;:\n            last_was_digit = c.isdigit()\n            cluster += c\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;continue\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; c.isdigit() != last_was_digit:\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; last_was_digit:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;yield\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(cluster)\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;yield\u0026lt;/span\u0026gt; cluster\n            last_was_digit = c.isdigit()\n            cluster = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;\n        cluster += c\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; last_was_digit:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;yield\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(cluster)\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;:\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;yield\u0026lt;/span\u0026gt; cluster\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt;\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;grouper\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;s: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;str\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;) -\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Tuple\u0026lt;/span\u0026gt;[StrOrInt, ...]:\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;tuple\u0026lt;/span\u0026gt;(griter(s))\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Now if we have the list like such:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;filelist = [\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File3\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File007\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File3a\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File4\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File5\u0026apos;\u0026lt;/span\u0026gt;,\n    \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File9\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File8\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File8b1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File8b2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File8b11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File6\u0026apos;\u0026lt;/span\u0026gt;\n]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;We can simply use the \u0026lt;code\u0026gt;key=\u0026lt;/code\u0026gt; kwarg to do a natural sort:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt;(filelist, key=grouper)\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File3\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File3a\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File4\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File5\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File6\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File007\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File8\u0026apos;\u0026lt;/span\u0026gt;, \n\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File8b1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File8b2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File8b11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File9\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;File11\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The drawback here is of course, as it is now, the function will sort uppercase letters before lowercase letters.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I\u0026apos;ll leave the implementation of a case-insenstive grouper to the reader :-)\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Just for the records, here is yet another variant of Mark Byers\u0026apos; simple solution, similar to the one suggested by Walter Tross, which avoids calling \u0026lt;code\u0026gt;isdigit()\u0026lt;/code\u0026gt;. This not only makes it faster, but also avoids the problems that can occur because \u0026lt;code\u0026gt;isdigit()\u0026lt;/code\u0026gt; considers more unicode chars as digits than the the regex \u0026lt;code\u0026gt;\\d+\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; re\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; itertools \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; cycle\n\n_re_digits = re.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;compile\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026quot;(\\d+)\u0026quot;\u0026lt;/span\u0026gt;)\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;natural_comparison_key\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;key\u0026lt;/span\u0026gt;):\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;tuple\u0026lt;/span\u0026gt;(\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(part) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; is_digit \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; part\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; part, is_digit \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;zip\u0026lt;/span\u0026gt;(_re_digits.split(key), cycle((\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;)))\n    )\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here\u0026apos;s another version of Mark Byers\u0026apos;s answer. This version demonstrates how to pass in an attribute name, that is to be used to evaluate the objects in the list.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;natural_sort\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;l, attrib\u0026lt;/span\u0026gt;):\n    convert = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; text: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(text) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; text.isdigit() \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; text.lower()\n    alphanum_key = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; key: [convert(c) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; c \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; re.split(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;([0-9]+)\u0026apos;\u0026lt;/span\u0026gt;, key.__dict__[attrib])]\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt;(l, key=alphanum_key)\n\nresults = natural_sort(albums, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;albumid\u0026apos;\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Where \u0026lt;code\u0026gt;albums\u0026lt;/code\u0026gt; is a list of Album instances, and \u0026lt;code\u0026gt;albumid\u0026lt;/code\u0026gt; is an string attribute that nominally has numbers in it.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I suggest you simply use the \u0026lt;code\u0026gt;key\u0026lt;/code\u0026gt; keyword argument of \u0026lt;code\u0026gt;sorted\u0026lt;/code\u0026gt; to achieve your desired list\u0026lt;br\u0026gt;\nFor example:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;to_order= [e2,E1,e5,E4,e3]\nordered= \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt;(to_order, key= \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; x: x.lower())\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# ordered should be [E1,e2,e3,E4,e5]\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;a = [\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;H1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;H100\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;H10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;H3\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;H2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;H6\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;H11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;H50\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;H5\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;H99\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;H8\u0026apos;\u0026lt;/span\u0026gt;]\nb = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;\nc = []\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;def\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;bubble\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;bad_list\u0026lt;/span\u0026gt;):\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#bubble sort method\u0026lt;/span\u0026gt;\n        length = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;len\u0026lt;/span\u0026gt;(bad_list) - \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;while\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt;:\n                \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;True\u0026lt;/span\u0026gt;\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; i \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;range\u0026lt;/span\u0026gt;(length):\n                        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; bad_list[i] \u0026amp;gt; bad_list[i+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;]:\n                                \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;False\u0026lt;/span\u0026gt;\n                                bad_list[i], bad_list[i+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;] = bad_list[i+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;], bad_list[i] \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#sort the integer list \u0026lt;/span\u0026gt;\n                                a[i], a[i+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;] = a[i+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;], a[i] \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#sort the main list based on the integer list index value\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; a_string \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; a: \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#extract the number in the string character by character\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; letter \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;in\u0026lt;/span\u0026gt; a_string:\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; letter.isdigit():\n                        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#print letter\u0026lt;/span\u0026gt;\n                        b += letter\n        c.append(b)\n        b = \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;\u0026apos;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Before sorting....\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; a\nc = \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;, c) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#converting string list into number list\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; c\nbubble(c)\n\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;After sorting....\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; c\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; a\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Acknowledgments\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/895371/bubble-sort-homework\u0026quot;\u0026gt;Bubble Sort Homework\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/2633942/how-to-read-a-string-one-letter-at-a-time-in-python\u0026quot;\u0026gt;How to read a string one letter at a time in python\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; re\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; \u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;sorted\u0026lt;/span\u0026gt;(lst, key=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;lambda\u0026lt;/span\u0026gt; x: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;(re.findall(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;r\u0026apos;\\d+$\u0026apos;\u0026lt;/span\u0026gt;, x)[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;]))\n[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm12\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"id":463,"title":"Is there a built in function for string natural sort?","content":"\n                \n\u0026lt;p\u0026gt;I have a list of strings for which I would like to perform a \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Natural_sort_order\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;natural alphabetical sort\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For instance, the following list is naturally sorted (what I want):\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm12\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;And here\u0026apos;s the \u0026quot;sorted\u0026quot; version of the above list (what I get using \u0026lt;a href=\u0026quot;https://docs.python.org/library/functions.html#sorted\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;sorted()\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;):\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-py s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-python\u0026quot;\u0026gt;[\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm11\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm12\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Elm2\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm0\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm1\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm10\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm13\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;elm9\u0026apos;\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;I\u0026apos;m looking for a sort function which behaves like the first one.\u0026lt;/p\u0026gt;\n    ","slug":"is-there-a-built-in-function-for-string-natural-sort-1657388069553","postType":"QUESTION","createdAt":"2022-07-09T17:34:29.000Z","updatedAt":"2022-07-09T17:34:29.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"Can a local variable's memory be accessed outside its scope?","slug":"can-a-local-variable's-memory-be-accessed-outside-its-scope-1657384460386"},{"title":"PHP - Failed to open stream : No such file or directory","slug":"php-failed-to-open-stream-:-no-such-file-or-directory-1657387872896"},{"title":"What does enctype='multipart/form-data' mean?","slug":"what-does-enctype'multipartform-data'-mean-1657388229352"},{"title":"Official locator strategies for the webdriver","slug":"official-locator-strategies-for-the-webdriver-1657384353174"},{"title":"How to make good reproducible pandas examples","slug":"how-to-make-good-reproducible-pandas-examples-1657384310402"},{"title":"Serialize and Deserialize Json and Json Array in Unity","slug":"serialize-and-deserialize-json-and-json-array-in-unity-1657388273270"},{"title":"What methods of clearfix can I use?","slug":"what-methods-of-'clearfix'-can-i-use-1657387672727"},{"title":"How do I give text or an image a transparent background using CSS?","slug":"how-do-i-give-text-or-an-image-a-transparent-background-using-css-1657388188508"},{"title":"addEventListener vs onclick","slug":"addeventlistener-vs-onclick-1657388191429"},{"title":"What is the difference between const int*, const int * const, and int const *?","slug":"what-is-the-difference-between-const-int*-const-int-*-const-and-int-const-*-1657388184604"},{"title":"How to check if element is visible after scrolling?","slug":"how-to-check-if-element-is-visible-after-scrolling-1657387987960"},{"title":"Returning data from async call in Swift function","slug":"returning-data-from-async-call-in-swift-function-1657387469218"},{"title":"Is floating point math broken?","slug":"is-floating-point-math-broken-1657384238910"},{"title":"Why does this PDO statement silently fail?","slug":"why-does-this-pdo-statement-silently-fail-1657384892133"},{"title":"How can I access and process nested objects, arrays, or JSON?","slug":"how-can-i-access-and-process-nested-objects-arrays-or-json-1657384332823"},{"title":"How to add JTable in JPanel with null layout?","slug":"how-to-add-jtable-in-jpanel-with-null-layout-1657384590912"},{"title":"How do I sort a dictionary by value?","slug":"how-do-i-sort-a-dictionary-by-value-1657385485049"},{"title":"Reference - What does this regex mean?","slug":"reference-what-does-this-regex-mean-1657384291445"},{"title":"Safely turning a JSON string into an object","slug":"safely-turning-a-json-string-into-an-object-1657388194824"},{"title":"When should I wrap quotes around a shell variable?","slug":"when-should-i-wrap-quotes-around-a-shell-variable-1657384659265"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"is-there-a-built-in-function-for-string-natural-sort-1657388069553"},"buildId":"5tS3Jli5j89_wXapXajXn","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>