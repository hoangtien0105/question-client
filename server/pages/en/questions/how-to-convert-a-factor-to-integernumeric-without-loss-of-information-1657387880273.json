{"pageProps":{"data":{"answer":["\n&lt;p&gt;See the Warning section of &lt;a href=&quot;http://www.inside-r.org/r-doc/base/factor&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;?factor&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;In particular, &lt;code&gt;as.numeric&lt;/code&gt; applied to\n  a factor is meaningless, and may\n  happen by implicit coercion.  To\n  transform a factor &lt;code&gt;f&lt;/code&gt; to\n  approximately its original numeric\n  values, &lt;code&gt;as.numeric(levels(f))[f]&lt;/code&gt; is\n  recommended and slightly more\n  efficient than\n  &lt;code&gt;as.numeric(as.character(f))&lt;/code&gt;.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;The FAQ on R &lt;a href=&quot;http://cran.r-project.org/doc/FAQ/R-FAQ.html#How-do-I-convert-factors-to-numeric_003f&quot; rel=&quot;noreferrer&quot;&gt;has similar advice&lt;/a&gt;.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;&lt;strong&gt;Why is &lt;code&gt;as.numeric(levels(f))[f]&lt;/code&gt; more efficent than &lt;code&gt;as.numeric(as.character(f))&lt;/code&gt;?&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;as.numeric(as.character(f))&lt;/code&gt; is effectively &lt;code&gt;as.numeric(levels(f)[f])&lt;/code&gt;, so you are performing the conversion to numeric on &lt;code&gt;length(x)&lt;/code&gt; values, rather than on &lt;code&gt;nlevels(x)&lt;/code&gt; values.  The speed difference will be most apparent for long vectors with few levels.  If the values are mostly unique, there won&apos;t be much difference in speed. However you do the conversion, this operation is unlikely to be the bottleneck in your code, so don&apos;t worry too much about it.&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;&lt;strong&gt;Some timings&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;microbenchmark&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nmicrobenchmark&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;\n  &lt;span class=&quot;hljs-built_in&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;levels&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n  &lt;span class=&quot;hljs-built_in&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;levels&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n  &lt;span class=&quot;hljs-built_in&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n  paste0&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n  paste&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n  times &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1e5&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## Unit: microseconds&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##                         expr   min    lq      mean median     uq      max neval&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##     as.numeric(levels(f))[f] 3.982 5.120  6.088624  5.405  5.974 1981.418 1e+05&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##     as.numeric(levels(f)[f]) 5.973 7.111  8.352032  7.396  8.250 4256.380 1e+05&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##  as.numeric(as.character(f)) 6.827 8.249  9.628264  8.534  9.671 1983.694 1e+05&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##                    paste0(x) 7.964 9.387 11.026351  9.956 10.810 2911.257 1e+05&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##                     paste(x) 7.965 9.387 11.127308  9.956 11.093 2419.458 1e+05&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;R has a number of (undocumented) convenience functions for converting factors:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;as.character.factor&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;as.data.frame.factor&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;as.Date.factor&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;as.list.factor&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;as.vector.factor&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;...&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;But annoyingly, there is nothing to handle the &lt;em&gt;factor -&amp;gt; numeric&lt;/em&gt; conversion. As an extension of Joshua Ulrich&apos;s answer, I would suggest to overcome this omission with the definition of your own idiomatic function:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;as.double.factor &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;levels&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;that you can store at the beginning of your script, or even better in your &lt;a href=&quot;http://www.statmethods.net/interface/customizing.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;code&gt;.Rprofile&lt;/code&gt;&lt;/a&gt; file.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;Note: this particular answer is &lt;em&gt;not&lt;/em&gt; for converting numeric-valued factors to numerics, it is for converting categorical factors to their corresponding level numbers.&lt;/strong&gt;&lt;/p&gt;\n\n&lt;hr&gt;\n\n&lt;p&gt;Every answer in this post failed to generate results for me , NAs were getting generated.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;y2&lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt;factor&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;A&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;B&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;C&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;D&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;A&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;; \n&lt;span class=&quot;hljs-built_in&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;levels&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;y2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;y2&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; \n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;NA&lt;/span&gt; Warning message&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; NAs introduced by coercion\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;What worked for me is this - &lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;as.integer&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;y2&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# [1] 1 2 3 4 1&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;The most easiest way would be to use &lt;code&gt;unfactor&lt;/code&gt; function from package &lt;a href=&quot;http://cran.r-project.org/web/packages/varhandle/index.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;varhandle&lt;/a&gt; which can accept a &lt;strong&gt;factor vector&lt;/strong&gt; or even a &lt;strong&gt;dataframe&lt;/strong&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;unfactor&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;your_factor_variable&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This example can be a quick start:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;x &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;b&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;c&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ny &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# -&amp;gt; &quot;character&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# -&amp;gt; &quot;numeric&quot;&lt;/span&gt;\n\nx &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; factor&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ny &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; factor&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# -&amp;gt; &quot;factor&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# -&amp;gt; &quot;factor&quot;&lt;/span&gt;\n\nlibrary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;varhandle&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nx &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; unfactor&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\ny &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; unfactor&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# -&amp;gt; &quot;character&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# -&amp;gt; &quot;numeric&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;You can also use it on a dataframe. For example the &lt;code&gt;iris&lt;/code&gt; dataset:&lt;/p&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;sapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;Sepal.Length  Sepal.Width Petal.Length  Petal.Width      Species\n   &lt;span class=&quot;hljs-string&quot;&gt;&quot;numeric&quot;&lt;/span&gt;    &lt;span class=&quot;hljs-string&quot;&gt;&quot;numeric&quot;&lt;/span&gt;    &lt;span class=&quot;hljs-string&quot;&gt;&quot;numeric&quot;&lt;/span&gt;    &lt;span class=&quot;hljs-string&quot;&gt;&quot;numeric&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;factor&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# load the package&lt;/span&gt;\nlibrary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;varhandle&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# pass the iris to unfactor&lt;/span&gt;\ntmp_iris &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; unfactor&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;iris&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;# check the classes of the columns&lt;/span&gt;\nsapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;tmp_iris&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;Sepal.Length  Sepal.Width Petal.Length  Petal.Width      Species\n   &lt;span class=&quot;hljs-string&quot;&gt;&quot;numeric&quot;&lt;/span&gt;    &lt;span class=&quot;hljs-string&quot;&gt;&quot;numeric&quot;&lt;/span&gt;    &lt;span class=&quot;hljs-string&quot;&gt;&quot;numeric&quot;&lt;/span&gt;    &lt;span class=&quot;hljs-string&quot;&gt;&quot;numeric&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;character&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# check if the last column is correctly converted&lt;/span&gt;\ntmp_iris&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;Species\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;  &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;    \n  &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;    \n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;    \n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;    \n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;21&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;    \n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;    \n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;31&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;36&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;41&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;46&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;     &lt;span class=&quot;hljs-string&quot;&gt;&quot;setosa&quot;&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;51&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;56&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;61&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;66&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;71&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;76&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;81&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;86&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;91&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt;\n &lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;96&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;versicolor&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;101&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;106&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;111&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;116&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;121&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;126&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;131&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;136&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;141&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;146&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;  &lt;span class=&quot;hljs-string&quot;&gt;&quot;virginica&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;/blockquote&gt;\n    ","\n&lt;p&gt;It is possible &lt;strong&gt;only&lt;/strong&gt; in the case when the factor labels match the original values. I will explain it with an example.&lt;/p&gt;\n\n&lt;p&gt;Assume the data is vector &lt;code&gt;x&lt;/code&gt;:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;x &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now I will create a factor with four labels:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;f &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; factor&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; levels &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; labels &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;A&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;B&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;C&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;D&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;1) &lt;code&gt;x&lt;/code&gt; is with type double, &lt;code&gt;f&lt;/code&gt; is with type integer. This is the first unavoidable loss of information. Factors are always stored as integers.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; typeof&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;double&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; typeof&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;integer&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;2) It is not possible to revert back to the original values (10, 20, 30, 40) having only &lt;code&gt;f&lt;/code&gt; available. We can see that &lt;code&gt;f&lt;/code&gt; holds only integer values 1, 2, 3, 4 and two attributes - the list of labels (&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;) and the class attribute &quot;factor&quot;. Nothing more.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; str&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n Factor w&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; levels &lt;span class=&quot;hljs-string&quot;&gt;&quot;A&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;B&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;C&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;D&quot;&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;\n&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;levels\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;A&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;B&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;C&quot;&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;D&quot;&lt;/span&gt;\n\n&lt;span class=&quot;hljs-operator&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;class&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;factor&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To revert back to the original values we have to know the values of levels used in creating the factor. In this case &lt;code&gt;c(10, 20, 30, 40)&lt;/code&gt;. If we know the original levels (in correct order), we can revert back to the original values.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; orig_levels &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; x1 &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; orig_levels&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; all.equal&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; x1&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And this will work only in case when labels have been defined for all possible values in the original data.&lt;/p&gt;\n\n&lt;p&gt;So if you will need the original values, you have to keep them. Otherwise there is a high chance it will not be possible to get back to them only from a factor.&lt;/p&gt;\n    ","\n&lt;p&gt;You can use &lt;code&gt;hablar::convert&lt;/code&gt; if you have a data frame. The syntax is easy:&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Sample df&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;library&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;hablar&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\nlibrary&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;dplyr&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\ndf &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; dplyr&lt;span class=&quot;hljs-operator&quot;&gt;::&lt;/span&gt;tibble&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;a &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; as.factor&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;7&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;3&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n                    b &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; as.factor&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;1.5&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;6.3&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&lt;strong&gt;Solution&lt;/strong&gt;&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;df &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  convert&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;num&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;gives you:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# A tibble: 2 x 2&lt;/span&gt;\n      a     b\n  &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;dbl&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;dbl&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;7.&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1.50&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;    &lt;span class=&quot;hljs-number&quot;&gt;3.&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;6.30&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Or if you want one column to be integer and one numeric:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;df &lt;span class=&quot;hljs-operator&quot;&gt;%&amp;gt;%&lt;/span&gt; \n  convert&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;int&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n          num&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;results in:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;# A tibble: 2 x 2&lt;/span&gt;\n      a     b\n  &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;int&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;&lt;/span&gt;dbl&lt;span class=&quot;hljs-operator&quot;&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;7&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;1.50&lt;/span&gt;\n&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;     &lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;  &lt;span class=&quot;hljs-number&quot;&gt;6.30&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;late to the game, accidently, I found &lt;code&gt;trimws()&lt;/code&gt; can convert &lt;code&gt;factor(3:5)&lt;/code&gt; to &lt;code&gt;c(&quot;3&quot;,&quot;4&quot;,&quot;5&quot;)&lt;/code&gt;.  Then you can call &lt;code&gt;as.numeric()&lt;/code&gt;.  That is:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;trimws&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x_factor_var&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;&lt;code&gt;strtoi()&lt;/code&gt; works if your factor levels are integers.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;code&gt;type.convert(f)&lt;/code&gt; on a factor whose levels are completely numeric is another base option.&lt;/p&gt;\n\n&lt;p&gt;Performance-wise it&apos;s about equivalent to &lt;code&gt;as.numeric(as.character(f))&lt;/code&gt; but not nearly as quick as &lt;code&gt;as.numeric(levels(f))[f]&lt;/code&gt;.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;identical&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;type.convert&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;levels&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;That said, if the reason the vector was created as a factor in the first instance has not been addressed (i.e. it likely contained some characters that could not be coerced to numeric) then this approach won&apos;t work and it will return a factor.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;levels&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;some character level&quot;&lt;/span&gt;\nidentical&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;type.convert&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;levels&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\n&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;From the many answers I could read, the only given way was to expand the number of variables according to the number of factors. If you have a variable &quot;pet&quot; with levels &quot;dog&quot; and &quot;cat&quot;, you would end up with pet_dog and pet_cat.&lt;/p&gt;\n\n&lt;p&gt;In my case I wanted to stay with the same number of variables, by just translating the factor variable to a numeric one, in a way that can applied to many variables with many levels, so that cat=1 and dog=0 for instance.&lt;/p&gt;\n\n&lt;p&gt;Please find the corresponding solution below:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;crime &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;city &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&quot;SF&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;SF&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;NYC&quot;&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n                    year &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1990&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1990&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt;\n                    crime &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\nindx &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; sapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;crime&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; is.factor&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n\ncrime&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;indx&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; lapply&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;crime&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;indx&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt; \n  listOri &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; unique&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n  listMod &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;seq_along&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;listOri&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n  res &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; factor&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; levels&lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt;listOri&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n  res &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n  &lt;span class=&quot;hljs-built_in&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Looks like the solution as.numeric(levels(f))[f] no longer work with R 4.0.&lt;/p&gt;\n\n&lt;p&gt;Alternative solution:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;factor2number &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;{&lt;/span&gt;\n    data.frame&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;levels&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;levels&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; row.names &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;[&lt;/span&gt;x&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;]&lt;/span&gt;\n&lt;span class=&quot;hljs-punctuation&quot;&gt;}&lt;/span&gt;\n\nfactor2number&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;yourFactor&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    "],"id":407,"title":"How to convert a factor to integer\\numeric without loss of information?","content":"\n                \n&lt;p&gt;When I convert a factor to a numeric or integer, I get the underlying level codes, not the values as numbers.&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;f &lt;span class=&quot;hljs-operator&quot;&gt;&amp;lt;-&lt;/span&gt; factor&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;sample&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;runif&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;hljs-number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;,&lt;/span&gt; replace &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##  [1] 0.0248644019011408 0.0248644019011408 0.179684827337041 &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##  [4] 0.0284090070053935 0.363644931698218  0.363644931698218 &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##  [7] 0.179684827337041  0.249704354675487  0.249704354675487 &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## [10] 0.0248644019011408 0.249704354675487  0.0284090070053935&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## [13] 0.179684827337041  0.0248644019011408 0.179684827337041 &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## [16] 0.363644931698218  0.249704354675487  0.363644931698218 &lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## [19] 0.179684827337041  0.0284090070053935&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## 5 Levels: 0.0248644019011408 0.0284090070053935 ... 0.363644931698218&lt;/span&gt;\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##  [1] 1 1 3 2 5 5 3 4 4 1 4 2 3 1 3 5 4 5 3 2&lt;/span&gt;\n\n&lt;span class=&quot;hljs-built_in&quot;&gt;as.integer&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##  [1] 1 1 3 2 5 5 3 4 4 1 4 2 3 1 3 5 4 5 3 2&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I have to resort to &lt;code&gt;paste&lt;/code&gt; to get the real values:&lt;/p&gt;\n\n&lt;pre class=&quot;lang-r s-code-block&quot;&gt;&lt;code class=&quot;hljs language-r&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;paste&lt;span class=&quot;hljs-punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;hljs-punctuation&quot;&gt;)&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##  [1] 0.02486440 0.02486440 0.17968483 0.02840901 0.36364493 0.36364493&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;##  [7] 0.17968483 0.24970435 0.24970435 0.02486440 0.24970435 0.02840901&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## [13] 0.17968483 0.02486440 0.17968483 0.36364493 0.24970435 0.36364493&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;## [19] 0.17968483 0.02840901&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Is there a better way to convert a factor to numeric?&lt;/p&gt;\n    ","slug":"how-to-convert-a-factor-to-integernumeric-without-loss-of-information-1657387880273","postType":"QUESTION","createdAt":"2022-07-09T17:31:20.000Z","updatedAt":"2022-07-09T17:31:20.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"My attempt at value initialization is interpreted as a function declaration, and why doesn't A a(()); solve it?","slug":"my-attempt-at-value-initialization-is-interpreted-as-a-function-declaration-and-why-doesn't-a-a(())-solve-it-1657388474057"},{"title":"How do I expire a PHP session after 30 minutes?","slug":"how-do-i-expire-a-php-session-after-30-minutes-1657387990658"},{"title":"What is array to pointer decay?","slug":"what-is-array-to-pointer-decay-1657384709608"},{"title":"How to determine equality for two JavaScript objects?","slug":"how-to-determine-equality-for-two-javascript-objects-1657387638650"},{"title":"Get the values from the \"GET\" parameters (JavaScript) [duplicate]","slug":"get-the-values-from-the-\"get\"-parameters-(javascript)-duplicate-1657387656693"},{"title":"Maintain the aspect ratio of a div with CSS","slug":"maintain-the-aspect-ratio-of-a-div-with-css-1657387513615"},{"title":"JavaScript closure inside loops  simple practical example","slug":"javascript-closure-inside-loops-simple-practical-example-1657384278449"},{"title":"Providing white space in a Swing GUI","slug":"providing-white-space-in-a-swing-gui-1657384734588"},{"title":"How to fix \"Headers already sent\" error in PHP","slug":"how-to-fix-\"headers-already-sent\"-error-in-php-1657384315553"},{"title":"Sending Email in Android using JavaMail API without using the default/built-in app","slug":"sending-email-in-android-using-javamail-api-without-using-the-defaultbuilt-in-app-1657387883400"},{"title":"Relative imports for the billionth time","slug":"relative-imports-for-the-billionth-time-1657387756383"},{"title":"What and where are the stack and heap?","slug":"what-and-where-are-the-stack-and-heap-1657387415361"},{"title":"Selenium - wait until element is present, visible and interactable","slug":"selenium-wait-until-element-is-present-visible-and-interactable-1657384820071"},{"title":"What is the strict aliasing rule?","slug":"what-is-the-strict-aliasing-rule-1657384742852"},{"title":"How do I match any character across multiple lines in a regular expression?","slug":"how-do-i-match-any-character-across-multiple-lines-in-a-regular-expression-1657387839720"},{"title":"How can I change an element's class with JavaScript?","slug":"how-can-i-change-an-element's-class-with-javascript-1657387694695"},{"title":"How to replace all occurrences of a string in JavaScript","slug":"how-to-replace-all-occurrences-of-a-string-in-javascript-1657384895467"},{"title":"What is an undefined reference/unresolved external symbol error and how do I fix it?","slug":"what-is-an-undefined-referenceunresolved-external-symbol-error-and-how-do-i-fix-it-1657384255179"},{"title":"How to format numbers as currency strings","slug":"how-to-format-numbers-as-currency-strings-1657388399166"},{"title":"How do I return the response from an asynchronous call?","slug":"how-do-i-return-the-response-from-an-asynchronous-call-1657384208012"}]},"__N_SSG":true}