<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find the solution to any question. We focus on finding the fastest possible solution for users. Main topics like coding, learning. - solutionschecker.com"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><link name="keywords" content="angular,typescript,observable,solutions checker, solution checker, how to, solution for, check for solution, resolve question, what is, what solution for, find solution"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://solutionschecker.com","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://solutionschecker.com/questions","name":"Questions"}},{"@type":"ListItem","position":3,"item":{"@id":"https://solutionschecker.com/questions/how-do-i-return-the-response-from-an-observablehttpasync-call-in-angular-1657387335024","name":"Questions"}}]}</script><title>How do I return the response from an Observable/http/async call in angular? | Solution Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="I have service which returns an observable which does an http request to my server and gets the data. I want to use this data but I always end up getting undefined. What&#x27;s the problem?

Service:

@Injectable()
export class EventService {

  constructor(private http: Http) { }

  getEventList(): Observable&lt;any&gt;{
    let headers = new Headers({ &#x27;Content-Type&#x27;: &#x27;application/json&#x27; });
    let options = new RequestOptions({ headers: headers });

    return this.http.get(&quot;http://localhost:9999/events/get&quot;, options)
                .map((res)=&gt; res.json())
                .catch((err)=&gt; err)
  }
}


Component:

@Component({...})
export class EventComponent {

  myEvents: any;

  constructor( private es: EventService ) { }

  ngOnInit(){
    this.es.getEventList()
        .subscribe((response)=&gt;{
            this.myEvents = response;
        });

    console.log(this.myEvents); //This prints undefined!
  }
}


I checked How do I return the response from an asynchronous call? post but couldn&#x27;t find a solution
    "/><meta property="og:title" content="How do I return the response from an Observable/http/async call in angular? | Solution Checker"/><meta property="og:description" content="I have service which returns an observable which does an http request to my server and gets the data. I want to use this data but I always end up getting undefined. What&#x27;s the problem?

Service:

@Injectable()
export class EventService {

  constructor(private http: Http) { }

  getEventList(): Observable&lt;any&gt;{
    let headers = new Headers({ &#x27;Content-Type&#x27;: &#x27;application/json&#x27; });
    let options = new RequestOptions({ headers: headers });

    return this.http.get(&quot;http://localhost:9999/events/get&quot;, options)
                .map((res)=&gt; res.json())
                .catch((err)=&gt; err)
  }
}


Component:

@Component({...})
export class EventComponent {

  myEvents: any;

  constructor( private es: EventService ) { }

  ngOnInit(){
    this.es.getEventList()
        .subscribe((response)=&gt;{
            this.myEvents = response;
        });

    console.log(this.myEvents); //This prints undefined!
  }
}


I checked How do I return the response from an asynchronous call? post but couldn&#x27;t find a solution
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"How do I return the response from an Observable/http/async call in angular?","text":"I have service which returns an observable which does an http request to my server and gets the data. I want to use this data but I always end up getting undefined. What&apos;s the problem?\n\nService:\n\n@Injectable()\nexport class EventService {\n\n  constructor(private http: Http) { }\n\n  getEventList(): Observable&lt;any&gt;{\n    let headers = new Headers({ &apos;Content-Type&apos;: &apos;application/json&apos; });\n    let options = new RequestOptions({ headers: headers });\n\n    return this.http.get(&quot;http://localhost:9999/events/get&quot;, options)\n                .map((res)=&gt; res.json())\n                .catch((err)=&gt; err)\n  }\n}\n\n\nComponent:\n\n@Component({...})\nexport class EventComponent {\n\n  myEvents: any;\n\n  constructor( private es: EventService ) { }\n\n  ngOnInit(){\n    this.es.getEventList()\n        .subscribe((response)=&gt;{\n            this.myEvents = response;\n        });\n\n    console.log(this.myEvents); //This prints undefined!\n  }\n}\n\n\nI checked How do I return the response from an asynchronous call? post but couldn&apos;t find a solution\n    ","answerCount":10,"upVoteCount":500,"suggestedAnswer":[{"text":"Reason:\n\nThe reason that it&apos;s undefined is that you are making an asynchronous operation. Meaning it&apos;ll take some time to complete the getEventList method (depending mostly on your network speed).\n\nSo lets look at the http call.\n\nthis.es.getEventList()\n\n\nAfter you actually make (&quot;fire&quot;) your http request with subscribe you will be waiting for the response. While waiting, javascript will execute the lines below this code and if it encounters synchronous assignments/operations it&apos;ll execute them immediately.\n\nSo after subscribing to the getEventList() and waiting for the response,\n\nconsole.log(this.myEvents); \n\nline will be executed immediately. And the value of it is undefined before the response arrives from the server (or to whatever that you have initialized it in the first place).\n\nIt is similar to doing:\n\nngOnInit(){\n    setTimeout(()=&gt;{\n        this.myEvents = response;\n    }, 5000);\n\n    console.log(this.myEvents); //This prints undefined!\n}\n\n\n\nSolution:\n\n\n  So how do we overcome this problem? We will use the callback function which is the subscribe method. Because when the data arrives from the server it&apos;ll be inside the subscribe with the response.\n\n\nSo changing the code to:\n\nthis.es.getEventList()\n    .subscribe((response)=&gt;{\n        this.myEvents = response;\n        console.log(this.myEvents); //&lt;-- not undefined anymore\n    });\n\n\nwill print the response.. after some time.\n\nWhat you should do:\n\nThere might be lots of things to do with your response other than just logging it; you should do all these operations inside the callback (inside the subscribe function), when the data arrives.\n\nAnother thing to mention is that if you come from a Promise background, the then callback corresponds to subscribe with observables.\n\nWhat you shouldn&apos;t do:\n\nYou shouldn&apos;t try to change an async operation to a sync operation (not that you can). One of the reasons that we have async operations is to not make the user wait for an operation to complete while they can do other things in that time period. Suppose that one of your async operations takes 3 minutes to complete, if we didn&apos;t have the async operations the interface would froze for 3 minutes.\n\n\n\nSuggested Reading:\n\nThe original credit to this answer goes to: How do I return the response from an asynchronous call?\n\nBut with the angular2 release we were introduced to typescript and observables so this answer hopefully covers the basics of handling an asynchronous request with observables.\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"Making a http call in angular/javascript is asynchronous operation.\nSo when you make http call it will assign new thread to finish this call and start execution next line with another thread.\nThat is why  you are getting undefined value.\nso make below change to resolve this\n\nthis.es.getEventList()  \n      .subscribe((response)=&gt;{  \n       this.myEvents = response;  \n        console.log(this.myEvents); //&lt;-this become synchronous now  \n    });\n\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"You can use asyncPipe if you use myEvents only in template.\nHere example with asyncPipe and Angular4 HttpClient example\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"Observables are lazy so you have to subscribe to get the value. You subscribed it properly in your code but simultaneously logged the output outside the &apos;subscribe&apos; block. That&apos;s why it is &apos;undefined&apos;.\n\nngOnInit() {\n  this.es.getEventList()\n    .subscribe((response) =&gt; {\n        this.myEvents = response;\n    });\n\n  console.log(this.myEvents); //Outside the subscribe block &apos;Undefined&apos;\n}\n\n\nSo if you log it inside the subscribe block then it will log response properly.\n\nngOnInit(){\n  this.es.getEventList()\n    .subscribe((response)=&gt;{\n        this.myEvents = response;\n        console.log(this.myEvents); //Inside the subscribe block &apos;http response&apos;\n    });\n}\n\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"Here the problem is, you are initializing this.myEvents into subscribe() which is an asynchronous block while you are doing console.log() just out of subscribe() block.\nSo console.log() getting called before this.myEvents gets initialized.\n\nPlease move your console.log() code as well inside subscribe() and you are done.\n\nngOnInit(){\n    this.es.getEventList()\n        .subscribe((response)=&gt;{\n            this.myEvents = response;\n            console.log(this.myEvents);\n        });\n  }\n\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"The result is undefined because angular process async .\nyou can trying as below:\n\nasync ngOnInit(){\n    const res = await this.es.getEventList();\n    console.log(JSON.stringify(res));\n}\n\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"Also make sure that you map your response to a json output. Otherwise it will return plain text. You do it this like this:\n\ngetEventList(): Observable&lt;any&gt; {\nlet headers = new Headers({ &apos;Content-Type&apos;: &apos;application/json&apos; });\nlet options = new RequestOptions({ headers: headers });\n\nreturn this.http.get(&quot;http://localhost:9999/events/get&quot;, options)\n            .map((res)=&gt;{ return res.json();}) &lt;!-- add call to json here\n            .catch((err)=&gt;{return err;})\n}\n\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"Undefined because the value here is logged before any data from the service is set from that above subscribe service call.  So you have to wait until the ajax call finishes and set the data from the response data. \n\ngetEventList(): Observable&lt;any&gt;{\n    let headers = new Headers({ &apos;Content-Type&apos;: &apos;application/json&apos; });\n    let options = new RequestOptions({ headers: headers });\n\n    return this.http.get(&quot;http://localhost:9999/events/get&quot;, options)\n                .map((res)=&gt; res.json())\n                .catch((err)=&gt; err)\n  }\n\n\nHere make the Console log inside the  subscribe method that will make the log when the data is set in myEvents variable.\n\nngOnInit(){\n    this.es.getEventList()\n        .subscribe((response)=&gt;{\n            this.myEvents = response;\n     // This prints the value from the response\n    console.log(this.myEvents)\n        }); \n  }\n\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"To do this you have 2 options:\nSuppose we have a service which is returning shipping details array :\n  getShippingPrices(): Observable&lt;IShippingDetails[]&gt; {\n    return this.http.get&lt;IShippingDetails[]&gt;(&apos;/assets/shipping.json&apos;);\n  }\n\n1. Use Async pipe : Easy way when you just want to show the result in template\nIn the component class directly assign the observable to variable:\nexport class ShippingComponent implements OnInit {\n  shipOptions1 = this.cartService.getShippingPrices();\n  constructor(private cartService: CartService) {}\n\n  ngOnInit() {}\n}\n\nand then use async pipe in template :\n&lt;div *ngFor=&quot;let s of shipOptions1 |async&quot;&gt;\n  &lt;label&gt;{{s.type}}&lt;/label&gt;\n&lt;/div&gt;\n\nRefer: Check the 4th point in this URL\nhttps://angular.io/start/start-data#configuring-the-shippingcomponent-to-use-cartservice\n2. Use Subscribe : When you want to manipulate it or want do some business logic on/from response\nexport class ShippingComponent implements OnInit {\n  shipOptions2: IShippingDetails[] = [];\n  constructor(private cartService: CartService) {}\n\n  ngOnInit() {\n    this.cartService.getShippingPrices().subscribe(response =&gt; {\n      this.shipOptions2 = response;\n      //console.log(this.myEvents);\n      //All other code using shipOptions2\n    });\n  }\n}\n\n\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"You can simply try this method-\n\nlet headers = new Headers({&apos;Accept&apos;: &apos;application/json&apos;});\nlet options = new RequestOptions({headers: headers});\n\nreturn this.http\n    .get(this.yourSearchUrlHere, options) // the URL which you have defined\n    .map((res) =&gt; {\n        res.json(); // using return res.json() will throw error\n    }\n    .catch(err) =&gt; {\n        console.error(&apos;error&apos;);\n    }\n\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="22"/><link rel="preload" href="/_next/static/css/4f7b2847abfe82c6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/4f7b2847abfe82c6.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c0d2dcb5e85faf18.js" defer=""></script><script src="/_next/static/chunks/294-106ef8570fa99deb.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-50e201fdaa1e0fd1.js" defer=""></script><script src="/_next/static/eGqQHYKGZKE-nXShFn8wX/_buildManifest.js" defer=""></script><script src="/_next/static/eGqQHYKGZKE-nXShFn8wX/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h1 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h1></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-do-i-return-the-response-from-an-observablehttpasync-call-in-angular-1657387335024#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-do-i-return-the-response-from-an-observablehttpasync-call-in-angular-1657387335024"><h1>How do I return the response from an Observable/http/async call in angular?</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/angular">angular</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/typescript">typescript</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/observable">observable</a></div></div><div class="question-content mt-5">
                
<p>I have service which returns an observable which does an http request to my server and gets the data. I want to use this data but I always end up getting <code>undefined</code>. What's the problem?</p>

<p><strong>Service</strong>:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">@<span class="hljs-title class_">Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EventService</span> {

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">private http: Http</span>) { }

  <span class="hljs-title function_">getEventList</span>(): <span class="hljs-title class_">Observable</span>&lt;any&gt;{
    <span class="hljs-keyword">let</span> headers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Headers</span>({ <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> });
    <span class="hljs-keyword">let</span> options = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RequestOptions</span>({ <span class="hljs-attr">headers</span>: headers });

    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">http</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">"http://localhost:9999/events/get"</span>, options)
                .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span> res.<span class="hljs-title function_">json</span>())
                .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span> err)
  }
}
</code></pre>

<p><strong>Component:</strong></p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">@<span class="hljs-title class_">Component</span>({...})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EventComponent</span> {

  <span class="hljs-attr">myEvents</span>: any;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"> private es: EventService </span>) { }

  <span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>){
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">es</span>.<span class="hljs-title function_">getEventList</span>()
        .<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">response</span>)=&gt;</span>{
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span> = response;
        });

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span>); <span class="hljs-comment">//This prints undefined!</span>
  }
}
</code></pre>

<p>I checked <a href="https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call">How do I return the response from an asynchronous call?</a> post but couldn't find a solution</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><h1 class="text-lg font-semibold mb-5">Navigate to solutions: </h1><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 1</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/angular">angular</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/typescript">typescript</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/observable">observable</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>Reason:</strong></p>

<p>The reason that it's <code>undefined</code> is that you are making an asynchronous operation. Meaning it'll take some time to complete the <code>getEventList</code> method (depending mostly on your network speed).</p>

<p>So lets look at the http call.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-property">es</span>.<span class="hljs-title function_">getEventList</span>()
</code></pre>

<p>After you actually make ("fire") your http request with <code>subscribe</code> you will be <strong>waiting</strong> for the response. While waiting, javascript will execute the lines below this code and if it encounters synchronous assignments/operations it'll execute them immediately.</p>

<p>So after subscribing to the <code>getEventList()</code> and waiting for the response,</p>

<p><code>console.log(this.myEvents);</code> </p>

<p>line will be executed immediately. And the value of it is <code>undefined</code> before the response arrives from the server (or to whatever that you have initialized it in the first place).</p>

<p>It is similar to doing:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>){
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>{
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span> = response;
    }, <span class="hljs-number">5000</span>);

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span>); <span class="hljs-comment">//This prints undefined!</span>
}
</code></pre>

<p></p><hr>
<strong>Solution:</strong><p></p>

<blockquote>
  <p>So how do we overcome this problem? We will use the callback function which is the <code>subscribe</code> method. Because when the data arrives from the server it'll be inside the <code>subscribe</code> with the response.</p>
</blockquote>

<p>So changing the code to:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-property">es</span>.<span class="hljs-title function_">getEventList</span>()
    .<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">response</span>)=&gt;</span>{
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span> = response;
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span>); <span class="hljs-comment">//&lt;-- not undefined anymore</span>
    });
</code></pre>

<p>will print the response.. after some time.
</p><hr>
<strong>What you should do:</strong><p></p>

<p>There might be lots of things to do with your response other than just logging it; you should do all these operations inside the callback (inside the <code>subscribe</code> function), when the data arrives.</p>

<p>Another thing to mention is that if you come from a <code>Promise</code> background, the <code>then</code> callback corresponds to <code>subscribe</code> with observables.
</p><hr>
<strong>What you shouldn't do:</strong><p></p>

<p>You shouldn't try to change an async operation to a sync operation (not that you can). One of the reasons that we have async operations is to not make the user wait for an operation to complete while they can do other things in that time period. Suppose that one of your async operations takes 3 minutes to complete, if we didn't have the async operations the interface would froze for 3 minutes.</p>

<hr>

<p><strong>Suggested Reading:</strong></p>

<p>The original credit to this answer goes to: <a href="https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call">How do I return the response from an asynchronous call?</a></p>

<p>But with the angular2 release we were introduced to typescript and observables so this answer hopefully covers the basics of handling an asynchronous request with observables.</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 2</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/angular">angular</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/typescript">typescript</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/observable">observable</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Making a http call in angular/javascript is asynchronous operation.
So when you make http call it will assign new thread to finish this call and start execution next line with another thread.
That is why  you are getting undefined value.
so make below change to resolve this</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-property">es</span>.<span class="hljs-title function_">getEventList</span>()  
      .<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">response</span>)=&gt;</span>{  
       <span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span> = response;  
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span>); <span class="hljs-comment">//&lt;-this become synchronous now  </span>
    });
</code></pre>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 3</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/angular">angular</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/typescript">typescript</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/observable">observable</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can use <a href="https://angular.io/api/common/AsyncPipe" rel="nofollow noreferrer">asyncPipe</a> if you use myEvents only in template.</p>
<p>Here example with asyncPipe and Angular4 HttpClient <a href="https://stackblitz.com/edit/angular-rhioqt?file=app%2Fevent.service.ts" rel="nofollow noreferrer">example</a></p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 4</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/angular">angular</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/typescript">typescript</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/observable">observable</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Observables are lazy so you have to subscribe to get the value. You subscribed it properly in your code but simultaneously logged the output outside the 'subscribe' block. That's why it is 'undefined'.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">es</span>.<span class="hljs-title function_">getEventList</span>()
    .<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span> = response;
    });

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span>); <span class="hljs-comment">//Outside the subscribe block 'Undefined'</span>
}
</code></pre>

<p>So if you log it inside the subscribe block then it will log response properly.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>){
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">es</span>.<span class="hljs-title function_">getEventList</span>()
    .<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">response</span>)=&gt;</span>{
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span> = response;
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span>); <span class="hljs-comment">//Inside the subscribe block 'http response'</span>
    });
}
</code></pre>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 5</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/angular">angular</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/typescript">typescript</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/observable">observable</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here the problem is, you are initializing <code>this.myEvents</code> into <code>subscribe()</code> which is an asynchronous block while you are doing <code>console.log()</code> just out of <code>subscribe()</code> block.
So <code>console.log()</code> getting called before <code>this.myEvents</code> gets initialized.</p>

<p>Please move your console.log() code as well inside subscribe() and you are done.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>){
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">es</span>.<span class="hljs-title function_">getEventList</span>()
        .<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">response</span>)=&gt;</span>{
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span> = response;
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span>);
        });
  }
</code></pre>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 6</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/angular">angular</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/typescript">typescript</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/observable">observable</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The result is undefined because angular process async .
you can trying as below:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">async</span> <span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>){
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">es</span>.<span class="hljs-title function_">getEventList</span>();
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res));
}
</code></pre>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 7</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/angular">angular</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/typescript">typescript</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/observable">observable</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Also make sure that you map your response to a json output. Otherwise it will return plain text. You do it this like this:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">getEventList</span>(): <span class="hljs-title class_">Observable</span>&lt;any&gt; {
<span class="hljs-keyword">let</span> headers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Headers</span>({ <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> });
<span class="hljs-keyword">let</span> options = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RequestOptions</span>({ <span class="hljs-attr">headers</span>: headers });

<span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">http</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">"http://localhost:9999/events/get"</span>, options)
            .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>{ <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">json</span>();}) &lt;!-- add call to json here
            .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span>{<span class="hljs-keyword">return</span> err;})
}
</code></pre>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 8</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/angular">angular</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/typescript">typescript</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/observable">observable</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Undefined because the value here is logged before any data from the service is set from that above subscribe service call.  So you have to wait until the ajax call finishes and set the data from the response data. </p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">getEventList</span>(): <span class="hljs-title class_">Observable</span>&lt;any&gt;{
    <span class="hljs-keyword">let</span> headers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Headers</span>({ <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> });
    <span class="hljs-keyword">let</span> options = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RequestOptions</span>({ <span class="hljs-attr">headers</span>: headers });

    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">http</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">"http://localhost:9999/events/get"</span>, options)
                .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span> res.<span class="hljs-title function_">json</span>())
                .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span> err)
  }
</code></pre>

<p>Here make the Console log inside the  subscribe method that will make the log when the data is set in myEvents variable.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>){
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">es</span>.<span class="hljs-title function_">getEventList</span>()
        .<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">response</span>)=&gt;</span>{
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span> = response;
     <span class="hljs-comment">// This prints the value from the response</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span>)
        }); 
  }
</code></pre>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 9</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/angular">angular</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/typescript">typescript</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/observable">observable</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>To do this you have 2 options:</strong></p>
<p>Suppose we have a service which is returning shipping details array :</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">  <span class="hljs-title function_">getShippingPrices</span>(): <span class="hljs-title class_">Observable</span>&lt;<span class="hljs-title class_">IShippingDetails</span>[]&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">http</span>.<span class="hljs-property">get</span>&lt;<span class="hljs-title class_">IShippingDetails</span>[]&gt;(<span class="hljs-string">'/assets/shipping.json'</span>);
  }
</code></pre>
<p><strong>1. Use Async pipe</strong> : Easy way when you just want to show the result in template</p>
<p>In the component class directly assign the observable to variable:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ShippingComponent</span> implements <span class="hljs-title class_">OnInit</span> {
  shipOptions1 = <span class="hljs-variable language_">this</span>.<span class="hljs-property">cartService</span>.<span class="hljs-title function_">getShippingPrices</span>();
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">private cartService: CartService</span>) {}

  <span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>) {}
}
</code></pre>
<p>and then use async pipe in template :</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">&lt;div *ngFor=<span class="hljs-string">"let s of shipOptions1 |async"</span>&gt;
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>{{s.type}}<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span>
&lt;/div&gt;
</code></pre>
<p>Refer: Check the 4th point in this URL
<a href="https://angular.io/start/start-data#configuring-the-shippingcomponent-to-use-cartservice" rel="nofollow noreferrer">https://angular.io/start/start-data#configuring-the-shippingcomponent-to-use-cartservice</a></p>
<p><strong>2. Use Subscribe</strong> : When you want to manipulate it or want do some business logic on/from response</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ShippingComponent</span> implements <span class="hljs-title class_">OnInit</span> {
  <span class="hljs-attr">shipOptions2</span>: <span class="hljs-title class_">IShippingDetails</span>[] = [];
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">private cartService: CartService</span>) {}

  <span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cartService</span>.<span class="hljs-title function_">getShippingPrices</span>().<span class="hljs-title function_">subscribe</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">shipOptions2</span> = response;
      <span class="hljs-comment">//console.log(this.myEvents);</span>
      <span class="hljs-comment">//All other code using shipOptions2</span>
    });
  }
}

</code></pre>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 10</h1><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/angular">angular</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/typescript">typescript</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/observable">observable</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can simply try this method-</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">let</span> headers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Headers</span>({<span class="hljs-string">'Accept'</span>: <span class="hljs-string">'application/json'</span>});
<span class="hljs-keyword">let</span> options = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RequestOptions</span>({<span class="hljs-attr">headers</span>: headers});

<span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">http</span>
    .<span class="hljs-title function_">get</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">yourSearchUrlHere</span>, options) <span class="hljs-comment">// the URL which you have defined</span>
    .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
        res.<span class="hljs-title function_">json</span>(); <span class="hljs-comment">// using return res.json() will throw error</span>
    }
    .<span class="hljs-title function_">catch</span>(err) =&gt; {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>);
    }
</code></pre>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/what-is-an-undefined-referenceunresolved-external-symbol-error-and-how-do-i-fix-it-1657384255179">What is an undefined reference/unresolved external symbol error and how do I fix it?</a><a href="/questions/get-the-row(s)-which-have-the-max-value-in-groups-using-groupby-1657388014787">Get the row(s) which have the max value in groups using groupby</a><a href="/questions/what-is-the-best-regular-expression-to-check-if-a-string-is-a-valid-url-1657387618306">What is the best regular expression to check if a string is a valid URL?</a><a href="/questions/what-is-a-plain-english-explanation-of-%22big-o%22-notation-1657387641953">What is a plain English explanation of &quot;Big O&quot; notation?</a><a href="/questions/what-are-valid-values-for-the-id-attribute-in-html-1657384874780">What are valid values for the id attribute in HTML?</a><a href="/questions/how-to-create-a-generic-array-in-java-1657387532298">How to create a generic array in Java?</a><a href="/questions/importing-files-from-different-folder-1657388203798">Importing files from different folder</a><a href="/questions/what-is-the-difference-between-a-deep-copy-and-a-shallow-copy-1657388445063">What is the difference between a deep copy and a shallow copy?</a><a href="/questions/why-are-these-constructs-using-pre-and-post-increment-undefined-behavior-1657384520109">Why are these constructs using pre and post-increment undefined behavior?</a><a href="/questions/how-to-avoid-having-class-data-shared-among-instances-1657387687732">How to avoid having class data shared among instances?</a><a href="/questions/detecting-a-mobile-browser-1657388460071">Detecting a mobile browser</a><a href="/questions/what-is-the-difference-between-and-equals()-in-java-1657387729654">What is the difference between == and equals() in Java?</a><a href="/questions/how-to-horizontally-center-an-element-1657384634147">How to horizontally center an element</a><a href="/questions/sorting-object-property-by-values-1657388367300">Sorting object property by values</a><a href="/questions/list-of-lists-changes-reflected-across-sublists-unexpectedly-1657384393720">List of lists changes reflected across sublists unexpectedly</a><a href="/questions/what-is-the-difference-between-a-definition-and-a-declaration-1657387851618">What is the difference between a definition and a declaration?</a><a href="/questions/flatten-an-irregular-list-of-lists-1657387315571">Flatten an irregular list of lists</a><a href="/questions/what-and-where-are-the-stack-and-heap-1657387415361">What and where are the stack and heap?</a><a href="/questions/what-is-a-stackoverflowerror-1657388319634">What is a StackOverflowError?</a><a href="/questions/how-do-i-return-the-response-from-an-asynchronous-call-1657384208012">How do I return the response from an asynchronous call?</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Reason:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The reason that it\u0026apos;s \u0026lt;code\u0026gt;undefined\u0026lt;/code\u0026gt; is that you are making an asynchronous operation. Meaning it\u0026apos;ll take some time to complete the \u0026lt;code\u0026gt;getEventList\u0026lt;/code\u0026gt; method (depending mostly on your network speed).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So lets look at the http call.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;es\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;After you actually make (\u0026quot;fire\u0026quot;) your http request with \u0026lt;code\u0026gt;subscribe\u0026lt;/code\u0026gt; you will be \u0026lt;strong\u0026gt;waiting\u0026lt;/strong\u0026gt; for the response. While waiting, javascript will execute the lines below this code and if it encounters synchronous assignments/operations it\u0026apos;ll execute them immediately.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So after subscribing to the \u0026lt;code\u0026gt;getEventList()\u0026lt;/code\u0026gt; and waiting for the response,\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;console.log(this.myEvents);\u0026lt;/code\u0026gt; \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;line will be executed immediately. And the value of it is \u0026lt;code\u0026gt;undefined\u0026lt;/code\u0026gt; before the response arrives from the server (or to whatever that you have initialized it in the first place).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It is similar to doing:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ngOnInit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;setTimeout\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;()=\u0026amp;gt;\u0026lt;/span\u0026gt;{\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt; = response;\n    }, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5000\u0026lt;/span\u0026gt;);\n\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//This prints undefined!\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;hr\u0026gt;\n\u0026lt;strong\u0026gt;Solution:\u0026lt;/strong\u0026gt;\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;So how do we overcome this problem? We will use the callback function which is the \u0026lt;code\u0026gt;subscribe\u0026lt;/code\u0026gt; method. Because when the data arrives from the server it\u0026apos;ll be inside the \u0026lt;code\u0026gt;subscribe\u0026lt;/code\u0026gt; with the response.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;So changing the code to:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;es\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;()\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;subscribe\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;{\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt; = response;\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//\u0026amp;lt;-- not undefined anymore\u0026lt;/span\u0026gt;\n    });\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;will print the response.. after some time.\n\u0026lt;/p\u0026gt;\u0026lt;hr\u0026gt;\n\u0026lt;strong\u0026gt;What you should do:\u0026lt;/strong\u0026gt;\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;There might be lots of things to do with your response other than just logging it; you should do all these operations inside the callback (inside the \u0026lt;code\u0026gt;subscribe\u0026lt;/code\u0026gt; function), when the data arrives.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Another thing to mention is that if you come from a \u0026lt;code\u0026gt;Promise\u0026lt;/code\u0026gt; background, the \u0026lt;code\u0026gt;then\u0026lt;/code\u0026gt; callback corresponds to \u0026lt;code\u0026gt;subscribe\u0026lt;/code\u0026gt; with observables.\n\u0026lt;/p\u0026gt;\u0026lt;hr\u0026gt;\n\u0026lt;strong\u0026gt;What you shouldn\u0026apos;t do:\u0026lt;/strong\u0026gt;\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You shouldn\u0026apos;t try to change an async operation to a sync operation (not that you can). One of the reasons that we have async operations is to not make the user wait for an operation to complete while they can do other things in that time period. Suppose that one of your async operations takes 3 minutes to complete, if we didn\u0026apos;t have the async operations the interface would froze for 3 minutes.\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Suggested Reading:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The original credit to this answer goes to: \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\u0026quot;\u0026gt;How do I return the response from an asynchronous call?\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;But with the angular2 release we were introduced to typescript and observables so this answer hopefully covers the basics of handling an asynchronous request with observables.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Making a http call in angular/javascript is asynchronous operation.\nSo when you make http call it will assign new thread to finish this call and start execution next line with another thread.\nThat is why  you are getting undefined value.\nso make below change to resolve this\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;es\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;()  \n      .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;subscribe\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;{  \n       \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt; = response;  \n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//\u0026amp;lt;-this become synchronous now  \u0026lt;/span\u0026gt;\n    });\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can use \u0026lt;a href=\u0026quot;https://angular.io/api/common/AsyncPipe\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;asyncPipe\u0026lt;/a\u0026gt; if you use myEvents only in template.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Here example with asyncPipe and Angular4 HttpClient \u0026lt;a href=\u0026quot;https://stackblitz.com/edit/angular-rhioqt?file=app%2Fevent.service.ts\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;example\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Observables are lazy so you have to subscribe to get the value. You subscribed it properly in your code but simultaneously logged the output outside the \u0026apos;subscribe\u0026apos; block. That\u0026apos;s why it is \u0026apos;undefined\u0026apos;.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ngOnInit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;es\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;()\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;subscribe\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt; = response;\n    });\n\n  \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Outside the subscribe block \u0026apos;Undefined\u0026apos;\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;So if you log it inside the subscribe block then it will log response properly.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ngOnInit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n  \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;es\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;()\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;subscribe\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;{\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt; = response;\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Inside the subscribe block \u0026apos;http response\u0026apos;\u0026lt;/span\u0026gt;\n    });\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here the problem is, you are initializing \u0026lt;code\u0026gt;this.myEvents\u0026lt;/code\u0026gt; into \u0026lt;code\u0026gt;subscribe()\u0026lt;/code\u0026gt; which is an asynchronous block while you are doing \u0026lt;code\u0026gt;console.log()\u0026lt;/code\u0026gt; just out of \u0026lt;code\u0026gt;subscribe()\u0026lt;/code\u0026gt; block.\nSo \u0026lt;code\u0026gt;console.log()\u0026lt;/code\u0026gt; getting called before \u0026lt;code\u0026gt;this.myEvents\u0026lt;/code\u0026gt; gets initialized.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Please move your console.log() code as well inside subscribe() and you are done.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ngOnInit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;es\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;()\n        .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;subscribe\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;{\n            \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt; = response;\n            \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt;);\n        });\n  }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The result is undefined because angular process async .\nyou can trying as below:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;async\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ngOnInit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; res = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;await\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;es\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;();\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;JSON\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;stringify\u0026lt;/span\u0026gt;(res));\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Also make sure that you map your response to a json output. Otherwise it will return plain text. You do it this like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;(): \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Observable\u0026lt;/span\u0026gt;\u0026amp;lt;any\u0026amp;gt; {\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; headers = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Headers\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Content-Type\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;application/json\u0026apos;\u0026lt;/span\u0026gt; });\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; options = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RequestOptions\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;headers\u0026lt;/span\u0026gt;: headers });\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://localhost:9999/events/get\u0026quot;\u0026lt;/span\u0026gt;, options)\n            .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;res\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;{ \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; res.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;json\u0026lt;/span\u0026gt;();}) \u0026amp;lt;!-- add call to json here\n            .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;err\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;{\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; err;})\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Undefined because the value here is logged before any data from the service is set from that above subscribe service call.  So you have to wait until the ajax call finishes and set the data from the response data. \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;(): \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Observable\u0026lt;/span\u0026gt;\u0026amp;lt;any\u0026amp;gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; headers = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Headers\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Content-Type\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;application/json\u0026apos;\u0026lt;/span\u0026gt; });\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; options = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RequestOptions\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;headers\u0026lt;/span\u0026gt;: headers });\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://localhost:9999/events/get\u0026quot;\u0026lt;/span\u0026gt;, options)\n                .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;res\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt; res.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;json\u0026lt;/span\u0026gt;())\n                .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;err\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt; err)\n  }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Here make the Console log inside the  subscribe method that will make the log when the data is set in myEvents variable.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ngOnInit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;es\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;()\n        .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;subscribe\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;{\n            \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt; = response;\n     \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// This prints the value from the response\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt;)\n        }); \n  }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;To do this you have 2 options:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Suppose we have a service which is returning shipping details array :\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getShippingPrices\u0026lt;/span\u0026gt;(): \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Observable\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;IShippingDetails\u0026lt;/span\u0026gt;[]\u0026amp;gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;IShippingDetails\u0026lt;/span\u0026gt;[]\u0026amp;gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/assets/shipping.json\u0026apos;\u0026lt;/span\u0026gt;);\n  }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;1. Use Async pipe\u0026lt;/strong\u0026gt; : Easy way when you just want to show the result in template\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;In the component class directly assign the observable to variable:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;export\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ShippingComponent\u0026lt;/span\u0026gt; implements \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;OnInit\u0026lt;/span\u0026gt; {\n  shipOptions1 = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;cartService\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getShippingPrices\u0026lt;/span\u0026gt;();\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;constructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;private cartService: CartService\u0026lt;/span\u0026gt;) {}\n\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ngOnInit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {}\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;and then use async pipe in template :\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026amp;lt;div *ngFor=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;let s of shipOptions1 |async\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\n  \u0026lt;span class=\u0026quot;language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;label\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;{{s.type}}\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;label\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026amp;lt;/div\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Refer: Check the 4th point in this URL\n\u0026lt;a href=\u0026quot;https://angular.io/start/start-data#configuring-the-shippingcomponent-to-use-cartservice\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://angular.io/start/start-data#configuring-the-shippingcomponent-to-use-cartservice\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;2. Use Subscribe\u0026lt;/strong\u0026gt; : When you want to manipulate it or want do some business logic on/from response\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;export\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ShippingComponent\u0026lt;/span\u0026gt; implements \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;OnInit\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;shipOptions2\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;IShippingDetails\u0026lt;/span\u0026gt;[] = [];\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;constructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;private cartService: CartService\u0026lt;/span\u0026gt;) {}\n\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ngOnInit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;cartService\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getShippingPrices\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;subscribe\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n      \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;shipOptions2\u0026lt;/span\u0026gt; = response;\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//console.log(this.myEvents);\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//All other code using shipOptions2\u0026lt;/span\u0026gt;\n    });\n  }\n}\n\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can simply try this method-\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; headers = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Headers\u0026lt;/span\u0026gt;({\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Accept\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;application/json\u0026apos;\u0026lt;/span\u0026gt;});\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; options = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RequestOptions\u0026lt;/span\u0026gt;({\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;headers\u0026lt;/span\u0026gt;: headers});\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;yourSearchUrlHere\u0026lt;/span\u0026gt;, options) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// the URL which you have defined\u0026lt;/span\u0026gt;\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;res\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n        res.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;json\u0026lt;/span\u0026gt;(); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// using return res.json() will throw error\u0026lt;/span\u0026gt;\n    }\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt;(err) =\u0026amp;gt; {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;error\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;error\u0026apos;\u0026lt;/span\u0026gt;);\n    }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"id":226,"title":"How do I return the response from an Observable/http/async call in angular?","content":"\n                \n\u0026lt;p\u0026gt;I have service which returns an observable which does an http request to my server and gets the data. I want to use this data but I always end up getting \u0026lt;code\u0026gt;undefined\u0026lt;/code\u0026gt;. What\u0026apos;s the problem?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Service\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;@\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Injectable\u0026lt;/span\u0026gt;()\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;export\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;EventService\u0026lt;/span\u0026gt; {\n\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;constructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;private http: Http\u0026lt;/span\u0026gt;) { }\n\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;(): \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Observable\u0026lt;/span\u0026gt;\u0026amp;lt;any\u0026amp;gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; headers = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Headers\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Content-Type\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;application/json\u0026apos;\u0026lt;/span\u0026gt; });\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; options = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RequestOptions\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;headers\u0026lt;/span\u0026gt;: headers });\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://localhost:9999/events/get\u0026quot;\u0026lt;/span\u0026gt;, options)\n                .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;res\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt; res.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;json\u0026lt;/span\u0026gt;())\n                .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;err\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt; err)\n  }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Component:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;@\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Component\u0026lt;/span\u0026gt;({...})\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;export\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;EventComponent\u0026lt;/span\u0026gt; {\n\n  \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt;: any;\n\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;constructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt; private es: EventService \u0026lt;/span\u0026gt;) { }\n\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ngOnInit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;es\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;()\n        .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;subscribe\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;{\n            \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt; = response;\n        });\n\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//This prints undefined!\u0026lt;/span\u0026gt;\n  }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;I checked \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\u0026quot;\u0026gt;How do I return the response from an asynchronous call?\u0026lt;/a\u0026gt; post but couldn\u0026apos;t find a solution\u0026lt;/p\u0026gt;\n    ","slug":"how-do-i-return-the-response-from-an-observablehttpasync-call-in-angular-1657387335024","postType":"QUESTION","createdAt":"2022-07-09T17:22:15.000Z","updatedAt":"2022-07-09T17:22:15.000Z","tags":[{"id":1531,"name":"angular","slug":"angular","createdAt":"2022-07-09T17:22:15.000Z","updatedAt":"2022-07-09T17:22:15.000Z","Questions_Tags":{"questionId":226,"tagId":1531}},{"id":1533,"name":"typescript","slug":"typescript","createdAt":"2022-07-09T17:22:15.000Z","updatedAt":"2022-07-09T17:22:15.000Z","Questions_Tags":{"questionId":226,"tagId":1533}},{"id":1534,"name":"observable","slug":"observable","createdAt":"2022-07-09T17:22:15.000Z","updatedAt":"2022-07-09T17:22:15.000Z","Questions_Tags":{"questionId":226,"tagId":1534}}],"relatedQuestions":[{"title":"How do I return the response from an Observable/http/async call in angular?","slug":"how-do-i-return-the-response-from-an-observablehttpasync-call-in-angular-1657387335024","tags":[{"name":"angular","Questions_Tags":{"questionId":226,"tagId":1531}},{"name":"typescript","Questions_Tags":{"questionId":226,"tagId":1533}},{"name":"observable","Questions_Tags":{"questionId":226,"tagId":1534}}]}]},"randomQuestions":[{"title":"What is an undefined reference/unresolved external symbol error and how do I fix it?","slug":"what-is-an-undefined-referenceunresolved-external-symbol-error-and-how-do-i-fix-it-1657384255179"},{"title":"Get the row(s) which have the max value in groups using groupby","slug":"get-the-row(s)-which-have-the-max-value-in-groups-using-groupby-1657388014787"},{"title":"What is the best regular expression to check if a string is a valid URL?","slug":"what-is-the-best-regular-expression-to-check-if-a-string-is-a-valid-url-1657387618306"},{"title":"What is a plain English explanation of \"Big O\" notation?","slug":"what-is-a-plain-english-explanation-of-\"big-o\"-notation-1657387641953"},{"title":"What are valid values for the id attribute in HTML?","slug":"what-are-valid-values-for-the-id-attribute-in-html-1657384874780"},{"title":"How to create a generic array in Java?","slug":"how-to-create-a-generic-array-in-java-1657387532298"},{"title":"Importing files from different folder","slug":"importing-files-from-different-folder-1657388203798"},{"title":"What is the difference between a deep copy and a shallow copy?","slug":"what-is-the-difference-between-a-deep-copy-and-a-shallow-copy-1657388445063"},{"title":"Why are these constructs using pre and post-increment undefined behavior?","slug":"why-are-these-constructs-using-pre-and-post-increment-undefined-behavior-1657384520109"},{"title":"How to avoid having class data shared among instances?","slug":"how-to-avoid-having-class-data-shared-among-instances-1657387687732"},{"title":"Detecting a mobile browser","slug":"detecting-a-mobile-browser-1657388460071"},{"title":"What is the difference between == and equals() in Java?","slug":"what-is-the-difference-between-and-equals()-in-java-1657387729654"},{"title":"How to horizontally center an element","slug":"how-to-horizontally-center-an-element-1657384634147"},{"title":"Sorting object property by values","slug":"sorting-object-property-by-values-1657388367300"},{"title":"List of lists changes reflected across sublists unexpectedly","slug":"list-of-lists-changes-reflected-across-sublists-unexpectedly-1657384393720"},{"title":"What is the difference between a definition and a declaration?","slug":"what-is-the-difference-between-a-definition-and-a-declaration-1657387851618"},{"title":"Flatten an irregular list of lists","slug":"flatten-an-irregular-list-of-lists-1657387315571"},{"title":"What and where are the stack and heap?","slug":"what-and-where-are-the-stack-and-heap-1657387415361"},{"title":"What is a StackOverflowError?","slug":"what-is-a-stackoverflowerror-1657388319634"},{"title":"How do I return the response from an asynchronous call?","slug":"how-do-i-return-the-response-from-an-asynchronous-call-1657384208012"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-do-i-return-the-response-from-an-observablehttpasync-call-in-angular-1657387335024"},"buildId":"eGqQHYKGZKE-nXShFn8wX","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>