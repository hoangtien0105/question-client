<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find the solution to any question. We focus on finding the fastest possible solution for users. Main topics like coding, learning. - solutionschecker.com"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><link name="keywords" content="solutions checker, solution checker, how to, solution for, check for solution, resolve question, what is, what solution for, find solution"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://solutionschecker.com","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://solutionschecker.com/questions","name":"Questions"}},{"@type":"ListItem","position":3,"item":{"@id":"https://solutionschecker.com/questions/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java-1657388359877","name":"Questions"}}]}</script><title>Why do I need to override the equals and hashCode methods in Java? | Solution Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="Recently I read through this
 Developer Works Document. 

The document is all about defining hashCode() and equals() effectively and correctly, however I am not able to figure out why we need to override these two methods. 

How can I take the decision to implement these methods efficiently?
    "/><meta property="og:title" content="Why do I need to override the equals and hashCode methods in Java? | Solution Checker"/><meta property="og:description" content="Recently I read through this
 Developer Works Document. 

The document is all about defining hashCode() and equals() effectively and correctly, however I am not able to figure out why we need to override these two methods. 

How can I take the decision to implement these methods efficiently?
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"Why do I need to override the equals and hashCode methods in Java?","text":"Recently I read through this\n Developer Works Document. \n\nThe document is all about defining hashCode() and equals() effectively and correctly, however I am not able to figure out why we need to override these two methods. \n\nHow can I take the decision to implement these methods efficiently?\n    ","answerCount":30,"upVoteCount":500,"suggestedAnswer":[{"text":"Joshua Bloch says on Effective Java\n\nYou must override hashCode() in every class that overrides equals(). Failure to do so will result in a violation of the general contract for Object.hashCode(), which will prevent your class from functioning properly in conjunction with all hash-based collections, including HashMap, HashSet, and Hashtable.\n\nLet&apos;s try to understand it with an example of what would happen if we override equals() without overriding hashCode() and attempt to use a Map.\nSay we have a class like this and that two objects of MyClass are equal if their importantField is equal (with hashCode() and equals() generated by eclipse)\npublic class MyClass {\n    private final String importantField;\n    private final String anotherField;\n\n    public MyClass(final String equalField, final String anotherField) {\n        this.importantField = equalField;\n        this.anotherField = anotherField;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result\n                + ((importantField == null) ? 0 : importantField.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(final Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        final MyClass other = (MyClass) obj;\n        if (importantField == null) {\n            if (other.importantField != null)\n                return false;\n        } else if (!importantField.equals(other.importantField))\n            return false;\n        return true;\n    }\n}\n\n\nImagine you have this\nMyClass first = new MyClass(&quot;a&quot;,&quot;first&quot;);\nMyClass second = new MyClass(&quot;a&quot;,&quot;second&quot;);\n\nOverride only equals\nIf only equals is overriden, then when you call myMap.put(first,someValue) first will hash to some bucket and when you call myMap.put(second,someOtherValue) it will hash to some other bucket (as they have a different hashCode). So, although they are equal, as they don&apos;t hash to the same bucket, the map can&apos;t realize it and both of them stay in the map.\n\nAlthough it is not necessary to override equals() if we override hashCode(), let&apos;s see what would happen in this particular case where we know that two objects of MyClass are equal if their importantField is equal but we do not override equals().\nOverride only hashCode\nIf you only override hashCode then when you call myMap.put(first,someValue) it takes first, calculates its hashCode and stores it in a given bucket. Then when you call myMap.put(second,someOtherValue) it should replace first with second  as per the Map Documentation because they are equal (according to the business requirement).\nBut the problem is that equals was not redefined, so when the map hashes second and iterates through the bucket looking if there is an object k such that second.equals(k) is true it won&apos;t find any as second.equals(first) will be false.\nHope it was clear\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"Collections such as HashMap and HashSet use a hashcode value of an object to determine how it should be stored inside a collection, and the hashcode is used again in order to locate the object\nin its collection.\n\nHashing retrieval is a two-step process:\n\n\nFind the right bucket (using hashCode())\nSearch the bucket for the right element (using equals() )\n\n\nHere is a small example on why we should overrride equals() and hashcode().\n\nConsider an Employee class which has two fields: age and name.\n\npublic class Employee {\n\n    String name;\n    int age;\n\n    public Employee(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj == this)\n            return true;\n        if (!(obj instanceof Employee))\n            return false;\n        Employee employee = (Employee) obj;\n        return employee.getAge() == this.getAge()\n                &amp;&amp; employee.getName() == this.getName();\n    }\n\n    // commented    \n    /*  @Override\n        public int hashCode() {\n            int result=17;\n            result=31*result+age;\n            result=31*result+(name!=null ? name.hashCode():0);\n            return result;\n        }\n     */\n}\n\n\nNow create a class, insert Employee object into a HashSet and test whether that object is present or not.\n\npublic class ClientTest {\n    public static void main(String[] args) {\n        Employee employee = new Employee(&quot;rajeev&quot;, 24);\n        Employee employee1 = new Employee(&quot;rajeev&quot;, 25);\n        Employee employee2 = new Employee(&quot;rajeev&quot;, 24);\n\n        HashSet&lt;Employee&gt; employees = new HashSet&lt;Employee&gt;();\n        employees.add(employee);\n        System.out.println(employees.contains(employee2));\n        System.out.println(&quot;employee.hashCode():  &quot; + employee.hashCode()\n        + &quot;  employee2.hashCode():&quot; + employee2.hashCode());\n    }\n}\n\n\nIt will print the following:\n\nfalse\nemployee.hashCode():  321755204  employee2.hashCode():375890482\n\n\nNow uncomment hashcode() method , execute the same and the output would be: \n\ntrue\nemployee.hashCode():  -938387308  employee2.hashCode():-938387308\n\n\nNow can you see why if two objects are considered equal, their hashcodes must\nalso be equal? Otherwise, you&apos;d never be able to find the object since the default\nhashcode method in class Object virtually always comes up with a unique number\nfor each object, even if the equals() method is overridden in such a way that two\nor more objects are considered equal. It doesn&apos;t matter how equal the objects are if\ntheir hashcodes don&apos;t reflect that. So one more time: If two objects are equal, their\nhashcodes must be equal as well.\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"\nYou must override hashCode() in every\nclass that overrides equals(). Failure\nto do so will result in a violation of\nthe general contract for\nObject.hashCode(), which will prevent\nyour class from functioning properly\nin conjunction with all hash-based\ncollections, including HashMap,\nHashSet, and Hashtable.\n    from Effective Java, by Joshua Bloch\n\nBy defining equals() and hashCode() consistently, you can improve the usability of your classes as keys in hash-based collections. As the API doc for hashCode explains: &quot;This method is supported for the benefit of hashtables such as those provided by java.util.Hashtable.&quot;\nThe best answer to your question about how to implement these methods efficiently is suggesting you to read Chapter 3 of Effective Java.\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"Identity is not equality.\n\n\nequals operator == test identity.\nequals(Object obj) method compares equality test(i.e. we need to tell equality by overriding the method)\n\n\n\n  Why do I need to override the equals and hashCode methods in Java?   \n\n\nFirst we have to understand the use of equals method.\n\nIn order to identity differences between two objects we need to override equals method.   \n\nFor example:\n\nCustomer customer1=new Customer(&quot;peter&quot;);\nCustomer customer2=customer1;\ncustomer1.equals(customer2); // returns true by JVM. i.e. both are refering same Object\n------------------------------\nCustomer customer1=new Customer(&quot;peter&quot;);\nCustomer customer2=new Customer(&quot;peter&quot;);\ncustomer1.equals(customer2); //return false by JVM i.e. we have two different peter customers.\n\n------------------------------\nNow I have overriden Customer class equals method as follows:\n @Override\n    public boolean equals(Object obj) {\n        if (this == obj)   // it checks references\n            return true;\n        if (obj == null) // checks null\n            return false;\n        if (getClass() != obj.getClass()) // both object are instances of same class or not\n            return false;\n        Customer other = (Customer) obj;\n        if (name == null) {\n            if (other.name != null)\n                return false;\n        } else if (!name.equals(other.name)) // it again using bulit in String object equals to identify the difference \n            return false;\n        return true; \n    }\nCustomer customer1=new Customer(&quot;peter&quot;);\nCustomer customer2=new Customer(&quot;peter&quot;);\nInsteady identify the Object equality by JVM, we can do it by overring equals method.\ncustomer1.equals(customer2);  // returns true by our own logic\n\n\nNow hashCode method can understand easily.\n\nhashCode produces integer in order to store object in data structures like HashMap, HashSet.\n\nAssume we have override equals method of Customer as above, \n\ncustomer1.equals(customer2);  // returns true by our own logic\n\n\nWhile working with data structure when we store object in buckets(bucket is a fancy name for folder). If we use built-in hash technique, for above two customers it generates two different hashcode. So we are storing the same identical object in two different places. To avoid this kind of issues we should override the hashCode method also based on the following principles.  \n\n\nun-equal instances may have same hashcode.\nequal instances should return same hashcode.\n\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"Why we override equals() method\nIn Java we can not overload how operators like ==, +=, -+ behave. They are behaving a certain way. So let&apos;s focus on the operator == for our case here.\nHow operator == works.\nIt checks if 2 references that we compare point to the same instance in memory. Operator == will resolve to true only if those 2 references represent the same instance in memory.\nSo now let&apos;s consider the following example\npublic class Person {\n\n      private Integer age;\n      private String name;\n    \n      ..getters, setters, constructors\n      }\n\nSo let&apos;s say that in your program you have built 2 Person objects on different places and you wish to compare them.\nPerson person1 = new Person(&quot;Mike&quot;, 34);\nPerson person2 = new Person(&quot;Mike&quot;, 34);\nSystem.out.println ( person1 == person2 );  --&gt; will print false!\n\nThose 2 objects from business perspective look the same right? For JVM they are not the same. Since they are both created with new keyword those instances are located in different segments in memory. Therefore the operator == will return false\nBut if we can not override the == operator how can we say to JVM that we want those 2 objects to be treated as same. There comes the .equals() method in play.\nYou can override equals() to check if some objects have same values for specific fields to be considered equal.\nYou can select which fields you want to be compared. If we say that 2 Person objects will be the same if and only if they have the same age and same name, then the IDE will create something like the following for automatic generation of equals()\n@Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Person person = (Person) o;\n        return age == person.age &amp;&amp;\n                name.equals(person.name);\n    }\n\nLet&apos;s go back to our previous example\n    Person person1 = new Person(&quot;Mike&quot;, 34);\n    Person person2 = new Person(&quot;Mike&quot;, 34);\n    System.out.println ( person1 == person2 );   --&gt; will print false!\n    System.out.println ( person1.equals(person2) );  --&gt; will print true!\n\nSo we can not overload == operator to compare objects the way we want but Java gave us another way, the equals() method, which we can override as we want.\nKeep in mind however, if we don&apos;t provide our custom version of .equals() (aka override) in our class then the predefined .equals() from Object class and == operator will behave exactly the same.\nDefault equals() method which is inherited from Object will check whether both compared instances are the same in memory!\nWhy we override hashCode() method\nSome Data Structures in java like HashSet, HashMap store their elements based on a hash function which is applied on those elements. The hashing function is the hashCode()\nIf we have a choice of overriding .equals() method then we must also have a choice of overriding hashCode() method. There is a reason for that.\nDefault implementation of hashCode() which is inherited from Object considers all objects in memory unique!\nLet&apos;s get back to those hash data structures. There is a rule for those data structures.\nHashSet can not contain duplicate values and HashMap can not contain duplicate keys\nHashSet is implemented with a HashMap behind the scenes where each value of a HashSet is stored as a key in a HashMap.\nSo we have to understand how a HashMap works.\nIn a simple way a HashMap is a native array that has some buckets. Each bucket has a linkedList. In that linkedList our keys are stored. HashMap locates the correct linkedList for each key by applying hashCode() method and after that it iterates through all elements of that linkedList and applies equals() method on each of these elements to check if that element is already contained there. No duplicate keys are allowed.\n\nWhen we put something inside a HashMap, the key is stored in one of those linkedLists. In which linkedList that key will be stored is shown by the result of hashCode() method on that key. So if key1.hashCode() has as a result 4, then that key1 will be stored on the 4th bucket of the array, in the linkedList that exists there.\nBy default hashCode() method returns a different result for each different instance. If we have the default equals() which behaves like == which considers all instances in memory as different objects we don&apos;t have any problem.\nBut in our previous example we said we want Person instances to be considered equal if their ages and names match.\n    Person person1 = new Person(&quot;Mike&quot;, 34);\n    Person person2 = new Person(&quot;Mike&quot;, 34);\n    System.out.println ( person1.equals(person2) );  --&gt; will print true!\n\nNow let&apos;s create a map to store those instances as keys with some string as pair value\nMap&lt;Person, String&gt; map = new HashMap();\nmap.put(person1, &quot;1&quot;);\nmap.put(person2, &quot;2&quot;);\n\nIn Person class we have not overridden the hashCode method but we have overridden equals method. Since the default hashCode provides different results for different java instances person1.hashCode() and person2.hashCode() have big chances of having different results.\nOur map might end with those persons in different linkedLists.\n\nThis is against the logic of a HashMap\nA HashMap is not allowed to have multiple equal keys!\nBut ours now has and the reason is that the default hashCode() which was inherited from Object Class was not enough. Not after we have overridden the equals() method on Person Class.\nThat is the reason why we must override hashCode() method after we have overridden equals method.\nNow let&apos;s fix that. Let&apos;s override our hashCode() method to consider the same fields that equals() considers, namely age, name\n public class Person {\n\n      private Integer age;\n      private String name;\n    \n      ..getters, setters, constructors\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Person person = (Person) o;\n        return age == person.age &amp;&amp;\n                name.equals(person.name);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(name, age);\n    }\n\n      }\n\nNow let&apos;s try again to save those keys in our HashMap\nMap&lt;Person, String&gt; map = new HashMap();\nmap.put(person1, &quot;1&quot;);\nmap.put(person2, &quot;2&quot;);\n\nperson1.hashCode() and person2.hashCode() will definitely be the same. Let&apos;s say it is 0.\nHashMap will go to bucket 0 and in that LinkedList will save the person1 as key with the value &quot;1&quot;. For the second put HashMap is intelligent enough and when it goes again to bucket 0 to save person2 key with value &quot;2&quot; it will see that another equal key already exists there. So it will overwrite the previous key. So in the end only person2 key will exist in our HashMap.\n\nNow we are aligned with the rule of Hash Map that says no multiple equal keys are allowed!\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"Simply put, the equals-method in Object check for reference equality, where as two instances of your class could still be semantically equal when the properties are equal. This is for instance important when putting your objects into a container that utilizes equals and hashcode, like HashMap and Set. Let&apos;s say we have a class like:\n\npublic class Foo {\n    String id;\n    String whatevs;\n\n    Foo(String id, String whatevs) {\n        this.id = id;\n        this.whatevs = whatevs;\n    }\n}\n\n\nWe create two instances with the same id:\n\nFoo a = new Foo(&quot;id&quot;, &quot;something&quot;);\nFoo b = new Foo(&quot;id&quot;, &quot;something else&quot;);\n\n\nWithout overriding equals we are getting:\n\n\na.equals(b) is false because they are two different instances\na.equals(a) is true since it&apos;s the same instance\nb.equals(b) is true since it&apos;s the same instance\n\n\nCorrect? Well maybe, if this is what you want. But let&apos;s say we want objects with the same id to be the same object, regardless if it&apos;s two different instances. We override the equals (and hashcode):\n\npublic class Foo {\n    String id;\n    String whatevs;\n\n    Foo(String id, String whatevs) {\n        this.id = id;\n        this.whatevs = whatevs;\n    }\n\n    @Override\n    public boolean equals(Object other) {\n        if (other instanceof Foo) {\n            return ((Foo)other).id.equals(this.id);   \n        }\n    }\n\n    @Override\n    public int hashCode() {\n        return this.id.hashCode();\n    }\n}\n\n\nAs for implementing equals and hashcode I can recommend using Guava&apos;s helper methods\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"Let me explain the concept in very simple words.\nFirstly from a broader perspective we have collections, and hashmap is one of the datastructure in the collections.\nTo understand why we have to override the both equals and hashcode method, if need to first understand what is hashmap and what is does.\nA hashmap is a datastructure which stores key value pairs of data in array fashion. Lets say a[], where each element in &apos;a&apos; is a key value pair.\nAlso each index in the above array can be linked list thereby having more than one values at one index.\nNow why is a hashmap used?\nIf we have to search among  a large array then searching through each if them will not be efficient, so what hash technique tells us that lets pre process the array with some logic and group the elements based on that logic i.e. Hashing\nEG: we have array 1,2,3,4,5,6,7,8,9,10,11 and we apply a hash function mod 10 so 1,11 will be grouped in together. So if we had to search for 11 in previous array then we would have to iterate the complete array but when we group it we limit our scope of iteration thereby improving speed. That datastructure used to store all the above information can be thought of as a 2d array for simplicity\nNow apart from the above hashmap also tells that it wont add any Duplicates in it. And this is the main reason why we have to override the equals and hashcode\nSo when its said that explain the internal working of hashmap , we need to find what methods the hashmap has and how does it follow the above rules which i explained above\nso the hashmap has method called as put(K,V) , and according to hashmap it should follow the above rules of efficiently distributing the array and not adding any duplicates\nso what put does is that it will first generate the hashcode for the given key to decide which index the value should go in.if nothing is present at that index then the new value will be added over there, if something is already present over there then the new value should be added after the end of the linked list at that index. but remember no duplicates should be added as per the desired behavior of the hashmap. so lets say you have two Integer objects aa=11,bb=11.\nAs every object derived from the object class, the default implementation for comparing two objects is that it compares the reference and not values inside the object. So in the above case both though semantically equal will fail the equality test, and possibility that two objects which same hashcode and same values will exists thereby creating duplicates. If we override then we could avoid adding duplicates.\nYou could also refer to Detail working\nimport java.util.HashMap;\n\n\npublic class Employee {\n    String name;\n    String mobile;\n\n    public Employee(String name,String mobile) {\n        this.name = name;\n        this.mobile = mobile;\n    }\n    \n    @Override\n    public int hashCode() {\n        System.out.println(&quot;calling hascode method of Employee&quot;);\n        String str = this.name;\n        int sum = 0;\n        for (int i = 0; i &lt; str.length(); i++) {\n            sum = sum + str.charAt(i);\n        }\n        return sum;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        // TODO Auto-generated method stub\n        System.out.println(&quot;calling equals method of Employee&quot;);\n        Employee emp = (Employee) obj;\n        if (this.mobile.equalsIgnoreCase(emp.mobile)) {\n            System.out.println(&quot;returning true&quot;);\n            return true;\n        } else {\n            System.out.println(&quot;returning false&quot;);\n            return false;\n        }\n    }\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        Employee emp = new Employee(&quot;abc&quot;, &quot;hhh&quot;);\n        Employee emp2 = new Employee(&quot;abc&quot;, &quot;hhh&quot;);\n        HashMap&lt;Employee, Employee&gt; h = new HashMap&lt;&gt;();\n        //for (int i = 0; i &lt; 5; i++) {\n            h.put(emp, emp);\n            h.put(emp2, emp2);\n        //}\n        \n        System.out.println(&quot;----------------&quot;);\n        System.out.println(&quot;size of hashmap: &quot;+h.size());\n    }\n}\n\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"hashCode() :\nIf you only override the hash-code method nothing happens, because it always returns a new hashCode for each object as an Object class.\nequals() :\nIf you only override the equals method, if a.equals(b) is true it means the hashCode of a and b must be the same but that does not happen since you did not override the hashCode method.\nNote :  hashCode() method of Object class always returns a new hashCode for each object.\nSo when you need to use your object in the hashing based collection, you must override both equals() and hashCode().\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"Java puts a rule that \n\n\n  &quot;If two objects are equal using Object class equals method, then the hashcode method should give the same value for these two objects.&quot;\n\n\nSo, if in our class we override equals() we should override hashcode() method also to follow this rule.\nBoth methods, equals() and hashcode(), are used in Hashtable, for example, to store values as key-value pairs. If we override one and not the other, there is a possibility that the Hashtable may not work as we want, if we use such object as a key.\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"Because if you do not override them you will be use the default implentation in Object.\n\nGiven that instance equality and hascode values generally require knowledge of what makes up an object they generally will need to be redefined in your class to have any tangible meaning.\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"In order to use our own class objects as keys in collections like HashMap, Hashtable etc.. , we should override both methods ( hashCode() and equals() ) by having an awareness on internal working of collection. Otherwise, it leads to wrong results which we are not expected.\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"Adding to @Lombo &apos;s answer\n\nWhen will you need to override equals() ?\n\nThe default implementation of Object&apos;s equals() is\n\npublic boolean equals(Object obj) {\n        return (this == obj);\n}\n\n\nwhich means two objects will be considered equal only if they have the same memory address which will be true only if you are\ncomparing an object with itself.\n\nBut you might want to consider two objects the same if they have the same value for one\nor more of their properties (Refer the example given in @Lombo &apos;s answer). \n\nSo you will override equals() in these situations and you would give your own conditions for equality.\n\nI have successfully implemented equals() and it is working great.So why are they asking to override hashCode() as well?\n\nWell.As long as you don&apos;t use &quot;Hash&quot; based Collections on your user-defined class,it is fine.\nBut some time in the future you might want to use HashMap or HashSet and if you don&apos;t override and &quot;correctly implement&quot; hashCode(), these Hash based collection won&apos;t work as intended.\n\nOverride only equals (Addition to @Lombo &apos;s answer)\n\nmyMap.put(first,someValue)\nmyMap.contains(second); --&gt; But it should be the same since the key are the same.But returns false!!! How?\n\n\nFirst of all,HashMap checks if the hashCode of second is the same as first.\nOnly if the values are the same,it will proceed to check the equality in the same bucket.\n\nBut here the hashCode is different for these 2 objects (because they have different memory address-from default implementation).\nHence it will not even care to check for equality.\n\nIf you have a breakpoint inside your overridden equals() method,it wouldn&apos;t step in if they have different hashCodes.\ncontains() checks hashCode() and only if they are the same it would call your equals() method.\n\nWhy can&apos;t we make the HashMap check for equality in all the buckets? So there is no necessity for me to override hashCode() !!\n\nThen you are missing the point of Hash based Collections.\nConsider the following :\n\nYour hashCode() implementation : intObject%9.\n\n\nThe following are the keys stored in the form of buckets.\n\nBucket 1 : 1,10,19,... (in thousands)\nBucket 2 : 2,20,29...\nBucket 3 : 3,21,30,...\n...\n\n\nSay,you want to know if the map contains the key 10.\nWould you want to search all the buckets? or Would you want to search only one bucket?\n\nBased on the hashCode,you would identify that if 10 is present,it must be present in Bucket 1.\nSo only Bucket 1 will be searched !!\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"class A {\n    int i;\n    // Hashing Algorithm\n    if even number return 0 else return 1\n    // Equals Algorithm,\n    if i = this.i return true else false\n}\n\n\n\nput(&apos;key&apos;,&apos;value&apos;) will calculate the hash value using hashCode() to determine the\nbucket and uses equals() method to find whether the value is already\npresent in the Bucket. If not it will added else it will be replaced with current value\nget(&apos;key&apos;) will use hashCode() to find the Entry (bucket) first and\nequals() to find the value in Entry\n\n\nif Both are overridden,\n\nMap&lt;A&gt; \n\nMap.Entry 1 --&gt; 1,3,5,...\nMap.Entry 2 --&gt; 2,4,6,...\n\n\nif equals is not overridden\n\nMap&lt;A&gt; \n\nMap.Entry 1 --&gt; 1,3,5,...,1,3,5,... // Duplicate values as equals not overridden\nMap.Entry 2 --&gt; 2,4,6,...,2,4,..\n\n\nIf hashCode is not overridden\n\nMap&lt;A&gt; \n\nMap.Entry 1 --&gt; 1\nMap.Entry 2 --&gt; 2\nMap.Entry 3 --&gt; 3\nMap.Entry 4 --&gt; 1\nMap.Entry 5 --&gt; 2\nMap.Entry 6 --&gt; 3 // Same values are Stored in different hasCodes violates Contract 1\nSo on...\n\n\nHashCode Equal Contract\n\n\nTwo keys equal according to equal method should generate same hashCode\nTwo Keys generating same hashCode need not be equal (In above example all even numbers generate same hash Code)\n\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0},{"text":"1) The common mistake is shown in the example below.\n\npublic class Car {\n\n    private String color;\n\n    public Car(String color) {\n        this.color = color;\n    }\n\n    public boolean equals(Object obj) {\n        if(obj==null) return false;\n        if (!(obj instanceof Car))\n            return false;   \n        if (obj == this)\n            return true;\n        return this.color.equals(((Car) obj).color);\n    }\n\n    public static void main(String[] args) {\n        Car a1 = new Car(&quot;green&quot;);\n        Car a2 = new Car(&quot;red&quot;);\n\n        //hashMap stores Car type and its quantity\n        HashMap&lt;Car, Integer&gt; m = new HashMap&lt;Car, Integer&gt;();\n        m.put(a1, 10);\n        m.put(a2, 20);\n        System.out.println(m.get(new Car(&quot;green&quot;)));\n    }\n}\n\n\nthe green Car is not found\n\n2. Problem caused by hashCode()\n\nThe problem is caused by the un-overridden method hashCode(). The contract between equals() and hashCode() is:\n\n\nIf two objects are equal, then they must have the same hash code.\nIf two objects have the same hash code, they may or may not be equal.\n\npublic int hashCode(){  \n  return this.color.hashCode(); \n}\n\n\n    ","url":"/questions/[slug]#solution14","@type":"Answer","upvoteCount":0},{"text":"It is useful when using Value Objects. The following is an excerpt from the Portland Pattern Repository:\n\n\n  Examples of value objects are things\n  like numbers, dates, monies and\n  strings. Usually, they are small\n  objects which are used quite widely.\n  Their identity is based on their state\n  rather than on their object identity.\n  This way, you can have multiple copies\n  of the same conceptual value object.\n  \n  So I can have multiple copies of an\n  object that represents the date 16 Jan\n  1998. Any of these copies will be equal to each other. For a small\n  object such as this, it is often\n  easier to create new ones and move\n  them around rather than rely on a\n  single object to represent the date.\n  \n  A value object should always override\n  .equals() in Java (or = in Smalltalk).\n  (Remember to override .hashCode() as\n  well.)\n\n    ","url":"/questions/[slug]#solution15","@type":"Answer","upvoteCount":0},{"text":"Assume you have class (A) that aggregates two other (B) (C), and you need to store instances of (A) inside hashtable. Default implementation only allows distinguishing of instances, but not by (B) and (C). So two instances of A could be equal, but default wouldn&apos;t allow you to compare them in correct way.  \n    ","url":"/questions/[slug]#solution16","@type":"Answer","upvoteCount":0},{"text":"Consider collection of balls in a bucket all in black color. Your Job is to color those balls as follows and use it for appropriate game,\n\nFor Tennis - Yellow, Red.\nFor Cricket - White\n\nNow bucket has balls in three colors Yellow, Red and White. And that now you did the coloring Only you know which color is for which game.\n\nColoring the balls - Hashing.\nChoosing the ball for game - Equals.\n\nIf you did the coloring and some one chooses the ball for either cricket or tennis they wont mind the color!!!\n    ","url":"/questions/[slug]#solution17","@type":"Answer","upvoteCount":0},{"text":"I was looking into the explanation &quot; If you only override hashCode then when you call myMap.put(first,someValue) it takes first, calculates its hashCode and stores it in a given bucket. Then when you call myMap.put(first,someOtherValue) it should replace first with second as per the Map Documentation because they are equal (according to our definition).&quot; :\n\nI think 2nd time when we are adding in myMap then it should be the &apos;second&apos; object like myMap.put(second,someOtherValue)\n    ","url":"/questions/[slug]#solution18","@type":"Answer","upvoteCount":0},{"text":"The methods equals and hashcode are defined in the object class. By default if the equals method returns true, then the system will go further and check the value of the hash code. If the hash code of the 2 objects is also same only then the objects will be considered as same. So if you override only equals method, then even though the overridden equals method indicates 2 objects to be equal , the system defined hashcode may not indicate that the 2 objects are equal. So we need to override hash code as well.\n    ","url":"/questions/[slug]#solution19","@type":"Answer","upvoteCount":0},{"text":"Equals and Hashcode methods in Java\n\nThey are methods of java.lang.Object class which is the super class of all the classes (custom classes as well and others defined in java API).\n\nImplementation:\n\n\n  public boolean equals(Object obj)\n  \n  public int hashCode()\n\n\n\n\npublic boolean equals(Object obj)\n\nThis method simply checks if two object references x and y refer to the same object. i.e. It checks if x == y.\n\nIt is reflexive: for any reference value x, x.equals(x) should return true.\n\nIt is symmetric: for any reference values x and y, x.equals(y) should return true if and only if y.equals(x) returns true.\n\nIt is transitive: for any reference values x, y, and z, if x.equals(y) returns true and y.equals(z) returns true, then x.equals(z) should return true.\n\nIt is consistent: for any reference values x and y, multiple invocations of x.equals(y) consistently return true or consistently return false, provided no information used in equals comparisons on the object is modified.\n\n\n  For any non-null reference value x, x.equals(null) should return\n  false.\n\n\npublic int hashCode()\n\nThis method returns the hash code value for the object on which this method is invoked. This method returns the hash code value as an integer and is supported for the benefit of hashing based collection classes such as Hashtable, HashMap, HashSet etc. This method must be overridden in every class that overrides the equals method.\n\nThe general contract of hashCode is:\n\nWhenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. \n\nThis integer need not remain consistent from one execution of an application to another execution of the same application.\n\nIf two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.\n\nIt is not required that if two objects are unequal according to the equals(java.lang.Object) method, then calling the hashCode method on each of the two objects must produce distinct integer results. However, the programmer should be aware that producing distinct integer results for unequal objects may improve the performance of hashtables.\n\n\n  Equal objects must produce the same hash code as long as they are\n  equal, however unequal objects need not produce distinct hash codes.\n\n\nResources: \n\nJavaRanch\n\nPicture\n    ","url":"/questions/[slug]#solution20","@type":"Answer","upvoteCount":0},{"text":"If you override equals() and not hashcode(), you will not find any problem unless you or someone else uses that class type in a hashed collection like HashSet.\nPeople before me have clearly explained the documented theory multiple times, I am just here to provide a very simple example.\n\nConsider a class whose equals() need to mean something customized :-\n\n    public class Rishav {\n\n        private String rshv;\n\n        public Rishav(String rshv) {\n            this.rshv = rshv;\n        }\n\n        /**\n        * @return the rshv\n        */\n        public String getRshv() {\n            return rshv;\n        }\n\n        /**\n        * @param rshv the rshv to set\n        */\n        public void setRshv(String rshv) {\n            this.rshv = rshv;\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            if (obj instanceof Rishav) {\n                obj = (Rishav) obj;\n                if (this.rshv.equals(((Rishav) obj).getRshv())) {\n                    return true;\n                } else {\n                    return false;\n                }\n            } else {\n                return false;\n            }\n        }\n\n        @Override\n        public int hashCode() {\n            return rshv.hashCode();\n        }\n\n    }\n\n\nNow consider this main class :-\n\n    import java.util.HashSet;\n    import java.util.Set;\n\n    public class TestRishav {\n\n        public static void main(String[] args) {\n            Rishav rA = new Rishav(&quot;rishav&quot;);\n            Rishav rB = new Rishav(&quot;rishav&quot;);\n            System.out.println(rA.equals(rB));\n            System.out.println(&quot;-----------------------------------&quot;);\n\n            Set&lt;Rishav&gt; hashed = new HashSet&lt;&gt;();\n            hashed.add(rA);\n            System.out.println(hashed.contains(rB));\n            System.out.println(&quot;-----------------------------------&quot;);\n\n            hashed.add(rB);\n            System.out.println(hashed.size());\n        }\n\n    }\n\n\nThis will yield the following output :-\n\n    true\n    -----------------------------------\n    true\n    -----------------------------------\n    1\n\n\nI am happy with the results. But if I have not overridden hashCode(), it will cause nightmare as objects of Rishav with same member content will no longer be treated as unique as the hashCode will be different, as generated by default behavior, here&apos;s the would be output :-\n\n    true\n    -----------------------------------\n    false\n    -----------------------------------\n    2\n\n    ","url":"/questions/[slug]#solution21","@type":"Answer","upvoteCount":0},{"text":"In the example below, if you comment out the override for equals or hashcode in the Person class, this code will fail to look up Tom&apos;s order. Using the default implementation of hashcode can cause failures in hashtable lookups.\n\nWhat I have below is a simplified code that pulls up people&apos;s order by Person. Person is being used as a key in the hashtable.\n\npublic class Person {\n    String name;\n    int age;\n    String socialSecurityNumber;\n\n    public Person(String name, int age, String socialSecurityNumber) {\n        this.name = name;\n        this.age = age;\n        this.socialSecurityNumber = socialSecurityNumber;\n    }\n\n    @Override\n    public boolean equals(Object p) {\n        //Person is same if social security number is same\n\n        if ((p instanceof Person) &amp;&amp; this.socialSecurityNumber.equals(((Person) p).socialSecurityNumber)) {\n            return true;\n        } else {\n            return false;\n        }\n\n    }\n\n    @Override\n    public int hashCode() {        //I am using a hashing function in String.java instead of writing my own.\n        return socialSecurityNumber.hashCode();\n    }\n}\n\n\npublic class Order {\n    String[]  items;\n\n    public void insertOrder(String[]  items)\n    {\n        this.items=items;\n    }\n\n}\n\n\n\nimport java.util.Hashtable;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n       Person p1=new Person(&quot;Tom&quot;,32,&quot;548-56-4412&quot;);\n        Person p2=new Person(&quot;Jerry&quot;,60,&quot;456-74-4125&quot;);\n        Person p3=new Person(&quot;Sherry&quot;,38,&quot;418-55-1235&quot;);\n\n        Order order1=new Order();\n        order1.insertOrder(new String[]{&quot;mouse&quot;,&quot;car charger&quot;});\n\n        Order order2=new Order();\n        order2.insertOrder(new String[]{&quot;Multi vitamin&quot;});\n\n        Order order3=new Order();\n        order3.insertOrder(new String[]{&quot;handbag&quot;, &quot;iPod&quot;});\n\n        Hashtable&lt;Person,Order&gt; hashtable=new Hashtable&lt;Person,Order&gt;();\n        hashtable.put(p1,order1);\n        hashtable.put(p2,order2);\n        hashtable.put(p3,order3);\n\n       //The line below will fail if Person class does not override hashCode()\n       Order tomOrder= hashtable.get(new Person(&quot;Tom&quot;, 32, &quot;548-56-4412&quot;));\n        for(String item:tomOrder.items)\n        {\n            System.out.println(item);\n        }\n    }\n}\n\n    ","url":"/questions/[slug]#solution22","@type":"Answer","upvoteCount":0},{"text":"hashCode() method is used to get a unique integer for given object. This integer is used for determining the bucket location, when this object needs to be stored in some HashTable, HashMap like data structure. By default, Objects hashCode() method returns and integer representation of memory address where object is stored.\n\nThe hashCode() method of objects is used when we insert them into a HashTable, HashMap or HashSet. More about HashTables on Wikipedia.org for reference.\n\nTo insert any entry in map data structure, we need both key and value. If both key and values are user define data types, the hashCode() of the key will be determine where to store the object internally. When require to lookup the object from the map also, the hash code of the key will be determine where to search for the object.\n\nThe hash code only points to a certain &quot;area&quot; (or list, bucket etc) internally. Since different key objects could potentially have the same hash code, the hash code itself is no guarantee that the right key is found. The HashTable then iterates this area (all keys with the same hash code) and uses the key&apos;s equals() method to find the right key. Once the right key is found, the object stored for that key is returned.\n\nSo, as we can see, a combination of the hashCode() and equals() methods are used when storing and when looking up objects in a HashTable.\n\nNOTES:\n\n\nAlways use same attributes of an object to generate hashCode() and equals() both. As in our case, we have used employee id.\nequals() must be consistent (if the objects are not modified, then it must keep returning the same value).\nWhenever a.equals(b), then a.hashCode() must be same as b.hashCode().\nIf you override one, then you should override the other.\n\n\nhttp://parameshk.blogspot.in/2014/10/examples-of-comparable-comporator.html\n    ","url":"/questions/[slug]#solution23","@type":"Answer","upvoteCount":0},{"text":"String class and wrapper classes have different implementation of equals() and hashCode() methods than Object class. equals() method of Object class compares the references of the objects, not the contents. hashCode() method of Object class returns distinct hashcode for every single object whether the contents are same.\n\nIt leads problem when you use Map collection and the key is of Persistent type, StringBuffer/builder type. Since they don&apos;t override equals() and hashCode() unlike String class, equals() will return false when you compare two different objects even though both have same contents. It will make the hashMap storing same content keys. Storing same content keys means it is violating the rule of Map because Map doesnt allow duplicate keys at all.\nTherefore you override equals() as well as hashCode() methods in your class and provide the implementation(IDE can generate these methods) so that they work same as String&apos;s equals() and hashCode() and prevent same content keys. \n\nYou have to override hashCode() method along with equals() because equals() work according hashcode. \n\nMoreover overriding hashCode() method along with equals() helps to intact the equals()-hashCode() contract: &quot;If two objects are equal, then they must have the same hash code.&quot;\n\nWhen do you need to write custom implementation for hashCode()?\n\nAs we know that internal working of HashMap is on principle of Hashing. There are certain buckets where entrysets get stored. You customize the hashCode() implementation according your requirement so that same category objects can be stored into same index. \nwhen you store the values into Map collection using put(k,v)method, the internal implementation of put() is:\n\nput(k, v){\nhash(k);\nindex=hash &amp; (n-1);\n}\n\n\nMeans, it generates index and the index is generated based on the hashcode of particular key object. So make this method generate hashcode according your requirement because same hashcode entrysets will be stored into same bucket or index. \n\nThat&apos;s it!\n    ","url":"/questions/[slug]#solution24","@type":"Answer","upvoteCount":0},{"text":"IMHO, it&apos;s as per the rule says - If two objects are equal then they should have same hash, i.e., equal objects should produce equal hash values.\n\nGiven above, default equals() in Object is == which does comparison on the address, hashCode() returns the address in integer(hash on actual address) which is again distinct for distinct Object.\n\nIf you need to use the custom Objects in the Hash based collections, you need to override both equals() and hashCode(), example If I want to maintain the HashSet of the Employee Objects, if I don&apos;t use stronger hashCode and equals I may endup overriding the two different Employee Objects, this happen when I use the age as the hashCode(), however I should be using the unique value which can be the Employee ID.\n    ","url":"/questions/[slug]#solution25","@type":"Answer","upvoteCount":0},{"text":"To help you check for duplicate Objects, we need a custom equals and hashCode.\n\nSince hashcode always returns a number its always fast to retrieve an object using a number rather than an alphabetic key. How will it do? Assume we created a new object by passing some value which is already available in some other object. Now the new object will return the same hash value as of another object because the value passed is same. Once the same hash value is returned, JVM will go to the same memory address every time and if in case there are more than one objects present for the same hash value it will use equals() method to identify the correct object.\n    ","url":"/questions/[slug]#solution26","@type":"Answer","upvoteCount":0},{"text":"When you want to store and retrieve your custom object as a key in Map, then you should always override equals and hashCode in your custom Object .\nEg:\n\nPerson p1 = new Person(&quot;A&quot;,23);\nPerson p2 = new Person(&quot;A&quot;,23);\nHashMap map = new HashMap();\nmap.put(p1,&quot;value 1&quot;);\nmap.put(p2,&quot;value 2&quot;);\n\n\nHere p1 &amp; p2 will consider as only one object and map size will be only 1 because they are equal.\n    ","url":"/questions/[slug]#solution27","@type":"Answer","upvoteCount":0},{"text":"public class Employee {\n\n    private int empId;\n    private String empName;\n\n    public Employee(int empId, String empName) {\n        super();\n        this.empId = empId;\n        this.empName = empName;\n    }\n\n    public int getEmpId() {\n        return empId;\n    }\n\n    public void setEmpId(int empId) {\n        this.empId = empId;\n    }\n\n    public String getEmpName() {\n        return empName;\n    }\n\n    public void setEmpName(String empName) {\n        this.empName = empName;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Employee [empId=&quot; + empId + &quot;, empName=&quot; + empName + &quot;]&quot;;\n    }\n\n    @Override\n    public int hashCode() {\n        return empId + empName.hashCode();\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n\n        if (this == obj) {\n            return true;\n        }\n        if (!(this instanceof Employee)) {\n            return false;\n        }\n        Employee emp = (Employee) obj;\n        return this.getEmpId() == emp.getEmpId() &amp;&amp; this.getEmpName().equals(emp.getEmpName());\n    }\n\n}\n\n\nTest Class \n\npublic class Test {\n\n    public static void main(String[] args) {\n        Employee emp1 = new Employee(101,&quot;Manash&quot;);\n        Employee emp2 = new Employee(101,&quot;Manash&quot;);\n        Employee emp3 = new Employee(103,&quot;Ranjan&quot;);\n        System.out.println(emp1.hashCode());\n        System.out.println(emp2.hashCode());\n        System.out.println(emp1.equals(emp2));\n        System.out.println(emp1.equals(emp3));\n    }\n\n}\n\n\nIn Object Class equals(Object obj) is used to compare address comparesion thats why when in Test class if you compare two objects then equals method giving false but when we override hashcode() the it can compare content and give proper result.\n    ","url":"/questions/[slug]#solution28","@type":"Answer","upvoteCount":0},{"text":"Both the methods are defined in Object class. And both are in its simplest implementation. So when you need you want add some more implementation to these methods then you have override in  your class. \n\nFor Ex: equals() method in object only checks its equality on the reference. So if you need compare its state as well then you can override that as it is done in String class.\n    ","url":"/questions/[slug]#solution29","@type":"Answer","upvoteCount":0},{"text":"There&apos;s no mention in this answer of testing the equals/hashcode contract.\nI&apos;ve found the EqualsVerifier library to be very useful and comprehensive. It is also very easy to use.\nAlso, building equals() and hashCode() methods from scratch involves a lot of boilerplate code. The Apache Commons Lang library provides the EqualsBuilder and HashCodeBuilder classes. These classes greatly simplify implementing equals() and hashCode() methods for complex classes.\nAs an aside, it&apos;s worth considering overriding the toString() method to aid debugging. Apache Commons Lang library provides the ToStringBuilder class to help with this.\n    ","url":"/questions/[slug]#solution30","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="22"/><link rel="preload" href="/_next/static/css/c116652e2d6f4ad0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c116652e2d6f4ad0.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-260362324a06d105.js" defer=""></script><script src="/_next/static/chunks/294-106ef8570fa99deb.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-50e201fdaa1e0fd1.js" defer=""></script><script src="/_next/static/5tS3Jli5j89_wXapXajXn/_buildManifest.js" defer=""></script><script src="/_next/static/5tS3Jli5j89_wXapXajXn/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h1 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h1></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java-1657388359877#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java-1657388359877"><h1>Why do I need to override the equals and hashCode methods in Java?</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"></div></div><div class="question-content mt-5">
                
<p>Recently I read through this
<a href="http://www.ibm.com/developerworks/java/library/j-jtp05273.html" rel="noreferrer"> Developer Works Document</a>. </p>

<p>The document is all about defining <code>hashCode()</code> and <code>equals()</code> effectively and correctly, however I am not able to figure out why we need to override these two methods. </p>

<p>How can I take the decision to implement these methods efficiently?</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><h1 class="text-lg font-semibold mb-5">Navigate to solutions: </h1><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li><li class="pagination-solution-item"><span data-id="#solution15" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">15</span></li><li class="pagination-solution-item"><span data-id="#solution16" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">16</span></li><li class="pagination-solution-item"><span data-id="#solution17" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">17</span></li><li class="pagination-solution-item"><span data-id="#solution18" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">18</span></li><li class="pagination-solution-item"><span data-id="#solution19" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">19</span></li><li class="pagination-solution-item"><span data-id="#solution20" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">20</span></li><li class="pagination-solution-item"><span data-id="#solution21" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">21</span></li><li class="pagination-solution-item"><span data-id="#solution22" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">22</span></li><li class="pagination-solution-item"><span data-id="#solution23" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">23</span></li><li class="pagination-solution-item"><span data-id="#solution24" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">24</span></li><li class="pagination-solution-item"><span data-id="#solution25" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">25</span></li><li class="pagination-solution-item"><span data-id="#solution26" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">26</span></li><li class="pagination-solution-item"><span data-id="#solution27" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">27</span></li><li class="pagination-solution-item"><span data-id="#solution28" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">28</span></li><li class="pagination-solution-item"><span data-id="#solution29" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">29</span></li><li class="pagination-solution-item"><span data-id="#solution30" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">30</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 1</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Joshua Bloch says on Effective Java</p>
<blockquote>
<p>You must override hashCode() in every class that overrides equals(). Failure to do so will result in a violation of the general contract for Object.hashCode(), which will prevent your class from functioning properly in conjunction with all hash-based collections, including HashMap, HashSet, and Hashtable.</p>
</blockquote>
<p>Let's try to understand it with an example of what would happen if we override <code>equals()</code> without overriding <code>hashCode()</code> and attempt to use a <code>Map</code>.</p>
<p>Say we have a class like this and that two objects of <code>MyClass</code> are equal if their <code>importantField</code> is equal (with <code>hashCode()</code> and <code>equals()</code> generated by eclipse)</p>
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String importantField;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String anotherField;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyClass</span><span class="hljs-params">(<span class="hljs-keyword">final</span> String equalField, <span class="hljs-keyword">final</span> String anotherField)</span> {
        <span class="hljs-built_in">this</span>.importantField = equalField;
        <span class="hljs-built_in">this</span>.anotherField = anotherField;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">prime</span> <span class="hljs-operator">=</span> <span class="hljs-number">31</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
        result = prime * result
                + ((importantField == <span class="hljs-literal">null</span>) ? <span class="hljs-number">0</span> : importantField.hashCode());
        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Object obj)</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span> == obj)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (obj == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (getClass() != obj.getClass())
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">final</span> <span class="hljs-type">MyClass</span> <span class="hljs-variable">other</span> <span class="hljs-operator">=</span> (MyClass) obj;
        <span class="hljs-keyword">if</span> (importantField == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (other.importantField != <span class="hljs-literal">null</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!importantField.equals(other.importantField))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<hr>
<p>Imagine you have this</p>
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-type">MyClass</span> <span class="hljs-variable">first</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyClass</span>(<span class="hljs-string">"a"</span>,<span class="hljs-string">"first"</span>);
<span class="hljs-type">MyClass</span> <span class="hljs-variable">second</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyClass</span>(<span class="hljs-string">"a"</span>,<span class="hljs-string">"second"</span>);
</code></pre>
<p><strong>Override only <code>equals</code></strong></p>
<p>If only <code>equals</code> is overriden, then when you call <code>myMap.put(first,someValue)</code> first will hash to some bucket and when you call <code>myMap.put(second,someOtherValue)</code> it will hash to some other bucket (as they have a different <code>hashCode</code>). So, although they are equal, as they don't hash to the same bucket, the map can't realize it and both of them stay in the map.</p>
<hr>
<p>Although it is not necessary to override <code>equals()</code> if we override <code>hashCode()</code>, let's see what would happen in this particular case where we know that two objects of <code>MyClass</code> are equal if their <code>importantField</code> is equal but we do not override <code>equals()</code>.</p>
<p><strong>Override only <code>hashCode</code></strong></p>
<p>If you only override <code>hashCode</code> then when you call <code>myMap.put(first,someValue)</code> it takes first, calculates its <code>hashCode</code> and stores it in a given bucket. Then when you call <code>myMap.put(second,someOtherValue)</code> it should replace first with second  as per the <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Map.html#put%28java.lang.Object,%20java.lang.Object%29" rel="noreferrer">Map Documentation</a> because they are equal (according to the business requirement).</p>
<p>But the problem is that equals was not redefined, so when the map hashes <code>second</code> and iterates through the bucket looking if there is an object <code>k</code> such that <code>second.equals(k)</code> is true it won't find any as <code>second.equals(first)</code> will be <code>false</code>.</p>
<p>Hope it was clear</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 2</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Collections such as <code>HashMap</code> and <code>HashSet</code> use a <em>hashcode</em> value of an object to determine how it should be stored inside a collection, and the <em>hashcode</em> is used again in order to locate the object
in its collection.</p>

<p>Hashing retrieval is a two-step process:</p>

<ol>
<li>Find the right bucket (using <code>hashCode()</code>)</li>
<li>Search the bucket for the right element (using <code>equals()</code> )</li>
</ol>

<p>Here is a small example on why we should overrride <code>equals()</code> and <code>hashcode()</code>.</p>

<p>Consider an <code>Employee</code> class which has two fields: age and name.</p>

<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Employee</span> {

    String name;
    <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Employee</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object obj)</span> {
        <span class="hljs-keyword">if</span> (obj == <span class="hljs-built_in">this</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (!(obj <span class="hljs-keyword">instanceof</span> Employee))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-type">Employee</span> <span class="hljs-variable">employee</span> <span class="hljs-operator">=</span> (Employee) obj;
        <span class="hljs-keyword">return</span> employee.getAge() == <span class="hljs-built_in">this</span>.getAge()
                &amp;&amp; employee.getName() == <span class="hljs-built_in">this</span>.getName();
    }

    <span class="hljs-comment">// commented    </span>
    <span class="hljs-comment">/*  @Override
        public int hashCode() {
            int result=17;
            result=31*result+age;
            result=31*result+(name!=null ? name.hashCode():0);
            return result;
        }
     */</span>
}
</code></pre>

<p>Now create a class, insert <code>Employee</code> object into a <code>HashSet</code> and test whether that object is present or not.</p>

<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ClientTest</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Employee</span> <span class="hljs-variable">employee</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">"rajeev"</span>, <span class="hljs-number">24</span>);
        <span class="hljs-type">Employee</span> <span class="hljs-variable">employee1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">"rajeev"</span>, <span class="hljs-number">25</span>);
        <span class="hljs-type">Employee</span> <span class="hljs-variable">employee2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">"rajeev"</span>, <span class="hljs-number">24</span>);

        HashSet&lt;Employee&gt; employees = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;Employee&gt;();
        employees.add(employee);
        System.out.println(employees.contains(employee2));
        System.out.println(<span class="hljs-string">"employee.hashCode():  "</span> + employee.hashCode()
        + <span class="hljs-string">"  employee2.hashCode():"</span> + employee2.hashCode());
    }
}
</code></pre>

<p>It will print the following:</p>

<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-literal">false</span>
employee.hashCode():  <span class="hljs-number">321755204</span>  employee2.hashCode():<span class="hljs-number">375890482</span>
</code></pre>

<p>Now uncomment <code>hashcode()</code> method , execute the same and the output would be: </p>

<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-literal">true</span>
employee.hashCode():  -<span class="hljs-number">938387308</span>  employee2.hashCode():-<span class="hljs-number">938387308</span>
</code></pre>

<p>Now can you see why if two objects are considered equal, their <em>hashcode</em>s must
also be equal? Otherwise, you'd never be able to find the object since the default
<em>hashcode</em> method in class Object virtually always comes up with a unique number
for each object, even if the <code>equals()</code> method is overridden in such a way that two
or more objects are considered equal. It doesn't matter how equal the objects are if
their <em>hashcode</em>s don't reflect that. So one more time: If two objects are equal, their
<em>hashcode</em>s must be equal as well.</p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 3</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<blockquote>
<p>You must override hashCode() in every
class that overrides equals(). Failure
to do so will result in a violation of
the general contract for
Object.hashCode(), which will prevent
your class from functioning properly
in conjunction with all hash-based
collections, including HashMap,
HashSet, and Hashtable.</p>
<p><br> &nbsp; &nbsp;from <em>Effective Java</em>, by Joshua Bloch</p>
</blockquote>
<p>By defining <code>equals()</code> and <code>hashCode()</code> consistently, you can improve the usability of your classes as keys in hash-based collections. As the API doc for hashCode explains: "This method is supported for the benefit of hashtables such as those provided by <code>java.util.Hashtable</code>."</p>
<p>The best answer to your question about how to implement these methods efficiently is suggesting you to read Chapter 3 of <a href="https://rads.stackoverflow.com/amzn/click/com/0134685997" rel="nofollow noreferrer">Effective Java</a>.</p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 4</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>Identity is not equality.</strong></p>

<ul>
<li>equals operator <code>==</code> test identity.</li>
<li><code>equals(Object obj)</code> method compares equality test(i.e. we need to tell equality by overriding the method)</li>
</ul>

<blockquote>
  <p>Why do I need to override the equals and hashCode methods in Java?   </p>
</blockquote>

<p><strong>First we have to understand the use of equals method.</strong></p>

<p>In order to identity differences between two objects we need to override equals method.   </p>

<p><strong>For example:</strong></p>

<pre class="lang-java s-code-block"><code class="hljs language-java">Customer customer1=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Customer</span>(<span class="hljs-string">"peter"</span>);
Customer customer2=customer1;
customer1.equals(customer2); <span class="hljs-comment">// returns true by JVM. i.e. both are refering same Object</span>
------------------------------
Customer customer1=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Customer</span>(<span class="hljs-string">"peter"</span>);
Customer customer2=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Customer</span>(<span class="hljs-string">"peter"</span>);
customer1.equals(customer2); <span class="hljs-comment">//return false by JVM i.e. we have two different peter customers.</span>

------------------------------
Now I have overriden Customer <span class="hljs-keyword">class</span> <span class="hljs-title class_">equals</span> method as follows:
 <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object obj)</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span> == obj)   <span class="hljs-comment">// it checks references</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (obj == <span class="hljs-literal">null</span>) <span class="hljs-comment">// checks null</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (getClass() != obj.getClass()) <span class="hljs-comment">// both object are instances of same class or not</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-type">Customer</span> <span class="hljs-variable">other</span> <span class="hljs-operator">=</span> (Customer) obj;
        <span class="hljs-keyword">if</span> (name == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (other.name != <span class="hljs-literal">null</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!name.equals(other.name)) <span class="hljs-comment">// it again using bulit in String object equals to identify the difference </span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; 
    }
Customer customer1=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Customer</span>(<span class="hljs-string">"peter"</span>);
Customer customer2=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Customer</span>(<span class="hljs-string">"peter"</span>);
Insteady identify the Object equality by JVM, we can <span class="hljs-keyword">do</span> it by overring equals method.
customer1.equals(customer2);  <span class="hljs-comment">// returns true by our own logic</span>
</code></pre>

<p><strong>Now hashCode method can understand easily.</strong></p>

<p>hashCode produces integer in order to store object in data structures like <strong>HashMap</strong>, <strong>HashSet</strong>.</p>

<p>Assume we have override equals method of <code>Customer</code> as above, </p>

<pre class="lang-java s-code-block"><code class="hljs language-java">customer1.equals(customer2);  <span class="hljs-comment">// returns true by our own logic</span>
</code></pre>

<p>While working with data structure when we store object in buckets(bucket is a fancy name for folder). If we use built-in hash technique, for above two customers it generates two different hashcode. So we are storing the same identical object in two different places. To avoid this kind of issues we should override the hashCode method also based on the following principles.  </p>

<ul>
<li>un-equal instances may have same hashcode.</li>
<li>equal instances should return same hashcode.</li>
</ul>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 5</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>Why we override <code>equals()</code> method</strong></p>
<p>In Java we can not overload how operators like ==, +=, -+ behave. They are behaving a certain way. So let's focus on the operator == for our case here.</p>
<p>How operator == works.</p>
<p>It checks if 2 references that we compare point to the same instance in memory. Operator <code>==</code> will resolve to true only if those 2 references represent the same instance in memory.</p>
<p>So now let's consider the following example</p>
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {

      <span class="hljs-keyword">private</span> Integer age;
      <span class="hljs-keyword">private</span> String name;
    
      ..getters, setters, constructors
      }
</code></pre>
<p>So let's say that in your program you have built 2 Person objects on different places and you wish to compare them.</p>
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Mike"</span>, <span class="hljs-number">34</span>);
<span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Mike"</span>, <span class="hljs-number">34</span>);
System.out.println ( person1 == person2 );  --&gt; will print <span class="hljs-literal">false</span>!
</code></pre>
<p>Those 2 objects from business perspective look the same right? For JVM they are not the same. Since they are both created with <code>new</code> keyword those instances are located in different segments in memory. Therefore the operator == will return <strong>false</strong></p>
<p>But if we can not override the == operator how can we say to JVM that we want those 2 objects to be treated as same. There comes the <code>.equals()</code> method in play.</p>
<p>You can override <code>equals()</code> to check if some objects have same values for specific fields to be considered equal.</p>
<p>You can select which fields you want to be compared. If we say that 2 Person objects will be the same if and only if they have the same age and same name, then the IDE will create something like the following for automatic generation of equals()</p>
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object o)</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span> == o) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (o == <span class="hljs-literal">null</span> || getClass() != o.getClass()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> (Person) o;
        <span class="hljs-type">return</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span>= person.age &amp;&amp;
                name.equals(person.name);
    }
</code></pre>
<p>Let's go back to our previous example</p>
<pre class="lang-java s-code-block"><code class="hljs language-java">    <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Mike"</span>, <span class="hljs-number">34</span>);
    <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Mike"</span>, <span class="hljs-number">34</span>);
    System.out.println ( person1 == person2 );   --&gt; will print <span class="hljs-literal">false</span>!
    System.out.println ( person1.equals(person2) );  --&gt; will print <span class="hljs-literal">true</span>!
</code></pre>
<p>So we can not overload == operator to compare objects the way we want but Java gave us another way, the <code>equals()</code> method, which we can override as we want.</p>
<p><strong>Keep in mind</strong> however, if we don't provide our custom version of <code>.equals()</code> (aka override) in our class then the predefined <code>.equals()</code> from Object class and <code>==</code> operator will behave exactly the same.</p>
<p>Default <code>equals()</code> method which is inherited from Object will check whether both compared instances are the same in memory!</p>
<p><strong>Why we override <code>hashCode()</code> method</strong></p>
<p>Some Data Structures in java like HashSet, HashMap store their elements based on a hash function which is applied on those elements. The hashing function is the <code>hashCode()</code></p>
<p>If we have a choice of overriding <code>.equals()</code> method then we must also have a choice of overriding <code>hashCode()</code> method. There is a reason for that.</p>
<p>Default implementation of <code>hashCode()</code> which is inherited from Object considers all objects in memory unique!</p>
<p>Let's get back to those hash data structures. There is a rule for those data structures.</p>
<p>HashSet can not contain duplicate values and HashMap can not contain duplicate keys</p>
<p><em>HashSet is implemented with a HashMap behind the scenes where each value of a HashSet is stored as a key in a HashMap.</em></p>
<p>So we have to understand how a HashMap works.</p>
<p>In a simple way a HashMap is a native array that has some buckets. Each bucket has a linkedList. In that linkedList our keys are stored. HashMap locates the correct linkedList for each key by applying <code>hashCode()</code> method and after that it iterates through all elements of that linkedList and applies <code>equals()</code> method on each of these elements to check if that element is already contained there. No duplicate keys are allowed.</p>
<p><a href="https://i.stack.imgur.com/aMwel.png" rel="noreferrer"><img src="https://i.stack.imgur.com/aMwel.png" alt="enter image description here"></a></p>
<p>When we put something inside a HashMap, the key is stored in one of those linkedLists. In which linkedList that key will be stored is shown by the result of <code>hashCode()</code> method on that key. So if <code>key1.hashCode()</code> has as a result 4, then that key1 will be stored on the 4th bucket of the array, in the linkedList that exists there.</p>
<p>By default <code>hashCode()</code> method returns a different result for each different instance. If we have the default <code>equals()</code> which behaves like == which considers all instances in memory as different objects we don't have any problem.</p>
<p>But in our previous example we said we want Person instances to be considered equal if their ages and names match.</p>
<pre class="lang-java s-code-block"><code class="hljs language-java">    <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Mike"</span>, <span class="hljs-number">34</span>);
    <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Mike"</span>, <span class="hljs-number">34</span>);
    System.out.println ( person1.equals(person2) );  --&gt; will print <span class="hljs-literal">true</span>!
</code></pre>
<p>Now let's create a map to store those instances as keys with some string as pair value</p>
<pre class="lang-java s-code-block"><code class="hljs language-java">Map&lt;Person, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>();
map.put(person1, <span class="hljs-string">"1"</span>);
map.put(person2, <span class="hljs-string">"2"</span>);
</code></pre>
<p>In Person class we have not overridden the <code>hashCode</code> method but we have overridden <code>equals</code> method. Since the default <code>hashCode</code> provides different results for different java instances <code>person1.hashCode()</code> and <code>person2.hashCode()</code> have big chances of having different results.</p>
<p>Our map might end with those persons in different linkedLists.</p>
<p><a href="https://i.stack.imgur.com/TOSNY.png" rel="noreferrer"><img src="https://i.stack.imgur.com/TOSNY.png" alt="enter image description here"></a></p>
<p>This is against the logic of a HashMap</p>
<p><strong>A HashMap is not allowed to have multiple equal keys!</strong></p>
<p>But ours now has and the reason is that the default <code>hashCode()</code> which was inherited from Object Class was not enough. Not after we have overridden the <code>equals()</code> method on Person Class.</p>
<p>That is the reason why we must override <code>hashCode()</code> method after we have overridden <code>equals</code> method.</p>
<p>Now let's fix that. Let's override our <code>hashCode()</code> method to consider the same fields that <code>equals()</code> considers, namely <code>age, name</code></p>
<pre class="lang-java s-code-block"><code class="hljs language-java"> <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {

      <span class="hljs-keyword">private</span> Integer age;
      <span class="hljs-keyword">private</span> String name;
    
      ..getters, setters, constructors

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object o)</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span> == o) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (o == <span class="hljs-literal">null</span> || getClass() != o.getClass()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> (Person) o;
        <span class="hljs-type">return</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span>= person.age &amp;&amp;
                name.equals(person.name);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> Objects.hash(name, age);
    }

      }
</code></pre>
<p>Now let's try again to save those keys in our HashMap</p>
<pre class="lang-java s-code-block"><code class="hljs language-java">Map&lt;Person, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>();
map.put(person1, <span class="hljs-string">"1"</span>);
map.put(person2, <span class="hljs-string">"2"</span>);
</code></pre>
<p><code>person1.hashCode()</code> and <code>person2.hashCode()</code> will definitely be the same. Let's say it is 0.</p>
<p>HashMap will go to bucket 0 and in that LinkedList will save the person1 as key with the value "1". For the second put HashMap is intelligent enough and when it goes again to bucket 0 to save person2 key with value "2" it will see that another equal key already exists there. So it will overwrite the previous key. So in the end only person2 key will exist in our HashMap.</p>
<p><a href="https://i.stack.imgur.com/i7hek.png" rel="noreferrer"><img src="https://i.stack.imgur.com/i7hek.png" alt="enter image description here"></a></p>
<p>Now we are aligned with the rule of Hash Map that says no multiple equal keys are allowed!</p>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 6</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Simply put, the equals-method in Object check for reference equality, where as two instances of your class could still be semantically equal when the properties are equal. This is for instance important when putting your objects into a container that utilizes equals and hashcode, like <a href="http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html" rel="noreferrer" title="HashMap.java">HashMap</a> and <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html" rel="noreferrer" title="Set.java">Set</a>. Let's say we have a class like:</p>

<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span> {
    String id;
    String whatevs;

    Foo(String id, String whatevs) {
        <span class="hljs-built_in">this</span>.id = id;
        <span class="hljs-built_in">this</span>.whatevs = whatevs;
    }
}
</code></pre>

<p>We create two instances with the same <strong>id</strong>:</p>

<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-type">Foo</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>(<span class="hljs-string">"id"</span>, <span class="hljs-string">"something"</span>);
<span class="hljs-type">Foo</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>(<span class="hljs-string">"id"</span>, <span class="hljs-string">"something else"</span>);
</code></pre>

<p>Without overriding equals we are getting:</p>

<ul>
<li>a.equals(b) is false because they are two different instances</li>
<li>a.equals(a) is true since it's the same instance</li>
<li>b.equals(b) is true since it's the same instance</li>
</ul>

<p>Correct? Well maybe, if this is what you want. But let's say we want objects with the same id to be the same object, regardless if it's two different instances. We override the equals (and hashcode):</p>

<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span> {
    String id;
    String whatevs;

    Foo(String id, String whatevs) {
        <span class="hljs-built_in">this</span>.id = id;
        <span class="hljs-built_in">this</span>.whatevs = whatevs;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object other)</span> {
        <span class="hljs-keyword">if</span> (other <span class="hljs-keyword">instanceof</span> Foo) {
            <span class="hljs-keyword">return</span> ((Foo)other).id.equals(<span class="hljs-built_in">this</span>.id);   
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.id.hashCode();
    }
}
</code></pre>

<p>As for implementing equals and hashcode I can recommend using <a href="http://code.google.com/p/guava-libraries/wiki/CommonObjectUtilitiesExplained" rel="noreferrer">Guava's helper methods</a></p>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 7</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Let me explain the concept in very simple words.</p>
<p>Firstly from a broader perspective we have collections, and hashmap is one of the datastructure in the collections.</p>
<p>To understand why we have to override the both equals and hashcode method, if need to first understand what is hashmap and what is does.</p>
<p>A hashmap is a datastructure which stores key value pairs of data in array fashion. Lets say a[], where each element in 'a' is a key value pair.</p>
<p>Also each index in the above array can be linked list thereby having more than one values at one index.</p>
<p>Now why is a hashmap used?</p>
<p>If we have to search among  a large array then searching through each if them will not be efficient, so what hash technique tells us that lets pre process the array with some logic and group the elements based on that logic i.e. Hashing</p>
<p>EG: we have array 1,2,3,4,5,6,7,8,9,10,11 and we apply a hash function mod 10 so 1,11 will be grouped in together. So if we had to search for 11 in previous array then we would have to iterate the complete array but when we group it we limit our scope of iteration thereby improving speed. That datastructure used to store all the above information can be thought of as a 2d array for simplicity</p>
<p>Now apart from the above hashmap also tells that it wont add any Duplicates in it. And this is the main reason why we have to override the equals and hashcode</p>
<p>So when its said that explain the internal working of hashmap , we need to find what methods the hashmap has and how does it follow the above rules which i explained above</p>
<p>so the hashmap has method called as put(K,V) , and according to hashmap it should follow the above rules of efficiently distributing the array and not adding any duplicates</p>
<p>so what put does is that it will first generate the hashcode for the given key to decide which index the value should go in.if nothing is present at that index then the new value will be added over there, if something is already present over there then the new value should be added after the end of the linked list at that index. but remember no duplicates should be added as per the desired behavior of the hashmap. so lets say you have two Integer objects aa=11,bb=11.</p>
<p>As every object derived from the object class, the default implementation for comparing two objects is that it compares the reference and not values inside the object. So in the above case both though semantically equal will fail the equality test, and possibility that two objects which same hashcode and same values will exists thereby creating duplicates. If we override then we could avoid adding duplicates.
You could also refer to <a href="http://howtodoinjava.com/2012/10/09/how-hashmap-works-in-java/" rel="nofollow noreferrer">Detail working</a></p>
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">import</span> java.util.HashMap;


<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Employee</span> {
    String name;
    String mobile;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Employee</span><span class="hljs-params">(String name,String mobile)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.mobile = mobile;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"calling hascode method of Employee"</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.name;
        <span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; str.length(); i++) {
            sum = sum + str.charAt(i);
        }
        <span class="hljs-keyword">return</span> sum;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object obj)</span> {
        <span class="hljs-comment">// TODO Auto-generated method stub</span>
        System.out.println(<span class="hljs-string">"calling equals method of Employee"</span>);
        <span class="hljs-type">Employee</span> <span class="hljs-variable">emp</span> <span class="hljs-operator">=</span> (Employee) obj;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.mobile.equalsIgnoreCase(emp.mobile)) {
            System.out.println(<span class="hljs-string">"returning true"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">else</span> {
            System.out.println(<span class="hljs-string">"returning false"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// TODO Auto-generated method stub</span>

        <span class="hljs-type">Employee</span> <span class="hljs-variable">emp</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">"abc"</span>, <span class="hljs-string">"hhh"</span>);
        <span class="hljs-type">Employee</span> <span class="hljs-variable">emp2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-string">"abc"</span>, <span class="hljs-string">"hhh"</span>);
        HashMap&lt;Employee, Employee&gt; h = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        <span class="hljs-comment">//for (int i = 0; i &lt; 5; i++) {</span>
            h.put(emp, emp);
            h.put(emp2, emp2);
        <span class="hljs-comment">//}</span>
        
        System.out.println(<span class="hljs-string">"----------------"</span>);
        System.out.println(<span class="hljs-string">"size of hashmap: "</span>+h.size());
    }
}
</code></pre>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 8</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><code>hashCode()</code> :</p>
<p>If you only override the hash-code method nothing happens, because it always returns a new <code>hashCode</code> for each object as an Object class.</p>
<p><code>equals()</code> :</p>
<p>If you only override the equals method, if <code>a.equals(b)</code> is true it means the <code>hashCode</code> of a and b must be the same but that does not happen since you did not override the <code>hashCode</code> method.</p>
<p>Note :  <code>hashCode()</code> method of Object class always returns a new <code>hashCode</code> for each object.</p>
<p>So when you need to use your object in the hashing based collection, you must override both <code>equals()</code> and <code>hashCode()</code>.</p>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 9</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Java puts a rule that </p>

<blockquote>
  <p>"If two objects are equal using Object class equals method, then the hashcode method should give the same value for these two objects."</p>
</blockquote>

<p>So, if in our class we override <code>equals()</code> we should override <code>hashcode()</code> method also to follow this rule.
Both methods, <code>equals()</code> and <code>hashcode()</code>, are used in <code>Hashtable</code>, for example, to store values as key-value pairs. If we override one and not the other, there is a possibility that the <code>Hashtable</code> may not work as we want, if we use such object as a key.</p>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 10</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Because if you do not override them you will be use the default implentation in Object.</p>

<p>Given that instance equality and hascode values generally require knowledge of what makes up an object they generally will need to be redefined in your class to have any tangible meaning.</p>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 11</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In order to use our own class objects as keys in collections like HashMap, Hashtable etc.. , we should override both methods ( hashCode() and equals() ) by having an awareness on internal working of collection. Otherwise, it leads to wrong results which we are not expected.</p>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 12</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Adding to @Lombo 's answer</p>

<p><strong><em>When will you need to override equals() ?</em></strong></p>

<p>The default implementation of Object's equals() is</p>

<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object obj)</span> {
        <span class="hljs-keyword">return</span> (<span class="hljs-built_in">this</span> == obj);
}
</code></pre>

<p>which means two objects will be considered equal only if they have the same memory address which will be true only if you are
comparing an object with itself.</p>

<p>But you might want to consider two objects the same if they have the same value for one
or more of their properties (Refer the example given in @Lombo 's answer). </p>

<p>So you will override <code>equals()</code> in these situations and you would give your own conditions for equality.</p>

<p><strong><em>I have successfully implemented equals() and it is working great.So why are they asking to override hashCode() as well?</em></strong></p>

<p>Well.As long as you don't use <em>"Hash" based Collections</em> on your user-defined class,it is fine.
But some time in the future you might want to use <code>HashMap</code> or <code>HashSet</code> and if you don't <code>override</code> and <em>"correctly implement" hashCode()</em>, these Hash based collection won't work as intended.</p>

<p><strong><em>Override only equals (Addition to @Lombo 's answer)</em></strong></p>

<pre class="lang-java s-code-block"><code class="hljs language-java">myMap.put(first,someValue)
myMap.contains(second); --&gt; But it should be the same since the key are the same.But returns <span class="hljs-literal">false</span>!!! How?
</code></pre>

<p>First of all,HashMap checks if the hashCode of <code>second</code> is the same as <code>first</code>.
Only if the values are the same,it will proceed to check the equality in the same bucket.</p>

<p>But here the hashCode is different for these 2 objects (because they have different memory address-from default implementation).
Hence it will not even care to check for equality.</p>

<p>If you have a breakpoint inside your overridden equals() method,it wouldn't step in if they have different hashCodes.
<code>contains()</code> checks <code>hashCode()</code> and only if they are the same it would call your <code>equals()</code> method.</p>

<p><strong><em>Why can't we make the HashMap check for equality in all the buckets? So there is no necessity for me to override hashCode() !!</em></strong></p>

<p>Then you are missing the point of Hash based Collections.
Consider the following :</p>

<pre class="lang-java s-code-block"><code class="hljs language-java">Your <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span> implementation : intObject%<span class="hljs-number">9.</span>
</code></pre>

<p>The following are the keys stored in the form of buckets.</p>

<pre class="lang-java s-code-block"><code class="hljs language-java">Bucket <span class="hljs-number">1</span> : <span class="hljs-number">1</span>,<span class="hljs-number">10</span>,<span class="hljs-number">19</span>,... (in thousands)
Bucket <span class="hljs-number">2</span> : <span class="hljs-number">2</span>,<span class="hljs-number">20</span>,<span class="hljs-number">29.</span>..
Bucket <span class="hljs-number">3</span> : <span class="hljs-number">3</span>,<span class="hljs-number">21</span>,<span class="hljs-number">30</span>,...
...
</code></pre>

<p>Say,you want to know if the map contains the key 10.
Would you want to search all the buckets? or Would you want to search only one bucket?</p>

<p>Based on the hashCode,you would identify that if 10 is present,it must be present in Bucket 1.
So only Bucket 1 will be searched !!</p>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 13</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> {
    <span class="hljs-type">int</span> i;
    <span class="hljs-comment">// Hashing Algorithm</span>
    <span class="hljs-keyword">if</span> even number <span class="hljs-keyword">return</span> <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
    <span class="hljs-comment">// Equals Algorithm,</span>
    <span class="hljs-type">if</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.i <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span> <span class="hljs-keyword">else</span> <span class="hljs-literal">false</span>
}
</code></pre>

<ul>
<li>put('key','value') will calculate the hash value using <code>hashCode()</code> to determine the
bucket and uses <code>equals()</code> method to find whether the value is already
present in the Bucket. If not it will added else it will be replaced with current value</li>
<li>get('key') will use <code>hashCode()</code> to find the Entry (bucket) first and
<code>equals()</code> to find the value in Entry</li>
</ul>

<p>if Both are overridden,</p>

<p>Map&lt;<strong>A</strong>&gt; </p>

<pre class="lang-java s-code-block"><code class="hljs language-java">Map.Entry <span class="hljs-number">1</span> --&gt; <span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,...
Map.Entry <span class="hljs-number">2</span> --&gt; <span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">6</span>,...
</code></pre>

<p>if equals is not overridden</p>

<p>Map&lt;<strong>A</strong>&gt; </p>

<pre class="lang-java s-code-block"><code class="hljs language-java">Map.Entry <span class="hljs-number">1</span> --&gt; <span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,...,<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,... <span class="hljs-comment">// Duplicate values as equals not overridden</span>
Map.Entry <span class="hljs-number">2</span> --&gt; <span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">6</span>,...,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,..
</code></pre>

<p>If hashCode is not overridden</p>

<p>Map&lt;<strong>A</strong>&gt; </p>

<pre class="lang-java s-code-block"><code class="hljs language-java">Map.Entry <span class="hljs-number">1</span> --&gt; <span class="hljs-number">1</span>
Map.Entry <span class="hljs-number">2</span> --&gt; <span class="hljs-number">2</span>
Map.Entry <span class="hljs-number">3</span> --&gt; <span class="hljs-number">3</span>
Map.Entry <span class="hljs-number">4</span> --&gt; <span class="hljs-number">1</span>
Map.Entry <span class="hljs-number">5</span> --&gt; <span class="hljs-number">2</span>
Map.Entry <span class="hljs-number">6</span> --&gt; <span class="hljs-number">3</span> <span class="hljs-comment">// Same values are Stored in different hasCodes violates Contract 1</span>
So on...
</code></pre>

<p>HashCode Equal Contract</p>

<ol>
<li>Two keys equal according to equal method should generate same hashCode</li>
<li>Two Keys generating same hashCode need not be equal (In above example all even numbers generate same hash Code)</li>
</ol>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 14</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>1) <strong>The common mistake is shown in the example below.</strong></p>

<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span> {

    <span class="hljs-keyword">private</span> String color;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Car</span><span class="hljs-params">(String color)</span> {
        <span class="hljs-built_in">this</span>.color = color;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object obj)</span> {
        <span class="hljs-keyword">if</span>(obj==<span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (!(obj <span class="hljs-keyword">instanceof</span> Car))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;   
        <span class="hljs-keyword">if</span> (obj == <span class="hljs-built_in">this</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.color.equals(((Car) obj).color);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Car</span> <span class="hljs-variable">a1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>(<span class="hljs-string">"green"</span>);
        <span class="hljs-type">Car</span> <span class="hljs-variable">a2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>(<span class="hljs-string">"red"</span>);

        <span class="hljs-comment">//hashMap stores Car type and its quantity</span>
        HashMap&lt;Car, Integer&gt; m = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;Car, Integer&gt;();
        m.put(a1, <span class="hljs-number">10</span>);
        m.put(a2, <span class="hljs-number">20</span>);
        System.out.println(m.get(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>(<span class="hljs-string">"green"</span>)));
    }
}
</code></pre>

<p>the green Car is not found</p>

<p><strong>2. Problem caused by hashCode()</strong></p>

<p>The problem is caused by the un-overridden method <code>hashCode()</code>. The contract between <code>equals()</code> and <code>hashCode()</code> is:</p>

<ol>
<li>If two objects are equal, then they must have the same hash code.</li>
<li><p>If two objects have the same hash code, they may or may not be equal.</p>

<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span>{  
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.color.hashCode(); 
}
</code></pre></li>
</ol>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 15</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>It is useful when using <a href="http://wiki.c2.com/?ValueObject" rel="nofollow noreferrer"><strong>Value Objects</strong></a>. The following is an excerpt from the <a href="http://wiki.c2.com/?PortlandPatternRepository" rel="nofollow noreferrer">Portland Pattern Repository</a>:</p>

<blockquote>
  <p>Examples of value objects are things
  like numbers, dates, monies and
  strings. Usually, they are small
  objects which are used quite widely.
  Their identity is based on their state
  rather than on their object identity.
  This way, you can have multiple copies
  of the same conceptual value object.</p>
  
  <p>So I can have multiple copies of an
  object that represents the date 16 Jan
  1998. Any of these copies will be equal to each other. For a small
  object such as this, it is often
  easier to create new ones and move
  them around rather than rely on a
  single object to represent the date.</p>
  
  <p>A value object should always override
  .equals() in Java (or = in Smalltalk).
  (Remember to override .hashCode() as
  well.)</p>
</blockquote>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 16</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Assume you have class (A) that aggregates two other (B) (C), and you need to store instances of (A) inside hashtable. Default implementation only allows distinguishing of instances, but not by (B) and (C). So two instances of A could be equal, but default wouldn't allow you to compare them in correct way.  </p>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 17</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Consider collection of balls in a bucket all in black color. Your Job is to color those balls as follows and use it for appropriate game,</p>

<p>For Tennis - Yellow, Red.
For Cricket - White</p>

<p>Now bucket has balls in three colors Yellow, Red and White. And that now <strong>you did the coloring Only you know which color is for which game.</strong></p>

<p>Coloring the balls - Hashing.
Choosing the ball for game - Equals.</p>

<p>If you did the coloring and some one chooses the ball for either cricket or tennis they wont mind the color!!!</p>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 18</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I was looking into the explanation " If you only override hashCode then when you call <code>myMap.put(first,someValue)</code> it takes first, calculates its hashCode and stores it in a given bucket. Then when you call <code>myMap.put(first,someOtherValue)</code> it should replace first with second as per the Map Documentation because they are equal (according to our definition)." :</p>

<p>I think 2nd time when we are adding in <code>myMap</code> then it should be the 'second' object like <code>myMap.put(second,someOtherValue)</code></p>
    </div></div></div></div><div id="solution19" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 19</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The methods equals and hashcode are defined in the object class. By default if the equals method returns true, then the system will go further and check the value of the hash code. If the hash code of the 2 objects is also same only then the objects will be considered as same. So if you override only equals method, then even though the overridden equals method indicates 2 objects to be equal , the system defined hashcode may not indicate that the 2 objects are equal. So we need to override hash code as well.</p>
    </div></div></div></div><div id="solution20" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 20</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>Equals and Hashcode methods in Java</strong></p>

<p>They are methods of java.lang.Object class which is the super class of all the classes (custom classes as well and others defined in java API).</p>

<p><strong>Implementation:</strong></p>

<blockquote>
  <p>public boolean equals(Object obj)</p>
  
  <p>public int hashCode()</p>
</blockquote>

<p><a href="https://i.stack.imgur.com/0aaFt.jpg" rel="noreferrer"><img src="https://i.stack.imgur.com/0aaFt.jpg" alt="enter image description here"></a></p>

<p><strong>public boolean equals(Object obj)</strong></p>

<p>This method simply checks if two object references x and y refer to the same object. i.e. It checks if x == y.</p>

<p><em>It is reflexive:</em> for any reference value x, x.equals(x) should return true.</p>

<p><em>It is symmetric:</em> for any reference values x and y, x.equals(y) should return true if and only if y.equals(x) returns true.</p>

<p><em>It is transitive:</em> for any reference values x, y, and z, if x.equals(y) returns true and y.equals(z) returns true, then x.equals(z) should return true.</p>

<p><em>It is consistent:</em> for any reference values x and y, multiple invocations of x.equals(y) consistently return true or consistently return false, provided no information used in equals comparisons on the object is modified.</p>

<blockquote>
  <p>For any non-null reference value x, x.equals(null) should return
  false.</p>
</blockquote>

<p><strong>public int hashCode()</strong></p>

<p>This method returns the hash code value for the object on which this method is invoked. This method returns the hash code value as an integer and is supported for the benefit of hashing based collection classes such as Hashtable, HashMap, HashSet etc. This method must be overridden in every class that overrides the equals method.</p>

<p><strong>The general contract of hashCode is:</strong></p>

<p>Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. </p>

<p>This integer need not remain consistent from one execution of an application to another execution of the same application.</p>

<p>If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.</p>

<p>It is not required that if two objects are unequal according to the equals(java.lang.Object) method, then calling the hashCode method on each of the two objects must produce distinct integer results. However, the programmer should be aware that producing distinct integer results for unequal objects may improve the performance of hashtables.</p>

<blockquote>
  <p>Equal objects must produce the same hash code as long as they are
  equal, however unequal objects need not produce distinct hash codes.</p>
</blockquote>

<p>Resources: </p>

<p><a href="http://www.javaranch.com/journal/2002/10/equalhash.html" rel="noreferrer">JavaRanch</a></p>

<p><a href="https://www.google.co.in/imgres?imgurl=https%3A%2F%2Fi.ytimg.com%2Fvi%2FfAlRR2p9Le0%2Fmaxresdefault.jpg&amp;imgrefurl=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DfAlRR2p9Le0&amp;docid=tHx46In-72mrAM&amp;tbnid=VTZXQ9fiF-XDcM%3A&amp;w=1280&amp;h=720&amp;bih=678&amp;biw=1319&amp;ved=0ahUKEwiQj-fBuePOAhXHq48KHY8VBt4QMwgmKAgwCA&amp;iact=mrc&amp;uact=8" rel="noreferrer">Picture</a></p>
    </div></div></div></div><div id="solution21" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 21</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you override <code>equals()</code> and not <code>hashcode()</code>, you will not find any problem unless you or someone else uses that class type in a hashed collection like <code>HashSet</code>.
People before me have clearly explained the documented theory multiple times, I am just here to provide a very simple example.</p>

<p>Consider a class whose <code>equals()</code> need to mean something customized :-</p>

<pre class="lang-java s-code-block"><code class="hljs language-java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Rishav</span> {

        <span class="hljs-keyword">private</span> String rshv;

        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Rishav</span><span class="hljs-params">(String rshv)</span> {
            <span class="hljs-built_in">this</span>.rshv = rshv;
        }

        <span class="hljs-comment">/**
        * <span class="hljs-doctag">@return</span> the rshv
        */</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getRshv</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> rshv;
        }

        <span class="hljs-comment">/**
        * <span class="hljs-doctag">@param</span> rshv the rshv to set
        */</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setRshv</span><span class="hljs-params">(String rshv)</span> {
            <span class="hljs-built_in">this</span>.rshv = rshv;
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object obj)</span> {
            <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">instanceof</span> Rishav) {
                obj = (Rishav) obj;
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.rshv.equals(((Rishav) obj).getRshv())) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> rshv.hashCode();
        }

    }
</code></pre>

<p>Now consider this main class :-</p>

<pre class="lang-java s-code-block"><code class="hljs language-java">    <span class="hljs-keyword">import</span> java.util.HashSet;
    <span class="hljs-keyword">import</span> java.util.Set;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestRishav</span> {

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
            <span class="hljs-type">Rishav</span> <span class="hljs-variable">rA</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Rishav</span>(<span class="hljs-string">"rishav"</span>);
            <span class="hljs-type">Rishav</span> <span class="hljs-variable">rB</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Rishav</span>(<span class="hljs-string">"rishav"</span>);
            System.out.println(rA.equals(rB));
            System.out.println(<span class="hljs-string">"-----------------------------------"</span>);

            Set&lt;Rishav&gt; hashed = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();
            hashed.add(rA);
            System.out.println(hashed.contains(rB));
            System.out.println(<span class="hljs-string">"-----------------------------------"</span>);

            hashed.add(rB);
            System.out.println(hashed.size());
        }

    }
</code></pre>

<p>This will yield the following output :-</p>

<pre class="lang-java s-code-block"><code class="hljs language-java">    <span class="hljs-literal">true</span>
    -----------------------------------
    <span class="hljs-literal">true</span>
    -----------------------------------
    <span class="hljs-number">1</span>
</code></pre>

<p>I am happy with the results. But if I have not overridden <code>hashCode()</code>, it will cause nightmare as objects of <code>Rishav</code> with same member content will no longer be treated as unique as the <code>hashCode</code> will be different, as generated by default behavior, here's the would be output :-</p>

<pre class="lang-java s-code-block"><code class="hljs language-java">    <span class="hljs-literal">true</span>
    -----------------------------------
    <span class="hljs-literal">false</span>
    -----------------------------------
    <span class="hljs-number">2</span>
</code></pre>
    </div></div></div></div><div id="solution22" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 22</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In the example below, if you comment out the override for equals or hashcode in the Person class, this code will fail to look up Tom's order. Using the default implementation of hashcode can cause failures in hashtable lookups.</p>

<p>What I have below is a simplified code that pulls up people's order by Person. Person is being used as a key in the hashtable.</p>

<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
    String name;
    <span class="hljs-type">int</span> age;
    String socialSecurityNumber;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age, String socialSecurityNumber)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
        <span class="hljs-built_in">this</span>.socialSecurityNumber = socialSecurityNumber;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object p)</span> {
        <span class="hljs-comment">//Person is same if social security number is same</span>

        <span class="hljs-keyword">if</span> ((p <span class="hljs-keyword">instanceof</span> Person) &amp;&amp; <span class="hljs-built_in">this</span>.socialSecurityNumber.equals(((Person) p).socialSecurityNumber)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span> {        <span class="hljs-comment">//I am using a hashing function in String.java instead of writing my own.</span>
        <span class="hljs-keyword">return</span> socialSecurityNumber.hashCode();
    }
}


<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Order</span> {
    String[]  items;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertOrder</span><span class="hljs-params">(String[]  items)</span>
    {
        <span class="hljs-built_in">this</span>.items=items;
    }

}



<span class="hljs-keyword">import</span> java.util.Hashtable;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {

       Person p1=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Tom"</span>,<span class="hljs-number">32</span>,<span class="hljs-string">"548-56-4412"</span>);
        Person p2=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Jerry"</span>,<span class="hljs-number">60</span>,<span class="hljs-string">"456-74-4125"</span>);
        Person p3=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Sherry"</span>,<span class="hljs-number">38</span>,<span class="hljs-string">"418-55-1235"</span>);

        Order order1=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>();
        order1.insertOrder(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]{<span class="hljs-string">"mouse"</span>,<span class="hljs-string">"car charger"</span>});

        Order order2=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>();
        order2.insertOrder(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]{<span class="hljs-string">"Multi vitamin"</span>});

        Order order3=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>();
        order3.insertOrder(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]{<span class="hljs-string">"handbag"</span>, <span class="hljs-string">"iPod"</span>});

        Hashtable&lt;Person,Order&gt; hashtable=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Hashtable</span>&lt;Person,Order&gt;();
        hashtable.put(p1,order1);
        hashtable.put(p2,order2);
        hashtable.put(p3,order3);

       <span class="hljs-comment">//The line below will fail if Person class does not override hashCode()</span>
       Order tomOrder= hashtable.get(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Tom"</span>, <span class="hljs-number">32</span>, <span class="hljs-string">"548-56-4412"</span>));
        <span class="hljs-keyword">for</span>(String item:tomOrder.items)
        {
            System.out.println(item);
        }
    }
}
</code></pre>
    </div></div></div></div><div id="solution23" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 23</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><code>hashCode()</code> method is used to get a unique integer for given object. This integer is used for determining the bucket location, when this object needs to be stored in some <code>HashTable</code>, <code>HashMap</code> like data structure. By default, Objects <code>hashCode()</code> method returns and integer representation of memory address where object is stored.</p>

<p>The <code>hashCode()</code> method of objects is used when we insert them into a <code>HashTable</code>, <code>HashMap</code> or <code>HashSet</code>. More about <code>HashTables</code> on Wikipedia.org for reference.</p>

<p>To insert any entry in map data structure, we need both key and value. If both key and values are user define data types, the <code>hashCode()</code> of the key will be determine where to store the object internally. When require to lookup the object from the map also, the hash code of the key will be determine where to search for the object.</p>

<p>The hash code only points to a certain "area" (or list, bucket etc) internally. Since different key objects could potentially have the same hash code, the hash code itself is no guarantee that the right key is found. The <code>HashTable</code> then iterates this area (all keys with the same hash code) and uses the key's <code>equals()</code> method to find the right key. Once the right key is found, the object stored for that key is returned.</p>

<p>So, as we can see, a combination of the <code>hashCode()</code> and <code>equals()</code> methods are used when storing and when looking up objects in a <code>HashTable</code>.</p>

<p>NOTES:</p>

<ol>
<li><p>Always use same attributes of an object to generate <code>hashCode()</code> and <code>equals()</code> both. As in our case, we have used employee id.</p></li>
<li><p><code>equals()</code> must be consistent (if the objects are not modified, then it must keep returning the same value).</p></li>
<li><p>Whenever <code>a.equals(b)</code>, then <code>a.hashCode()</code> must be same as <code>b.hashCode()</code>.</p></li>
<li><p>If you override one, then you should override the other.</p></li>
</ol>

<p><a href="http://parameshk.blogspot.in/2014/10/examples-of-comparable-comporator.html" rel="nofollow">http://parameshk.blogspot.in/2014/10/examples-of-comparable-comporator.html</a></p>
    </div></div></div></div><div id="solution24" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 24</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>String class and wrapper classes have different implementation of <code>equals()</code> and <code>hashCode()</code> methods than Object class. equals() method of Object class compares the references of the objects, not the contents. hashCode() method of Object class returns distinct hashcode for every single object whether the contents are same.</p>

<p>It leads problem when you use Map collection and the key is of Persistent type, StringBuffer/builder type. Since they don't override equals() and hashCode() unlike String class, equals() will return false when you compare two different objects even though both have same contents. It will make the hashMap storing same content keys. Storing same content keys means it is violating the rule of Map because Map doesnt allow duplicate keys at all.
Therefore you override equals() as well as hashCode() methods in your class and provide the implementation(IDE can generate these methods) so that they work same as String's equals() and hashCode() and prevent same content keys. </p>

<p>You have to override hashCode() method along with equals() because equals() work according hashcode. </p>

<p>Moreover overriding hashCode() method along with equals() helps to intact the equals()-hashCode() contract: "If two objects are equal, then they must have the same hash code."</p>

<p><strong>When do you need to write custom implementation for hashCode()?</strong></p>

<p>As we know that internal working of HashMap is on principle of Hashing. There are certain buckets where entrysets get stored. You customize the hashCode() implementation according your requirement so that same category objects can be stored into same index. 
when you store the values into Map collection using <code>put(k,v)</code>method, the internal implementation of put() is:</p>

<pre class="lang-java s-code-block"><code class="hljs language-java">put(k, v){
hash(k);
index=hash &amp; (n-<span class="hljs-number">1</span>);
}
</code></pre>

<p>Means, it generates index and the index is generated based on the hashcode of particular key object. So make this method generate hashcode according your requirement because same hashcode entrysets will be stored into same bucket or index. </p>

<p>That's it!</p>
    </div></div></div></div><div id="solution25" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 25</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>IMHO, it's as per the rule says - If two objects are equal then they should have same hash, i.e., equal objects should produce equal hash values.</p>

<p>Given above, default equals() in Object is == which does comparison on the address, hashCode() returns the address in integer(hash on actual address) which is again distinct for distinct Object.</p>

<p>If you need to use the custom Objects in the Hash based collections, you need to override both equals() and hashCode(), example If I want to maintain the HashSet of the Employee Objects, if I don't use stronger hashCode and equals I may endup overriding the two different Employee Objects, this happen when I use the age as the hashCode(), however I should be using the unique value which can be the Employee ID.</p>
    </div></div></div></div><div id="solution26" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 26</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>To help you check for duplicate Objects, we need a custom equals and hashCode.</h2>

<p>Since hashcode always returns a number its always fast to retrieve an object using a number rather than an alphabetic key. <strong>How will it do?</strong> Assume we created a new object by passing some value which is already available in some other object. Now the new object will return the same hash value as of another object because the value passed is same. Once the same hash value is returned, JVM will go to the same memory address every time and if in case there are more than one objects present for the same hash value it will use equals() method to identify the correct object.</p>
    </div></div></div></div><div id="solution27" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 27</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>When you want to store and retrieve your custom object as a key in Map, then you should always override equals and hashCode in your custom Object .
Eg:</p>

<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-type">Person</span> <span class="hljs-variable">p1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"A"</span>,<span class="hljs-number">23</span>);
<span class="hljs-type">Person</span> <span class="hljs-variable">p2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"A"</span>,<span class="hljs-number">23</span>);
<span class="hljs-type">HashMap</span> <span class="hljs-variable">map</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>();
map.put(p1,<span class="hljs-string">"value 1"</span>);
map.put(p2,<span class="hljs-string">"value 2"</span>);
</code></pre>

<p>Here p1 &amp; p2 will consider as only one object and <code>map</code> size will be only 1 because they are equal.</p>
    </div></div></div></div><div id="solution28" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 28</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Employee</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> empId;
    <span class="hljs-keyword">private</span> String empName;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Employee</span><span class="hljs-params">(<span class="hljs-type">int</span> empId, String empName)</span> {
        <span class="hljs-built_in">super</span>();
        <span class="hljs-built_in">this</span>.empId = empId;
        <span class="hljs-built_in">this</span>.empName = empName;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getEmpId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> empId;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setEmpId</span><span class="hljs-params">(<span class="hljs-type">int</span> empId)</span> {
        <span class="hljs-built_in">this</span>.empId = empId;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getEmpName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> empName;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setEmpName</span><span class="hljs-params">(String empName)</span> {
        <span class="hljs-built_in">this</span>.empName = empName;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Employee [empId="</span> + empId + <span class="hljs-string">", empName="</span> + empName + <span class="hljs-string">"]"</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> empId + empName.hashCode();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object obj)</span> {

        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span> == obj) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">if</span> (!(<span class="hljs-built_in">this</span> <span class="hljs-keyword">instanceof</span> Employee)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-type">Employee</span> <span class="hljs-variable">emp</span> <span class="hljs-operator">=</span> (Employee) obj;
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.getEmpId() == emp.getEmpId() &amp;&amp; <span class="hljs-built_in">this</span>.getEmpName().equals(emp.getEmpName());
    }

}
</code></pre>

<p>Test Class </p>

<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Employee</span> <span class="hljs-variable">emp1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-number">101</span>,<span class="hljs-string">"Manash"</span>);
        <span class="hljs-type">Employee</span> <span class="hljs-variable">emp2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-number">101</span>,<span class="hljs-string">"Manash"</span>);
        <span class="hljs-type">Employee</span> <span class="hljs-variable">emp3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-number">103</span>,<span class="hljs-string">"Ranjan"</span>);
        System.out.println(emp1.hashCode());
        System.out.println(emp2.hashCode());
        System.out.println(emp1.equals(emp2));
        System.out.println(emp1.equals(emp3));
    }

}
</code></pre>

<p>In Object Class equals(Object obj) is used to compare address comparesion thats why when in Test class if you compare two objects then equals method giving false but when we override hashcode() the it can compare content and give proper result.</p>
    </div></div></div></div><div id="solution29" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 29</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Both the methods are defined in Object class. And both are in its simplest implementation. So when you need you want add some more implementation to these methods then you have override in  your class. </p>

<p>For Ex: equals() method in object only checks its equality on the reference. So if you need compare its state as well then you can override that as it is done in String class.</p>
    </div></div></div></div><div id="solution30" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h1 class="text-4xl font-semibold mb-5">Solution 30</h1><div class="tags-wrap h-max space-x-8"><div class="tags"></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>There's no mention in this answer of testing the equals/hashcode contract.</p>
<p>I've found the <a href="https://github.com/jqno/equalsverifier" rel="nofollow noreferrer">EqualsVerifier</a> library to be very useful and comprehensive. It is also very easy to use.</p>
<p>Also, building <code>equals()</code> and <code>hashCode()</code> methods from scratch involves a lot of boilerplate code. The <a href="https://commons.apache.org/proper/commons-lang/" rel="nofollow noreferrer">Apache Commons Lang</a> library provides the <a href="https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html" rel="nofollow noreferrer">EqualsBuilder</a> and <a href="https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html" rel="nofollow noreferrer">HashCodeBuilder</a> classes. These classes greatly simplify implementing <code>equals()</code> and <code>hashCode()</code> methods for complex classes.</p>
<p>As an aside, it's worth considering overriding the <code>toString()</code> method to aid debugging. <a href="https://commons.apache.org/proper/commons-lang/" rel="nofollow noreferrer">Apache Commons Lang</a> library provides the <a href="https://commons.apache.org/proper/commons-lang/apidocs/index.html?org/apache/commons/lang3/builder/HashCodeBuilder.html" rel="nofollow noreferrer">ToStringBuilder</a> class to help with this.</p>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/transpose-reshape-dataframe-without-%22timevar%22-from-long-to-wide-format-1657388213347">Transpose / reshape dataframe without &quot;timevar&quot; from long to wide format</a><a href="/questions/get-the-row(s)-which-have-the-max-value-in-groups-using-groupby-1657388014787">Get the row(s) which have the max value in groups using groupby</a><a href="/questions/short-description-of-the-scoping-rules-1657384853121">Short description of the scoping rules?</a><a href="/questions/numbering-rows-within-groups-in-a-data-frame-1657388556436">Numbering rows within groups in a data frame</a><a href="/questions/what-is-a-clearfix-1657387337825">What is a clearfix?</a><a href="/questions/is-there-a-difference-between-%22%22-and-%22is%22-1657387902231">Is there a difference between &quot;==&quot; and &quot;is&quot;?</a><a href="/questions/event.preventdefault()-vs.-return-false-1657387458377">event.preventDefault() vs. return false</a><a href="/questions/select-first-row-in-each-group-by-group-1657384809388">Select first row in each GROUP BY group?</a><a href="/questions/how-do-i-pass-a-variable-by-reference-1657384657232">How do I pass a variable by reference?</a><a href="/questions/what-is-this-weird-colon-member-(%22-:-%22)-syntax-in-the-constructor-1657387264047">What is this weird colon-member (&quot; : &quot;) syntax in the constructor?</a><a href="/questions/in-css-flexbox-why-are-there-no-%22justify-items%22-and-%22justify-self%22-properties-1657384782711">In CSS Flexbox, why are there no &quot;justify-items&quot; and &quot;justify-self&quot; properties?</a><a href="/questions/unboundlocalerror-on-local-variable-when-reassigned-after-first-use-1657387685248">UnboundLocalError on local variable when reassigned after first use</a><a href="/questions/how-to-avoid-having-class-data-shared-among-instances-1657387687732">How to avoid having class data shared among instances?</a><a href="/questions/how-do-i-declare-a-2d-array-in-c++-using-new-1657388441163">How do I declare a 2d array in C++ using new?</a><a href="/questions/reshaping-multiple-sets-of-measurement-columns-(wide-format)-into-single-columns-(long-format)-1657388016983">Reshaping multiple sets of measurement columns (wide format) into single columns (long format)</a><a href="/questions/how-do-i-compare-strings-in-java-1657384243187">How do I compare strings in Java?</a><a href="/questions/how-do-i-make-git-forget-about-a-file-that-was-tracked-but-is-now-in-.gitignore-1657387328843">How do I make Git forget about a file that was tracked, but is now in .gitignore?</a><a href="/questions/c++-singleton-design-pattern-1657387830040">C++ Singleton design pattern</a><a href="/questions/how-to-include-a-php-variable-inside-a-mysql-statement-1657387669365">How to include a PHP variable inside a MySQL statement</a><a href="/questions/what-are-metaclasses-in-python-1657387811608">What are metaclasses in Python?</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;Joshua Bloch says on Effective Java\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;You must override hashCode() in every class that overrides equals(). Failure to do so will result in a violation of the general contract for Object.hashCode(), which will prevent your class from functioning properly in conjunction with all hash-based collections, including HashMap, HashSet, and Hashtable.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;Let\u0026apos;s try to understand it with an example of what would happen if we override \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; without overriding \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; and attempt to use a \u0026lt;code\u0026gt;Map\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Say we have a class like this and that two objects of \u0026lt;code\u0026gt;MyClass\u0026lt;/code\u0026gt; are equal if their \u0026lt;code\u0026gt;importantField\u0026lt;/code\u0026gt; is equal (with \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; generated by eclipse)\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;MyClass\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;final\u0026lt;/span\u0026gt; String importantField;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;final\u0026lt;/span\u0026gt; String anotherField;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;MyClass\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;final\u0026lt;/span\u0026gt; String equalField, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;final\u0026lt;/span\u0026gt; String anotherField)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.importantField = equalField;\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.anotherField = anotherField;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hashCode\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;final\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;prime\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;31\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;result\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;;\n        result = prime * result\n                + ((importantField == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) ? \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; : importantField.hashCode());\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; result;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;boolean\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;equals\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;final\u0026lt;/span\u0026gt; Object obj)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt; == obj)\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (obj == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;)\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (getClass() != obj.getClass())\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;final\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;MyClass\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;other\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (MyClass) obj;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (importantField == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (other.importantField != \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;)\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n        } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!importantField.equals(other.importantField))\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;;\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;Imagine you have this\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;MyClass\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;first\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;MyClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;first\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;MyClass\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;second\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;MyClass\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;a\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;second\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Override only \u0026lt;code\u0026gt;equals\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If only \u0026lt;code\u0026gt;equals\u0026lt;/code\u0026gt; is overriden, then when you call \u0026lt;code\u0026gt;myMap.put(first,someValue)\u0026lt;/code\u0026gt; first will hash to some bucket and when you call \u0026lt;code\u0026gt;myMap.put(second,someOtherValue)\u0026lt;/code\u0026gt; it will hash to some other bucket (as they have a different \u0026lt;code\u0026gt;hashCode\u0026lt;/code\u0026gt;). So, although they are equal, as they don\u0026apos;t hash to the same bucket, the map can\u0026apos;t realize it and both of them stay in the map.\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;Although it is not necessary to override \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; if we override \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt;, let\u0026apos;s see what would happen in this particular case where we know that two objects of \u0026lt;code\u0026gt;MyClass\u0026lt;/code\u0026gt; are equal if their \u0026lt;code\u0026gt;importantField\u0026lt;/code\u0026gt; is equal but we do not override \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Override only \u0026lt;code\u0026gt;hashCode\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If you only override \u0026lt;code\u0026gt;hashCode\u0026lt;/code\u0026gt; then when you call \u0026lt;code\u0026gt;myMap.put(first,someValue)\u0026lt;/code\u0026gt; it takes first, calculates its \u0026lt;code\u0026gt;hashCode\u0026lt;/code\u0026gt; and stores it in a given bucket. Then when you call \u0026lt;code\u0026gt;myMap.put(second,someOtherValue)\u0026lt;/code\u0026gt; it should replace first with second  as per the \u0026lt;a href=\u0026quot;http://java.sun.com/j2se/1.4.2/docs/api/java/util/Map.html#put%28java.lang.Object,%20java.lang.Object%29\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Map Documentation\u0026lt;/a\u0026gt; because they are equal (according to the business requirement).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;But the problem is that equals was not redefined, so when the map hashes \u0026lt;code\u0026gt;second\u0026lt;/code\u0026gt; and iterates through the bucket looking if there is an object \u0026lt;code\u0026gt;k\u0026lt;/code\u0026gt; such that \u0026lt;code\u0026gt;second.equals(k)\u0026lt;/code\u0026gt; is true it won\u0026apos;t find any as \u0026lt;code\u0026gt;second.equals(first)\u0026lt;/code\u0026gt; will be \u0026lt;code\u0026gt;false\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Hope it was clear\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Collections such as \u0026lt;code\u0026gt;HashMap\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;HashSet\u0026lt;/code\u0026gt; use a \u0026lt;em\u0026gt;hashcode\u0026lt;/em\u0026gt; value of an object to determine how it should be stored inside a collection, and the \u0026lt;em\u0026gt;hashcode\u0026lt;/em\u0026gt; is used again in order to locate the object\nin its collection.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Hashing retrieval is a two-step process:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Find the right bucket (using \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt;)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Search the bucket for the right element (using \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; )\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;Here is a small example on why we should overrride \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;hashcode()\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Consider an \u0026lt;code\u0026gt;Employee\u0026lt;/code\u0026gt; class which has two fields: age and name.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt; {\n\n    String name;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; age;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(String name, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; age)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.name = name;\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.age = age;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; String \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getName\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; name;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setName\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(String name)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.name = name;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getAge\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; age;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setAge\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; age)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.age = age;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;boolean\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;equals\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Object obj)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (obj == \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;)\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!(obj \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;instanceof\u0026lt;/span\u0026gt; Employee))\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;employee\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (Employee) obj;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; employee.getAge() == \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.getAge()\n                \u0026amp;amp;\u0026amp;amp; employee.getName() == \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.getName();\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// commented    \u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/*  @Override\n        public int hashCode() {\n            int result=17;\n            result=31*result+age;\n            result=31*result+(name!=null ? name.hashCode():0);\n            return result;\n        }\n     */\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Now create a class, insert \u0026lt;code\u0026gt;Employee\u0026lt;/code\u0026gt; object into a \u0026lt;code\u0026gt;HashSet\u0026lt;/code\u0026gt; and test whether that object is present or not.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ClientTest\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(String[] args)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;employee\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;rajeev\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;24\u0026lt;/span\u0026gt;);\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;employee1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;rajeev\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;25\u0026lt;/span\u0026gt;);\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;employee2\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;rajeev\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;24\u0026lt;/span\u0026gt;);\n\n        HashSet\u0026amp;lt;Employee\u0026amp;gt; employees = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HashSet\u0026lt;/span\u0026gt;\u0026amp;lt;Employee\u0026amp;gt;();\n        employees.add(employee);\n        System.out.println(employees.contains(employee2));\n        System.out.println(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;employee.hashCode():  \u0026quot;\u0026lt;/span\u0026gt; + employee.hashCode()\n        + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;  employee2.hashCode():\u0026quot;\u0026lt;/span\u0026gt; + employee2.hashCode());\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;It will print the following:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;\nemployee.hashCode():  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;321755204\u0026lt;/span\u0026gt;  employee2.hashCode():\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;375890482\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Now uncomment \u0026lt;code\u0026gt;hashcode()\u0026lt;/code\u0026gt; method , execute the same and the output would be: \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;\nemployee.hashCode():  -\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;938387308\u0026lt;/span\u0026gt;  employee2.hashCode():-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;938387308\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Now can you see why if two objects are considered equal, their \u0026lt;em\u0026gt;hashcode\u0026lt;/em\u0026gt;s must\nalso be equal? Otherwise, you\u0026apos;d never be able to find the object since the default\n\u0026lt;em\u0026gt;hashcode\u0026lt;/em\u0026gt; method in class Object virtually always comes up with a unique number\nfor each object, even if the \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; method is overridden in such a way that two\nor more objects are considered equal. It doesn\u0026apos;t matter how equal the objects are if\ntheir \u0026lt;em\u0026gt;hashcode\u0026lt;/em\u0026gt;s don\u0026apos;t reflect that. So one more time: If two objects are equal, their\n\u0026lt;em\u0026gt;hashcode\u0026lt;/em\u0026gt;s must be equal as well.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;You must override hashCode() in every\nclass that overrides equals(). Failure\nto do so will result in a violation of\nthe general contract for\nObject.hashCode(), which will prevent\nyour class from functioning properly\nin conjunction with all hash-based\ncollections, including HashMap,\nHashSet, and Hashtable.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;br\u0026gt; \u0026amp;nbsp; \u0026amp;nbsp;from \u0026lt;em\u0026gt;Effective Java\u0026lt;/em\u0026gt;, by Joshua Bloch\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;By defining \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; consistently, you can improve the usability of your classes as keys in hash-based collections. As the API doc for hashCode explains: \u0026quot;This method is supported for the benefit of hashtables such as those provided by \u0026lt;code\u0026gt;java.util.Hashtable\u0026lt;/code\u0026gt;.\u0026quot;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The best answer to your question about how to implement these methods efficiently is suggesting you to read Chapter 3 of \u0026lt;a href=\u0026quot;https://rads.stackoverflow.com/amzn/click/com/0134685997\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Effective Java\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Identity is not equality.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;equals operator \u0026lt;code\u0026gt;==\u0026lt;/code\u0026gt; test identity.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;equals(Object obj)\u0026lt;/code\u0026gt; method compares equality test(i.e. we need to tell equality by overriding the method)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Why do I need to override the equals and hashCode methods in Java?   \u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;First we have to understand the use of equals method.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In order to identity differences between two objects we need to override equals method.   \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;For example:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;Customer customer1=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Customer\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;peter\u0026quot;\u0026lt;/span\u0026gt;);\nCustomer customer2=customer1;\ncustomer1.equals(customer2); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// returns true by JVM. i.e. both are refering same Object\u0026lt;/span\u0026gt;\n------------------------------\nCustomer customer1=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Customer\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;peter\u0026quot;\u0026lt;/span\u0026gt;);\nCustomer customer2=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Customer\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;peter\u0026quot;\u0026lt;/span\u0026gt;);\ncustomer1.equals(customer2); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//return false by JVM i.e. we have two different peter customers.\u0026lt;/span\u0026gt;\n\n------------------------------\nNow I have overriden Customer \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;equals\u0026lt;/span\u0026gt; method as follows:\n \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;boolean\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;equals\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Object obj)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt; == obj)   \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// it checks references\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (obj == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// checks null\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (getClass() != obj.getClass()) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// both object are instances of same class or not\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Customer\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;other\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (Customer) obj;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (name == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (other.name != \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;)\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n        } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!name.equals(other.name)) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// it again using bulit in String object equals to identify the difference \u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;; \n    }\nCustomer customer1=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Customer\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;peter\u0026quot;\u0026lt;/span\u0026gt;);\nCustomer customer2=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Customer\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;peter\u0026quot;\u0026lt;/span\u0026gt;);\nInsteady identify the Object equality by JVM, we can \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;do\u0026lt;/span\u0026gt; it by overring equals method.\ncustomer1.equals(customer2);  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// returns true by our own logic\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Now hashCode method can understand easily.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;hashCode produces integer in order to store object in data structures like \u0026lt;strong\u0026gt;HashMap\u0026lt;/strong\u0026gt;, \u0026lt;strong\u0026gt;HashSet\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Assume we have override equals method of \u0026lt;code\u0026gt;Customer\u0026lt;/code\u0026gt; as above, \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;customer1.equals(customer2);  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// returns true by our own logic\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;While working with data structure when we store object in buckets(bucket is a fancy name for folder). If we use built-in hash technique, for above two customers it generates two different hashcode. So we are storing the same identical object in two different places. To avoid this kind of issues we should override the hashCode method also based on the following principles.  \u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;un-equal instances may have same hashcode.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;equal instances should return same hashcode.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Why we override \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; method\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;In Java we can not overload how operators like ==, +=, -+ behave. They are behaving a certain way. So let\u0026apos;s focus on the operator == for our case here.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;How operator == works.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;It checks if 2 references that we compare point to the same instance in memory. Operator \u0026lt;code\u0026gt;==\u0026lt;/code\u0026gt; will resolve to true only if those 2 references represent the same instance in memory.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;So now let\u0026apos;s consider the following example\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt; {\n\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; Integer age;\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; String name;\n    \n      ..getters, setters, constructors\n      }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;So let\u0026apos;s say that in your program you have built 2 Person objects on different places and you wish to compare them.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;person1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Mike\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;34\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;person2\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Mike\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;34\u0026lt;/span\u0026gt;);\nSystem.out.println ( person1 == person2 );  --\u0026amp;gt; will print \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;!\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Those 2 objects from business perspective look the same right? For JVM they are not the same. Since they are both created with \u0026lt;code\u0026gt;new\u0026lt;/code\u0026gt; keyword those instances are located in different segments in memory. Therefore the operator == will return \u0026lt;strong\u0026gt;false\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;But if we can not override the == operator how can we say to JVM that we want those 2 objects to be treated as same. There comes the \u0026lt;code\u0026gt;.equals()\u0026lt;/code\u0026gt; method in play.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You can override \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; to check if some objects have same values for specific fields to be considered equal.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You can select which fields you want to be compared. If we say that 2 Person objects will be the same if and only if they have the same age and same name, then the IDE will create something like the following for automatic generation of equals()\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;boolean\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;equals\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Object o)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt; == o) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (o == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt; || getClass() != o.getClass()) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;person\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (Person) o;\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;age\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt;= person.age \u0026amp;amp;\u0026amp;amp;\n                name.equals(person.name);\n    }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Let\u0026apos;s go back to our previous example\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;person1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Mike\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;34\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;person2\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Mike\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;34\u0026lt;/span\u0026gt;);\n    System.out.println ( person1 == person2 );   --\u0026amp;gt; will print \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;!\n    System.out.println ( person1.equals(person2) );  --\u0026amp;gt; will print \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;!\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;So we can not overload == operator to compare objects the way we want but Java gave us another way, the \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; method, which we can override as we want.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Keep in mind\u0026lt;/strong\u0026gt; however, if we don\u0026apos;t provide our custom version of \u0026lt;code\u0026gt;.equals()\u0026lt;/code\u0026gt; (aka override) in our class then the predefined \u0026lt;code\u0026gt;.equals()\u0026lt;/code\u0026gt; from Object class and \u0026lt;code\u0026gt;==\u0026lt;/code\u0026gt; operator will behave exactly the same.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Default \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; method which is inherited from Object will check whether both compared instances are the same in memory!\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Why we override \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; method\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Some Data Structures in java like HashSet, HashMap store their elements based on a hash function which is applied on those elements. The hashing function is the \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If we have a choice of overriding \u0026lt;code\u0026gt;.equals()\u0026lt;/code\u0026gt; method then we must also have a choice of overriding \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; method. There is a reason for that.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Default implementation of \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; which is inherited from Object considers all objects in memory unique!\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Let\u0026apos;s get back to those hash data structures. There is a rule for those data structures.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;HashSet can not contain duplicate values and HashMap can not contain duplicate keys\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;HashSet is implemented with a HashMap behind the scenes where each value of a HashSet is stored as a key in a HashMap.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;So we have to understand how a HashMap works.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;In a simple way a HashMap is a native array that has some buckets. Each bucket has a linkedList. In that linkedList our keys are stored. HashMap locates the correct linkedList for each key by applying \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; method and after that it iterates through all elements of that linkedList and applies \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; method on each of these elements to check if that element is already contained there. No duplicate keys are allowed.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/aMwel.png\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/aMwel.png\u0026quot; alt=\u0026quot;enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;When we put something inside a HashMap, the key is stored in one of those linkedLists. In which linkedList that key will be stored is shown by the result of \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; method on that key. So if \u0026lt;code\u0026gt;key1.hashCode()\u0026lt;/code\u0026gt; has as a result 4, then that key1 will be stored on the 4th bucket of the array, in the linkedList that exists there.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;By default \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; method returns a different result for each different instance. If we have the default \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; which behaves like == which considers all instances in memory as different objects we don\u0026apos;t have any problem.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;But in our previous example we said we want Person instances to be considered equal if their ages and names match.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;person1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Mike\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;34\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;person2\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Mike\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;34\u0026lt;/span\u0026gt;);\n    System.out.println ( person1.equals(person2) );  --\u0026amp;gt; will print \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;!\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Now let\u0026apos;s create a map to store those instances as keys with some string as pair value\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;Map\u0026amp;lt;Person, String\u0026amp;gt; map = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HashMap\u0026lt;/span\u0026gt;();\nmap.put(person1, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1\u0026quot;\u0026lt;/span\u0026gt;);\nmap.put(person2, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;2\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;In Person class we have not overridden the \u0026lt;code\u0026gt;hashCode\u0026lt;/code\u0026gt; method but we have overridden \u0026lt;code\u0026gt;equals\u0026lt;/code\u0026gt; method. Since the default \u0026lt;code\u0026gt;hashCode\u0026lt;/code\u0026gt; provides different results for different java instances \u0026lt;code\u0026gt;person1.hashCode()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;person2.hashCode()\u0026lt;/code\u0026gt; have big chances of having different results.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Our map might end with those persons in different linkedLists.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/TOSNY.png\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/TOSNY.png\u0026quot; alt=\u0026quot;enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This is against the logic of a HashMap\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;A HashMap is not allowed to have multiple equal keys!\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;But ours now has and the reason is that the default \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; which was inherited from Object Class was not enough. Not after we have overridden the \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; method on Person Class.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;That is the reason why we must override \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; method after we have overridden \u0026lt;code\u0026gt;equals\u0026lt;/code\u0026gt; method.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Now let\u0026apos;s fix that. Let\u0026apos;s override our \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; method to consider the same fields that \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; considers, namely \u0026lt;code\u0026gt;age, name\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt; {\n\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; Integer age;\n      \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; String name;\n    \n      ..getters, setters, constructors\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;boolean\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;equals\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Object o)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt; == o) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (o == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt; || getClass() != o.getClass()) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;person\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (Person) o;\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;age\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt;= person.age \u0026amp;amp;\u0026amp;amp;\n                name.equals(person.name);\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hashCode\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; Objects.hash(name, age);\n    }\n\n      }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Now let\u0026apos;s try again to save those keys in our HashMap\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;Map\u0026amp;lt;Person, String\u0026amp;gt; map = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HashMap\u0026lt;/span\u0026gt;();\nmap.put(person1, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;1\u0026quot;\u0026lt;/span\u0026gt;);\nmap.put(person2, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;2\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;person1.hashCode()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;person2.hashCode()\u0026lt;/code\u0026gt; will definitely be the same. Let\u0026apos;s say it is 0.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;HashMap will go to bucket 0 and in that LinkedList will save the person1 as key with the value \u0026quot;1\u0026quot;. For the second put HashMap is intelligent enough and when it goes again to bucket 0 to save person2 key with value \u0026quot;2\u0026quot; it will see that another equal key already exists there. So it will overwrite the previous key. So in the end only person2 key will exist in our HashMap.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/i7hek.png\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/i7hek.png\u0026quot; alt=\u0026quot;enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Now we are aligned with the rule of Hash Map that says no multiple equal keys are allowed!\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Simply put, the equals-method in Object check for reference equality, where as two instances of your class could still be semantically equal when the properties are equal. This is for instance important when putting your objects into a container that utilizes equals and hashcode, like \u0026lt;a href=\u0026quot;http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot; title=\u0026quot;HashMap.java\u0026quot;\u0026gt;HashMap\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;http://docs.oracle.com/javase/6/docs/api/java/util/Set.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot; title=\u0026quot;Set.java\u0026quot;\u0026gt;Set\u0026lt;/a\u0026gt;. Let\u0026apos;s say we have a class like:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Foo\u0026lt;/span\u0026gt; {\n    String id;\n    String whatevs;\n\n    Foo(String id, String whatevs) {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.id = id;\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.whatevs = whatevs;\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;We create two instances with the same \u0026lt;strong\u0026gt;id\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Foo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Foo\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;id\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;something\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Foo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;b\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Foo\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;id\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;something else\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Without overriding equals we are getting:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;a.equals(b) is false because they are two different instances\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;a.equals(a) is true since it\u0026apos;s the same instance\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;b.equals(b) is true since it\u0026apos;s the same instance\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Correct? Well maybe, if this is what you want. But let\u0026apos;s say we want objects with the same id to be the same object, regardless if it\u0026apos;s two different instances. We override the equals (and hashcode):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Foo\u0026lt;/span\u0026gt; {\n    String id;\n    String whatevs;\n\n    Foo(String id, String whatevs) {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.id = id;\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.whatevs = whatevs;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;boolean\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;equals\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Object other)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (other \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;instanceof\u0026lt;/span\u0026gt; Foo) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; ((Foo)other).id.equals(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.id);   \n        }\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hashCode\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.id.hashCode();\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;As for implementing equals and hashcode I can recommend using \u0026lt;a href=\u0026quot;http://code.google.com/p/guava-libraries/wiki/CommonObjectUtilitiesExplained\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Guava\u0026apos;s helper methods\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Let me explain the concept in very simple words.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Firstly from a broader perspective we have collections, and hashmap is one of the datastructure in the collections.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;To understand why we have to override the both equals and hashcode method, if need to first understand what is hashmap and what is does.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;A hashmap is a datastructure which stores key value pairs of data in array fashion. Lets say a[], where each element in \u0026apos;a\u0026apos; is a key value pair.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Also each index in the above array can be linked list thereby having more than one values at one index.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Now why is a hashmap used?\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If we have to search among  a large array then searching through each if them will not be efficient, so what hash technique tells us that lets pre process the array with some logic and group the elements based on that logic i.e. Hashing\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;EG: we have array 1,2,3,4,5,6,7,8,9,10,11 and we apply a hash function mod 10 so 1,11 will be grouped in together. So if we had to search for 11 in previous array then we would have to iterate the complete array but when we group it we limit our scope of iteration thereby improving speed. That datastructure used to store all the above information can be thought of as a 2d array for simplicity\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Now apart from the above hashmap also tells that it wont add any Duplicates in it. And this is the main reason why we have to override the equals and hashcode\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;So when its said that explain the internal working of hashmap , we need to find what methods the hashmap has and how does it follow the above rules which i explained above\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;so the hashmap has method called as put(K,V) , and according to hashmap it should follow the above rules of efficiently distributing the array and not adding any duplicates\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;so what put does is that it will first generate the hashcode for the given key to decide which index the value should go in.if nothing is present at that index then the new value will be added over there, if something is already present over there then the new value should be added after the end of the linked list at that index. but remember no duplicates should be added as per the desired behavior of the hashmap. so lets say you have two Integer objects aa=11,bb=11.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;As every object derived from the object class, the default implementation for comparing two objects is that it compares the reference and not values inside the object. So in the above case both though semantically equal will fail the equality test, and possibility that two objects which same hashcode and same values will exists thereby creating duplicates. If we override then we could avoid adding duplicates.\nYou could also refer to \u0026lt;a href=\u0026quot;http://howtodoinjava.com/2012/10/09/how-hashmap-works-in-java/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Detail working\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; java.util.HashMap;\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt; {\n    String name;\n    String mobile;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(String name,String mobile)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.name = name;\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.mobile = mobile;\n    }\n    \n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hashCode\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n        System.out.println(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;calling hascode method of Employee\u0026quot;\u0026lt;/span\u0026gt;);\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;str\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.name;\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;sum\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;i\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;; i \u0026amp;lt; str.length(); i++) {\n            sum = sum + str.charAt(i);\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; sum;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;boolean\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;equals\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Object obj)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// TODO Auto-generated method stub\u0026lt;/span\u0026gt;\n        System.out.println(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;calling equals method of Employee\u0026quot;\u0026lt;/span\u0026gt;);\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;emp\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (Employee) obj;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.mobile.equalsIgnoreCase(emp.mobile)) {\n            System.out.println(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;returning true\u0026quot;\u0026lt;/span\u0026gt;);\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;;\n        } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n            System.out.println(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;returning false\u0026quot;\u0026lt;/span\u0026gt;);\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n        }\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(String[] args)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// TODO Auto-generated method stub\u0026lt;/span\u0026gt;\n\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;emp\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;abc\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;hhh\u0026quot;\u0026lt;/span\u0026gt;);\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;emp2\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;abc\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;hhh\u0026quot;\u0026lt;/span\u0026gt;);\n        HashMap\u0026amp;lt;Employee, Employee\u0026amp;gt; h = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HashMap\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;gt;();\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//for (int i = 0; i \u0026amp;lt; 5; i++) {\u0026lt;/span\u0026gt;\n            h.put(emp, emp);\n            h.put(emp2, emp2);\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//}\u0026lt;/span\u0026gt;\n        \n        System.out.println(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;----------------\u0026quot;\u0026lt;/span\u0026gt;);\n        System.out.println(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;size of hashmap: \u0026quot;\u0026lt;/span\u0026gt;+h.size());\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; :\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If you only override the hash-code method nothing happens, because it always returns a new \u0026lt;code\u0026gt;hashCode\u0026lt;/code\u0026gt; for each object as an Object class.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; :\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If you only override the equals method, if \u0026lt;code\u0026gt;a.equals(b)\u0026lt;/code\u0026gt; is true it means the \u0026lt;code\u0026gt;hashCode\u0026lt;/code\u0026gt; of a and b must be the same but that does not happen since you did not override the \u0026lt;code\u0026gt;hashCode\u0026lt;/code\u0026gt; method.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Note :  \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; method of Object class always returns a new \u0026lt;code\u0026gt;hashCode\u0026lt;/code\u0026gt; for each object.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;So when you need to use your object in the hashing based collection, you must override both \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Java puts a rule that \u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;\u0026quot;If two objects are equal using Object class equals method, then the hashcode method should give the same value for these two objects.\u0026quot;\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;So, if in our class we override \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; we should override \u0026lt;code\u0026gt;hashcode()\u0026lt;/code\u0026gt; method also to follow this rule.\nBoth methods, \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;hashcode()\u0026lt;/code\u0026gt;, are used in \u0026lt;code\u0026gt;Hashtable\u0026lt;/code\u0026gt;, for example, to store values as key-value pairs. If we override one and not the other, there is a possibility that the \u0026lt;code\u0026gt;Hashtable\u0026lt;/code\u0026gt; may not work as we want, if we use such object as a key.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Because if you do not override them you will be use the default implentation in Object.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Given that instance equality and hascode values generally require knowledge of what makes up an object they generally will need to be redefined in your class to have any tangible meaning.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In order to use our own class objects as keys in collections like HashMap, Hashtable etc.. , we should override both methods ( hashCode() and equals() ) by having an awareness on internal working of collection. Otherwise, it leads to wrong results which we are not expected.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Adding to @Lombo \u0026apos;s answer\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;When will you need to override equals() ?\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The default implementation of Object\u0026apos;s equals() is\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;boolean\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;equals\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Object obj)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt; == obj);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;which means two objects will be considered equal only if they have the same memory address which will be true only if you are\ncomparing an object with itself.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;But you might want to consider two objects the same if they have the same value for one\nor more of their properties (Refer the example given in @Lombo \u0026apos;s answer). \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So you will override \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; in these situations and you would give your own conditions for equality.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;I have successfully implemented equals() and it is working great.So why are they asking to override hashCode() as well?\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Well.As long as you don\u0026apos;t use \u0026lt;em\u0026gt;\u0026quot;Hash\u0026quot; based Collections\u0026lt;/em\u0026gt; on your user-defined class,it is fine.\nBut some time in the future you might want to use \u0026lt;code\u0026gt;HashMap\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;HashSet\u0026lt;/code\u0026gt; and if you don\u0026apos;t \u0026lt;code\u0026gt;override\u0026lt;/code\u0026gt; and \u0026lt;em\u0026gt;\u0026quot;correctly implement\u0026quot; hashCode()\u0026lt;/em\u0026gt;, these Hash based collection won\u0026apos;t work as intended.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;Override only equals (Addition to @Lombo \u0026apos;s answer)\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;myMap.put(first,someValue)\nmyMap.contains(second); --\u0026amp;gt; But it should be the same since the key are the same.But returns \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;!!! How?\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;First of all,HashMap checks if the hashCode of \u0026lt;code\u0026gt;second\u0026lt;/code\u0026gt; is the same as \u0026lt;code\u0026gt;first\u0026lt;/code\u0026gt;.\nOnly if the values are the same,it will proceed to check the equality in the same bucket.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;But here the hashCode is different for these 2 objects (because they have different memory address-from default implementation).\nHence it will not even care to check for equality.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you have a breakpoint inside your overridden equals() method,it wouldn\u0026apos;t step in if they have different hashCodes.\n\u0026lt;code\u0026gt;contains()\u0026lt;/code\u0026gt; checks \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; and only if they are the same it would call your \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; method.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;\u0026lt;em\u0026gt;Why can\u0026apos;t we make the HashMap check for equality in all the buckets? So there is no necessity for me to override hashCode() !!\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Then you are missing the point of Hash based Collections.\nConsider the following :\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;Your \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hashCode\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; implementation : intObject%\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9.\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The following are the keys stored in the form of buckets.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;Bucket \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;19\u0026lt;/span\u0026gt;,... (in thousands)\nBucket \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;29.\u0026lt;/span\u0026gt;..\nBucket \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;21\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;30\u0026lt;/span\u0026gt;,...\n...\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Say,you want to know if the map contains the key 10.\nWould you want to search all the buckets? or Would you want to search only one bucket?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Based on the hashCode,you would identify that if 10 is present,it must be present in Bucket 1.\nSo only Bucket 1 will be searched !!\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; i;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Hashing Algorithm\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; even number \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Equals Algorithm,\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;i\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.i \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;put(\u0026apos;key\u0026apos;,\u0026apos;value\u0026apos;) will calculate the hash value using \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; to determine the\nbucket and uses \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; method to find whether the value is already\npresent in the Bucket. If not it will added else it will be replaced with current value\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;get(\u0026apos;key\u0026apos;) will use \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; to find the Entry (bucket) first and\n\u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; to find the value in Entry\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;if Both are overridden,\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Map\u0026amp;lt;\u0026lt;strong\u0026gt;A\u0026lt;/strong\u0026gt;\u0026amp;gt; \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;Map.Entry \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; --\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;,...\nMap.Entry \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt; --\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;,...\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;if equals is not overridden\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Map\u0026amp;lt;\u0026lt;strong\u0026gt;A\u0026lt;/strong\u0026gt;\u0026amp;gt; \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;Map.Entry \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; --\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;,...,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;,... \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Duplicate values as equals not overridden\u0026lt;/span\u0026gt;\nMap.Entry \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt; --\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt;,...,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;,..\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;If hashCode is not overridden\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Map\u0026amp;lt;\u0026lt;strong\u0026gt;A\u0026lt;/strong\u0026gt;\u0026amp;gt; \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;Map.Entry \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; --\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\nMap.Entry \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt; --\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;\nMap.Entry \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt; --\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;\nMap.Entry \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt; --\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\nMap.Entry \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt; --\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;\nMap.Entry \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6\u0026lt;/span\u0026gt; --\u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Same values are Stored in different hasCodes violates Contract 1\u0026lt;/span\u0026gt;\nSo on...\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;HashCode Equal Contract\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Two keys equal according to equal method should generate same hashCode\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Two Keys generating same hashCode need not be equal (In above example all even numbers generate same hash Code)\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;1) \u0026lt;strong\u0026gt;The common mistake is shown in the example below.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Car\u0026lt;/span\u0026gt; {\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; String color;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;Car\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(String color)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.color = color;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;boolean\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;equals\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Object obj)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(obj==\u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!(obj \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;instanceof\u0026lt;/span\u0026gt; Car))\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;   \n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (obj == \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;)\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.color.equals(((Car) obj).color);\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(String[] args)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Car\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;a1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Car\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;green\u0026quot;\u0026lt;/span\u0026gt;);\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Car\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;a2\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Car\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;red\u0026quot;\u0026lt;/span\u0026gt;);\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//hashMap stores Car type and its quantity\u0026lt;/span\u0026gt;\n        HashMap\u0026amp;lt;Car, Integer\u0026amp;gt; m = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HashMap\u0026lt;/span\u0026gt;\u0026amp;lt;Car, Integer\u0026amp;gt;();\n        m.put(a1, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;10\u0026lt;/span\u0026gt;);\n        m.put(a2, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt;);\n        System.out.println(m.get(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Car\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;green\u0026quot;\u0026lt;/span\u0026gt;)));\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;the green Car is not found\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;2. Problem caused by hashCode()\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The problem is caused by the un-overridden method \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt;. The contract between \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; is:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;If two objects are equal, then they must have the same hash code.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;If two objects have the same hash code, they may or may not be equal.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hashCode\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;{  \n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.color.hashCode(); \n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;It is useful when using \u0026lt;a href=\u0026quot;http://wiki.c2.com/?ValueObject\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;Value Objects\u0026lt;/strong\u0026gt;\u0026lt;/a\u0026gt;. The following is an excerpt from the \u0026lt;a href=\u0026quot;http://wiki.c2.com/?PortlandPatternRepository\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Portland Pattern Repository\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Examples of value objects are things\n  like numbers, dates, monies and\n  strings. Usually, they are small\n  objects which are used quite widely.\n  Their identity is based on their state\n  rather than on their object identity.\n  This way, you can have multiple copies\n  of the same conceptual value object.\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;So I can have multiple copies of an\n  object that represents the date 16 Jan\n  1998. Any of these copies will be equal to each other. For a small\n  object such as this, it is often\n  easier to create new ones and move\n  them around rather than rely on a\n  single object to represent the date.\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;A value object should always override\n  .equals() in Java (or = in Smalltalk).\n  (Remember to override .hashCode() as\n  well.)\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Assume you have class (A) that aggregates two other (B) (C), and you need to store instances of (A) inside hashtable. Default implementation only allows distinguishing of instances, but not by (B) and (C). So two instances of A could be equal, but default wouldn\u0026apos;t allow you to compare them in correct way.  \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Consider collection of balls in a bucket all in black color. Your Job is to color those balls as follows and use it for appropriate game,\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For Tennis - Yellow, Red.\nFor Cricket - White\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Now bucket has balls in three colors Yellow, Red and White. And that now \u0026lt;strong\u0026gt;you did the coloring Only you know which color is for which game.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Coloring the balls - Hashing.\nChoosing the ball for game - Equals.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you did the coloring and some one chooses the ball for either cricket or tennis they wont mind the color!!!\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I was looking into the explanation \u0026quot; If you only override hashCode then when you call \u0026lt;code\u0026gt;myMap.put(first,someValue)\u0026lt;/code\u0026gt; it takes first, calculates its hashCode and stores it in a given bucket. Then when you call \u0026lt;code\u0026gt;myMap.put(first,someOtherValue)\u0026lt;/code\u0026gt; it should replace first with second as per the Map Documentation because they are equal (according to our definition).\u0026quot; :\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I think 2nd time when we are adding in \u0026lt;code\u0026gt;myMap\u0026lt;/code\u0026gt; then it should be the \u0026apos;second\u0026apos; object like \u0026lt;code\u0026gt;myMap.put(second,someOtherValue)\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The methods equals and hashcode are defined in the object class. By default if the equals method returns true, then the system will go further and check the value of the hash code. If the hash code of the 2 objects is also same only then the objects will be considered as same. So if you override only equals method, then even though the overridden equals method indicates 2 objects to be equal , the system defined hashcode may not indicate that the 2 objects are equal. So we need to override hash code as well.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Equals and Hashcode methods in Java\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;They are methods of java.lang.Object class which is the super class of all the classes (custom classes as well and others defined in java API).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Implementation:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;public boolean equals(Object obj)\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;public int hashCode()\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/0aaFt.jpg\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/0aaFt.jpg\u0026quot; alt=\u0026quot;enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;public boolean equals(Object obj)\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This method simply checks if two object references x and y refer to the same object. i.e. It checks if x == y.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;It is reflexive:\u0026lt;/em\u0026gt; for any reference value x, x.equals(x) should return true.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;It is symmetric:\u0026lt;/em\u0026gt; for any reference values x and y, x.equals(y) should return true if and only if y.equals(x) returns true.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;It is transitive:\u0026lt;/em\u0026gt; for any reference values x, y, and z, if x.equals(y) returns true and y.equals(z) returns true, then x.equals(z) should return true.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;It is consistent:\u0026lt;/em\u0026gt; for any reference values x and y, multiple invocations of x.equals(y) consistently return true or consistently return false, provided no information used in equals comparisons on the object is modified.\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;For any non-null reference value x, x.equals(null) should return\n  false.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;public int hashCode()\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This method returns the hash code value for the object on which this method is invoked. This method returns the hash code value as an integer and is supported for the benefit of hashing based collection classes such as Hashtable, HashMap, HashSet etc. This method must be overridden in every class that overrides the equals method.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;The general contract of hashCode is:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This integer need not remain consistent from one execution of an application to another execution of the same application.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It is not required that if two objects are unequal according to the equals(java.lang.Object) method, then calling the hashCode method on each of the two objects must produce distinct integer results. However, the programmer should be aware that producing distinct integer results for unequal objects may improve the performance of hashtables.\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Equal objects must produce the same hash code as long as they are\n  equal, however unequal objects need not produce distinct hash codes.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;Resources: \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://www.javaranch.com/journal/2002/10/equalhash.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;JavaRanch\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://www.google.co.in/imgres?imgurl=https%3A%2F%2Fi.ytimg.com%2Fvi%2FfAlRR2p9Le0%2Fmaxresdefault.jpg\u0026amp;amp;imgrefurl=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DfAlRR2p9Le0\u0026amp;amp;docid=tHx46In-72mrAM\u0026amp;amp;tbnid=VTZXQ9fiF-XDcM%3A\u0026amp;amp;w=1280\u0026amp;amp;h=720\u0026amp;amp;bih=678\u0026amp;amp;biw=1319\u0026amp;amp;ved=0ahUKEwiQj-fBuePOAhXHq48KHY8VBt4QMwgmKAgwCA\u0026amp;amp;iact=mrc\u0026amp;amp;uact=8\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Picture\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you override \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; and not \u0026lt;code\u0026gt;hashcode()\u0026lt;/code\u0026gt;, you will not find any problem unless you or someone else uses that class type in a hashed collection like \u0026lt;code\u0026gt;HashSet\u0026lt;/code\u0026gt;.\nPeople before me have clearly explained the documented theory multiple times, I am just here to provide a very simple example.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Consider a class whose \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; need to mean something customized :-\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Rishav\u0026lt;/span\u0026gt; {\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; String rshv;\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;Rishav\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(String rshv)\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.rshv = rshv;\n        }\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/**\n        * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@return\u0026lt;/span\u0026gt; the rshv\n        */\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; String \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getRshv\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; rshv;\n        }\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/**\n        * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@param\u0026lt;/span\u0026gt; rshv the rshv to set\n        */\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setRshv\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(String rshv)\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.rshv = rshv;\n        }\n\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;boolean\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;equals\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Object obj)\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (obj \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;instanceof\u0026lt;/span\u0026gt; Rishav) {\n                obj = (Rishav) obj;\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.rshv.equals(((Rishav) obj).getRshv())) {\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;;\n                } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n                    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n                }\n            } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n                \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n            }\n        }\n\n        \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hashCode\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; rshv.hashCode();\n        }\n\n    }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Now consider this main class :-\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; java.util.HashSet;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; java.util.Set;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;TestRishav\u0026lt;/span\u0026gt; {\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(String[] args)\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Rishav\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;rA\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Rishav\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;rishav\u0026quot;\u0026lt;/span\u0026gt;);\n            \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Rishav\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;rB\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Rishav\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;rishav\u0026quot;\u0026lt;/span\u0026gt;);\n            System.out.println(rA.equals(rB));\n            System.out.println(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-----------------------------------\u0026quot;\u0026lt;/span\u0026gt;);\n\n            Set\u0026amp;lt;Rishav\u0026amp;gt; hashed = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HashSet\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;gt;();\n            hashed.add(rA);\n            System.out.println(hashed.contains(rB));\n            System.out.println(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-----------------------------------\u0026quot;\u0026lt;/span\u0026gt;);\n\n            hashed.add(rB);\n            System.out.println(hashed.size());\n        }\n\n    }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This will yield the following output :-\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;    \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;\n    -----------------------------------\n    \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;\n    -----------------------------------\n    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;I am happy with the results. But if I have not overridden \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt;, it will cause nightmare as objects of \u0026lt;code\u0026gt;Rishav\u0026lt;/code\u0026gt; with same member content will no longer be treated as unique as the \u0026lt;code\u0026gt;hashCode\u0026lt;/code\u0026gt; will be different, as generated by default behavior, here\u0026apos;s the would be output :-\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;    \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;\n    -----------------------------------\n    \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;\n    -----------------------------------\n    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In the example below, if you comment out the override for equals or hashcode in the Person class, this code will fail to look up Tom\u0026apos;s order. Using the default implementation of hashcode can cause failures in hashtable lookups.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;What I have below is a simplified code that pulls up people\u0026apos;s order by Person. Person is being used as a key in the hashtable.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt; {\n    String name;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; age;\n    String socialSecurityNumber;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(String name, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; age, String socialSecurityNumber)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.name = name;\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.age = age;\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.socialSecurityNumber = socialSecurityNumber;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;boolean\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;equals\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Object p)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Person is same if social security number is same\u0026lt;/span\u0026gt;\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; ((p \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;instanceof\u0026lt;/span\u0026gt; Person) \u0026amp;amp;\u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.socialSecurityNumber.equals(((Person) p).socialSecurityNumber)) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;;\n        } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n        }\n\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hashCode\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//I am using a hashing function in String.java instead of writing my own.\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; socialSecurityNumber.hashCode();\n    }\n}\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Order\u0026lt;/span\u0026gt; {\n    String[]  items;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;insertOrder\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(String[]  items)\u0026lt;/span\u0026gt;\n    {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.items=items;\n    }\n\n}\n\n\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; java.util.Hashtable;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Main\u0026lt;/span\u0026gt; {\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(String[] args)\u0026lt;/span\u0026gt; {\n\n       Person p1=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Tom\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;32\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;548-56-4412\u0026quot;\u0026lt;/span\u0026gt;);\n        Person p2=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Jerry\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;60\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;456-74-4125\u0026quot;\u0026lt;/span\u0026gt;);\n        Person p3=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Sherry\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;38\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;418-55-1235\u0026quot;\u0026lt;/span\u0026gt;);\n\n        Order order1=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Order\u0026lt;/span\u0026gt;();\n        order1.insertOrder(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;[]{\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;mouse\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;car charger\u0026quot;\u0026lt;/span\u0026gt;});\n\n        Order order2=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Order\u0026lt;/span\u0026gt;();\n        order2.insertOrder(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;[]{\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Multi vitamin\u0026quot;\u0026lt;/span\u0026gt;});\n\n        Order order3=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Order\u0026lt;/span\u0026gt;();\n        order3.insertOrder(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt;[]{\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;handbag\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;iPod\u0026quot;\u0026lt;/span\u0026gt;});\n\n        Hashtable\u0026amp;lt;Person,Order\u0026amp;gt; hashtable=\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Hashtable\u0026lt;/span\u0026gt;\u0026amp;lt;Person,Order\u0026amp;gt;();\n        hashtable.put(p1,order1);\n        hashtable.put(p2,order2);\n        hashtable.put(p3,order3);\n\n       \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//The line below will fail if Person class does not override hashCode()\u0026lt;/span\u0026gt;\n       Order tomOrder= hashtable.get(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Tom\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;32\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;548-56-4412\u0026quot;\u0026lt;/span\u0026gt;));\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt;(String item:tomOrder.items)\n        {\n            System.out.println(item);\n        }\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; method is used to get a unique integer for given object. This integer is used for determining the bucket location, when this object needs to be stored in some \u0026lt;code\u0026gt;HashTable\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;HashMap\u0026lt;/code\u0026gt; like data structure. By default, Objects \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; method returns and integer representation of memory address where object is stored.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; method of objects is used when we insert them into a \u0026lt;code\u0026gt;HashTable\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;HashMap\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;HashSet\u0026lt;/code\u0026gt;. More about \u0026lt;code\u0026gt;HashTables\u0026lt;/code\u0026gt; on Wikipedia.org for reference.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To insert any entry in map data structure, we need both key and value. If both key and values are user define data types, the \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; of the key will be determine where to store the object internally. When require to lookup the object from the map also, the hash code of the key will be determine where to search for the object.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The hash code only points to a certain \u0026quot;area\u0026quot; (or list, bucket etc) internally. Since different key objects could potentially have the same hash code, the hash code itself is no guarantee that the right key is found. The \u0026lt;code\u0026gt;HashTable\u0026lt;/code\u0026gt; then iterates this area (all keys with the same hash code) and uses the key\u0026apos;s \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; method to find the right key. Once the right key is found, the object stored for that key is returned.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So, as we can see, a combination of the \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; methods are used when storing and when looking up objects in a \u0026lt;code\u0026gt;HashTable\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;NOTES:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Always use same attributes of an object to generate \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; both. As in our case, we have used employee id.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; must be consistent (if the objects are not modified, then it must keep returning the same value).\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Whenever \u0026lt;code\u0026gt;a.equals(b)\u0026lt;/code\u0026gt;, then \u0026lt;code\u0026gt;a.hashCode()\u0026lt;/code\u0026gt; must be same as \u0026lt;code\u0026gt;b.hashCode()\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;If you override one, then you should override the other.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://parameshk.blogspot.in/2014/10/examples-of-comparable-comporator.html\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;http://parameshk.blogspot.in/2014/10/examples-of-comparable-comporator.html\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;String class and wrapper classes have different implementation of \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; methods than Object class. equals() method of Object class compares the references of the objects, not the contents. hashCode() method of Object class returns distinct hashcode for every single object whether the contents are same.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It leads problem when you use Map collection and the key is of Persistent type, StringBuffer/builder type. Since they don\u0026apos;t override equals() and hashCode() unlike String class, equals() will return false when you compare two different objects even though both have same contents. It will make the hashMap storing same content keys. Storing same content keys means it is violating the rule of Map because Map doesnt allow duplicate keys at all.\nTherefore you override equals() as well as hashCode() methods in your class and provide the implementation(IDE can generate these methods) so that they work same as String\u0026apos;s equals() and hashCode() and prevent same content keys. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You have to override hashCode() method along with equals() because equals() work according hashcode. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Moreover overriding hashCode() method along with equals() helps to intact the equals()-hashCode() contract: \u0026quot;If two objects are equal, then they must have the same hash code.\u0026quot;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;When do you need to write custom implementation for hashCode()?\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;As we know that internal working of HashMap is on principle of Hashing. There are certain buckets where entrysets get stored. You customize the hashCode() implementation according your requirement so that same category objects can be stored into same index. \nwhen you store the values into Map collection using \u0026lt;code\u0026gt;put(k,v)\u0026lt;/code\u0026gt;method, the internal implementation of put() is:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;put(k, v){\nhash(k);\nindex=hash \u0026amp;amp; (n-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Means, it generates index and the index is generated based on the hashcode of particular key object. So make this method generate hashcode according your requirement because same hashcode entrysets will be stored into same bucket or index. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;That\u0026apos;s it!\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;IMHO, it\u0026apos;s as per the rule says - If two objects are equal then they should have same hash, i.e., equal objects should produce equal hash values.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Given above, default equals() in Object is == which does comparison on the address, hashCode() returns the address in integer(hash on actual address) which is again distinct for distinct Object.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you need to use the custom Objects in the Hash based collections, you need to override both equals() and hashCode(), example If I want to maintain the HashSet of the Employee Objects, if I don\u0026apos;t use stronger hashCode and equals I may endup overriding the two different Employee Objects, this happen when I use the age as the hashCode(), however I should be using the unique value which can be the Employee ID.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;To help you check for duplicate Objects, we need a custom equals and hashCode.\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;Since hashcode always returns a number its always fast to retrieve an object using a number rather than an alphabetic key. \u0026lt;strong\u0026gt;How will it do?\u0026lt;/strong\u0026gt; Assume we created a new object by passing some value which is already available in some other object. Now the new object will return the same hash value as of another object because the value passed is same. Once the same hash value is returned, JVM will go to the same memory address every time and if in case there are more than one objects present for the same hash value it will use equals() method to identify the correct object.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;When you want to store and retrieve your custom object as a key in Map, then you should always override equals and hashCode in your custom Object .\nEg:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;p1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;23\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;p2\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Person\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;23\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;HashMap\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;HashMap\u0026lt;/span\u0026gt;();\nmap.put(p1,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;value 1\u0026quot;\u0026lt;/span\u0026gt;);\nmap.put(p2,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;value 2\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Here p1 \u0026amp;amp; p2 will consider as only one object and \u0026lt;code\u0026gt;map\u0026lt;/code\u0026gt; size will be only 1 because they are equal.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt; {\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; empId;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; String empName;\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; empId, String empName)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;super\u0026lt;/span\u0026gt;();\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.empId = empId;\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.empName = empName;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEmpId\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; empId;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setEmpId\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; empId)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.empId = empId;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; String \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEmpName\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; empName;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setEmpName\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(String empName)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.empName = empName;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; String \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toString\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Employee [empId=\u0026quot;\u0026lt;/span\u0026gt; + empId + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;, empName=\u0026quot;\u0026lt;/span\u0026gt; + empName + \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;]\u0026quot;\u0026lt;/span\u0026gt;;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hashCode\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; empId + empName.hashCode();\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;boolean\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;equals\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Object obj)\u0026lt;/span\u0026gt; {\n\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt; == obj) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;;\n        }\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;instanceof\u0026lt;/span\u0026gt; Employee)) {\n            \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;;\n        }\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;emp\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (Employee) obj;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.getEmpId() == emp.getEmpId() \u0026amp;amp;\u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.getEmpName().equals(emp.getEmpName());\n    }\n\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Test Class \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Test\u0026lt;/span\u0026gt; {\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(String[] args)\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;emp1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;101\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Manash\u0026quot;\u0026lt;/span\u0026gt;);\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;emp2\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;101\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Manash\u0026quot;\u0026lt;/span\u0026gt;);\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;emp3\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Employee\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;103\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Ranjan\u0026quot;\u0026lt;/span\u0026gt;);\n        System.out.println(emp1.hashCode());\n        System.out.println(emp2.hashCode());\n        System.out.println(emp1.equals(emp2));\n        System.out.println(emp1.equals(emp3));\n    }\n\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;In Object Class equals(Object obj) is used to compare address comparesion thats why when in Test class if you compare two objects then equals method giving false but when we override hashcode() the it can compare content and give proper result.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Both the methods are defined in Object class. And both are in its simplest implementation. So when you need you want add some more implementation to these methods then you have override in  your class. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For Ex: equals() method in object only checks its equality on the reference. So if you need compare its state as well then you can override that as it is done in String class.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;There\u0026apos;s no mention in this answer of testing the equals/hashcode contract.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I\u0026apos;ve found the \u0026lt;a href=\u0026quot;https://github.com/jqno/equalsverifier\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;EqualsVerifier\u0026lt;/a\u0026gt; library to be very useful and comprehensive. It is also very easy to use.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Also, building \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; methods from scratch involves a lot of boilerplate code. The \u0026lt;a href=\u0026quot;https://commons.apache.org/proper/commons-lang/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Apache Commons Lang\u0026lt;/a\u0026gt; library provides the \u0026lt;a href=\u0026quot;https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;EqualsBuilder\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;HashCodeBuilder\u0026lt;/a\u0026gt; classes. These classes greatly simplify implementing \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; methods for complex classes.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;As an aside, it\u0026apos;s worth considering overriding the \u0026lt;code\u0026gt;toString()\u0026lt;/code\u0026gt; method to aid debugging. \u0026lt;a href=\u0026quot;https://commons.apache.org/proper/commons-lang/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Apache Commons Lang\u0026lt;/a\u0026gt; library provides the \u0026lt;a href=\u0026quot;https://commons.apache.org/proper/commons-lang/apidocs/index.html?org/apache/commons/lang3/builder/HashCodeBuilder.html\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;ToStringBuilder\u0026lt;/a\u0026gt; class to help with this.\u0026lt;/p\u0026gt;\n    "],"id":539,"title":"Why do I need to override the equals and hashCode methods in Java?","content":"\n                \n\u0026lt;p\u0026gt;Recently I read through this\n\u0026lt;a href=\u0026quot;http://www.ibm.com/developerworks/java/library/j-jtp05273.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt; Developer Works Document\u0026lt;/a\u0026gt;. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The document is all about defining \u0026lt;code\u0026gt;hashCode()\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;equals()\u0026lt;/code\u0026gt; effectively and correctly, however I am not able to figure out why we need to override these two methods. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;How can I take the decision to implement these methods efficiently?\u0026lt;/p\u0026gt;\n    ","slug":"why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java-1657388359877","postType":"QUESTION","createdAt":"2022-07-09T17:39:19.000Z","updatedAt":"2022-07-09T17:39:19.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"Transpose / reshape dataframe without \"timevar\" from long to wide format","slug":"transpose-reshape-dataframe-without-\"timevar\"-from-long-to-wide-format-1657388213347"},{"title":"Get the row(s) which have the max value in groups using groupby","slug":"get-the-row(s)-which-have-the-max-value-in-groups-using-groupby-1657388014787"},{"title":"Short description of the scoping rules?","slug":"short-description-of-the-scoping-rules-1657384853121"},{"title":"Numbering rows within groups in a data frame","slug":"numbering-rows-within-groups-in-a-data-frame-1657388556436"},{"title":"What is a clearfix?","slug":"what-is-a-clearfix-1657387337825"},{"title":"Is there a difference between \"==\" and \"is\"?","slug":"is-there-a-difference-between-\"\"-and-\"is\"-1657387902231"},{"title":"event.preventDefault() vs. return false","slug":"event.preventdefault()-vs.-return-false-1657387458377"},{"title":"Select first row in each GROUP BY group?","slug":"select-first-row-in-each-group-by-group-1657384809388"},{"title":"How do I pass a variable by reference?","slug":"how-do-i-pass-a-variable-by-reference-1657384657232"},{"title":"What is this weird colon-member (\" : \") syntax in the constructor?","slug":"what-is-this-weird-colon-member-(\"-:-\")-syntax-in-the-constructor-1657387264047"},{"title":"In CSS Flexbox, why are there no \"justify-items\" and \"justify-self\" properties?","slug":"in-css-flexbox-why-are-there-no-\"justify-items\"-and-\"justify-self\"-properties-1657384782711"},{"title":"UnboundLocalError on local variable when reassigned after first use","slug":"unboundlocalerror-on-local-variable-when-reassigned-after-first-use-1657387685248"},{"title":"How to avoid having class data shared among instances?","slug":"how-to-avoid-having-class-data-shared-among-instances-1657387687732"},{"title":"How do I declare a 2d array in C++ using new?","slug":"how-do-i-declare-a-2d-array-in-c++-using-new-1657388441163"},{"title":"Reshaping multiple sets of measurement columns (wide format) into single columns (long format)","slug":"reshaping-multiple-sets-of-measurement-columns-(wide-format)-into-single-columns-(long-format)-1657388016983"},{"title":"How do I compare strings in Java?","slug":"how-do-i-compare-strings-in-java-1657384243187"},{"title":"How do I make Git forget about a file that was tracked, but is now in .gitignore?","slug":"how-do-i-make-git-forget-about-a-file-that-was-tracked-but-is-now-in-.gitignore-1657387328843"},{"title":"C++ Singleton design pattern","slug":"c++-singleton-design-pattern-1657387830040"},{"title":"How to include a PHP variable inside a MySQL statement","slug":"how-to-include-a-php-variable-inside-a-mysql-statement-1657387669365"},{"title":"What are metaclasses in Python?","slug":"what-are-metaclasses-in-python-1657387811608"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java-1657388359877"},"buildId":"5tS3Jli5j89_wXapXajXn","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>