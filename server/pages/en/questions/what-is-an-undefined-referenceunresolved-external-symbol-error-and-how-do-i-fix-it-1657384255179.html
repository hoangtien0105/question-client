<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>What is an undefined reference/unresolved external symbol error and how do I fix it? | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="What are undefined reference/unresolved external symbol errors? What are common causes and how to fix/prevent them?
    "/><meta property="og:title" content="What is an undefined reference/unresolved external symbol error and how do I fix it? | Solutions Checker"/><meta property="og:description" content="What are undefined reference/unresolved external symbol errors? What are common causes and how to fix/prevent them?
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"What is an undefined reference/unresolved external symbol error and how do I fix it?","text":"What are undefined reference/unresolved external symbol errors? What are common causes and how to fix/prevent them?\n    ","answerCount":30,"upVoteCount":500,"suggestedAnswer":[{"text":"Compiling a C++ program takes place in several steps, as specified by 2.2 (credits to Keith Thompson for the reference):\n\nThe precedence among the syntax rules of translation is specified by the following phases [see footnote].\n\nPhysical source file characters are mapped, in an implementation-defined manner, to the basic source character set\n(introducing new-line characters for end-of-line indicators) if\nnecessary. [SNIP]\nEach instance of a backslash character (\\) immediately followed by a new-line character is deleted, splicing physical source lines to\nform logical source lines. [SNIP]\nThe source file is decomposed into preprocessing tokens (2.5) and sequences of white-space characters (including comments). [SNIP]\nPreprocessing directives are executed, macro invocations are expanded, and _Pragma unary operator expressions are executed. [SNIP]\nEach source character set member in a character literal or a string literal, as well as each escape sequence and universal-character-name\nin a character literal or a non-raw string literal, is converted to\nthe corresponding member of the execution character set; [SNIP]\nAdjacent string literal tokens are concatenated.\nWhite-space characters separating tokens are no longer significant. Each preprocessing token is converted into a token. (2.7). The\nresulting tokens are syntactically and semantically analyzed and\ntranslated as a translation unit. [SNIP]\nTranslated translation units and instantiation units are combined as follows: [SNIP]\nAll external entity references are resolved. Library components are linked to satisfy external references to entities not defined in the\ncurrent translation. All such translator output is collected into a\nprogram image which contains information needed for execution in its\nexecution environment. (emphasis mine)\n\n[footnote] Implementations must behave as if these separate phases occur, although in practice different phases might be folded together.\n\nThe specified errors occur during this last stage of compilation, most commonly referred to as linking. It basically means that you compiled a bunch of implementation files into object files or libraries and now you want to get them to work together.\nSay you defined symbol a in a.cpp. Now, b.cpp declared that symbol and used it. Before linking, it simply assumes that that symbol was defined somewhere, but it doesn&apos;t yet care where. The linking phase is responsible for finding the symbol and correctly linking it to b.cpp (well, actually to the object or library that uses it).\nIf you&apos;re using Microsoft Visual Studio, you&apos;ll see that projects generate .lib files. These contain a table of exported symbols, and a table of imported symbols. The imported symbols are resolved against the libraries you link against, and the exported symbols are provided for the libraries that use that .lib (if any).\nSimilar mechanisms exist for other compilers/ platforms.\nCommon error messages are error LNK2001, error LNK1120, error LNK2019 for Microsoft Visual Studio and undefined reference to symbolName for GCC.\nThe code:\nstruct X\n{\n   virtual void foo();\n};\nstruct Y : X\n{\n   void foo() {}\n};\nstruct A\n{\n   virtual ~A() = 0;\n};\nstruct B: A\n{\n   virtual ~B(){}\n};\nextern int x;\nvoid foo();\nint main()\n{\n   x = 0;\n   foo();\n   Y y;\n   B b;\n}\n\nwill generate the following errors with GCC:\n/home/AbiSfw/ccvvuHoX.o: In function `main&apos;:\nprog.cpp:(.text+0x10): undefined reference to `x&apos;\nprog.cpp:(.text+0x19): undefined reference to `foo()&apos;\nprog.cpp:(.text+0x2d): undefined reference to `A::~A()&apos;\n/home/AbiSfw/ccvvuHoX.o: In function `B::~B()&apos;:\nprog.cpp:(.text._ZN1BD1Ev[B::~B()]+0xb): undefined reference to `A::~A()&apos;\n/home/AbiSfw/ccvvuHoX.o: In function `B::~B()&apos;:\nprog.cpp:(.text._ZN1BD0Ev[B::~B()]+0x12): undefined reference to `A::~A()&apos;\n/home/AbiSfw/ccvvuHoX.o:(.rodata._ZTI1Y[typeinfo for Y]+0x8): undefined reference to `typeinfo for X&apos;\n/home/AbiSfw/ccvvuHoX.o:(.rodata._ZTI1B[typeinfo for B]+0x8): undefined reference to `typeinfo for A&apos;\ncollect2: ld returned 1 exit status\n\nand similar errors with Microsoft Visual Studio:\n1&gt;test2.obj : error LNK2001: unresolved external symbol &quot;void __cdecl foo(void)&quot; (?foo@@YAXXZ)\n1&gt;test2.obj : error LNK2001: unresolved external symbol &quot;int x&quot; (?x@@3HA)\n1&gt;test2.obj : error LNK2001: unresolved external symbol &quot;public: virtual __thiscall A::~A(void)&quot; (??1A@@UAE@XZ)\n1&gt;test2.obj : error LNK2001: unresolved external symbol &quot;public: virtual void __thiscall X::foo(void)&quot; (?foo@X@@UAEXXZ)\n1&gt;...\\test2.exe : fatal error LNK1120: 4 unresolved externals\n\nCommon causes include:\n\nFailure to link against appropriate libraries/object files or compile implementation files\nDeclared and undefined variable or function.\nCommon issues with class-type members\nTemplate implementations not visible.\nSymbols were defined in a C program and used in C++ code.\nIncorrectly importing/exporting methods/classes across modules/dll. (MSVS specific)\nCircular library dependency\nundefined reference to `WinMain@16&apos;\nInterdependent library order\nMultiple source files of the same name\nMistyping or not including the .lib extension when using the #pragma (Microsoft Visual Studio)\nProblems with template friends\nInconsistent UNICODE definitions\nMissing &quot;extern&quot; in const variable declarations/definitions (C++ only)\nVisual Studio Code not configured for a multiple file project\n\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"Class members:\n\nA pure virtual destructor needs an implementation.\n\nDeclaring a destructor pure still requires you to define it (unlike a regular function):\n\nstruct X\n{\n    virtual ~X() = 0;\n};\nstruct Y : X\n{\n    ~Y() {}\n};\nint main()\n{\n    Y y;\n}\n//X::~X(){} //uncomment this line for successful definition\n\n\nThis happens because base class destructors are called when the object is destroyed implicitly, so a definition is required.    \n\nvirtual methods must either be implemented or defined as pure.\n\nThis is similar to non-virtual methods with no definition, with the added reasoning that \nthe pure declaration generates a dummy vtable and you might get the linker error without using the function:\n\nstruct X\n{\n    virtual void foo();\n};\nstruct Y : X\n{\n   void foo() {}\n};\nint main()\n{\n   Y y; //linker error although there was no call to X::foo\n}\n\n\nFor this to work, declare X::foo() as pure:\n\nstruct X\n{\n    virtual void foo() = 0;\n};\n\n\nNon-virtual class members\n\nSome members need to be defined even if not used explicitly:\n\nstruct A\n{ \n    ~A();\n};\n\n\nThe following would yield the error:\n\nA a;      //destructor undefined\n\n\nThe implementation can be inline, in the class definition itself:\n\nstruct A\n{ \n    ~A() {}\n};\n\n\nor outside:\n\nA::~A() {}\n\n\nIf the implementation is outside the class definition, but in a header, the methods have to be marked as inline to prevent a multiple definition.\n\nAll used member methods need to be defined if used.\n\nA common mistake is forgetting to qualify the name:\n\nstruct A\n{\n   void foo();\n};\n\nvoid foo() {}\n\nint main()\n{\n   A a;\n   a.foo();\n}\n\n\nThe definition should be\n\nvoid A::foo() {}\n\n\nstatic data members must be defined outside the class in a single translation unit:\n\nstruct X\n{\n    static int x;\n};\nint main()\n{\n    int x = X::x;\n}\n//int X::x; //uncomment this line to define X::x\n\n\nAn initializer can be provided for a static const data member of integral or enumeration type within the class definition; however, odr-use of this member will still require a namespace scope definition as described above. C++11 allows initialization inside the class for all static const data members.\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"Failure to link against appropriate libraries/object files or compile implementation files\nCommonly, each translation unit will generate an object file that contains the definitions of the symbols defined in that translation unit.\nTo use those symbols, you have to link against those object files.\nUnder gcc you would specify all object files that are to be linked together in the command line, or compile the implementation files together.\ng++ -o test objectFile1.o objectFile2.o -lLibraryName\n\n-l... must be to the right of any .o/.c/.cpp files.\nThe libraryName here is just the bare name of the library, without platform-specific additions. So e.g. on Linux library files are usually called libfoo.so but you&apos;d only write -lfoo. On Windows that same file might be called foo.lib, but you&apos;d use the same argument. You might have to add the directory where those files can be found using -Ldirectory. Make sure to not write a space after -l or -L.\nFor XCode:  Add the User Header Search Paths -&gt; add the Library Search Path -&gt; drag and drop the actual library reference into the project folder.\nUnder MSVS, files added to a project automatically have their object files linked together and a lib file would be generated (in common usage). To use the symbols in a separate project, you&apos;d\nneed to include the lib files in the project settings. This is done in the Linker section of the project properties, in Input -&gt; Additional Dependencies. (the path to the lib file should be\nadded in Linker -&gt; General -&gt; Additional Library Directories) When using a third-party library that is provided with a lib file, failure to do so usually results in the error.\nIt can also happen that you forget to add the file to the compilation, in which case the object file won&apos;t be generated. In gcc you&apos;d add the files to the command line. In MSVS adding the file to the project will make it compile it automatically (albeit files can, manually, be individually excluded from the build).\nIn Windows programming, the tell-tale sign that you did not link a necessary library is that the name of the unresolved symbol begins with __imp_. Look up the name of the function in the documentation, and it should say which library you need to use. For example, MSDN puts the information in a box at the bottom of each function in a section called &quot;Library&quot;.\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"Declared but did not define a variable or function.\nA typical variable declaration is\nextern int x;\n\nAs this is only a declaration, a single definition is needed. A corresponding definition would be:\nint x;\n\nFor example, the following would generate an error:\nextern int x;\nint main()\n{\n    x = 0;\n}\n//int x; // uncomment this line for successful definition\n\nSimilar remarks apply to functions. Declaring a function without defining it leads to the error:\nvoid foo(); // declaration only\nint main()\n{\n   foo();\n}\n//void foo() {} //uncomment this line for successful definition\n\nBe careful that the function you implement exactly matches the one you declared. For example, you may have mismatched cv-qualifiers:\nvoid foo(int&amp; x);\nint main()\n{\n   int x;\n   foo(x);\n}\nvoid foo(const int&amp; x) {} //different function, doesn&apos;t provide a definition\n                          //for void foo(int&amp; x)\n                          \n\nOther examples of mismatches include\n\nFunction/variable declared in one namespace, defined in another.\nFunction/variable declared as class member, defined as global (or vice versa).\nFunction return type, parameter number and types, and calling convention do not all exactly agree.\n\nThe error message from the compiler will often give you the full declaration of the variable or function that was declared but never defined. Compare it closely to the definition you provided. Make sure every detail matches.\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"The order in which interdependent linked libraries are specified is wrong.\nThe order in which libraries are linked DOES matter if the libraries depend on each other. In general, if library A depends on library B, then libA MUST appear before libB in the linker flags.\nFor example:\n// B.h\n#ifndef B_H\n#define B_H\n\nstruct B {\n    B(int);\n    int x;\n};\n\n#endif\n\n// B.cpp\n#include &quot;B.h&quot;\nB::B(int xx) : x(xx) {}\n\n// A.h\n#include &quot;B.h&quot;\n\nstruct A {\n    A(int x);\n    B b;\n};\n\n// A.cpp\n#include &quot;A.h&quot;\n\nA::A(int x) : b(x) {}\n\n// main.cpp\n#include &quot;A.h&quot;\n\nint main() {\n    A a(5);\n    return 0;\n};\n\nCreate the libraries:\n$ g++ -c A.cpp\n$ g++ -c B.cpp\n$ ar rvs libA.a A.o \nar: creating libA.a\na - A.o\n$ ar rvs libB.a B.o \nar: creating libB.a\na - B.o\n\nCompile:\n$ g++ main.cpp -L. -lB -lA\n./libA.a(A.o): In function `A::A(int)&apos;:\nA.cpp:(.text+0x1c): undefined reference to `B::B(int)&apos;\ncollect2: error: ld returned 1 exit status\n$ g++ main.cpp -L. -lA -lB\n$ ./a.out\n\nSo to repeat again, the order DOES matter!\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"what is an &quot;undefined reference/unresolved external symbol&quot;\n\nI&apos;ll try to explain what is an &quot;undefined reference/unresolved external symbol&quot;.\n\n\n  note: i use g++ and Linux and all examples is for it \n\n\nFor example we have some code\n\n// src1.cpp\nvoid print();\n\nstatic int local_var_name; // &apos;static&apos; makes variable not visible for other modules\nint global_var_name = 123;\n\nint main()\n{\n    print();\n    return 0;\n}\n\n\nand\n\n// src2.cpp\nextern &quot;C&quot; int printf (const char*, ...);\n\nextern int global_var_name;\n//extern int local_var_name;\n\nvoid print ()\n{\n    // printf(&quot;%d%d\\n&quot;, global_var_name, local_var_name);\n    printf(&quot;%d\\n&quot;, global_var_name);\n}\n\n\nMake object files\n\n$ g++ -c src1.cpp -o src1.o\n$ g++ -c src2.cpp -o src2.o\n\n\nAfter the assembler phase we have an object file, which contains any symbols to export. \nLook at the symbols\n\n$ readelf --symbols src1.o\n  Num:    Value          Size Type    Bind   Vis      Ndx Name\n     5: 0000000000000000     4 OBJECT  LOCAL  DEFAULT    4 _ZL14local_var_name # [1]\n     9: 0000000000000000     4 OBJECT  GLOBAL DEFAULT    3 global_var_name     # [2]\n\n\nI&apos;ve rejected some lines from output, because they do not matter\n\nSo, we see follow symbols to export.\n\n[1] - this is our static (local) variable (important - Bind has a type &quot;LOCAL&quot;)\n[2] - this is our global variable\n\n\nsrc2.cpp exports nothing and we have seen no its symbols\n\nLink our object files\n\n$ g++ src1.o src2.o -o prog\n\n\nand run it\n\n$ ./prog\n123\n\n\nLinker sees exported symbols and links it. Now we try to uncomment lines in src2.cpp like here\n\n// src2.cpp\nextern &quot;C&quot; int printf (const char*, ...);\n\nextern int global_var_name;\nextern int local_var_name;\n\nvoid print ()\n{\n    printf(&quot;%d%d\\n&quot;, global_var_name, local_var_name);\n}\n\n\nand rebuild an object file\n\n$ g++ -c src2.cpp -o src2.o\n\n\nOK (no errors), because we only build object file, linking is not done yet.\nTry to link\n\n$ g++ src1.o src2.o -o prog\nsrc2.o: In function `print()&apos;:\nsrc2.cpp:(.text+0x6): undefined reference to `local_var_name&apos;\ncollect2: error: ld returned 1 exit status\n\n\nIt has happened because our local_var_name is static, i.e. it is not visible for other modules. \nNow more deeply. Get the translation phase output\n\n$ g++ -S src1.cpp -o src1.s\n\n// src1.s\nlook src1.s\n\n    .file   &quot;src1.cpp&quot;\n    .local  _ZL14local_var_name\n    .comm   _ZL14local_var_name,4,4\n    .globl  global_var_name\n    .data\n    .align 4\n    .type   global_var_name, @object\n    .size   global_var_name, 4\nglobal_var_name:\n    .long   123\n    .text\n    .globl  main\n    .type   main, @function\nmain:\n; assembler code, not interesting for us\n.LFE0:\n    .size   main, .-main\n    .ident  &quot;GCC: (Ubuntu 4.8.2-19ubuntu1) 4.8.2&quot;\n    .section    .note.GNU-stack,&quot;&quot;,@progbits\n\n\nSo, we&apos;ve seen there is no label for local_var_name, that&apos;s why linker hasn&apos;t found it. But we are hackers :) and we can fix it. Open src1.s in your text editor and change\n\n.local  _ZL14local_var_name\n.comm   _ZL14local_var_name,4,4\n\n\nto \n\n    .globl  local_var_name\n    .data\n    .align 4\n    .type   local_var_name, @object\n    .size   local_var_name, 4\nlocal_var_name:\n    .long   456789\n\n\ni.e. you should have like below\n\n    .file   &quot;src1.cpp&quot;\n    .globl  local_var_name\n    .data\n    .align 4\n    .type   local_var_name, @object\n    .size   local_var_name, 4\nlocal_var_name:\n    .long   456789\n    .globl  global_var_name\n    .align 4\n    .type   global_var_name, @object\n    .size   global_var_name, 4\nglobal_var_name:\n    .long   123\n    .text\n    .globl  main\n    .type   main, @function\nmain:\n; ...\n\n\nwe have changed the visibility of local_var_name and set its value to 456789.\nTry to build an object file from it\n\n$ g++ -c src1.s -o src2.o\n\n\nok, see readelf output (symbols)\n\n$ readelf --symbols src1.o\n8: 0000000000000000     4 OBJECT  GLOBAL DEFAULT    3 local_var_name\n\n\nnow local_var_name has Bind GLOBAL (was LOCAL)\n\nlink\n\n$ g++ src1.o src2.o -o prog\n\n\nand run it\n\n$ ./prog \n123456789\n\n\nok, we hack it :)\n\nSo, as a result - an &quot;undefined reference/unresolved external symbol error&quot; happens when the linker cannot find global symbols in the object files.\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"Symbols were defined in a C program and used in C++ code.\nThe function (or variable) void foo() was defined in a C program and you attempt to use it in a C++ program:\nvoid foo();\nint main()\n{\n    foo();\n}\n\nThe C++ linker expects names to be mangled, so you have to declare the function as:\nextern &quot;C&quot; void foo();\nint main()\n{\n    foo();\n}\n\nEquivalently, instead of being defined in a C program, the function (or variable) void foo() was defined in C++ but with C linkage:\nextern &quot;C&quot; void foo();\n\nand you attempt to use it in a C++ program with C++ linkage.\nIf an entire library is included in a header file (and was compiled as C code); the include will need to be as follows;\nextern &quot;C&quot; {\n    #include &quot;cheader.h&quot;\n}\n\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"If all else fails, recompile.\n\nI was recently able to get rid of an unresolved external error in Visual Studio 2012 just by recompiling the offending file. When I re-built, the error went away. \n\nThis usually happens when two (or more) libraries have a cyclic dependency. Library A attempts to use symbols in B.lib and library B attempts to use symbols from A.lib. Neither exist to start off with. When you attempt to compile A, the link step will fail because it can&apos;t find B.lib. A.lib will be generated, but no dll. You then compile B, which will succeed and generate B.lib. Re-compiling A will now work because B.lib is now found.\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"Template implementations not visible.\nUnspecialized templates must have their definitions visible to all translation units that use them. That means you can&apos;t separate the definition of a template\nto an implementation file. If you must separate the implementation, the usual workaround is to have an impl file which you include at the end of the header that\ndeclares the template. A common situation is:\ntemplate&lt;class T&gt;\nstruct X\n{\n    void foo();\n};\n\nint main()\n{\n    X&lt;int&gt; x;\n    x.foo();\n}\n\n//differentImplementationFile.cpp\ntemplate&lt;class T&gt;\nvoid X&lt;T&gt;::foo()\n{\n}\n\nTo fix this, you must move the definition of X::foo to the header file or some place visible to the translation unit that uses it.\nSpecialized templates can be implemented in an implementation file and the implementation doesn&apos;t have to be visible, but the specialization must be previously declared.\nFor further explanation and another possible solution (explicit instantiation) see this question and answer.\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"This is one of most confusing error messages that every VC++ programmers have seen time and time again. Lets make things clarity first.\n\nA. What is symbol?\nIn short, a symbol is a name. It can be a variable name, a function name, a class name, a typedef name, or anything except those names and signs that belong to C++ language. It is user defined or introduced by a dependency library (another user-defined).\n\nB. What is external?\nIn VC++, every source file (.cpp,.c,etc.) is considered as a translation unit, the compiler compiles one unit at a time, and generate one object file(.obj) for the current translation unit. (Note that every header file that this source file included will be preprocessed and will be considered as part of this translation unit)Everything within a translation unit is considered as internal, everything else is considered as external. In C++, you may reference an external symbol by using keywords like extern, __declspec (dllimport) and so on.\n\nC. What is resolve?\nResolve is a linking-time term. In linking-time, linker attempts to find the external definition for every symbol in object files that cannot find its definition internally. The scope of this searching process including:\n\n\nAll object files that generated in compiling time\nAll libraries (.lib) that are either explicitly or implicitly\nspecified as additional dependencies of this building application.\n\n\nThis searching process is called resolve.\n\nD. Finally, why Unresolved External Symbol?\nIf the linker cannot find the external definition for a symbol that has no definition internally, it reports an Unresolved External Symbol error.\n\nE. Possible causes of LNK2019: Unresolved External Symbol error.\nWe already know that this error is due to the linker failed to find the definition of external symbols, the possible causes can be sorted as:\n\n\nDefinition exists\n\n\nFor example, if we have a function called foo defined in a.cpp:\n\nint foo()\n{\n    return 0;\n}\n\n\nIn b.cpp we want to call function foo, so we add\n\nvoid foo();\n\n\nto declare function foo(), and call it in another function body, say bar():\n\nvoid bar()\n{\n    foo();\n}\n\n\nNow when you build this code you will get a LNK2019 error complaining that foo is an unresolved symbol. In this case, we know that foo() has its definition in a.cpp, but different from the one we are calling(different return value). This is the case that definition exists.\n\n\nDefinition does not exist\n\n\nIf we want to call some functions in a library, but the import library is not added into the additional dependency list (set from: Project | Properties | Configuration Properties | Linker | Input | Additional Dependency) of your project setting. Now the linker will report a LNK2019 since the definition does not exist in current searching scope.\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"Incorrectly importing/exporting methods/classes across modules/dll (compiler specific).\nMSVS requires you to specify which symbols to export and import using __declspec(dllexport) and __declspec(dllimport).\nThis dual functionality is usually obtained through the use of a macro:\n#ifdef THIS_MODULE\n#define DLLIMPEXP __declspec(dllexport)\n#else\n#define DLLIMPEXP __declspec(dllimport)\n#endif\n\nThe macro THIS_MODULE would only be defined in the module that exports the function. That way, the declaration:\nDLLIMPEXP void foo();\n\nexpands to\n__declspec(dllexport) void foo();\n\nand tells the compiler to export the function, as the current module contains its definition. When including the declaration in a different module, it would expand to\n__declspec(dllimport) void foo();\n\nand tells the compiler that the definition is in one of the libraries you linked against (also see 1)).\nYou can similary import/export classes:\nclass DLLIMPEXP X\n{\n};\n\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"undefined reference to WinMain@16 or similar &apos;unusual&apos; main() entry point reference (especially for visual-studio).\n\nYou may have missed to choose the right project type with your actual IDE. The IDE may want to bind e.g. Windows Application projects to such entry point function (as specified in the missing reference above), instead of the commonly used int main(int argc, char** argv); signature.\n\nIf your IDE supports Plain Console Projects you might want to choose this project type, instead of a windows application project.\n\n\n\nHere are case1 and case2 handled in more detail from a real world problem.\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"Also if you&apos;re using 3rd party libraries make sure you have the correct 32/64 bit binaries\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0},{"text":"Microsoft offers a #pragma to reference the correct library at link time;\n\n#pragma comment(lib, &quot;libname.lib&quot;)\n\n\nIn addition to the library path including the directory of the library, this should be the full name of the library.\n    ","url":"/questions/[slug]#solution14","@type":"Answer","upvoteCount":0},{"text":"Visual Studio NuGet package needs to be updated for new toolset version\n\nI just had this problem trying to link libpng with Visual Studio 2013.  The problem is that the package file only had libraries for Visual Studio 2010 and 2012.\n\nThe correct solution is to hope the developer releases an updated package and then upgrade, but it worked for me by hacking in an extra setting for VS2013, pointing at the VS2012 library files.\n\nI edited the package (in the packages folder inside the solution&apos;s directory) by finding packagename\\build\\native\\packagename.targets and inside that file, copying all the v110 sections.  I changed the v110 to v120 in the condition fields only being very careful to leave the filename paths all as v110.  This simply allowed Visual Studio 2013 to link to the libraries for 2012, and in this case, it worked.\n    ","url":"/questions/[slug]#solution15","@type":"Answer","upvoteCount":0},{"text":"Suppose you have a big project written in c++ which has a thousand of .cpp files and a thousand of .h files.And let&apos;s says the project also depends on ten static libraries. Let&apos;s says we are on Windows and we build our project in Visual Studio 20xx. When you press Ctrl + F7 Visual Studio to start compiling the whole solution ( suppose we have just one project in the solution )\n\nWhat&apos;s the meaning of compilation ?\n\n\nVisual Studio search into file .vcxproj and start compiling each file which has the extension .cpp. Order of compilation is undefined.So you must not assume that the file main.cpp is compiled first\nIf .cpp files depends on   additional .h files  in order to find symbols\nthat may or may not be defined in the file .cpp\nIf exists one .cpp file in which the compiler could not find one symbol, a compiler time error raises the message Symbol x could not be found\nFor each file with extension .cpp is generated an object file .o and also Visual Studio writes the output in a file named ProjectName.Cpp.Clean.txt which contains all object files that must be processed by the linker.\n\n\nThe Second step of compilation is done by Linker.Linker should merge all the object file and build finally the output ( which may be an executable or a library)\n\nSteps In Linking a project    \n\n\nParse all the object files and find the definition which was only declared in headers ( eg: The code of one method of a class as is mentioned in previous answers, or event the initialization of a static variable which is member inside a class)\nIf one symbol could not be found in object files he also is searched in Additional Libraries.For adding a new library to a project Configuration properties -&gt; VC++ Directories  -&gt; Library Directories and here you specified additional folder for searching libraries and Configuration properties -&gt; Linker -&gt; Input for specifying the name of the library. \n-If the Linker could not find the symbol which you write in one .cpp he raises a linker time error which may sound like \nerror LNK2001: unresolved external symbol &quot;void __cdecl foo(void)&quot; (?foo@@YAXXZ)\n\n\nObservation\n\n\nOnce the Linker find one symbol he doesn&apos;t search in other libraries for it\nThe order of linking libraries does matter.\nIf Linker finds an external symbol in one static library he includes the symbol in the output of the project.However, if the library is shared( dynamic ) he doesn&apos;t include the code ( symbols ) in output, but  Run-Time crashes may occur\n\n\nHow To Solve this kind of error\n\nCompiler Time Error : \n\n\nMake sure you write your c++ project syntactical correct.\n\n\nLinker Time Error\n\n\nDefine all your symbol which you declare in your header files\nUse #pragma once for allowing compiler not to include one header if it was already included in the current .cpp which are compiled\nMake sure that your external library doesn&apos;t contain symbols that may enter into conflict with other symbols you defined in your header files\nWhen you use the template to make sure you include the definition of each template function in the header file for allowing the compiler to generate appropriate code for any instantiations.  \n\n    ","url":"/questions/[slug]#solution16","@type":"Answer","upvoteCount":0},{"text":"Use the linker to help diagnose the error\nMost modern linkers include a verbose option that prints out to varying degrees;\n\nLink invocation (command line),\nData on what libraries are included in the link stage,\nThe location of the libraries,\nSearch paths used.\n\nFor gcc and clang; you would typically add -v -Wl,--verbose or -v -Wl,-v to the command line. More details can be found here;\n\nLinux ld man page.\nLLVM linker page.\n&quot;An introduction to GCC&quot; chapter 9.\n\nFor MSVC, /VERBOSE (in particular /VERBOSE:LIB) is added to the link command line.\n\nThe MSDN page on the /VERBOSE linker option.\n\n    ","url":"/questions/[slug]#solution17","@type":"Answer","upvoteCount":0},{"text":"A bug in the compiler/IDE\n\nI recently had this problem, and it turned out it was a bug in Visual Studio Express 2013. I had to remove a source file from the project and re-add it to overcome the bug.\n\nSteps to try if you believe it could be a bug in compiler/IDE:\n\n\nClean the project (some IDEs have an option to do this, you can also\nmanually do it by deleting the object files)\nTry start a new project,\ncopying all source code from the original one.\n\n    ","url":"/questions/[slug]#solution18","@type":"Answer","upvoteCount":0},{"text":"Linked .lib file is associated to a .dll\n\nI had the same issue. Say i have projects MyProject and TestProject. I had effectively linked the lib file for MyProject to the TestProject. However, this lib file was produced as the DLL for the MyProject was built. Also, I did not contain source code for all methods in the MyProject, but only access to the DLL&apos;s entry points. \n\nTo solve the issue, i built the MyProject as a LIB, and linked TestProject to this .lib file (i copy paste the generated .lib file into the TestProject folder). I can then build again MyProject as a DLL. It is compiling since the lib to which TestProject is linked does contain code for all methods in classes in MyProject. \n    ","url":"/questions/[slug]#solution19","@type":"Answer","upvoteCount":0},{"text":"Since people seem to be directed to this question when it comes to linker errors I am going to add this here.\n\nOne possible reason for linker errors with GCC 5.2.0 is that a new libstdc++ library ABI is now chosen by default.\n\n\n  If you get linker errors about undefined references to symbols that involve types in the std::__cxx11 namespace or the tag [abi:cxx11] then it probably indicates that you are trying to link together object files that were compiled with different values for the _GLIBCXX_USE_CXX11_ABI macro. This commonly happens when linking to a third-party library that was compiled with an older version of GCC. If the third-party library cannot be rebuilt with the new ABI then you will need to recompile your code with the old ABI.\n\n\nSo if you suddenly get linker errors when switching to a GCC after 5.1.0 this would be a thing to check out.\n    ","url":"/questions/[slug]#solution20","@type":"Answer","upvoteCount":0},{"text":"Your linkage consumes libraries before the object files that refer to them\n\n\nYou are trying to compile and link your program with the GCC toolchain.\nYour linkage specifies all of the necessary libraries and library search paths\nIf libfoo depends on libbar, then your linkage correctly puts libfoo before libbar.\nYour linkage fails with undefined reference to something errors.\nBut all the undefined somethings are declared in the header files you have\n#included and are in fact defined in the libraries that you are linking.\n\n\nExamples are in C. They could equally well be C++\n\nA minimal example involving a static library you built yourself\n\nmy_lib.c\n\n#include &quot;my_lib.h&quot;\n#include &lt;stdio.h&gt;\n\nvoid hw(void)\n{\n    puts(&quot;Hello World&quot;);\n}\n\n\nmy_lib.h\n\n#ifndef MY_LIB_H\n#define MT_LIB_H\n\nextern void hw(void);\n\n#endif\n\n\neg1.c\n\n#include &lt;my_lib.h&gt;\n\nint main()\n{\n    hw();\n    return 0;\n}\n\n\nYou build your static library:\n\n$ gcc -c -o my_lib.o my_lib.c\n$ ar rcs libmy_lib.a my_lib.o\n\n\nYou compile your program:\n\n$ gcc -I. -c -o eg1.o eg1.c\n\n\nYou try to link it with libmy_lib.a and fail:\n\n$ gcc -o eg1 -L. -lmy_lib eg1.o \neg1.o: In function `main&apos;:\neg1.c:(.text+0x5): undefined reference to `hw&apos;\ncollect2: error: ld returned 1 exit status\n\n\nThe same result if you compile and link in one step, like:\n\n$ gcc -o eg1 -I. -L. -lmy_lib eg1.c\n/tmp/ccQk1tvs.o: In function `main&apos;:\neg1.c:(.text+0x5): undefined reference to `hw&apos;\ncollect2: error: ld returned 1 exit status\n\n\nA minimal example involving a shared system library, the compression library libz\n\neg2.c\n\n#include &lt;zlib.h&gt;\n#include &lt;stdio.h&gt;\n\nint main()\n{\n    printf(&quot;%s\\n&quot;,zlibVersion());\n    return 0;\n}\n\n\nCompile your program:\n\n$ gcc -c -o eg2.o eg2.c\n\n\nTry to link your program with libz and fail:\n\n$ gcc -o eg2 -lz eg2.o \neg2.o: In function `main&apos;:\neg2.c:(.text+0x5): undefined reference to `zlibVersion&apos;\ncollect2: error: ld returned 1 exit status\n\n\nSame if you compile and link in one go:\n\n$ gcc -o eg2 -I. -lz eg2.c\n/tmp/ccxCiGn7.o: In function `main&apos;:\neg2.c:(.text+0x5): undefined reference to `zlibVersion&apos;\ncollect2: error: ld returned 1 exit status\n\n\nAnd a variation on example 2 involving pkg-config:\n\n$ gcc -o eg2 $(pkg-config --libs zlib) eg2.o \neg2.o: In function `main&apos;:\neg2.c:(.text+0x5): undefined reference to `zlibVersion&apos;\n\n\nWhat are you doing wrong?\n\nIn the sequence of object files and libraries you want to link to make your\nprogram, you are placing the libraries before the object files that refer to\nthem. You need to place the libraries after the object files that refer\nto them.\n\nLink example 1 correctly:\n\n$ gcc -o eg1 eg1.o -L. -lmy_lib\n\n\nSuccess:\n\n$ ./eg1 \nHello World\n\n\nLink example 2 correctly:\n\n$ gcc -o eg2 eg2.o -lz\n\n\nSuccess:\n\n$ ./eg2 \n1.2.8\n\n\nLink the example 2 pkg-config variation correctly:\n\n$ gcc -o eg2 eg2.o $(pkg-config --libs zlib) \n$ ./eg2\n1.2.8\n\n\nThe explanation\n\nReading is optional from here on.\n\nBy default, a linkage command generated by GCC, on your distro,\nconsumes the files in the linkage from left to right in\ncommandline sequence. When it finds that a file refers to something\nand does not contain a definition for it, to will search for a definition\nin files further to the right. If it eventually finds a definition, the\nreference is resolved. If any references remain unresolved at the end,\nthe linkage fails: the linker does not search backwards.\n\nFirst, example 1, with static library my_lib.a\n\nA static library is an indexed archive of object files. When the linker\nfinds -lmy_lib in the linkage sequence and figures out that this refers\nto the static library ./libmy_lib.a, it wants to know whether your program\nneeds any of the object files in libmy_lib.a.\n\nThere is only object file in libmy_lib.a, namely my_lib.o, and there&apos;s only one thing defined\nin my_lib.o, namely the function hw.\n\nThe linker will decide that your program needs my_lib.o if and only if it already knows that\nyour program refers to hw, in one or more of the object files it has already\nadded to the program, and that none of the object files it has already added\ncontains a definition for hw.\n\nIf that is true, then the linker will extract a copy of my_lib.o from the library and\nadd it to your program. Then, your program contains a definition for hw, so\nits references to hw are resolved.\n\nWhen you try to link the program like:\n\n$ gcc -o eg1 -L. -lmy_lib eg1.o\n\n\nthe linker has not added eg1.o to the program when it sees\n-lmy_lib. Because at that point, it has not seen eg1.o.\nYour program does not yet make any references to hw: it\ndoes not yet make any references at all, because all the references it makes\nare in eg1.o.\n\nSo the linker does not add my_lib.o to the program and has no further\nuse for libmy_lib.a.\n\nNext, it finds eg1.o, and adds it to be program. An object file in the\nlinkage sequence is always added to the program. Now, the program makes\na reference to hw, and does not contain a definition of hw; but\nthere is nothing left in the linkage sequence that could provide the missing\ndefinition. The reference to hw ends up unresolved, and the linkage fails.\n\nSecond, example 2, with shared library libz\n\nA shared library isn&apos;t an archive of object files or anything like it. It&apos;s\nmuch more like a program that doesn&apos;t have a main function and\ninstead exposes multiple other symbols that it defines, so that other\nprograms can use them at runtime.\n\nMany Linux distros today configure their GCC toolchain so that its language drivers (gcc,g++,gfortran etc)\ninstruct the system linker (ld) to link shared libraries on an as-needed basis.\nYou have got one of those distros.\n\nThis means that when the linker finds -lz in the linkage sequence, and figures out that this refers \nto the shared library (say) /usr/lib/x86_64-linux-gnu/libz.so, it wants to know whether any references that it has added to your program that aren&apos;t yet defined have definitions that are exported by libz\n\nIf that is true, then the linker will not copy any chunks out of libz and\nadd them to your program; instead, it will just doctor the code of your program \nso that:-\n\n\nAt runtime, the system program loader will load a copy of libz into the\nsame process as your program whenever it loads a copy of your program, to run it.\nAt runtime, whenever your program refers to something that is defined in\nlibz, that reference uses the definition exported by the copy of libz in\nthe same process.\n\n\nYour program wants to refer to just one thing that has a definition exported by libz,\nnamely the function zlibVersion, which is referred to just once, in eg2.c.\nIf the linker adds that reference to your program, and then finds the definition\nexported by libz, the reference is resolved \n\nBut when you try to link the program like:\n\ngcc -o eg2 -lz eg2.o\n\n\nthe order of events is wrong in just the same way as with example 1.\nAt the point when the linker finds -lz, there are no references to anything\nin the program: they are all in eg2.o, which has not yet been seen. So the\nlinker decides it has no use for libz. When it reaches eg2.o, adds it to the program,\nand then has undefined reference to zlibVersion, the linkage sequence is finished;\nthat reference is unresolved, and the linkage fails.\n\nLastly, the pkg-config variation of example 2 has a now obvious explanation.\nAfter shell-expansion:\n\ngcc -o eg2 $(pkg-config --libs zlib) eg2.o\n\n\nbecomes:\n\ngcc -o eg2 -lz eg2.o\n\n\nwhich is just example 2 again.\n\nI can reproduce the problem in example 1, but not in example 2\n\nThe linkage:\n\ngcc -o eg2 -lz eg2.o\n\n\nworks just fine for you!\n\n(Or: That linkage worked fine for you on, say, Fedora 23, but fails on Ubuntu 16.04)\n\nThat&apos;s because the distro on which the linkage works is one of the ones that \ndoes not configure its GCC toolchain to link shared libraries as-needed.\n\nBack in the day, it was normal for unix-like systems to link static and shared \nlibraries by different rules. Static libraries in a linkage sequence were linked \non the as-needed basis explained in example 1, but shared libraries were linked unconditionally.\n\nThis behaviour is economical at linktime because the linker doesn&apos;t have to ponder\nwhether a shared library is needed by the program: if it&apos;s a shared library,\nlink it. And most libraries in most linkages are shared libraries. But there are disadvantages too:-\n\n\nIt is uneconomical at runtime, because it can cause shared libraries to be\nloaded along with a program even if doesn&apos;t need them.\nThe different linkage rules for static and shared libraries can be confusing\nto inexpert programmers, who may not know whether -lfoo in their linkage\nis going to resolve to /some/where/libfoo.a or to /some/where/libfoo.so,\nand might not understand the difference between shared and static libraries\nanyway.\n\n\nThis trade-off has led to the schismatic situation today. Some distros have\nchanged their GCC linkage rules for shared libraries so that the as-needed\nprinciple applies for all libraries. Some distros have stuck with the old\nway.\n\nWhy do I still get this problem even if I compile-and-link at the same time?\n\nIf I just do:\n\n$ gcc -o eg1 -I. -L. -lmy_lib eg1.c\n\n\nsurely gcc has to compile eg1.c first, and then link the resulting\nobject file with libmy_lib.a.  So how can it not know that object file\nis needed when it&apos;s doing the linking?\n\nBecause compiling and linking with a single command does not change the\norder of the linkage sequence.\n\nWhen you run the command above, gcc figures out that you want compilation +\nlinkage. So behind the scenes, it generates a compilation command, and runs\nit, then generates a linkage command, and runs it, as if you had run the\ntwo commands:\n\n$ gcc -I. -c -o eg1.o eg1.c\n$ gcc -o eg1 -L. -lmy_lib eg1.o\n\n\nSo the linkage fails just as it does if you do run those two commands. The\nonly difference you notice in the failure is that gcc has generated a\ntemporary object file in the compile + link case, because you&apos;re not telling it\nto use eg1.o. We see:\n\n/tmp/ccQk1tvs.o: In function `main&apos;\n\n\ninstead of:\n\neg1.o: In function `main&apos;:\n\n\nSee also\n\nThe order in which interdependent linked libraries are specified is wrong\n\nPutting interdependent libraries in the wrong order is just one way\nin which you can get files that need definitions of things coming\nlater in the linkage than the files that provide the definitions. Putting libraries before the \nobject files that refer to them is another way of making the same mistake.\n    ","url":"/questions/[slug]#solution21","@type":"Answer","upvoteCount":0},{"text":"A wrapper around GNU ld that doesn&apos;t support linker scripts\n\nSome .so files are actually GNU ld linker scripts, e.g. libtbb.so file is an ASCII text file with this contents:\n\nINPUT (libtbb.so.2)\n\n\nSome more complex builds may not support this. For example, if you include -v in the compiler options, you can see that the mainwin gcc wrapper mwdip discards linker script command files in the verbose output list of libraries to link in. A simple work around is to replace the linker script input command file with a copy of the file instead (or a symlink), e.g.\n\ncp libtbb.so.2 libtbb.so\n\n\nOr you could replace the -l argument with the full path of the .so, e.g. instead of -ltbb do /home/foo/tbb-4.3/linux/lib/intel64/gcc4.4/libtbb.so.2\n    ","url":"/questions/[slug]#solution22","@type":"Answer","upvoteCount":0},{"text":"Befriending templates...\n\nGiven the code snippet of a template type with a friend operator (or function);\n\ntemplate &lt;typename T&gt;\nclass Foo {\n    friend std::ostream&amp; operator&lt;&lt; (std::ostream&amp; os, const Foo&lt;T&gt;&amp; a);\n};\n\n\nThe operator&lt;&lt; is being declared as a non-template function. For every type T used with Foo, there needs to be a non-templated operator&lt;&lt;. For example, if there is a type Foo&lt;int&gt; declared, then there must be an operator implementation as follows;\n\nstd::ostream&amp; operator&lt;&lt; (std::ostream&amp; os, const Foo&lt;int&gt;&amp; a) {/*...*/}\n\n\nSince it is not implemented, the linker fails to find it and results in the error.\n\nTo correct this, you can declare a template operator before the Foo type and then declare as a friend, the appropriate instantiation. The syntax is a little awkward, but is looks as follows;\n\n// forward declare the Foo\ntemplate &lt;typename&gt;\nclass Foo;\n\n// forward declare the operator &lt;&lt;\ntemplate &lt;typename T&gt;\nstd::ostream&amp; operator&lt;&lt;(std::ostream&amp;, const Foo&lt;T&gt;&amp;);\n\ntemplate &lt;typename T&gt;\nclass Foo {\n    friend std::ostream&amp; operator&lt;&lt; &lt;&gt;(std::ostream&amp; os, const Foo&lt;T&gt;&amp; a);\n    // note the required &lt;&gt;        ^^^^\n    // ...\n};\n\ntemplate &lt;typename T&gt;\nstd::ostream&amp; operator&lt;&lt;(std::ostream&amp;, const Foo&lt;T&gt;&amp;)\n{\n  // ... implement the operator\n}\n\n\nThe above code limits the friendship of the operator to the corresponding instantiation of Foo, i.e. the operator&lt;&lt; &lt;int&gt; instantiation is limited to access the private members of the instantiation of Foo&lt;int&gt;.\n\nAlternatives include;\n\n\nAllowing the friendship to extend to all instantiations of the templates, as follows;\n\ntemplate &lt;typename T&gt;\nclass Foo {\n    template &lt;typename T1&gt;\n    friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const Foo&lt;T1&gt;&amp; a);\n    // ...\n};\n\nOr, the implementation for the operator&lt;&lt; can be done inline inside the class definition;\n\ntemplate &lt;typename T&gt;\nclass Foo {\n    friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const Foo&amp; a)\n    { /*...*/ }\n    // ...\n};\n\n\n\nNote, when the declaration of the operator (or function) only appears in the class, the name is not available for &quot;normal&quot; lookup, only for argument dependent lookup, from cppreference;\n\n\n  A name first declared in a friend declaration within class or class template X becomes a member of the innermost enclosing namespace of X, but is not accessible for lookup (except argument-dependent lookup that considers X) unless a matching declaration at the namespace scope is provided...\n\n\nThere is further reading on template friends at cppreference and the C++ FAQ.\n\nCode listing showing the techniques above.\n\n\n\nAs a side note to the failing code sample; g++ warns about this as follows\n\n\n  warning: friend declaration &apos;std::ostream&amp; operator&lt;&lt;(...)&apos; declares a non-template function [-Wnon-template-friend]\n  \n  note: (if this is not what you intended, make sure the function template has already been declared and add &lt;&gt; after the function name here) \n\n    ","url":"/questions/[slug]#solution23","@type":"Answer","upvoteCount":0},{"text":"When your include paths are different\nLinker errors can happen when a header file and its associated shared library (.lib file) go out of sync. Let me explain.\nHow do linkers work? The linker matches a function declaration (declared in the header) with its definition (in the shared library) by comparing their signatures. You can get a linker error if the linker doesn&apos;t find a function definition that matches perfectly.\nIs it possible to still get a linker error even though the declaration and the definition seem to match? Yes! They might look the same in source code, but it really depends on what the compiler sees. Essentially you could end up with a situation like this:\n// header1.h\ntypedef int Number;\nvoid foo(Number);\n\n// header2.h\ntypedef float Number;\nvoid foo(Number); // this only looks the same lexically\n\nNote how even though both the function declarations look identical in source code, but they are really different according to the compiler.\nYou might ask how one ends up in a situation like that? Include paths of course! If when compiling the shared library, the include path leads to header1.h and you end up using header2.h in your own program, you&apos;ll be left scratching your header wondering what happened (pun intended).\nAn example of how this can happen in the real world is explained below.\nFurther elaboration with an example\nI have two projects: graphics.lib and main.exe. Both projects depend on common_math.h. Suppose the library exports the following function:\n// graphics.lib    \n#include &quot;common_math.h&quot; \n   \nvoid draw(vec3 p) { ... } // vec3 comes from common_math.h\n\nAnd then you go ahead and include the library in your own project.\n// main.exe\n#include &quot;other/common_math.h&quot;\n#include &quot;graphics.h&quot;\n\nint main() {\n    draw(...);\n}\n\nBoom! You get a linker error and you have no idea why it&apos;s failing. The reason is that the common library uses different versions of the same include common_math.h (I have made it obvious here in the example by including a different path, but it might not always be so obvious. Maybe the include path is different in the compiler settings).\nNote in this example, the linker would tell you it couldn&apos;t find draw(), when in reality you know it obviously is being exported by the library. You could spend hours scratching your head wondering what went wrong. The thing is, the linker sees a different signature because the parameter types are slightly different. In the example, vec3 is a different type in both projects as far as the compiler is concerned. This could happen because they come from two slightly different include files (maybe the include files come from two different versions of the library).\nDebugging the linker\nDUMPBIN is your friend, if you are using Visual Studio. I&apos;m sure other compilers have other similar tools.\nThe process goes like this:\n\nNote the weird mangled name given in the linker error. (eg. draw@graphics@XYZ).\nDump the exported symbols from the library into a text file.\nSearch for the exported symbol of interest, and notice that the mangled name is different.\nPay attention to why the mangled names ended up different. You would be able to see that the parameter types are different, even though they look the same in the source code.\nReason why they are different. In the example given above, they are different because of different include files.\n\n[1] By project I mean a set of source files that are linked together to produce either a library or an executable.\nEDIT 1: Rewrote first section to be easier to understand. Please comment below to let me know if something else needs to be fixed. Thanks!\n    ","url":"/questions/[slug]#solution24","@type":"Answer","upvoteCount":0},{"text":"Inconsistent UNICODE definitions\n\nA Windows UNICODE build is built with TCHAR etc. being defined as wchar_t etc. When not building with UNICODE defined as build with TCHAR defined as char etc. These UNICODE and _UNICODE defines affect all the &quot;T&quot; string types; LPTSTR, LPCTSTR and their elk.\n\nBuilding one library with UNICODE defined and attempting to link it in a project where UNICODE is not defined will result in linker errors since there will be a mismatch in the definition of TCHAR; char vs. wchar_t.\n\nThe error usually includes a function a value with a char or wchar_t derived type, these could include std::basic_string&lt;&gt; etc. as well. When browsing through the affected function in the code, there will often be a reference to TCHAR or std::basic_string&lt;TCHAR&gt; etc. This is a tell-tale sign that the code was originally intended for both a UNICODE and a Multi-Byte Character (or &quot;narrow&quot;) build.\n\nTo correct this, build all the required libraries and projects with a consistent definition of UNICODE (and _UNICODE).\n\n\nThis can be done with either;\n\n#define UNICODE\n#define _UNICODE\n\nOr in the project settings;\n\n\n  Project Properties &gt; General &gt; Project Defaults &gt; Character Set\n\nOr on the command line;\n\n/DUNICODE /D_UNICODE\n\n\n\nThe alternative is applicable as well, if UNICODE is not intended to be used, make sure the defines are not set, and/or the multi-character setting is used in the projects and consistently applied.\n\nDo not forget to be consistent between the &quot;Release&quot; and &quot;Debug&quot; builds as well.\n    ","url":"/questions/[slug]#solution25","@type":"Answer","upvoteCount":0},{"text":"Clean and rebuild\nA &quot;clean&quot; of the build can remove the &quot;dead wood&quot; that may be left lying around from previous builds, failed builds, incomplete builds and other build system related build issues.\nIn general the IDE or build will include some form of &quot;clean&quot; function, but this may not be correctly configured (e.g. in a manual makefile) or may fail (e.g. the intermediate or resultant binaries are read-only).\nOnce the &quot;clean&quot; has completed, verify that the &quot;clean&quot; has succeeded and all the generated intermediate file (e.g. an automated makefile) have been successfully removed.\nThis process can be seen as a final resort, but is often a good first step; especially if the code related to the error has recently been added (either locally or from the source repository).\n    ","url":"/questions/[slug]#solution26","@type":"Answer","upvoteCount":0},{"text":"Missing &quot;extern&quot; in const variable declarations/definitions (C++ only)\n\nFor people coming from C it might be a surprise that in C++ global constvariables have internal (or static) linkage. In C this was not the case, as all global variables are implicitly extern (i.e. when the static keyword is missing).\n\nExample: \n\n// file1.cpp\nconst int test = 5;    // in C++ same as &quot;static const int test = 5&quot;\nint test2 = 5;\n\n// file2.cpp\nextern const int test;\nextern int test2;\n\nvoid foo()\n{\n int x = test;   // linker error in C++ , no error in C\n int y = test2;  // no problem\n}\n\n\ncorrect would be to use a header file and include it in file2.cpp and file1.cpp\n\nextern const int test;\nextern int test2;\n\n\nAlternatively one could declare the const variable in file1.cpp with explicit extern\n    ","url":"/questions/[slug]#solution27","@type":"Answer","upvoteCount":0},{"text":"Even though this is a pretty old questions with multiple accepted answers, I&apos;d like to share how to resolve an obscure &quot;undefined reference to&quot; error.  \n\nDifferent versions of libraries\n\nI was using an alias to refer to std::filesystem::path: filesystem is in the standard library since C++17 but my program needed to also compile in C++14 so I decided to use a variable alias:  \n\n#if (defined _GLIBCXX_EXPERIMENTAL_FILESYSTEM) //is the included filesystem library experimental? (C++14 and newer: &lt;experimental/filesystem&gt;)\nusing path_t = std::experimental::filesystem::path;\n#elif (defined _GLIBCXX_FILESYSTEM) //not experimental (C++17 and newer: &lt;filesystem&gt;)\nusing path_t = std::filesystem::path;\n#endif\n\n\nLet&apos;s say I have three files: main.cpp, file.h, file.cpp:\n\n\nfile.h #include&apos;s &lt;experimental::filesystem&gt; and contains the code above  \nfile.cpp, the implementation of file.h, #include&apos;s &quot;file.h&quot;  \nmain.cpp #include&apos;s &lt;filesystem&gt; and &quot;file.h&quot;\n\n\nNote the different libraries used in main.cpp and file.h. Since main.cpp #include&apos;d &quot;file.h&quot; after &lt;filesystem&gt;, the version of filesystem used there was the C++17 one. I used to compile the program with the following commands:\n\n$ g++ -g -std=c++17 -c main.cpp -&gt; compiles main.cpp to main.o\n$ g++ -g -std=c++17 -c file.cpp -&gt; compiles file.cpp and file.h to file.o\n$ g++ -g -std=c++17 -o executable main.o file.o -lstdc++fs -&gt; links main.o and file.o  \n\nThis way any function contained in file.o and used in main.o that required path_t gave &quot;undefined reference&quot; errors because main.o referred to std::filesystem::path but file.o to std::experimental::filesystem::path.  \n\nResolution\n\nTo fix this I just needed to change &lt;experimental::filesystem&gt; in file.h to &lt;filesystem&gt;.\n    ","url":"/questions/[slug]#solution28","@type":"Answer","upvoteCount":0},{"text":"When linking against shared libraries, make sure that the used symbols are not hidden.\n\nThe default behavior of gcc is that all symbols are visible. However, when the translation units are built with option -fvisibility=hidden, only functions/symbols marked with __attribute__ ((visibility (&quot;default&quot;))) are external in the resulting shared object.\n\nYou can check whether the symbols your are looking for are external by invoking:\n\n# -D shows (global) dynamic symbols that can be used from the outside of XXX.so\nnm -D XXX.so | grep MY_SYMBOL \n\n\nthe hidden/local symbols are shown by nm with lowercase symbol type, for example t instead of `T for code-section:\n\nnm XXX.so\n00000000000005a7 t HIDDEN_SYMBOL\n00000000000005f8 T VISIBLE_SYMBOL\n\n\nYou can also use nm with the option -C to demangle the names (if C++ was used).\n\nSimilar to Windows-dlls, one would mark public functions with a define, for example DLL_PUBLIC defined as:\n\n#define DLL_PUBLIC __attribute__ ((visibility (&quot;default&quot;)))\n\nDLL_PUBLIC int my_public_function(){\n  ...\n}\n\n\nWhich roughly corresponds to Windows&apos;/MSVC-version:\n\n#ifdef BUILDING_DLL\n    #define DLL_PUBLIC __declspec(dllexport) \n#else\n    #define DLL_PUBLIC __declspec(dllimport) \n#endif\n\n\nMore information about visibility can be found on the gcc wiki.\n\n\n\nWhen a translation unit is compiled with -fvisibility=hidden the resulting symbols have still external linkage (shown with upper case symbol type by nm) and can be used for external linkage without problem if the object files become part of a static libraries. The linkage becomes local only when the object files are linked into a shared library.\n\nTo find which symbols in an object file are hidden run:\n\n&gt;&gt;&gt; objdump -t XXXX.o | grep hidden\n0000000000000000 g     F .text  000000000000000b .hidden HIDDEN_SYMBOL1\n000000000000000b g     F .text  000000000000000b .hidden HIDDEN_SYMBOL2\n\n    ","url":"/questions/[slug]#solution29","@type":"Answer","upvoteCount":0},{"text":"Functions or class-methods are defined in source files with the inline specifier.\nAn example:-\nmain.cpp\n#include &quot;gum.h&quot;\n#include &quot;foo.h&quot;\n\nint main()\n{\n    gum();\n    foo f;\n    f.bar();\n    return 0;\n}\n\nfoo.h (1)\n#pragma once\n\nstruct foo {\n    void bar() const;\n};\n\ngum.h (1)\n#pragma once\n\nextern void gum();\n\nfoo.cpp (1)\n#include &quot;foo.h&quot;\n#include &lt;iostream&gt;\n\ninline /* &lt;- wrong! */ void foo::bar() const {\n    std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; std::endl;\n}\n\ngum.cpp (1)\n#include &quot;gum.h&quot;\n#include &lt;iostream&gt;\n\ninline /* &lt;- wrong! */ void gum()\n{\n    std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; std::endl;\n}\n\nIf you specify that gum (similarly, foo::bar) is inline at its definition then\nthe compiler will inline gum (if it chooses to), by:-\n\nnot emitting any unique definition of gum, and therefore\nnot emitting any symbol by which the linker can refer to the definition of gum, and instead\nreplacing all calls to gum with inline copies of the compiled body of gum.\n\nAs a result, if you define gum inline in a source file gum.cpp, it is\ncompiled to an object file gum.o in which all calls to gum are inlined\nand no symbol is defined by which the linker can refer to gum. When you\nlink gum.o into a program together with another object file, e.g. main.o\nthat make references to an external symbol gum, the linker cannot resolve\nthose references. So the linkage fails:\nCompile:\ng++ -c  main.cpp foo.cpp gum.cpp\n\nLink:\n$ g++ -o prog main.o foo.o gum.o\nmain.o: In function `main&apos;:\nmain.cpp:(.text+0x18): undefined reference to `gum()&apos;\nmain.cpp:(.text+0x24): undefined reference to `foo::bar() const&apos;\ncollect2: error: ld returned 1 exit status\n\nYou can only define gum as inline if the compiler can see its definition in every source file in which gum may be called. That means its inline definition needs to exist in a header file that you include in every source file\nyou compile in which gum may be called. Do one of two things:\nEither don&apos;t inline the definitions\nRemove the inline specifier from the source file definition:\nfoo.cpp (2)\n#include &quot;foo.h&quot;\n#include &lt;iostream&gt;\n\nvoid foo::bar() const {\n    std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; std::endl;\n}\n\ngum.cpp (2)\n#include &quot;gum.h&quot;\n#include &lt;iostream&gt;\n\nvoid gum()\n{\n    std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; std::endl;\n}\n\nRebuild with that:\n$ g++ -c  main.cpp foo.cpp gum.cpp\nimk@imk-Inspiron-7559:~/develop/so/scrap1$ g++ -o prog main.o foo.o gum.o\nimk@imk-Inspiron-7559:~/develop/so/scrap1$ ./prog\nvoid gum()\nvoid foo::bar() const\n\nSuccess.\nOr inline correctly\nInline definitions in header files:\nfoo.h (2)\n#pragma once\n#include &lt;iostream&gt;\n\nstruct foo {\n    void bar() const  { // In-class definition is implicitly inline\n        std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; std::endl;\n    }\n};\n// Alternatively...\n#if 0\nstruct foo {\n    void bar() const;\n};\ninline void foo::bar() const  {\n    std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; std::endl;\n}\n#endif\n\ngum.h (2)\n#pragma once\n#include &lt;iostream&gt;\n\ninline void gum() {\n    std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; std::endl;\n}\n\nNow we don&apos;t need foo.cpp or gum.cpp:\n$ g++ -c main.cpp\n$ g++ -o prog main.o\n$ ./prog\nvoid gum()\nvoid foo::bar() const\n\n    ","url":"/questions/[slug]#solution30","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/08bcc42a26fe5c92.css" as="style"/><link rel="stylesheet" href="/_next/static/css/08bcc42a26fe5c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-42cdea76c8170223.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-ccfab947c79712f4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-08d1a634dea6705e.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/150-b06815e21c943e0d.js" defer=""></script><script src="/_next/static/chunks/490-7f0418bb4354ac73.js" defer=""></script><script src="/_next/static/chunks/108-87de33c23337ff53.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-79a1437acf654019.js" defer=""></script><script src="/_next/static/6ctJfCympFH_chh5mjicD/_buildManifest.js" defer=""></script><script src="/_next/static/6ctJfCympFH_chh5mjicD/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="wrapper"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/what-is-an-undefined-referenceunresolved-external-symbol-error-and-how-do-i-fix-it-1657384255179#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="question my-5"><div class="flex question-header items-center m-auto justify-center"><div class="rounded-xl w-full border p-5 shadow-md bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/what-is-an-undefined-referenceunresolved-external-symbol-error-and-how-do-i-fix-it-1657384255179"><h1>What is an undefined reference/unresolved external symbol error and how do I fix it?</h1></a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/unresolved-external">unresolved-external</a></div></div><div class="question-content mt-5">
                
<p>What are undefined reference/unresolved external symbol errors? What are common causes and how to fix/prevent them?</p>
    </div></div></div><div class="solution-section"><nav class="flex pagination-solution flex-col justify-end"><ul class="inline-flex -space-x-px overflow-auto"><li class="pagination-solution-item"><span data-id="#solution1" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">1</span></li><li class="pagination-solution-item"><span data-id="#solution2" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">2</span></li><li class="pagination-solution-item"><span data-id="#solution3" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">3</span></li><li class="pagination-solution-item"><span data-id="#solution4" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">4</span></li><li class="pagination-solution-item"><span data-id="#solution5" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">5</span></li><li class="pagination-solution-item"><span data-id="#solution6" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">6</span></li><li class="pagination-solution-item"><span data-id="#solution7" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">7</span></li><li class="pagination-solution-item"><span data-id="#solution8" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">8</span></li><li class="pagination-solution-item"><span data-id="#solution9" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">9</span></li><li class="pagination-solution-item"><span data-id="#solution10" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">10</span></li><li class="pagination-solution-item"><span data-id="#solution11" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">11</span></li><li class="pagination-solution-item"><span data-id="#solution12" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">12</span></li><li class="pagination-solution-item"><span data-id="#solution13" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">13</span></li><li class="pagination-solution-item"><span data-id="#solution14" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">14</span></li><li class="pagination-solution-item"><span data-id="#solution15" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">15</span></li><li class="pagination-solution-item"><span data-id="#solution16" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">16</span></li><li class="pagination-solution-item"><span data-id="#solution17" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">17</span></li><li class="pagination-solution-item"><span data-id="#solution18" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">18</span></li><li class="pagination-solution-item"><span data-id="#solution19" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">19</span></li><li class="pagination-solution-item"><span data-id="#solution20" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">20</span></li><li class="pagination-solution-item"><span data-id="#solution21" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">21</span></li><li class="pagination-solution-item"><span data-id="#solution22" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">22</span></li><li class="pagination-solution-item"><span data-id="#solution23" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">23</span></li><li class="pagination-solution-item"><span data-id="#solution24" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">24</span></li><li class="pagination-solution-item"><span data-id="#solution25" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">25</span></li><li class="pagination-solution-item"><span data-id="#solution26" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">26</span></li><li class="pagination-solution-item"><span data-id="#solution27" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">27</span></li><li class="pagination-solution-item"><span data-id="#solution28" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">28</span></li><li class="pagination-solution-item"><span data-id="#solution29" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">29</span></li><li class="pagination-solution-item"><span data-id="#solution30" class="cursor-pointer py-2 px-3 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">30</span></li></ul></nav><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Compiling a C++ program takes place in several steps, as specified by <strong>2.2</strong> <a href="https://stackoverflow.com/a/8834196">(credits to Keith Thompson for the reference)</a>:</p>
<blockquote>
<p>The precedence among the syntax rules of translation is specified by the following phases <em>[see footnote]</em>.</p>
<ol>
<li>Physical source file characters are mapped, in an implementation-defined manner, to the basic source character set
(introducing new-line characters for end-of-line indicators) if
necessary. <em>[SNIP]</em></li>
<li>Each instance of a backslash character (\) immediately followed by a new-line character is deleted, splicing physical source lines to
form logical source lines. <em>[SNIP]</em></li>
<li>The source file is decomposed into preprocessing tokens (2.5) and sequences of white-space characters (including comments). <em>[SNIP]</em></li>
<li>Preprocessing directives are executed, macro invocations are expanded, and _Pragma unary operator expressions are executed. <em>[SNIP]</em></li>
<li>Each source character set member in a character literal or a string literal, as well as each escape sequence and universal-character-name
in a character literal or a non-raw string literal, is converted to
the corresponding member of the execution character set; <em>[SNIP]</em></li>
<li>Adjacent string literal tokens are concatenated.</li>
<li>White-space characters separating tokens are no longer significant. Each preprocessing token is converted into a token. (2.7). The
resulting tokens are syntactically and semantically analyzed and
translated as a translation unit. <em>[SNIP]</em></li>
<li>Translated translation units and instantiation units are combined as follows: <em>[SNIP]</em></li>
<li><strong>All external entity references are resolved. Library components are linked to satisfy external references to entities not defined in the
current translation. All such translator output is collected into a
program image which contains information needed for execution in its
execution environment.</strong> (emphasis mine)</li>
</ol>
<p><em>[footnote]</em> Implementations must behave as if these separate phases occur, although in practice different phases might be folded together.</p>
</blockquote>
<p>The specified errors occur during this last stage of compilation, most commonly referred to as linking. It basically means that you compiled a bunch of implementation files into object files or libraries and now you want to get them to work together.</p>
<p>Say you defined symbol <code>a</code> in <code>a.cpp</code>. Now, <code>b.cpp</code> <em>declared</em> that symbol and used it. Before linking, it simply assumes that that symbol was defined <em>somewhere</em>, but it doesn't yet care where. The linking phase is responsible for finding the symbol and correctly linking it to <code>b.cpp</code> (well, actually to the object or library that uses it).</p>
<p>If you're using Microsoft Visual Studio, you'll see that projects generate <code>.lib</code> files. These contain a table of exported symbols, and a table of imported symbols. The imported symbols are resolved against the libraries you link against, and the exported symbols are provided for the libraries that use that <code>.lib</code> (if any).</p>
<p>Similar mechanisms exist for other compilers/ platforms.</p>
<p>Common error messages are <code>error LNK2001</code>, <code>error LNK1120</code>, <code>error LNK2019</code> for <strong>Microsoft Visual Studio</strong> and <code>undefined reference to</code> <em>symbolName</em> for <strong>GCC</strong>.</p>
<p>The code:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">X</span>
{
   <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span>;
};
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Y</span> : X
{
   <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span> </span>{}
};
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">A</span>
{
   <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">A</span>() = <span class="hljs-number">0</span>;
};
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">B</span>: A
{
   <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">B</span>(){}
};
<span class="hljs-keyword">extern</span> <span class="hljs-type">int</span> x;
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span>;
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
   x = <span class="hljs-number">0</span>;
   <span class="hljs-built_in">foo</span>();
   Y y;
   B b;
}
</code></pre>
<p>will generate the following errors with <strong>GCC</strong>:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">/home/AbiSfw/ccvvuHoX.o: In function `main<span class="hljs-number">'</span>:
prog.cpp:(.text+<span class="hljs-number">0x10</span>): undefined reference to `x<span class="hljs-number">'</span>
prog.cpp:(.text+<span class="hljs-number">0x19</span>): undefined reference to `<span class="hljs-built_in">foo</span>()'
prog.cpp:(.text+<span class="hljs-number">0x2d</span>): undefined reference to `A::~<span class="hljs-built_in">A</span>()'
/home/AbiSfw/ccvvuHoX.o: In function `B::~<span class="hljs-built_in">B</span>()<span class="hljs-string">':
prog.cpp:(.text._ZN1BD1Ev[B::~B()]+0xb): undefined reference to `A::~A()'</span>
/home/AbiSfw/ccvvuHoX.o: In function `B::~<span class="hljs-built_in">B</span>()<span class="hljs-string">':
prog.cpp:(.text._ZN1BD0Ev[B::~B()]+0x12): undefined reference to `A::~A()'</span>
/home/AbiSfw/ccvvuHoX.o:(.rodata._ZTI1Y[typeinfo <span class="hljs-keyword">for</span> Y]+<span class="hljs-number">0x8</span>): undefined reference to `typeinfo <span class="hljs-keyword">for</span> X<span class="hljs-number">'</span>
/home/AbiSfw/ccvvuHoX.o:(.rodata._ZTI1B[typeinfo <span class="hljs-keyword">for</span> B]+<span class="hljs-number">0x8</span>): undefined reference to `typeinfo <span class="hljs-keyword">for</span> A<span class="hljs-number">'</span>
collect2: ld returned <span class="hljs-number">1</span> exit status
</code></pre>
<p>and similar errors with <strong>Microsoft Visual Studio</strong>:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-number">1</span>&gt;test2.obj : error LNK2001: unresolved external symbol <span class="hljs-string">"void __cdecl foo(void)"</span> (?foo@@YAXXZ)
<span class="hljs-number">1</span>&gt;test2.obj : error LNK2001: unresolved external symbol <span class="hljs-string">"int x"</span> (?x@@<span class="hljs-number">3</span>HA)
<span class="hljs-number">1</span>&gt;test2.obj : error LNK2001: unresolved external symbol <span class="hljs-string">"public: virtual __thiscall A::~A(void)"</span> (??<span class="hljs-number">1</span>A@@UAE@XZ)
<span class="hljs-number">1</span>&gt;test2.obj : error LNK2001: unresolved external symbol <span class="hljs-string">"public: virtual void __thiscall X::foo(void)"</span> (?foo@X@@UAEXXZ)
<span class="hljs-number">1</span>&gt;...\test2.exe : fatal error LNK1120: <span class="hljs-number">4</span> unresolved externals
</code></pre>
<p>Common causes include:</p>
<ul>
<li><a href="https://stackoverflow.com/a/12574400">Failure to link against appropriate libraries/object files or compile implementation files</a></li>
<li><a href="https://stackoverflow.com/a/12574403">Declared and undefined variable or function.</a></li>
<li><a href="https://stackoverflow.com/a/12574407">Common issues with class-type members</a></li>
<li><a href="https://stackoverflow.com/a/12574417">Template implementations not visible.</a></li>
<li><a href="https://stackoverflow.com/a/12574420">Symbols were defined in a C program and used in C++ code.</a></li>
<li><a href="https://stackoverflow.com/a/12574423">Incorrectly importing/exporting methods/classes across modules/dll. (MSVS specific)</a></li>
<li><a href="https://stackoverflow.com/a/20358542">Circular library dependency</a></li>
<li><a href="https://stackoverflow.com/questions/5259714/undefined-reference-to-winmain16/5260237#5260237">undefined reference to `WinMain@16'</a></li>
<li><a href="https://stackoverflow.com/a/24675715">Interdependent library order</a></li>
<li><a href="https://stackoverflow.com/questions/14364362/visualstudio-project-with-multiple-sourcefiles-of-the-same-name">Multiple source files of the same name</a></li>
<li><a href="https://stackoverflow.com/a/25744263">Mistyping or not including the .lib extension when using the <code>#pragma</code> (Microsoft Visual Studio)</a></li>
<li><a href="https://stackoverflow.com/a/35891188">Problems with template friends</a></li>
<li><a href="https://stackoverflow.com/a/36475406">Inconsistent <code>UNICODE</code> definitions</a></li>
<li><a href="https://stackoverflow.com/a/45478255">Missing "extern" in const variable declarations/definitions (C++ only)</a></li>
<li><a href="https://stackoverflow.com/a/72328407/775806">Visual Studio Code not configured for a multiple file project</a></li>
</ul>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>Class members:</h2>

<h3>A pure <code>virtual</code> destructor needs an implementation.</h3>

<p>Declaring a destructor pure still requires you to define it (unlike a regular function):</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">X</span>
{
    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">X</span>() = <span class="hljs-number">0</span>;
};
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Y</span> : X
{
    ~<span class="hljs-built_in">Y</span>() {}
};
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    Y y;
}
<span class="hljs-comment">//X::~X(){} //uncomment this line for successful definition</span>
</code></pre>

<p>This happens because base class destructors are called when the object is destroyed implicitly, so a definition is required.    </p>

<h3><code>virtual</code> methods must either be implemented or defined as pure.</h3>

<p>This is similar to non-<code>virtual</code> methods with no definition, with the added reasoning that 
the pure declaration generates a dummy vtable and you might get the linker error without using the function:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">X</span>
{
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span>;
};
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Y</span> : X
{
   <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span> </span>{}
};
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
   Y y; <span class="hljs-comment">//linker error although there was no call to X::foo</span>
}
</code></pre>

<p>For this to work, declare <code>X::foo()</code> as pure:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">X</span>
{
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;
};
</code></pre>

<h3>Non-<code>virtual</code> class members</h3>

<p>Some members need to be defined even if not used explicitly:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">A</span>
{ 
    ~<span class="hljs-built_in">A</span>();
};
</code></pre>

<p>The following would yield the error:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">A a;      <span class="hljs-comment">//destructor undefined</span>
</code></pre>

<p>The implementation can be inline, in the class definition itself:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">A</span>
{ 
    ~<span class="hljs-built_in">A</span>() {}
};
</code></pre>

<p>or outside:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">A::~<span class="hljs-built_in">A</span>() {}
</code></pre>

<p>If the implementation is outside the class definition, but in a header, the methods have to be marked as <code>inline</code> to prevent a multiple definition.</p>

<p>All used member methods need to be defined if used.</p>

<h3>A common mistake is forgetting to qualify the name:</h3>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">A</span>
{
   <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span>;
};

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span> </span>{}

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
   A a;
   a.<span class="hljs-built_in">foo</span>();
}
</code></pre>

<p>The definition should be</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">A::foo</span><span class="hljs-params">()</span> </span>{}
</code></pre>

<h3><code>static</code> data members must be defined outside the class in a <strong>single translation unit</strong>:</h3>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">X</span>
{
    <span class="hljs-type">static</span> <span class="hljs-type">int</span> x;
};
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-type">int</span> x = X::x;
}
<span class="hljs-comment">//int X::x; //uncomment this line to define X::x</span>
</code></pre>

<p>An initializer can be provided for a <code>static</code> <code>const</code> data member of integral or enumeration type within the class definition; however, odr-use of this member will still require a namespace scope definition as described above. C++11 allows initialization inside the class for all <code>static const</code> data members.</p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h3>Failure to link against appropriate libraries/object files or compile implementation files</h3>
<p>Commonly, each translation unit will generate an object file that contains the definitions of the symbols defined in that translation unit.
To use those symbols, you have to link against those object files.</p>
<p>Under <strong>gcc</strong> you would specify all object files that are to be linked together in the command line, or compile the implementation files together.</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">g++ -o test objectFile1.o objectFile2.o -lLibraryName
</code></pre>
<p><code>-l...</code> must be to the right of any <code>.o</code>/<code>.c</code>/<code>.cpp</code> files.</p>
<p>The <code>libraryName</code> here is just the bare name of the library, without platform-specific additions. So e.g. on Linux library files are usually called <code>libfoo.so</code> but you'd only write <code>-lfoo</code>. On Windows that same file might be called <code>foo.lib</code>, but you'd use the same argument. You might have to add the directory where those files can be found using <code>-Ldirectory</code>. Make sure to not write a space after <code>-l</code> or <code>-L</code>.</p>
<p>For <strong>XCode</strong>:  Add the User Header Search Paths -&gt; add the Library Search Path -&gt; drag and drop the actual library reference into the project folder.</p>
<p>Under <strong>MSVS</strong>, files added to a project automatically have their object files linked together and a <code>lib</code> file would be generated (in common usage). To use the symbols in a separate project, you'd
need to include the <code>lib</code> files in the project settings. This is done in the Linker section of the project properties, in <code>Input -&gt; Additional Dependencies</code>. (the path to the <code>lib</code> file should be
added in <code>Linker -&gt; General -&gt; Additional Library Directories</code>) When using a third-party library that is provided with a <code>lib</code> file, failure to do so usually results in the error.</p>
<p>It can also happen that you forget to add the file to the compilation, in which case the object file won't be generated. In <strong>gcc</strong> you'd add the files to the command line. In <strong>MSVS</strong> adding the file to the project will make it compile it automatically (albeit files can, manually, be individually excluded from the build).</p>
<p>In Windows programming, the tell-tale sign that you did not link a necessary library is that the name of the unresolved symbol begins with <code>__imp_</code>. Look up the name of the function in the documentation, and it should say which library you need to use. For example, MSDN puts the information in a box at the bottom of each function in a section called "Library".</p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h3>Declared but did not define a variable or function.</h3>
<p>A typical variable declaration is</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">extern</span> <span class="hljs-type">int</span> x;
</code></pre>
<p>As this is only a declaration, a <strong>single definition</strong> is needed. A corresponding definition would be:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-type">int</span> x;
</code></pre>
<p>For example, the following would generate an error:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">extern</span> <span class="hljs-type">int</span> x;
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    x = <span class="hljs-number">0</span>;
}
<span class="hljs-comment">//int x; // uncomment this line for successful definition</span>
</code></pre>
<p>Similar remarks apply to functions. Declaring a function without defining it leads to the error:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span>; <span class="hljs-comment">// declaration only</span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
   <span class="hljs-built_in">foo</span>();
}
<span class="hljs-comment">//void foo() {} //uncomment this line for successful definition</span>
</code></pre>
<p>Be careful that the function you implement exactly matches the one you declared. For example, you may have mismatched cv-qualifiers:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">(<span class="hljs-type">int</span>&amp; x)</span></span>;
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
   <span class="hljs-type">int</span> x;
   <span class="hljs-built_in">foo</span>(x);
}
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">int</span>&amp; x)</span> </span>{} <span class="hljs-comment">//different function, doesn't provide a definition</span>
                          <span class="hljs-comment">//for void foo(int&amp; x)</span>
                          
</code></pre>
<p>Other examples of mismatches include</p>
<ul>
<li>Function/variable declared in one namespace, defined in another.</li>
<li>Function/variable declared as class member, defined as global (or vice versa).</li>
<li>Function return type, parameter number and types, and calling convention do not all exactly agree.</li>
</ul>
<p>The error message from the compiler will often give you the full declaration of the variable or function that was declared but never defined. Compare it closely to the definition you provided. <em>Make sure every detail matches.</em></p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h3>The order in which interdependent linked libraries are specified is wrong.</h3>
<p>The order in which libraries are linked DOES matter if the libraries depend on each other. In general, if library <code>A</code> depends on library <code>B</code>, then <code>libA</code> <strong>MUST</strong> appear before <code>libB</code> in the linker flags.</p>
<p>For example:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// B.h</span>
<span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> B_H</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> B_H</span>

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">B</span> {
    <span class="hljs-built_in">B</span>(<span class="hljs-type">int</span>);
    <span class="hljs-type">int</span> x;
};

<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

<span class="hljs-comment">// B.cpp</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"B.h"</span></span>
B::<span class="hljs-built_in">B</span>(<span class="hljs-type">int</span> xx) : <span class="hljs-built_in">x</span>(xx) {}

<span class="hljs-comment">// A.h</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"B.h"</span></span>

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">A</span> {
    <span class="hljs-built_in">A</span>(<span class="hljs-type">int</span> x);
    B b;
};

<span class="hljs-comment">// A.cpp</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"A.h"</span></span>

A::<span class="hljs-built_in">A</span>(<span class="hljs-type">int</span> x) : <span class="hljs-built_in">b</span>(x) {}

<span class="hljs-comment">// main.cpp</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"A.h"</span></span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-function">A <span class="hljs-title">a</span><span class="hljs-params">(<span class="hljs-number">5</span>)</span></span>;
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
};
</code></pre>
<p>Create the libraries:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ g++ -c A.cpp
$ g++ -c B.cpp
$ ar rvs libA.a A.o 
ar: creating libA.a
a - A.o
$ ar rvs libB.a B.o 
ar: creating libB.a
a - B.o
</code></pre>
<p>Compile:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ g++ main.cpp -L. -lB -lA
./libA.<span class="hljs-built_in">a</span>(A.o): In function `A::<span class="hljs-built_in">A</span>(<span class="hljs-type">int</span>)<span class="hljs-string">':
A.cpp:(.text+0x1c): undefined reference to `B::B(int)'</span>
collect2: error: ld returned <span class="hljs-number">1</span> exit status
$ g++ main.cpp -L. -lA -lB
$ ./a.out
</code></pre>
<p>So to repeat again, the order <strong>DOES</strong> matter!</p>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>what is an "undefined reference/unresolved external symbol"</strong></p>

<p>I'll try to explain what is an "undefined reference/unresolved external symbol".</p>

<blockquote>
  <p>note: i use g++ and Linux and all examples is for it </p>
</blockquote>

<p>For example we have some code</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// src1.cpp</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span></span>;

<span class="hljs-type">static</span> <span class="hljs-type">int</span> local_var_name; <span class="hljs-comment">// 'static' makes variable not visible for other modules</span>
<span class="hljs-type">int</span> global_var_name = <span class="hljs-number">123</span>;

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-built_in">print</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>

<p>and</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// src2.cpp</span>
<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">printf</span> <span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>*, ...)</span></span>;

<span class="hljs-keyword">extern</span> <span class="hljs-type">int</span> global_var_name;
<span class="hljs-comment">//extern int local_var_name;</span>

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span> <span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// printf("%d%d\n", global_var_name, local_var_name);</span>
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, global_var_name);
}
</code></pre>

<p>Make object files</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ g++ -c src1.cpp -o src1.o
$ g++ -c src2.cpp -o src2.o
</code></pre>

<p>After the assembler phase we have an object file, which contains any symbols to export. 
Look at the symbols</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ readelf --symbols src1.o
  Num:    Value          Size Type    Bind   Vis      Ndx Name
     <span class="hljs-number">5</span>: <span class="hljs-number">0000000000000000</span>     <span class="hljs-number">4</span> OBJECT  LOCAL  DEFAULT    <span class="hljs-number">4</span> _ZL14local_var_name # [<span class="hljs-number">1</span>]
     <span class="hljs-number">9</span>: <span class="hljs-number">0000000000000000</span>     <span class="hljs-number">4</span> OBJECT  GLOBAL DEFAULT    <span class="hljs-number">3</span> global_var_name     # [<span class="hljs-number">2</span>]
</code></pre>

<p>I've rejected some lines from output, because they do not matter</p>

<p>So, we see follow symbols to export.</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">[<span class="hljs-number">1</span>] - <span class="hljs-function"><span class="hljs-keyword">this</span> is our <span class="hljs-title">static</span> <span class="hljs-params">(local)</span> <span class="hljs-title">variable</span> <span class="hljs-params">(important - Bind has a type <span class="hljs-string">"LOCAL"</span>)</span>
[2] - <span class="hljs-keyword">this</span> is our global variable
</span></code></pre>

<p>src2.cpp exports nothing and we have seen no its symbols</p>

<p>Link our object files</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ g++ src1.o src2.o -o prog
</code></pre>

<p>and run it</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ ./prog
<span class="hljs-number">123</span>
</code></pre>

<p>Linker sees exported symbols and links it. Now we try to uncomment lines in src2.cpp like here</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// src2.cpp</span>
<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">printf</span> <span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>*, ...)</span></span>;

<span class="hljs-keyword">extern</span> <span class="hljs-type">int</span> global_var_name;
<span class="hljs-keyword">extern</span> <span class="hljs-type">int</span> local_var_name;

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span> <span class="hljs-params">()</span>
</span>{
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d%d\n"</span>, global_var_name, local_var_name);
}
</code></pre>

<p>and rebuild an object file</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ g++ -c src2.cpp -o src2.o
</code></pre>

<p>OK (no errors), because we only build object file, linking is not done yet.
Try to link</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ g++ src1.o src2.o -o prog
src2.o: In function `<span class="hljs-built_in">print</span>()<span class="hljs-string">':
src2.cpp:(.text+0x6): undefined reference to `local_var_name'</span>
collect2: error: ld returned <span class="hljs-number">1</span> exit status
</code></pre>

<p>It has happened because our local_var_name is static, i.e. it is not visible for other modules. 
Now more deeply. Get the translation phase output</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ g++ -S src1.cpp -o src1.s

<span class="hljs-comment">// src1.s</span>
look src1.s

    .file   <span class="hljs-string">"src1.cpp"</span>
    .local  _ZL14local_var_name
    .comm   _ZL14local_var_name,<span class="hljs-number">4</span>,<span class="hljs-number">4</span>
    .globl  global_var_name
    .data
    .align <span class="hljs-number">4</span>
    .type   global_var_name, @object
    .size   global_var_name, <span class="hljs-number">4</span>
global_var_name:
    .<span class="hljs-type">long</span>   <span class="hljs-number">123</span>
    .text
    .globl  main
    .type   main, @function
main:
; assembler code, <span class="hljs-keyword">not</span> interesting <span class="hljs-keyword">for</span> us
.LFE0:
    .size   main, .-main
    .ident  <span class="hljs-string">"GCC: (Ubuntu 4.8.2-19ubuntu1) 4.8.2"</span>
    .section    .note.GNU-stack,<span class="hljs-string">""</span>,@progbits
</code></pre>

<p>So, we've seen there is no label for local_var_name, that's why linker hasn't found it. But we are hackers :) and we can fix it. Open src1.s in your text editor and change</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">.local  _ZL14local_var_name
.comm   _ZL14local_var_name,<span class="hljs-number">4</span>,<span class="hljs-number">4</span>
</code></pre>

<p>to </p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">    .globl  local_var_name
    .data
    .align <span class="hljs-number">4</span>
    .type   local_var_name, @object
    .size   local_var_name, <span class="hljs-number">4</span>
local_var_name:
    .<span class="hljs-type">long</span>   <span class="hljs-number">456789</span>
</code></pre>

<p>i.e. you should have like below</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">    .file   <span class="hljs-string">"src1.cpp"</span>
    .globl  local_var_name
    .data
    .align <span class="hljs-number">4</span>
    .type   local_var_name, @object
    .size   local_var_name, <span class="hljs-number">4</span>
local_var_name:
    .<span class="hljs-type">long</span>   <span class="hljs-number">456789</span>
    .globl  global_var_name
    .align <span class="hljs-number">4</span>
    .type   global_var_name, @object
    .size   global_var_name, <span class="hljs-number">4</span>
global_var_name:
    .<span class="hljs-type">long</span>   <span class="hljs-number">123</span>
    .text
    .globl  main
    .type   main, @function
main:
; ...
</code></pre>

<p>we have changed the visibility of local_var_name and set its value to 456789.
Try to build an object file from it</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ g++ -c src1.s -o src2.o
</code></pre>

<p>ok, see readelf output (symbols)</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ readelf --symbols src1.o
<span class="hljs-number">8</span>: <span class="hljs-number">0000000000000000</span>     <span class="hljs-number">4</span> OBJECT  GLOBAL DEFAULT    <span class="hljs-number">3</span> local_var_name
</code></pre>

<p>now local_var_name has Bind GLOBAL (was LOCAL)</p>

<p>link</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ g++ src1.o src2.o -o prog
</code></pre>

<p>and run it</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ ./prog 
<span class="hljs-number">123456789</span>
</code></pre>

<p>ok, we hack it :)</p>

<p>So, as a result - an "undefined reference/unresolved external symbol error" happens when the linker cannot find global symbols in the object files.</p>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h3>Symbols were defined in a C program and used in C++ code.</h3>
<p>The function (or variable) <code>void foo()</code> was defined in a C program and you attempt to use it in a C++ program:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span>;
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-built_in">foo</span>();
}
</code></pre>
<p>The C++ linker expects names to be mangled, so you have to declare the function as:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span>;
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-built_in">foo</span>();
}
</code></pre>
<p>Equivalently, instead of being defined in a C program, the function (or variable) <code>void foo()</code> was defined in C++ but with C linkage:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span>;
</code></pre>
<p>and you attempt to use it in a C++ program with C++ linkage.</p>
<p>If an entire library is included in a header file (and was compiled as C code); the include will need to be as follows;</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span> {
    <span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"cheader.h"</span></span>
}
</code></pre>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>If all else fails, recompile.</strong></p>

<p>I was recently able to get rid of an unresolved external error in Visual Studio 2012 just by recompiling the offending file. When I re-built, the error went away. </p>

<p>This usually happens when two (or more) libraries have a cyclic dependency. Library A attempts to use symbols in B.lib and library B attempts to use symbols from A.lib. Neither exist to start off with. When you attempt to compile A, the link step will fail because it can't find B.lib. A.lib will be generated, but no dll. You then compile B, which will succeed and generate B.lib. Re-compiling A will now work because B.lib is now found.</p>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h3>Template implementations not visible.</h3>
<p>Unspecialized templates must have their definitions visible to all translation units that use them. That means you can't separate the definition of a template
to an implementation file. If you must separate the implementation, the usual workaround is to have an <code>impl</code> file which you include at the end of the header that
declares the template. A common situation is:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">X</span>
{
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span>;
};

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    X&lt;<span class="hljs-type">int</span>&gt; x;
    x.<span class="hljs-built_in">foo</span>();
}

<span class="hljs-comment">//differentImplementationFile.cpp</span>
<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;
<span class="hljs-type">void</span> X&lt;T&gt;::<span class="hljs-built_in">foo</span>()
{
}
</code></pre>
<p>To fix this, you must move the definition of <code>X::foo</code> to the header file or some place visible to the translation unit that uses it.</p>
<p>Specialized templates can be implemented in an implementation file and the implementation doesn't have to be visible, but the specialization must be previously declared.</p>
<p>For further explanation and another possible solution (explicit instantiation) see <a href="https://stackoverflow.com/questions/495021">this question and answer</a>.</p>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 10</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This is one of most confusing error messages that every VC++ programmers have seen time and time again. Lets make things clarity first.</p>

<p><strong>A. What is symbol?</strong>
In short, a symbol is a name. It can be a variable name, a function name, a class name, a typedef name, or anything except those names and signs that belong to C++ language. It is user defined or introduced by a dependency library (another user-defined).</p>

<p><strong>B. What is external?</strong>
In VC++, every source file (.cpp,.c,etc.) is considered as a translation unit, the compiler compiles one unit at a time, and generate one object file(.obj) for the current translation unit. (Note that every header file that this source file included will be preprocessed and will be considered as part of this translation unit)Everything within a translation unit is considered as internal, everything else is considered as external. In C++, you may reference an external symbol by using keywords like <code>extern</code>, <code>__declspec (dllimport)</code> and so on.</p>

<p><strong>C. What is resolve?</strong>
Resolve is a linking-time term. In linking-time, linker attempts to find the external definition for every symbol in object files that cannot find its definition internally. The scope of this searching process including:</p>

<ul>
<li>All object files that generated in compiling time</li>
<li>All libraries (.lib) that are either explicitly or implicitly
specified as additional dependencies of this building application.</li>
</ul>

<p>This searching process is called resolve.</p>

<p><strong>D. Finally, why Unresolved External Symbol?</strong>
If the linker cannot find the external definition for a symbol that has no definition internally, it reports an Unresolved External Symbol error.</p>

<p><strong>E. Possible causes of LNK2019</strong>: Unresolved External Symbol error.
We already know that this error is due to the linker failed to find the definition of external symbols, the possible causes can be sorted as:</p>

<ol>
<li>Definition exists</li>
</ol>

<p>For example, if we have a function called foo defined in a.cpp:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>

<p>In b.cpp we want to call function foo, so we add</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span>;
</code></pre>

<p>to declare function foo(), and call it in another function body, say <code>bar()</code>:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">bar</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-built_in">foo</span>();
}
</code></pre>

<p>Now when you build this code you will get a LNK2019 error complaining that foo is an unresolved symbol. In this case, we know that foo() has its definition in a.cpp, but different from the one we are calling(different return value). This is the case that definition exists.</p>

<ol start="2">
<li>Definition does not exist</li>
</ol>

<p>If we want to call some functions in a library, but the import library is not added into the additional dependency list (set from: <code>Project | Properties | Configuration Properties | Linker | Input | Additional Dependency</code>) of your project setting. Now the linker will report a LNK2019 since the definition does not exist in current searching scope.</p>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 11</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h3>Incorrectly importing/exporting methods/classes across modules/dll (compiler specific).</h3>
<p>MSVS requires you to specify which symbols to export and import using <code>__declspec(dllexport)</code> and <code>__declspec(dllimport)</code>.</p>
<p>This dual functionality is usually obtained through the use of a macro:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> THIS_MODULE</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> DLLIMPEXP __declspec(dllexport)</span>
<span class="hljs-meta">#<span class="hljs-keyword">else</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> DLLIMPEXP __declspec(dllimport)</span>
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
</code></pre>
<p>The macro <code>THIS_MODULE</code> would only be defined in the module that exports the function. That way, the declaration:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-function">DLLIMPEXP <span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span>;
</code></pre>
<p>expands to</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">__declspec(dllexport) <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span>;
</code></pre>
<p>and tells the compiler to export the function, as the current module contains its definition. When including the declaration in a different module, it would expand to</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">__declspec(dllimport) <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span>;
</code></pre>
<p>and tells the compiler that the definition is in one of the libraries you linked against (also see <strong>1)</strong>).</p>
<p>You can similary import/export classes:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DLLIMPEXP</span> X
{
};
</code></pre>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 12</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>undefined reference to <code>WinMain@16</code> or similar <em>'unusual'</em> <code>main()</code> entry point reference</strong> (especially for <a href="/questions/tagged/visual-studio" class="post-tag" title="show questions tagged 'visual-studio'" rel="tag">visual-studio</a>).</p>

<p>You may have missed to choose the right project type with your actual IDE. The IDE may want to bind e.g. Windows Application projects to such entry point function (as specified in the missing reference above), instead of the commonly used <code>int main(int argc, char** argv);</code> signature.</p>

<p>If your IDE supports <em>Plain Console Projects</em> you might want to choose this project type, instead of a windows application project.</p>

<hr>

<p>Here are <a href="https://stackoverflow.com/questions/24715864/problems-importing-libraries-to-my-c-project-how-to-fix-this/24715865#24715865">case1</a> and <a href="https://stackoverflow.com/questions/5259714/undefined-reference-to-winmain16">case2</a> handled in more detail from a <em>real world</em> problem.</p>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 13</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Also if you're using 3rd party libraries make sure you have the correct 32/64 bit binaries</p>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 14</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Microsoft offers a <code>#pragma</code> to reference the correct library at link time;</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> comment(lib, <span class="hljs-string">"libname.lib"</span>)</span>
</code></pre>

<p>In addition to the library path including the directory of the library, this should be the full name of the library.</p>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 15</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>Visual Studio NuGet package needs to be updated for new toolset version</strong></p>

<p>I just had this problem trying to link libpng with Visual Studio 2013.  The problem is that the package file only had libraries for Visual Studio 2010 and 2012.</p>

<p>The correct solution is to hope the developer releases an updated package and then upgrade, but it worked for me by hacking in an extra setting for VS2013, pointing at the VS2012 library files.</p>

<p>I edited the package (in the <code>packages</code> folder inside the solution's directory) by finding <code>packagename\build\native\packagename.targets</code> and inside that file, copying all the <code>v110</code> sections.  I changed the <code>v110</code> to <code>v120</code> in <strong>the condition fields only</strong> being very careful to leave the filename paths all as <code>v110</code>.  This simply allowed Visual Studio 2013 to link to the libraries for 2012, and in this case, it worked.</p>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 16</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Suppose you have a big project written in c++ which has a thousand of .cpp files and a thousand of .h files.And let's says the project also depends on ten static libraries. Let's says we are on Windows and we build our project in Visual Studio 20xx. When you press Ctrl + F7 Visual Studio to start compiling the whole solution ( suppose we have just one project in the solution )</p>

<p><strong>What's the meaning of compilation ?</strong></p>

<ul>
<li>Visual Studio search into file <strong>.vcxproj</strong> and start compiling each file which has the extension .cpp. Order of compilation is undefined.So you must not assume that the file main.cpp is compiled first</li>
<li>If .cpp files depends on   additional .h files  in order to find symbols
that may or may not be defined in the file .cpp</li>
<li>If exists one .cpp file in which the compiler could not find one symbol, a <strong>compiler time error</strong> raises the message <em>Symbol x could not be found</em></li>
<li>For each file with extension .cpp is generated an object file .o and also Visual Studio writes the output in a file named <em>ProjectName.Cpp.Clean.txt</em> which contains all object files that must be processed by the linker.</li>
</ul>

<p>The Second step of compilation is done by Linker.Linker should merge all the object file and build finally the output ( which may be an executable or a library)</p>

<p><strong>Steps In Linking a project</strong>    </p>

<ul>
<li>Parse all the object files and find the definition which was only declared in headers ( eg: The code of one method of a class as is mentioned in previous answers, or event the initialization of a static variable which is member inside a class)</li>
<li>If one symbol could not be found in object files he also is searched in Additional Libraries.For adding a new library to a project <strong>Configuration properties</strong> -&gt; <strong>VC++ Directories</strong>  -&gt; <strong>Library Directories</strong> and here you specified additional folder for searching libraries and <strong>Configuration properties</strong> -&gt; <strong>Linker</strong> -&gt; <strong>Input</strong> for specifying the name of the library. 
-If the Linker could not find the symbol which you write in one .cpp he raises a <strong>linker time error</strong> which may sound like 
<code>error LNK2001: unresolved external symbol "void __cdecl foo(void)" (?foo@@YAXXZ)</code></li>
</ul>

<p><strong>Observation</strong></p>

<ol>
<li>Once the Linker find one symbol he doesn't search in other libraries for it</li>
<li>The order of linking libraries <strong>does matter</strong>.</li>
<li>If Linker finds an external symbol in one static library he includes the symbol in the output of the project.However, if the library is shared( dynamic ) he doesn't include the code ( symbols ) in output, but  <em>Run-Time</em> crashes may occur</li>
</ol>

<p><strong>How To Solve this kind of error</strong></p>

<p>Compiler Time Error : </p>

<ul>
<li>Make sure you write your c++ project syntactical correct.</li>
</ul>

<p>Linker Time Error</p>

<ul>
<li>Define all your symbol which you declare in your header files</li>
<li>Use <code>#pragma once</code> for allowing compiler not to include one header if it was already included in the current .cpp which are compiled</li>
<li>Make sure that your external library doesn't contain symbols that may enter into conflict with other symbols you defined in your header files</li>
<li>When you use the template to make sure you include the definition of each template function in the header file for allowing the compiler to generate appropriate code for any instantiations.  </li>
</ul>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 17</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>Use the linker to help diagnose the error</h2>
<p>Most modern linkers include a verbose option that prints out to varying degrees;</p>
<ul>
<li>Link invocation (command line),</li>
<li>Data on what libraries are included in the link stage,</li>
<li>The location of the libraries,</li>
<li>Search paths used.</li>
</ul>
<p>For gcc and clang; you would typically add <code>-v -Wl,--verbose</code> or <code>-v -Wl,-v</code> to the command line. More details can be found here;</p>
<ul>
<li>Linux <a href="http://linux.die.net/man/1/ld" rel="noreferrer">ld man page</a>.</li>
<li>LLVM <a href="http://llvm.org/releases/3.6.2/docs/CommandGuide/llvm-link.html#cmdoption-v" rel="noreferrer">linker page</a>.</li>
<li>"An introduction to GCC" <a href="http://www.network-theory.co.uk/docs/gccintro/gccintro_75.html" rel="noreferrer">chapter 9</a>.</li>
</ul>
<p>For MSVC, <code>/VERBOSE</code> (in particular <code>/VERBOSE:LIB</code>) is added to the link command line.</p>
<ul>
<li>The MSDN page on the <a href="https://msdn.microsoft.com/en-us/library/wdsk6as6.aspx" rel="noreferrer"><code>/VERBOSE</code> linker option</a>.</li>
</ul>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 18</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>A bug in the compiler/IDE</h2>

<p>I recently had this problem, and it turned out <a href="https://stackoverflow.com/questions/27748699/unresolved-reference-to-constructor-which-is-defined/27748920#27748920">it was a bug in Visual Studio Express 2013</a>. I had to remove a source file from the project and re-add it to overcome the bug.</p>

<p>Steps to try if you believe it could be a bug in compiler/IDE:</p>

<ul>
<li>Clean the project (some IDEs have an option to do this, you can also
manually do it by deleting the object files)</li>
<li>Try start a new project,
copying all source code from the original one.</li>
</ul>
    </div></div></div></div><div id="solution19" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 19</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>Linked .lib file is associated to a .dll</strong></p>

<p>I had the same issue. Say i have projects MyProject and TestProject. I had effectively linked the lib file for MyProject to the TestProject. However, this lib file was produced as the DLL for the MyProject was built. Also, I did not contain source code for all methods in the MyProject, but only access to the DLL's entry points. </p>

<p>To solve the issue, i built the MyProject as a LIB, and linked TestProject to this .lib file (i copy paste the generated .lib file into the TestProject folder). I can then build again MyProject as a DLL. It is compiling since the lib to which TestProject is linked does contain code for all methods in classes in MyProject. </p>
    </div></div></div></div><div id="solution20" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 20</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Since people seem to be directed to this question when it comes to linker errors I am going to add this here.</p>

<p>One possible reason for linker errors with GCC 5.2.0 is that a new libstdc++ library ABI is now chosen by default.</p>

<blockquote>
  <p>If you get linker errors about undefined references to symbols that involve types in the std::__cxx11 namespace or the tag [abi:cxx11] then it probably indicates that you are trying to link together object files that were compiled with different values for the _GLIBCXX_USE_CXX11_ABI macro. This commonly happens when linking to a third-party library that was compiled with an older version of GCC. If the third-party library cannot be rebuilt with the new ABI then you will need to recompile your code with the old ABI.</p>
</blockquote>

<p>So if you suddenly get linker errors when switching to a GCC after 5.1.0 this would be a thing to check out.</p>
    </div></div></div></div><div id="solution21" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 21</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>Your linkage consumes libraries before the object files that refer to them</h2>

<ul>
<li>You are trying to compile and link your program with the GCC toolchain.</li>
<li>Your linkage specifies all of the necessary libraries and library search paths</li>
<li>If <code>libfoo</code> depends on <code>libbar</code>, then your linkage correctly puts <code>libfoo</code> before <code>libbar</code>.</li>
<li>Your linkage fails with <code>undefined reference to</code> <em>something</em> errors.</li>
<li>But all the undefined <em>something</em>s are declared in the header files you have
<code>#include</code>d and are in fact defined in the libraries that you are linking.</li>
</ul>

<p>Examples are in C. They could equally well be C++</p>

<h3>A minimal example involving a static library you built yourself</h3>

<p><strong>my_lib.c</strong></p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"my_lib.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span>

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">hw</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>
</span>{
    <span class="hljs-built_in">puts</span>(<span class="hljs-string">"Hello World"</span>);
}
</code></pre>

<p><strong>my_lib.h</strong></p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> MY_LIB_H</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> MT_LIB_H</span>

<span class="hljs-function"><span class="hljs-keyword">extern</span> <span class="hljs-type">void</span> <span class="hljs-title">hw</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span></span>;

<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
</code></pre>

<p><strong>eg1.c</strong></p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;my_lib.h&gt;</span></span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-built_in">hw</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>

<p>You build your static library:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ gcc -c -o my_lib.o my_lib.c
$ ar rcs libmy_lib.a my_lib.o
</code></pre>

<p>You compile your program:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ gcc -I. -c -o eg1.o eg1.c
</code></pre>

<p>You try to link it with <code>libmy_lib.a</code> and fail:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ gcc -o eg1 -L. -lmy_lib eg1.o 
eg1.o: In function `main<span class="hljs-number">'</span>:
eg1.c:(.text+<span class="hljs-number">0x5</span>): undefined reference to `hw<span class="hljs-number">'</span>
collect2: error: ld returned <span class="hljs-number">1</span> exit status
</code></pre>

<p>The same result if you compile and link in one step, like:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ gcc -o eg1 -I. -L. -lmy_lib eg1.c
/tmp/ccQk1tvs.o: In function `main<span class="hljs-number">'</span>:
eg1.c:(.text+<span class="hljs-number">0x5</span>): undefined reference to `hw<span class="hljs-number">'</span>
collect2: error: ld returned <span class="hljs-number">1</span> exit status
</code></pre>

<h3>A minimal example involving a shared system library, the compression library <code>libz</code></h3>

<p><strong>eg2.c</strong></p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;zlib.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%s\n"</span>,<span class="hljs-built_in">zlibVersion</span>());
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>

<p>Compile your program:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ gcc -c -o eg2.o eg2.c
</code></pre>

<p>Try to link your program with <code>libz</code> and fail:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ gcc -o eg2 -lz eg2.o 
eg2.o: In function `main<span class="hljs-number">'</span>:
eg2.c:(.text+<span class="hljs-number">0x5</span>): undefined reference to `zlibVersion<span class="hljs-number">'</span>
collect2: error: ld returned <span class="hljs-number">1</span> exit status
</code></pre>

<p>Same if you compile and link in one go:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ gcc -o eg2 -I. -lz eg2.c
/tmp/ccxCiGn7.o: In function `main<span class="hljs-number">'</span>:
eg2.c:(.text+<span class="hljs-number">0x5</span>): undefined reference to `zlibVersion<span class="hljs-number">'</span>
collect2: error: ld returned <span class="hljs-number">1</span> exit status
</code></pre>

<p>And a variation on example 2 involving <code>pkg-config</code>:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ gcc -o eg2 $(pkg-config --libs zlib) eg2.o 
eg2.o: In function `main<span class="hljs-number">'</span>:
eg2.c:(.text+<span class="hljs-number">0x5</span>): undefined reference to `zlibVersion<span class="hljs-number">'</span>
</code></pre>

<h3>What are you doing wrong?</h3>

<p>In the sequence of object files and libraries you want to link to make your
program, you are placing the libraries before the object files that refer to
them. You need to place the libraries <em>after</em> the object files that refer
to them.</p>

<p>Link example 1 correctly:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ gcc -o eg1 eg1.o -L. -lmy_lib
</code></pre>

<p>Success:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ ./eg1 
Hello World
</code></pre>

<p>Link example 2 correctly:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ gcc -o eg2 eg2.o -lz
</code></pre>

<p>Success:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ ./eg2 
<span class="hljs-number">1.2</span><span class="hljs-number">.8</span>
</code></pre>

<p>Link the example 2 <code>pkg-config</code> variation correctly:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ gcc -o eg2 eg2.o $(pkg-config --libs zlib) 
$ ./eg2
<span class="hljs-number">1.2</span><span class="hljs-number">.8</span>
</code></pre>

<h3>The explanation</h3>

<p><em>Reading is optional from here on</em>.</p>

<p>By default, a linkage command generated by GCC, on your distro,
consumes the files in the linkage from left to right in
commandline sequence. When it finds that a file refers to <em>something</em>
and does not contain a definition for it, to will search for a definition
in files further to the right. If it eventually finds a definition, the
reference is resolved. If any references remain unresolved at the end,
the linkage fails: the linker does not search backwards.</p>

<p>First, <strong>example 1</strong>, with static library <code>my_lib.a</code></p>

<p>A static library is an indexed archive of object files. When the linker
finds <code>-lmy_lib</code> in the linkage sequence and figures out that this refers
to the static library <code>./libmy_lib.a</code>, it wants to know whether your program
needs any of the object files in <code>libmy_lib.a</code>.</p>

<p>There is only object file in <code>libmy_lib.a</code>, namely <code>my_lib.o</code>, and there's only one thing defined
in <code>my_lib.o</code>, namely the function <code>hw</code>.</p>

<p>The linker will decide that your program needs <code>my_lib.o</code> if and only if it already knows that
your program refers to <code>hw</code>, in one or more of the object files it has already
added to the program, and that none of the object files it has already added
contains a definition for <code>hw</code>.</p>

<p>If that is true, then the linker will extract a copy of <code>my_lib.o</code> from the library and
add it to your program. Then, your program contains a definition for <code>hw</code>, so
its references to <code>hw</code> are <em>resolved</em>.</p>

<p>When you try to link the program like:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ gcc -o eg1 -L. -lmy_lib eg1.o
</code></pre>

<p>the linker <em>has not added</em> <code>eg1.o</code> <em>to the program</em> when it sees
<code>-lmy_lib</code>. Because at that point, it has not seen <code>eg1.o</code>.
Your program does not yet make any references to <code>hw</code>: it
does not yet make any references <em>at all</em>, because all the references it makes
are in <code>eg1.o</code>.</p>

<p>So the linker does not add <code>my_lib.o</code> to the program and has no further
use for <code>libmy_lib.a</code>.</p>

<p>Next, it finds <code>eg1.o</code>, and adds it to be program. An object file in the
linkage sequence is always added to the program. Now, the program makes
a reference to <code>hw</code>, and does not contain a definition of <code>hw</code>; but
there is nothing left in the linkage sequence that could provide the missing
definition. The reference to <code>hw</code> ends up <em>unresolved</em>, and the linkage fails.</p>

<p>Second, <strong>example 2</strong>, with shared library <code>libz</code></p>

<p>A shared library isn't an archive of object files or anything like it. It's
much more like a <em>program</em> that doesn't have a <code>main</code> function and
instead exposes multiple other symbols that it defines, so that other
programs can use them at runtime.</p>

<p>Many Linux distros today configure their GCC toolchain so that its language drivers (<code>gcc</code>,<code>g++</code>,<code>gfortran</code> etc)
instruct the system linker (<code>ld</code>) to link shared libraries on an <em>as-needed</em> basis.
You have got one of those distros.</p>

<p>This means that when the linker finds <code>-lz</code> in the linkage sequence, and figures out that this refers 
to the shared library (say) <code>/usr/lib/x86_64-linux-gnu/libz.so</code>, it wants to know whether any references that it has added to your program that aren't yet defined have definitions that are exported by <code>libz</code></p>

<p>If that is true, then the linker will <em>not</em> copy any chunks out of <code>libz</code> and
add them to your program; instead, it will just doctor the code of your program 
so that:-</p>

<ul>
<li><p>At runtime, the system program loader will load a copy of <code>libz</code> into the
same process as your program whenever it loads a copy of your program, to run it.</p></li>
<li><p>At runtime, whenever your program refers to something that is defined in
<code>libz</code>, that reference uses the definition exported by the copy of <code>libz</code> in
the same process.</p></li>
</ul>

<p>Your program wants to refer to just one thing that has a definition exported by <code>libz</code>,
namely the function <code>zlibVersion</code>, which is referred to just once, in <code>eg2.c</code>.
If the linker adds that reference to your program, and then finds the definition
exported by <code>libz</code>, the reference is <em>resolved</em> </p>

<p>But when you try to link the program like:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">gcc -o eg2 -lz eg2.o
</code></pre>

<p>the order of events is wrong in just the same way as with example 1.
At the point when the linker finds <code>-lz</code>, there are <em>no</em> references to anything
in the program: they are all in <code>eg2.o</code>, which has not yet been seen. So the
linker decides it has no use for <code>libz</code>. When it reaches <code>eg2.o</code>, adds it to the program,
and then has undefined reference to <code>zlibVersion</code>, the linkage sequence is finished;
that reference is unresolved, and the linkage fails.</p>

<p>Lastly, the <code>pkg-config</code> variation of example 2 has a now obvious explanation.
After shell-expansion:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">gcc -o eg2 $(pkg-config --libs zlib) eg2.o
</code></pre>

<p>becomes:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">gcc -o eg2 -lz eg2.o
</code></pre>

<p>which is just example 2 again.</p>

<h3>I can reproduce the problem in example 1, but not in example 2</h3>

<p>The linkage:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">gcc -o eg2 -lz eg2.o
</code></pre>

<p>works just fine for you!</p>

<p>(Or: That linkage worked fine for you on, say, Fedora 23, but fails on Ubuntu 16.04)</p>

<p>That's because the distro on which the linkage works is one of the ones that 
does not configure its GCC toolchain to link shared libraries <em>as-needed</em>.</p>

<p>Back in the day, it was normal for unix-like systems to link static and shared 
libraries by different rules. Static libraries in a linkage sequence were linked 
on the <em>as-needed</em> basis explained in example 1, but shared libraries were linked unconditionally.</p>

<p>This behaviour is economical at linktime because the linker doesn't have to ponder
whether a shared library is needed by the program: if it's a shared library,
link it. And most libraries in most linkages are shared libraries. But there are disadvantages too:-</p>

<ul>
<li><p>It is uneconomical at <em>runtime</em>, because it can cause shared libraries to be
loaded along with a program even if doesn't need them.</p></li>
<li><p>The different linkage rules for static and shared libraries can be confusing
to inexpert programmers, who may not know whether <code>-lfoo</code> in their linkage
is going to resolve to <code>/some/where/libfoo.a</code> or to <code>/some/where/libfoo.so</code>,
and might not understand the difference between shared and static libraries
anyway.</p></li>
</ul>

<p>This trade-off has led to the schismatic situation today. Some distros have
changed their GCC linkage rules for shared libraries so that the <em>as-needed</em>
principle applies for all libraries. Some distros have stuck with the old
way.</p>

<h3>Why do I still get this problem even if I compile-and-link at the same time?</h3>

<p>If I just do:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ gcc -o eg1 -I. -L. -lmy_lib eg1.c
</code></pre>

<p>surely gcc has to compile <code>eg1.c</code> first, and then link the resulting
object file with <code>libmy_lib.a</code>.  So how can it not know that object file
is needed when it's doing the linking?</p>

<p>Because compiling and linking with a single command does not change the
order of the linkage sequence.</p>

<p>When you run the command above, <code>gcc</code> figures out that you want compilation +
linkage. So behind the scenes, it generates a compilation command, and runs
it, then generates a linkage command, and runs it, as if <em>you</em> had run the
two commands:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ gcc -I. -c -o eg1.o eg1.c
$ gcc -o eg1 -L. -lmy_lib eg1.o
</code></pre>

<p>So the linkage fails just as it does if you <em>do</em> run those two commands. The
only difference you notice in the failure is that gcc has generated a
temporary object file in the compile + link case, because you're not telling it
to use <code>eg1.o</code>. We see:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">/tmp/ccQk1tvs.o: In function `main<span class="hljs-number">'</span>
</code></pre>

<p>instead of:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">eg1.o: In function `main<span class="hljs-number">'</span>:
</code></pre>

<h3>See also</h3>

<p><a href="https://stackoverflow.com/a/24675715/1362568">The order in which interdependent linked libraries are specified is wrong</a></p>

<p>Putting interdependent libraries in the wrong order is just one way
in which you can get files that <em>need</em> definitions of things coming
later in the linkage than the files that <em>provide</em> the definitions. Putting libraries before the 
object files that refer to them is another way of making the same mistake.</p>
    </div></div></div></div><div id="solution22" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 22</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>A wrapper around GNU ld that doesn't support linker scripts</strong></p>

<p>Some .so files are actually <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/4/html/Using_ld_the_GNU_Linker/simple-commands.html">GNU ld linker scripts</a>, e.g. <a href="https://www.threadingbuildingblocks.org/download">libtbb.so</a> file is an ASCII text file with this contents:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-built_in">INPUT</span> (libtbb.so<span class="hljs-number">.2</span>)
</code></pre>

<p>Some more complex builds may not support this. For example, if you include -v in the compiler options, you can see that the <a href="http://www.mainsoft.com/content/mainsoft-unix-and-linux-overview">mainwin gcc wrapper mwdip</a> discards linker script command files in the verbose output list of libraries to link in. A simple work around is to replace the linker script input command file with a copy of the file instead (or a symlink), e.g.</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">cp libtbb.so<span class="hljs-number">.2</span> libtbb.so
</code></pre>

<p>Or you could replace the -l argument with the full path of the .so, e.g. instead of <code>-ltbb</code> do <code>/home/foo/tbb-4.3/linux/lib/intel64/gcc4.4/libtbb.so.2</code></p>
    </div></div></div></div><div id="solution23" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 23</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>Befriending templates...</h2>

<p>Given the code snippet of a template type with a friend operator (or function);</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span> {
    <span class="hljs-keyword">friend</span> std::ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt; (std::ostream&amp; os, <span class="hljs-type">const</span> Foo&lt;T&gt;&amp; a);
};
</code></pre>

<p>The <code>operator&lt;&lt;</code> is being declared as a non-template function. For every type <code>T</code> used with <code>Foo</code>, there needs to be a non-templated <code>operator&lt;&lt;</code>. For example, if there is a type <code>Foo&lt;int&gt;</code> declared, then there must be an operator implementation as follows;</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">std::ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt; (std::ostream&amp; os, <span class="hljs-type">const</span> Foo&lt;<span class="hljs-type">int</span>&gt;&amp; a) {<span class="hljs-comment">/*...*/</span>}
</code></pre>

<p>Since it is not implemented, the linker fails to find it and results in the error.</p>

<p>To correct this, you can declare a template operator before the <code>Foo</code> type and then declare as a friend, the appropriate instantiation. The syntax is a little awkward, but is looks as follows;</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// forward declare the Foo</span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span>&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span>;

<span class="hljs-comment">// forward declare the operator &lt;&lt;</span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
std::ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream&amp;, <span class="hljs-type">const</span> Foo&lt;T&gt;&amp;);

<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span> {
    <span class="hljs-keyword">friend</span> std::ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt; &lt;&gt;(std::ostream&amp; os, <span class="hljs-type">const</span> Foo&lt;T&gt;&amp; a);
    <span class="hljs-comment">// note the required &lt;&gt;        ^^^^</span>
    <span class="hljs-comment">// ...</span>
};

<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
std::ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream&amp;, <span class="hljs-type">const</span> Foo&lt;T&gt;&amp;)
{
  <span class="hljs-comment">// ... implement the operator</span>
}
</code></pre>

<p>The above code limits the friendship of the operator to the corresponding instantiation of <code>Foo</code>, i.e. the <code>operator&lt;&lt; &lt;int&gt;</code> instantiation is limited to access the private members of the instantiation of <code>Foo&lt;int&gt;</code>.</p>

<p>Alternatives include;</p>

<ul>
<li><p>Allowing the friendship to extend to all instantiations of the templates, as follows;</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span> {
    <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T1&gt;
    <span class="hljs-keyword">friend</span> std::ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream&amp; os, <span class="hljs-type">const</span> Foo&lt;T1&gt;&amp; a);
    <span class="hljs-comment">// ...</span>
};
</code></pre></li>
<li><p>Or, the implementation for the <code>operator&lt;&lt;</code> can be done inline inside the class definition;</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span> {
    <span class="hljs-keyword">friend</span> std::ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream&amp; os, <span class="hljs-type">const</span> Foo&amp; a)
    { <span class="hljs-comment">/*...*/</span> }
    <span class="hljs-comment">// ...</span>
};
</code></pre></li>
</ul>

<p><em>Note</em>, when the declaration of the operator (or function) only appears in the class, the name is not available for "normal" lookup, only for argument dependent lookup, from <a href="http://en.cppreference.com/w/cpp/language/friend" rel="noreferrer">cppreference</a>;</p>

<blockquote>
  <p>A name first declared in a friend declaration within class or class template X becomes a member of the innermost enclosing namespace of X, but is not accessible for lookup (except argument-dependent lookup that considers X) unless a matching declaration at the namespace scope is provided...</p>
</blockquote>

<p>There is further reading on template friends at <a href="http://en.cppreference.com/w/cpp/language/friend#Template_friends" rel="noreferrer">cppreference</a> and the <a href="https://isocpp.org/wiki/faq/templates#template-friends" rel="noreferrer">C++ FAQ</a>.</p>

<p><a href="http://coliru.stacked-crooked.com/a/e9221c4bb23f9cd0" rel="noreferrer">Code listing showing the techniques above</a>.</p>

<hr>

<p><em>As a side note to the failing code sample; g++ warns about this as follows</em></p>

<blockquote>
  <p><code>warning: friend declaration 'std::ostream&amp; operator&lt;&lt;(...)' declares a non-template function [-Wnon-template-friend]</code></p>
  
  <p><code>note: (if this is not what you intended, make sure the function template has already been declared and add &lt;&gt; after the function name here)</code> </p>
</blockquote>
    </div></div></div></div><div id="solution24" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 24</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h1>When your include paths are different</h1>
<p>Linker errors can happen when a header file and its associated shared library (.lib file) go out of sync. Let me explain.</p>
<p>How do linkers work? The linker matches a function declaration (declared in the header) with its definition (in the shared library) by comparing their signatures. You can get a linker error if the linker doesn't find a function definition that matches perfectly.</p>
<p>Is it possible to still get a linker error even though the declaration and the definition seem to match? Yes! They might look the same in source code, but it really depends on what the compiler sees. Essentially you could end up with a situation like this:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// header1.h</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> Number;
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">(Number)</span></span>;

<span class="hljs-comment">// header2.h</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">float</span> Number;
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">(Number)</span></span>; <span class="hljs-comment">// this only looks the same lexically</span>
</code></pre>
<p>Note how even though both the function declarations look identical in source code, but they are really different according to the compiler.</p>
<p>You might ask how one ends up in a situation like that? <strong>Include paths</strong> of course! If when compiling the shared library, the include path leads to <code>header1.h</code> and you end up using <code>header2.h</code> in your own program, you'll be left scratching your header wondering what happened (pun intended).</p>
<p>An example of how this can happen in the real world is explained below.</p>
<h2>Further elaboration with an example</h2>
<p>I have two projects: <code>graphics.lib</code> and <code>main.exe</code>. Both projects depend on <code>common_math.h</code>. Suppose the library exports the following function:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// graphics.lib    </span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"common_math.h"</span> </span>
   
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">draw</span><span class="hljs-params">(vec3 p)</span> </span>{ ... } <span class="hljs-comment">// vec3 comes from common_math.h</span>
</code></pre>
<p>And then you go ahead and include the library in your own project.</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// main.exe</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"other/common_math.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"graphics.h"</span></span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-built_in">draw</span>(...);
}
</code></pre>
<p>Boom! You get a linker error and you have no idea why it's failing. The reason is that the common library uses different versions of the same include <code>common_math.h</code> (I have made it obvious here in the example by including a different path, but it might not always be so obvious. Maybe the include path is different in the compiler settings).</p>
<p>Note in this example, the linker would tell you it couldn't find <code>draw()</code>, when in reality you know it obviously is being exported by the library. You could spend hours scratching your head wondering what went wrong. The thing is, the linker sees a different signature because the parameter types are slightly different. In the example, <code>vec3</code> is a different type in both projects as far as the compiler is concerned. This could happen because they come from two slightly different include files (maybe the include files come from two different versions of the library).</p>
<h2>Debugging the linker</h2>
<p>DUMPBIN is your friend, if you are using Visual Studio. I'm sure other compilers have other similar tools.</p>
<p>The process goes like this:</p>
<ol>
<li>Note the weird mangled name given in the linker error. (eg. draw@graphics@XYZ).</li>
<li>Dump the exported symbols from the library into a text file.</li>
<li>Search for the exported symbol of interest, and notice that the mangled name is different.</li>
<li>Pay attention to why the mangled names ended up different. You would be able to see that the parameter types are different, even though they look the same in the source code.</li>
<li>Reason why they are different. In the example given above, they are different because of different include files.</li>
</ol>
<p>[1] By project I mean a set of source files that are linked together to produce either a library or an executable.</p>
<p>EDIT 1: Rewrote first section to be easier to understand. Please comment below to let me know if something else needs to be fixed. Thanks!</p>
    </div></div></div></div><div id="solution25" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 25</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>Inconsistent <code>UNICODE</code> definitions</h2>

<p>A Windows UNICODE build is built with <code>TCHAR</code> etc. being defined as <code>wchar_t</code> etc. When not building with <code>UNICODE</code> defined as build with <code>TCHAR</code> defined as <code>char</code> etc. These <code>UNICODE</code> and <code>_UNICODE</code> defines affect all the <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/dd374131(v=vs.85).aspx" rel="noreferrer">"<code>T</code>" string types</a>; <code>LPTSTR</code>, <code>LPCTSTR</code> and their elk.</p>

<p>Building one library with <code>UNICODE</code> defined and attempting to link it in a project where <code>UNICODE</code> is not defined will result in linker errors since there will be a mismatch in the definition of <code>TCHAR</code>; <code>char</code> vs. <code>wchar_t</code>.</p>

<p>The error usually includes a function a value with a <code>char</code> or <code>wchar_t</code> derived type, these could include <code>std::basic_string&lt;&gt;</code> etc. as well. When browsing through the affected function in the code, there will often be a reference to <code>TCHAR</code> or <code>std::basic_string&lt;TCHAR&gt;</code> etc. This is a tell-tale sign that the code was originally intended for both a UNICODE and a Multi-Byte Character (or "narrow") build.</p>

<p>To correct this, build all the required libraries and projects with a consistent definition of <code>UNICODE</code> (and <code>_UNICODE</code>).</p>

<ol>
<li><p>This can be done with either;</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">define</span> UNICODE</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> _UNICODE</span>
</code></pre></li>
<li><p>Or in the project settings;</p>

<blockquote>
  <p>Project Properties &gt; General &gt; Project Defaults &gt; Character Set</p>
</blockquote></li>
<li><p>Or on the command line;</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">/DUNICODE /D_UNICODE
</code></pre></li>
</ol>

<p>The alternative is applicable as well, if UNICODE is not intended to be used, make sure the defines are not set, and/or the multi-character setting is used in the projects and consistently applied.</p>

<p>Do not forget to be consistent between the "Release" and "Debug" builds as well.</p>
    </div></div></div></div><div id="solution26" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 26</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>Clean and rebuild</h2>
<p>A "clean" of the build can remove the "dead wood" that may be left lying around from previous builds, failed builds, incomplete builds and other build system related build issues.</p>
<p>In general the IDE or build will include some form of "clean" function, but this may not be correctly configured (e.g. in a manual makefile) or may fail (e.g. the intermediate or resultant binaries are read-only).</p>
<p>Once the "clean" has completed, verify that the "clean" has succeeded and all the generated intermediate file (e.g. an automated makefile) have been successfully removed.</p>
<p>This <em>process can be seen as a final resort, but is often a good first step</em>; especially if the code related to the error has recently been added (either locally or from the source repository).</p>
    </div></div></div></div><div id="solution27" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 27</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>Missing "extern" in <code>const</code> variable declarations/definitions (C++ only)</h2>

<p>For people coming from C it might be a surprise that in C++ global <code>const</code>variables have internal (or static) linkage. In C this was not the case, as all global variables are implicitly <code>extern</code> (i.e. when the <code>static</code> keyword is missing).</p>

<p>Example: </p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-comment">// file1.cpp</span>
<span class="hljs-type">const</span> <span class="hljs-type">int</span> test = <span class="hljs-number">5</span>;    <span class="hljs-comment">// in C++ same as "static const int test = 5"</span>
<span class="hljs-type">int</span> test2 = <span class="hljs-number">5</span>;

<span class="hljs-comment">// file2.cpp</span>
<span class="hljs-keyword">extern</span> <span class="hljs-type">const</span> <span class="hljs-type">int</span> test;
<span class="hljs-keyword">extern</span> <span class="hljs-type">int</span> test2;

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span>
</span>{
 <span class="hljs-type">int</span> x = test;   <span class="hljs-comment">// linker error in C++ , no error in C</span>
 <span class="hljs-type">int</span> y = test2;  <span class="hljs-comment">// no problem</span>
}
</code></pre>

<p>correct would be to use a header file and include it in file2.cpp <em>and</em> file1.cpp</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-keyword">extern</span> <span class="hljs-type">const</span> <span class="hljs-type">int</span> test;
<span class="hljs-keyword">extern</span> <span class="hljs-type">int</span> test2;
</code></pre>

<p>Alternatively one could declare the <code>const</code> variable in file1.cpp with explicit <code>extern</code></p>
    </div></div></div></div><div id="solution28" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 28</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Even though this is a pretty old questions with multiple accepted answers, I'd like to share how to resolve an <strong>obscure</strong> "undefined reference to" error.  </p>

<h1>Different versions of libraries</h1>

<p>I was using an alias to refer to <code>std::filesystem::path</code>: filesystem is in the standard library since C++17 but my program needed to <strong>also compile in C++14</strong> so I decided to use a variable alias:  </p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">if</span> (defined _GLIBCXX_EXPERIMENTAL_FILESYSTEM) <span class="hljs-comment">//is the included filesystem library experimental? (C++14 and newer: &lt;experimental/filesystem&gt;)</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-type">path_t</span> = std::experimental::filesystem::path;
<span class="hljs-meta">#<span class="hljs-keyword">elif</span> (defined _GLIBCXX_FILESYSTEM) <span class="hljs-comment">//not experimental (C++17 and newer: &lt;filesystem&gt;)</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-type">path_t</span> = std::filesystem::path;
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
</code></pre>

<p>Let's say I have three files: main.cpp, file.h, file.cpp:</p>

<ul>
<li><strong>file.h</strong> #include's &lt;<strong>experimental::filesystem</strong>&gt; and contains the code above  </li>
<li><strong>file.cpp</strong>, the implementation of file.h, #include's "<strong>file.h</strong>"  </li>
<li><strong>main.cpp</strong> #include's &lt;<strong>filesystem</strong>&gt; and "<strong>file.h</strong>"</li>
</ul>

<p>Note the <strong>different libraries</strong> used in main.cpp and file.h. Since main.cpp #include'd "<strong>file.h</strong>" after &lt;<strong>filesystem</strong>&gt;, the version of filesystem used there was <strong>the C++17 one</strong>. I used to compile the program with the following commands:</p>

<p>$ <code>g++ -g -std=c++17 -c main.cpp</code> -&gt; compiles main.cpp to main.o<br>
$ <code>g++ -g -std=c++17 -c file.cpp</code> -&gt; compiles file.cpp and file.h to file.o<br>
$ <code>g++ -g -std=c++17 -o executable main.o file.o -lstdc++fs</code> -&gt; links main.o and file.o  </p>

<p>This way <strong>any function</strong> contained in file.o and used in main.o that <strong>required <code>path_t</code></strong> gave "undefined reference" errors because <strong>main.o</strong> referred to <strong><code>std::filesystem::path</code></strong> but <strong>file.o</strong> to <strong><code>std::experimental::filesystem::path</code></strong>.  </p>

<h1>Resolution</h1>

<p>To fix this I just needed to <strong>change &lt;experimental::filesystem&gt; in file.h to &lt;filesystem&gt;</strong>.</p>
    </div></div></div></div><div id="solution29" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 29</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>When linking against shared libraries, make sure that the used symbols are not hidden.</h2>

<p>The default behavior of gcc is that all symbols are visible. However, when the translation units are built with option <code>-fvisibility=hidden</code>, only functions/symbols marked with <code>__attribute__ ((visibility ("default")))</code> are external in the resulting shared object.</p>

<p>You can check whether the symbols your are looking for are external by invoking:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"># -<span class="hljs-function">D <span class="hljs-title">shows</span> <span class="hljs-params">(global)</span> dynamic symbols that can be used from the outside of XXX.so
nm -D XXX.so | grep MY_SYMBOL 
</span></code></pre>

<p>the hidden/local symbols are shown by <code>nm</code> with lowercase symbol type, for example <code>t</code> instead of `T for code-section:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">nm XXX.so
<span class="hljs-number">00000000000005</span>a7 t HIDDEN_SYMBOL
<span class="hljs-number">00000000000005f</span>8 T VISIBLE_SYMBOL
</code></pre>

<p>You can also use <code>nm</code> with the option <code>-C</code> to demangle the names (if C++ was used).</p>

<p>Similar to Windows-dlls, one would mark public functions with a define, for example <code>DLL_PUBLIC</code> defined as:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">define</span> DLL_PUBLIC __attribute__ ((visibility (<span class="hljs-string">"default"</span>)))</span>

<span class="hljs-function">DLL_PUBLIC <span class="hljs-type">int</span> <span class="hljs-title">my_public_function</span><span class="hljs-params">()</span></span>{
  ...
}
</code></pre>

<p>Which roughly corresponds to Windows'/MSVC-version:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> BUILDING_DLL</span>
    <span class="hljs-meta">#<span class="hljs-keyword">define</span> DLL_PUBLIC __declspec(dllexport) </span>
<span class="hljs-meta">#<span class="hljs-keyword">else</span></span>
    <span class="hljs-meta">#<span class="hljs-keyword">define</span> DLL_PUBLIC __declspec(dllimport) </span>
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
</code></pre>

<p>More <a href="https://gcc.gnu.org/wiki/Visibility" rel="noreferrer">information about visibility</a> can be found on the gcc wiki.</p>

<hr>

<p>When a translation unit is compiled with <code>-fvisibility=hidden</code> the resulting symbols have still external linkage (shown with upper case symbol type by <code>nm</code>) and can be used for external linkage without problem if the object files become part of a static libraries. The linkage becomes local only when the object files are linked into a shared library.</p>

<p>To find which symbols in an object file are hidden run:</p>

<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">&gt;&gt;&gt; objdump -t XXXX.o | grep hidden
<span class="hljs-number">0000000000000000</span> g     F .text  <span class="hljs-number">000000000000000b</span> .hidden HIDDEN_SYMBOL1
<span class="hljs-number">000000000000000b</span> g     F .text  <span class="hljs-number">000000000000000b</span> .hidden HIDDEN_SYMBOL2
</code></pre>
    </div></div></div></div><div id="solution30" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl solution-inner border md:px-10 md:py-10 px-2 py-10 shadow-md bg-white"><div style="display:flex;justify-content:space-between"><h4 class="text-4xl font-semibold mb-5">Solution 30</h4><div class="tags-wrap h-max space-x-8"><div class="tags"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/linker-errors">linker-errors</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/undefined-reference">undefined-reference</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold whitespace-nowrap" href="/questions/tag/unresolved-external">unresolved-external</a></div></div></div><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>Functions or class-methods are defined in source files with the <code>inline</code> specifier.</h2>
<p>An example:-</p>
<p><strong>main.cpp</strong></p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"gum.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"foo.h"</span></span>

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-built_in">gum</span>();
    foo f;
    f.<span class="hljs-built_in">bar</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p><strong>foo.h (1)</strong></p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span>

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">foo</span> {
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">bar</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;
};
</code></pre>
<p><strong>gum.h (1)</strong></p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span>

<span class="hljs-function"><span class="hljs-keyword">extern</span> <span class="hljs-type">void</span> <span class="hljs-title">gum</span><span class="hljs-params">()</span></span>;
</code></pre>
<p><strong>foo.cpp (1)</strong></p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"foo.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>

<span class="hljs-keyword">inline</span> <span class="hljs-comment">/* &lt;- wrong! */</span> <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo::bar</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
    std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; std::endl;
}
</code></pre>
<p><strong>gum.cpp (1)</strong></p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"gum.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>

<span class="hljs-keyword">inline</span> <span class="hljs-comment">/* &lt;- wrong! */</span> <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">gum</span><span class="hljs-params">()</span>
</span>{
    std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; std::endl;
}
</code></pre>
<p>If you specify that <code>gum</code> (similarly, <code>foo::bar</code>) is <code>inline</code> at its definition then
the compiler will inline <code>gum</code> (if it chooses to), by:-</p>
<ul>
<li>not emitting any unique definition of <code>gum</code>, and therefore</li>
<li>not emitting any symbol by which the linker can refer to the definition of <code>gum</code>, and instead</li>
<li>replacing all calls to <code>gum</code> with inline copies of the compiled body of <code>gum</code>.</li>
</ul>
<p>As a result, if you define <code>gum</code> inline in a source file <code>gum.cpp</code>, it is
compiled to an object file <code>gum.o</code> in which all calls to <code>gum</code> are inlined
and no symbol is defined by which the linker can refer to <code>gum</code>. When you
link <code>gum.o</code> into a program together with another object file, e.g. <code>main.o</code>
that make references to an external symbol <code>gum</code>, the linker cannot resolve
those references. So the linkage fails:</p>
<p>Compile:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">g++ -c  main.cpp foo.cpp gum.cpp
</code></pre>
<p>Link:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ g++ -o prog main.o foo.o gum.o
main.o: In function `main<span class="hljs-number">'</span>:
main.cpp:(.text+<span class="hljs-number">0x18</span>): undefined reference to `<span class="hljs-built_in">gum</span>()'
main.cpp:(.text+<span class="hljs-number">0x24</span>): undefined reference to `foo::<span class="hljs-built_in">bar</span>() <span class="hljs-type">const</span><span class="hljs-number">'</span>
collect2: error: ld returned <span class="hljs-number">1</span> exit status
</code></pre>
<p>You can only define <code>gum</code> as <code>inline</code> if the compiler can see its definition in every source file in which <code>gum</code> may be called. That means its inline definition needs to exist in a <em>header</em> file that you <em>include</em> in every source file
you compile in which <code>gum</code> may be called. Do one of two things:</p>
<p><strong>Either don't inline the definitions</strong></p>
<p>Remove the <code>inline</code> specifier from the source file definition:</p>
<p><strong>foo.cpp (2)</strong></p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"foo.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo::bar</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
    std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; std::endl;
}
</code></pre>
<p><strong>gum.cpp (2)</strong></p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"gum.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">gum</span><span class="hljs-params">()</span>
</span>{
    std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; std::endl;
}
</code></pre>
<p>Rebuild with that:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ g++ -c  main.cpp foo.cpp gum.cpp
imk@imk-Inspiron<span class="hljs-number">-7559</span>:~/develop/so/scrap1$ g++ -o prog main.o foo.o gum.o
imk@imk-Inspiron<span class="hljs-number">-7559</span>:~/develop/so/scrap1$ ./<span class="hljs-function">prog
<span class="hljs-type">void</span> <span class="hljs-title">gum</span><span class="hljs-params">()</span>
<span class="hljs-type">void</span> <span class="hljs-title">foo::bar</span><span class="hljs-params">()</span> <span class="hljs-type">const</span>
</span></code></pre>
<p>Success.</p>
<p><strong>Or inline correctly</strong></p>
<p>Inline definitions in header files:</p>
<p><strong>foo.h (2)</strong></p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">foo</span> {
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">bar</span><span class="hljs-params">()</span> <span class="hljs-type">const</span>  </span>{ <span class="hljs-comment">// In-class definition is implicitly inline</span>
        std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; std::endl;
    }
};
<span class="hljs-comment">// Alternatively...</span>
<span class="hljs-meta">#<span class="hljs-keyword">if</span> 0</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">foo</span> {
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">bar</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;
};
<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">foo::bar</span><span class="hljs-params">()</span> <span class="hljs-type">const</span>  </span>{
    std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; std::endl;
}
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
</code></pre>
<p><strong>gum.h (2)</strong></p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>

<span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">gum</span><span class="hljs-params">()</span> </span>{
    std::cout &lt;&lt; __PRETTY_FUNCTION__ &lt;&lt; std::endl;
}
</code></pre>
<p>Now we don't need <code>foo.cpp</code> or <code>gum.cpp</code>:</p>
<pre class="lang-cpp s-code-block"><code class="hljs language-cpp">$ g++ -c main.cpp
$ g++ -o prog main.o
$ ./<span class="hljs-function">prog
<span class="hljs-type">void</span> <span class="hljs-title">gum</span><span class="hljs-params">()</span>
<span class="hljs-type">void</span> <span class="hljs-title">foo::bar</span><span class="hljs-params">()</span> <span class="hljs-type">const</span>
</span></code></pre>
    </div></div></div></div></div></div><div class="widget"><a href="/questions/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript-1657387777379">How to print a number with commas as thousands separators in JavaScript</a><a href="/questions/why-does-printf-not-flush-after-the-call-unless-a-newline-is-in-the-format-string-1657387853407">Why does printf not flush after the call unless a newline is in the format string?</a><a href="/questions/swing-gui-listeners-without-awt-1657387522426">Swing GUI listeners without AWT</a><a href="/questions/how-can-i-read-inputs-as-numbers-1657384503324">How can I read inputs as numbers?</a><a href="/questions/how-can-i-upload-files-to-a-server-using-jspservlet-1657384847658">How can I upload files to a server using JSP/Servlet?</a><a href="/questions/calling-a-function-of-a-module-by-using-its-name-(a-string)-1657388565656">Calling a function of a module by using its name (a string)</a><a href="/questions/event-binding-on-dynamically-created-elements-1657384268057">Event binding on dynamically created elements?</a><a href="/questions/how-to-avoid-using-select-in-excel-vba-1657384286300">How to avoid using Select in Excel VBA</a><a href="/questions/how-to-append-text-to-an-existing-file-in-java-1657388492377">How to append text to an existing file in Java?</a><a href="/questions/align-inline-block-divs-to-top-of-container-element-1657387489610">Align inline-block DIVs to top of container element</a><a href="/questions/how-to-removedelete-a-large-file-from-commit-history-in-the-git-repository-1657387589093">How to remove/delete a large file from commit history in the Git repository?</a><a href="/questions/useless-use-of-cat-1657388390794">Useless use of cat?</a><a href="/questions/passing-data-between-view-controllers-1657384540021">Passing data between view controllers</a><a href="/questions/randomize-a-listlesstgreater-1657388172793">Randomize a List&lt;T&gt;</a><a href="/questions/object-comparison-in-javascript-duplicate-1657387675463">Object comparison in JavaScript [duplicate]</a><a href="/questions/getcontactsfromfirebase()-method-return-an-empty-list-1657388433928">getContactsFromFirebase() method return an empty list</a><a href="/questions/how-do-i-pass-data-between-activities-in-android-application-1657384739839">How do I pass data between Activities in Android application?</a><a href="/questions/how-can-i-get-useful-error-messages-in-php-1657384609065">How can I get useful error messages in PHP?</a><a href="/questions/google-maps-js-api-v3-simple-multiple-marker-example-1657388073335">Google Maps JS API v3 - Simple Multiple Marker Example</a><a href="/questions/css-margin-terror-margin-adds-space-outside-parent-element-duplicate-1657388142199">CSS margin terror; Margin adds space outside parent element [duplicate]</a></div></div><span class="cursor-pointer text-lg p-2" style="position:fixed;bottom:20px;left:20px;background:#000;z-index:2000;color:white">Go go top</span></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;Compiling a C++ program takes place in several steps, as specified by \u0026lt;strong\u0026gt;2.2\u0026lt;/strong\u0026gt; \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/8834196\u0026quot;\u0026gt;(credits to Keith Thompson for the reference)\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;The precedence among the syntax rules of translation is specified by the following phases \u0026lt;em\u0026gt;[see footnote]\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Physical source file characters are mapped, in an implementation-defined manner, to the basic source character set\n(introducing new-line characters for end-of-line indicators) if\nnecessary. \u0026lt;em\u0026gt;[SNIP]\u0026lt;/em\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Each instance of a backslash character (\\) immediately followed by a new-line character is deleted, splicing physical source lines to\nform logical source lines. \u0026lt;em\u0026gt;[SNIP]\u0026lt;/em\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;The source file is decomposed into preprocessing tokens (2.5) and sequences of white-space characters (including comments). \u0026lt;em\u0026gt;[SNIP]\u0026lt;/em\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Preprocessing directives are executed, macro invocations are expanded, and _Pragma unary operator expressions are executed. \u0026lt;em\u0026gt;[SNIP]\u0026lt;/em\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Each source character set member in a character literal or a string literal, as well as each escape sequence and universal-character-name\nin a character literal or a non-raw string literal, is converted to\nthe corresponding member of the execution character set; \u0026lt;em\u0026gt;[SNIP]\u0026lt;/em\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Adjacent string literal tokens are concatenated.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;White-space characters separating tokens are no longer significant. Each preprocessing token is converted into a token. (2.7). The\nresulting tokens are syntactically and semantically analyzed and\ntranslated as a translation unit. \u0026lt;em\u0026gt;[SNIP]\u0026lt;/em\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Translated translation units and instantiation units are combined as follows: \u0026lt;em\u0026gt;[SNIP]\u0026lt;/em\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;All external entity references are resolved. Library components are linked to satisfy external references to entities not defined in the\ncurrent translation. All such translator output is collected into a\nprogram image which contains information needed for execution in its\nexecution environment.\u0026lt;/strong\u0026gt; (emphasis mine)\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;[footnote]\u0026lt;/em\u0026gt; Implementations must behave as if these separate phases occur, although in practice different phases might be folded together.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;The specified errors occur during this last stage of compilation, most commonly referred to as linking. It basically means that you compiled a bunch of implementation files into object files or libraries and now you want to get them to work together.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Say you defined symbol \u0026lt;code\u0026gt;a\u0026lt;/code\u0026gt; in \u0026lt;code\u0026gt;a.cpp\u0026lt;/code\u0026gt;. Now, \u0026lt;code\u0026gt;b.cpp\u0026lt;/code\u0026gt; \u0026lt;em\u0026gt;declared\u0026lt;/em\u0026gt; that symbol and used it. Before linking, it simply assumes that that symbol was defined \u0026lt;em\u0026gt;somewhere\u0026lt;/em\u0026gt;, but it doesn\u0026apos;t yet care where. The linking phase is responsible for finding the symbol and correctly linking it to \u0026lt;code\u0026gt;b.cpp\u0026lt;/code\u0026gt; (well, actually to the object or library that uses it).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If you\u0026apos;re using Microsoft Visual Studio, you\u0026apos;ll see that projects generate \u0026lt;code\u0026gt;.lib\u0026lt;/code\u0026gt; files. These contain a table of exported symbols, and a table of imported symbols. The imported symbols are resolved against the libraries you link against, and the exported symbols are provided for the libraries that use that \u0026lt;code\u0026gt;.lib\u0026lt;/code\u0026gt; (if any).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Similar mechanisms exist for other compilers/ platforms.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Common error messages are \u0026lt;code\u0026gt;error LNK2001\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;error LNK1120\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;error LNK2019\u0026lt;/code\u0026gt; for \u0026lt;strong\u0026gt;Microsoft Visual Studio\u0026lt;/strong\u0026gt; and \u0026lt;code\u0026gt;undefined reference to\u0026lt;/code\u0026gt; \u0026lt;em\u0026gt;symbolName\u0026lt;/em\u0026gt; for \u0026lt;strong\u0026gt;GCC\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The code:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;X\u0026lt;/span\u0026gt;\n{\n   \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;virtual\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n};\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Y\u0026lt;/span\u0026gt; : X\n{\n   \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{}\n};\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;\n{\n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;virtual\u0026lt;/span\u0026gt; ~\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;() = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n};\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;: A\n{\n   \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;virtual\u0026lt;/span\u0026gt; ~\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;(){}\n};\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extern\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; x;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n   x = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n   \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;();\n   Y y;\n   B b;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;will generate the following errors with \u0026lt;strong\u0026gt;GCC\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;/home/AbiSfw/ccvvuHoX.o: In function `main\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;\u0026apos;\u0026lt;/span\u0026gt;:\nprog.cpp:(.text+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x10\u0026lt;/span\u0026gt;): undefined reference to `x\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;\u0026apos;\u0026lt;/span\u0026gt;\nprog.cpp:(.text+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x19\u0026lt;/span\u0026gt;): undefined reference to `\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;()\u0026apos;\nprog.cpp:(.text+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x2d\u0026lt;/span\u0026gt;): undefined reference to `A::~\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;()\u0026apos;\n/home/AbiSfw/ccvvuHoX.o: In function `B::~\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;()\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\nprog.cpp:(.text._ZN1BD1Ev[B::~B()]+0xb): undefined reference to `A::~A()\u0026apos;\u0026lt;/span\u0026gt;\n/home/AbiSfw/ccvvuHoX.o: In function `B::~\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;()\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\nprog.cpp:(.text._ZN1BD0Ev[B::~B()]+0x12): undefined reference to `A::~A()\u0026apos;\u0026lt;/span\u0026gt;\n/home/AbiSfw/ccvvuHoX.o:(.rodata._ZTI1Y[typeinfo \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; Y]+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x8\u0026lt;/span\u0026gt;): undefined reference to `typeinfo \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; X\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;\u0026apos;\u0026lt;/span\u0026gt;\n/home/AbiSfw/ccvvuHoX.o:(.rodata._ZTI1B[typeinfo \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; B]+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x8\u0026lt;/span\u0026gt;): undefined reference to `typeinfo \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; A\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;\u0026apos;\u0026lt;/span\u0026gt;\ncollect2: ld returned \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; exit status\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;and similar errors with \u0026lt;strong\u0026gt;Microsoft Visual Studio\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\u0026amp;gt;test2.obj : error LNK2001: unresolved external symbol \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;void __cdecl foo(void)\u0026quot;\u0026lt;/span\u0026gt; (?foo@@YAXXZ)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\u0026amp;gt;test2.obj : error LNK2001: unresolved external symbol \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;int x\u0026quot;\u0026lt;/span\u0026gt; (?x@@\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt;HA)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\u0026amp;gt;test2.obj : error LNK2001: unresolved external symbol \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;public: virtual __thiscall A::~A(void)\u0026quot;\u0026lt;/span\u0026gt; (??\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;A@@UAE@XZ)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\u0026amp;gt;test2.obj : error LNK2001: unresolved external symbol \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;public: virtual void __thiscall X::foo(void)\u0026quot;\u0026lt;/span\u0026gt; (?foo@X@@UAEXXZ)\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;\u0026amp;gt;...\\test2.exe : fatal error LNK1120: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt; unresolved externals\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Common causes include:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/12574400\u0026quot;\u0026gt;Failure to link against appropriate libraries/object files or compile implementation files\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/12574403\u0026quot;\u0026gt;Declared and undefined variable or function.\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/12574407\u0026quot;\u0026gt;Common issues with class-type members\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/12574417\u0026quot;\u0026gt;Template implementations not visible.\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/12574420\u0026quot;\u0026gt;Symbols were defined in a C program and used in C++ code.\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/12574423\u0026quot;\u0026gt;Incorrectly importing/exporting methods/classes across modules/dll. (MSVS specific)\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/20358542\u0026quot;\u0026gt;Circular library dependency\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/5259714/undefined-reference-to-winmain16/5260237#5260237\u0026quot;\u0026gt;undefined reference to `WinMain@16\u0026apos;\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/24675715\u0026quot;\u0026gt;Interdependent library order\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/14364362/visualstudio-project-with-multiple-sourcefiles-of-the-same-name\u0026quot;\u0026gt;Multiple source files of the same name\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/25744263\u0026quot;\u0026gt;Mistyping or not including the .lib extension when using the \u0026lt;code\u0026gt;#pragma\u0026lt;/code\u0026gt; (Microsoft Visual Studio)\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/35891188\u0026quot;\u0026gt;Problems with template friends\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/36475406\u0026quot;\u0026gt;Inconsistent \u0026lt;code\u0026gt;UNICODE\u0026lt;/code\u0026gt; definitions\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/45478255\u0026quot;\u0026gt;Missing \u0026quot;extern\u0026quot; in const variable declarations/definitions (C++ only)\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/72328407/775806\u0026quot;\u0026gt;Visual Studio Code not configured for a multiple file project\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;Class members:\u0026lt;/h2\u0026gt;\n\n\u0026lt;h3\u0026gt;A pure \u0026lt;code\u0026gt;virtual\u0026lt;/code\u0026gt; destructor needs an implementation.\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;Declaring a destructor pure still requires you to define it (unlike a regular function):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;X\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;virtual\u0026lt;/span\u0026gt; ~\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;X\u0026lt;/span\u0026gt;() = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n};\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Y\u0026lt;/span\u0026gt; : X\n{\n    ~\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Y\u0026lt;/span\u0026gt;() {}\n};\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    Y y;\n}\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//X::~X(){} //uncomment this line for successful definition\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This happens because base class destructors are called when the object is destroyed implicitly, so a definition is required.    \u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;\u0026lt;code\u0026gt;virtual\u0026lt;/code\u0026gt; methods must either be implemented or defined as pure.\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;This is similar to non-\u0026lt;code\u0026gt;virtual\u0026lt;/code\u0026gt; methods with no definition, with the added reasoning that \nthe pure declaration generates a dummy vtable and you might get the linker error without using the function:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;X\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;virtual\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n};\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Y\u0026lt;/span\u0026gt; : X\n{\n   \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{}\n};\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n   Y y; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//linker error although there was no call to X::foo\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;For this to work, declare \u0026lt;code\u0026gt;X::foo()\u0026lt;/code\u0026gt; as pure:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;X\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;virtual\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;= \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h3\u0026gt;Non-\u0026lt;code\u0026gt;virtual\u0026lt;/code\u0026gt; class members\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;Some members need to be defined even if not used explicitly:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;\n{ \n    ~\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;();\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The following would yield the error:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;A a;      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//destructor undefined\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The implementation can be inline, in the class definition itself:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;\n{ \n    ~\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;() {}\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;or outside:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;A::~\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;() {}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;If the implementation is outside the class definition, but in a header, the methods have to be marked as \u0026lt;code\u0026gt;inline\u0026lt;/code\u0026gt; to prevent a multiple definition.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;All used member methods need to be defined if used.\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;A common mistake is forgetting to qualify the name:\u0026lt;/h3\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;\n{\n   \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n};\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n   A a;\n   a.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;();\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The definition should be\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;A::foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h3\u0026gt;\u0026lt;code\u0026gt;static\u0026lt;/code\u0026gt; data members must be defined outside the class in a \u0026lt;strong\u0026gt;single translation unit\u0026lt;/strong\u0026gt;:\u0026lt;/h3\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;X\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; x;\n};\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; x = X::x;\n}\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//int X::x; //uncomment this line to define X::x\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;An initializer can be provided for a \u0026lt;code\u0026gt;static\u0026lt;/code\u0026gt; \u0026lt;code\u0026gt;const\u0026lt;/code\u0026gt; data member of integral or enumeration type within the class definition; however, odr-use of this member will still require a namespace scope definition as described above. C++11 allows initialization inside the class for all \u0026lt;code\u0026gt;static const\u0026lt;/code\u0026gt; data members.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h3\u0026gt;Failure to link against appropriate libraries/object files or compile implementation files\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;Commonly, each translation unit will generate an object file that contains the definitions of the symbols defined in that translation unit.\nTo use those symbols, you have to link against those object files.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Under \u0026lt;strong\u0026gt;gcc\u0026lt;/strong\u0026gt; you would specify all object files that are to be linked together in the command line, or compile the implementation files together.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;g++ -o test objectFile1.o objectFile2.o -lLibraryName\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;-l...\u0026lt;/code\u0026gt; must be to the right of any \u0026lt;code\u0026gt;.o\u0026lt;/code\u0026gt;/\u0026lt;code\u0026gt;.c\u0026lt;/code\u0026gt;/\u0026lt;code\u0026gt;.cpp\u0026lt;/code\u0026gt; files.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The \u0026lt;code\u0026gt;libraryName\u0026lt;/code\u0026gt; here is just the bare name of the library, without platform-specific additions. So e.g. on Linux library files are usually called \u0026lt;code\u0026gt;libfoo.so\u0026lt;/code\u0026gt; but you\u0026apos;d only write \u0026lt;code\u0026gt;-lfoo\u0026lt;/code\u0026gt;. On Windows that same file might be called \u0026lt;code\u0026gt;foo.lib\u0026lt;/code\u0026gt;, but you\u0026apos;d use the same argument. You might have to add the directory where those files can be found using \u0026lt;code\u0026gt;-Ldirectory\u0026lt;/code\u0026gt;. Make sure to not write a space after \u0026lt;code\u0026gt;-l\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;-L\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For \u0026lt;strong\u0026gt;XCode\u0026lt;/strong\u0026gt;:  Add the User Header Search Paths -\u0026amp;gt; add the Library Search Path -\u0026amp;gt; drag and drop the actual library reference into the project folder.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Under \u0026lt;strong\u0026gt;MSVS\u0026lt;/strong\u0026gt;, files added to a project automatically have their object files linked together and a \u0026lt;code\u0026gt;lib\u0026lt;/code\u0026gt; file would be generated (in common usage). To use the symbols in a separate project, you\u0026apos;d\nneed to include the \u0026lt;code\u0026gt;lib\u0026lt;/code\u0026gt; files in the project settings. This is done in the Linker section of the project properties, in \u0026lt;code\u0026gt;Input -\u0026amp;gt; Additional Dependencies\u0026lt;/code\u0026gt;. (the path to the \u0026lt;code\u0026gt;lib\u0026lt;/code\u0026gt; file should be\nadded in \u0026lt;code\u0026gt;Linker -\u0026amp;gt; General -\u0026amp;gt; Additional Library Directories\u0026lt;/code\u0026gt;) When using a third-party library that is provided with a \u0026lt;code\u0026gt;lib\u0026lt;/code\u0026gt; file, failure to do so usually results in the error.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;It can also happen that you forget to add the file to the compilation, in which case the object file won\u0026apos;t be generated. In \u0026lt;strong\u0026gt;gcc\u0026lt;/strong\u0026gt; you\u0026apos;d add the files to the command line. In \u0026lt;strong\u0026gt;MSVS\u0026lt;/strong\u0026gt; adding the file to the project will make it compile it automatically (albeit files can, manually, be individually excluded from the build).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;In Windows programming, the tell-tale sign that you did not link a necessary library is that the name of the unresolved symbol begins with \u0026lt;code\u0026gt;__imp_\u0026lt;/code\u0026gt;. Look up the name of the function in the documentation, and it should say which library you need to use. For example, MSDN puts the information in a box at the bottom of each function in a section called \u0026quot;Library\u0026quot;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h3\u0026gt;Declared but did not define a variable or function.\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;A typical variable declaration is\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extern\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; x;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;As this is only a declaration, a \u0026lt;strong\u0026gt;single definition\u0026lt;/strong\u0026gt; is needed. A corresponding definition would be:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; x;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;For example, the following would generate an error:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extern\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; x;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    x = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//int x; // uncomment this line for successful definition\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Similar remarks apply to functions. Declaring a function without defining it leads to the error:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// declaration only\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n   \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;();\n}\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//void foo() {} //uncomment this line for successful definition\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Be careful that the function you implement exactly matches the one you declared. For example, you may have mismatched cv-qualifiers:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;\u0026amp;amp; x)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n   \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; x;\n   \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;(x);\n}\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;\u0026amp;amp; x)\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{} \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//different function, doesn\u0026apos;t provide a definition\u0026lt;/span\u0026gt;\n                          \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//for void foo(int\u0026amp;amp; x)\u0026lt;/span\u0026gt;\n                          \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Other examples of mismatches include\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Function/variable declared in one namespace, defined in another.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Function/variable declared as class member, defined as global (or vice versa).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Function return type, parameter number and types, and calling convention do not all exactly agree.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;The error message from the compiler will often give you the full declaration of the variable or function that was declared but never defined. Compare it closely to the definition you provided. \u0026lt;em\u0026gt;Make sure every detail matches.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h3\u0026gt;The order in which interdependent linked libraries are specified is wrong.\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;The order in which libraries are linked DOES matter if the libraries depend on each other. In general, if library \u0026lt;code\u0026gt;A\u0026lt;/code\u0026gt; depends on library \u0026lt;code\u0026gt;B\u0026lt;/code\u0026gt;, then \u0026lt;code\u0026gt;libA\u0026lt;/code\u0026gt; \u0026lt;strong\u0026gt;MUST\u0026lt;/strong\u0026gt; appear before \u0026lt;code\u0026gt;libB\u0026lt;/code\u0026gt; in the linker flags.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For example:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// B.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ifndef\u0026lt;/span\u0026gt; B_H\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; B_H\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; x;\n};\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;endif\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// B.cpp\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;B.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\nB::\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;B\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; xx) : \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;(xx) {}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// A.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;B.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; x);\n    B b;\n};\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// A.cpp\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\nA::\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; x) : \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;b\u0026lt;/span\u0026gt;(x) {}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// main.cpp\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;A.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;A \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Create the libraries:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ g++ -c A.cpp\n$ g++ -c B.cpp\n$ ar rvs libA.a A.o \nar: creating libA.a\na - A.o\n$ ar rvs libB.a B.o \nar: creating libB.a\na - B.o\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Compile:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ g++ main.cpp -L. -lB -lA\n./libA.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;a\u0026lt;/span\u0026gt;(A.o): In function `A::\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;A\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;)\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\nA.cpp:(.text+0x1c): undefined reference to `B::B(int)\u0026apos;\u0026lt;/span\u0026gt;\ncollect2: error: ld returned \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; exit status\n$ g++ main.cpp -L. -lA -lB\n$ ./a.out\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;So to repeat again, the order \u0026lt;strong\u0026gt;DOES\u0026lt;/strong\u0026gt; matter!\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;what is an \u0026quot;undefined reference/unresolved external symbol\u0026quot;\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I\u0026apos;ll try to explain what is an \u0026quot;undefined reference/unresolved external symbol\u0026quot;.\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;note: i use g++ and Linux and all examples is for it \u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;For example we have some code\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// src1.cpp\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; local_var_name; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// \u0026apos;static\u0026apos; makes variable not visible for other modules\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; global_var_name = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;123\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;();\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;and\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// src2.cpp\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extern\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;C\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;char\u0026lt;/span\u0026gt;*, ...)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extern\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; global_var_name;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//extern int local_var_name;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// printf(\u0026quot;%d%d\\n\u0026quot;, global_var_name, local_var_name);\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%d\\n\u0026quot;\u0026lt;/span\u0026gt;, global_var_name);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Make object files\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ g++ -c src1.cpp -o src1.o\n$ g++ -c src2.cpp -o src2.o\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;After the assembler phase we have an object file, which contains any symbols to export. \nLook at the symbols\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ readelf --symbols src1.o\n  Num:    Value          Size Type    Bind   Vis      Ndx Name\n     \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0000000000000000\u0026lt;/span\u0026gt;     \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt; OBJECT  LOCAL  DEFAULT    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt; _ZL14local_var_name # [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;]\n     \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;9\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0000000000000000\u0026lt;/span\u0026gt;     \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt; OBJECT  GLOBAL DEFAULT    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt; global_var_name     # [\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2\u0026lt;/span\u0026gt;]\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;I\u0026apos;ve rejected some lines from output, because they do not matter\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So, we see follow symbols to export.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;[\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt;] - \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt; is our \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(local)\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;variable\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(important - Bind has a type \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;LOCAL\u0026quot;\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\n[2] - \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt; is our global variable\n\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;src2.cpp exports nothing and we have seen no its symbols\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Link our object files\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ g++ src1.o src2.o -o prog\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;and run it\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ ./prog\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;123\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Linker sees exported symbols and links it. Now we try to uncomment lines in src2.cpp like here\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// src2.cpp\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extern\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;C\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;char\u0026lt;/span\u0026gt;*, ...)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extern\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; global_var_name;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extern\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; local_var_name;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%d%d\\n\u0026quot;\u0026lt;/span\u0026gt;, global_var_name, local_var_name);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;and rebuild an object file\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ g++ -c src2.cpp -o src2.o\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;OK (no errors), because we only build object file, linking is not done yet.\nTry to link\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ g++ src1.o src2.o -o prog\nsrc2.o: In function `\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;print\u0026lt;/span\u0026gt;()\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;:\nsrc2.cpp:(.text+0x6): undefined reference to `local_var_name\u0026apos;\u0026lt;/span\u0026gt;\ncollect2: error: ld returned \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; exit status\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;It has happened because our local_var_name is static, i.e. it is not visible for other modules. \nNow more deeply. Get the translation phase output\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ g++ -S src1.cpp -o src1.s\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// src1.s\u0026lt;/span\u0026gt;\nlook src1.s\n\n    .file   \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;src1.cpp\u0026quot;\u0026lt;/span\u0026gt;\n    .local  _ZL14local_var_name\n    .comm   _ZL14local_var_name,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\n    .globl  global_var_name\n    .data\n    .align \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\n    .type   global_var_name, @object\n    .size   global_var_name, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\nglobal_var_name:\n    .\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;long\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;123\u0026lt;/span\u0026gt;\n    .text\n    .globl  main\n    .type   main, @function\nmain:\n; assembler code, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;not\u0026lt;/span\u0026gt; interesting \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; us\n.LFE0:\n    .size   main, .-main\n    .ident  \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;GCC: (Ubuntu 4.8.2-19ubuntu1) 4.8.2\u0026quot;\u0026lt;/span\u0026gt;\n    .section    .note.GNU-stack,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026quot;\u0026lt;/span\u0026gt;,@progbits\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;So, we\u0026apos;ve seen there is no label for local_var_name, that\u0026apos;s why linker hasn\u0026apos;t found it. But we are hackers :) and we can fix it. Open src1.s in your text editor and change\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;.local  _ZL14local_var_name\n.comm   _ZL14local_var_name,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;to \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;    .globl  local_var_name\n    .data\n    .align \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\n    .type   local_var_name, @object\n    .size   local_var_name, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\nlocal_var_name:\n    .\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;long\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;456789\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;i.e. you should have like below\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;    .file   \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;src1.cpp\u0026quot;\u0026lt;/span\u0026gt;\n    .globl  local_var_name\n    .data\n    .align \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\n    .type   local_var_name, @object\n    .size   local_var_name, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\nlocal_var_name:\n    .\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;long\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;456789\u0026lt;/span\u0026gt;\n    .globl  global_var_name\n    .align \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\n    .type   global_var_name, @object\n    .size   global_var_name, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt;\nglobal_var_name:\n    .\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;long\u0026lt;/span\u0026gt;   \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;123\u0026lt;/span\u0026gt;\n    .text\n    .globl  main\n    .type   main, @function\nmain:\n; ...\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;we have changed the visibility of local_var_name and set its value to 456789.\nTry to build an object file from it\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ g++ -c src1.s -o src2.o\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;ok, see readelf output (symbols)\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ readelf --symbols src1.o\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0000000000000000\u0026lt;/span\u0026gt;     \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4\u0026lt;/span\u0026gt; OBJECT  GLOBAL DEFAULT    \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;3\u0026lt;/span\u0026gt; local_var_name\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;now local_var_name has Bind GLOBAL (was LOCAL)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;link\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ g++ src1.o src2.o -o prog\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;and run it\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ ./prog \n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;123456789\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;ok, we hack it :)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So, as a result - an \u0026quot;undefined reference/unresolved external symbol error\u0026quot; happens when the linker cannot find global symbols in the object files.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h3\u0026gt;Symbols were defined in a C program and used in C++ code.\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;The function (or variable) \u0026lt;code\u0026gt;void foo()\u0026lt;/code\u0026gt; was defined in a C program and you attempt to use it in a C++ program:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;();\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The C++ linker expects names to be mangled, so you have to declare the function as:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extern\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;C\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;();\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Equivalently, instead of being defined in a C program, the function (or variable) \u0026lt;code\u0026gt;void foo()\u0026lt;/code\u0026gt; was defined in C++ but with C linkage:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extern\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;C\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;and you attempt to use it in a C++ program with C++ linkage.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If an entire library is included in a header file (and was compiled as C code); the include will need to be as follows;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extern\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;C\u0026quot;\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;cheader.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;If all else fails, recompile.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I was recently able to get rid of an unresolved external error in Visual Studio 2012 just by recompiling the offending file. When I re-built, the error went away. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This usually happens when two (or more) libraries have a cyclic dependency. Library A attempts to use symbols in B.lib and library B attempts to use symbols from A.lib. Neither exist to start off with. When you attempt to compile A, the link step will fail because it can\u0026apos;t find B.lib. A.lib will be generated, but no dll. You then compile B, which will succeed and generate B.lib. Re-compiling A will now work because B.lib is now found.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h3\u0026gt;Template implementations not visible.\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;Unspecialized templates must have their definitions visible to all translation units that use them. That means you can\u0026apos;t separate the definition of a template\nto an implementation file. If you must separate the implementation, the usual workaround is to have an \u0026lt;code\u0026gt;impl\u0026lt;/code\u0026gt; file which you include at the end of the header that\ndeclares the template. A common situation is:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;template\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;T\u0026lt;/span\u0026gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;X\u0026lt;/span\u0026gt;\n{\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n};\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    X\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;\u0026amp;gt; x;\n    x.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;();\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//differentImplementationFile.cpp\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;template\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;T\u0026lt;/span\u0026gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; X\u0026amp;lt;T\u0026amp;gt;::\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;()\n{\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;To fix this, you must move the definition of \u0026lt;code\u0026gt;X::foo\u0026lt;/code\u0026gt; to the header file or some place visible to the translation unit that uses it.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Specialized templates can be implemented in an implementation file and the implementation doesn\u0026apos;t have to be visible, but the specialization must be previously declared.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For further explanation and another possible solution (explicit instantiation) see \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/495021\u0026quot;\u0026gt;this question and answer\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This is one of most confusing error messages that every VC++ programmers have seen time and time again. Lets make things clarity first.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;A. What is symbol?\u0026lt;/strong\u0026gt;\nIn short, a symbol is a name. It can be a variable name, a function name, a class name, a typedef name, or anything except those names and signs that belong to C++ language. It is user defined or introduced by a dependency library (another user-defined).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;B. What is external?\u0026lt;/strong\u0026gt;\nIn VC++, every source file (.cpp,.c,etc.) is considered as a translation unit, the compiler compiles one unit at a time, and generate one object file(.obj) for the current translation unit. (Note that every header file that this source file included will be preprocessed and will be considered as part of this translation unit)Everything within a translation unit is considered as internal, everything else is considered as external. In C++, you may reference an external symbol by using keywords like \u0026lt;code\u0026gt;extern\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;__declspec (dllimport)\u0026lt;/code\u0026gt; and so on.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;C. What is resolve?\u0026lt;/strong\u0026gt;\nResolve is a linking-time term. In linking-time, linker attempts to find the external definition for every symbol in object files that cannot find its definition internally. The scope of this searching process including:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;All object files that generated in compiling time\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;All libraries (.lib) that are either explicitly or implicitly\nspecified as additional dependencies of this building application.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;This searching process is called resolve.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;D. Finally, why Unresolved External Symbol?\u0026lt;/strong\u0026gt;\nIf the linker cannot find the external definition for a symbol that has no definition internally, it reports an Unresolved External Symbol error.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;E. Possible causes of LNK2019\u0026lt;/strong\u0026gt;: Unresolved External Symbol error.\nWe already know that this error is due to the linker failed to find the definition of external symbols, the possible causes can be sorted as:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Definition exists\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;For example, if we have a function called foo defined in a.cpp:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;In b.cpp we want to call function foo, so we add\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;to declare function foo(), and call it in another function body, say \u0026lt;code\u0026gt;bar()\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;bar\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;();\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Now when you build this code you will get a LNK2019 error complaining that foo is an unresolved symbol. In this case, we know that foo() has its definition in a.cpp, but different from the one we are calling(different return value). This is the case that definition exists.\u0026lt;/p\u0026gt;\n\n\u0026lt;ol start=\u0026quot;2\u0026quot;\u0026gt;\n\u0026lt;li\u0026gt;Definition does not exist\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;If we want to call some functions in a library, but the import library is not added into the additional dependency list (set from: \u0026lt;code\u0026gt;Project | Properties | Configuration Properties | Linker | Input | Additional Dependency\u0026lt;/code\u0026gt;) of your project setting. Now the linker will report a LNK2019 since the definition does not exist in current searching scope.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h3\u0026gt;Incorrectly importing/exporting methods/classes across modules/dll (compiler specific).\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;MSVS requires you to specify which symbols to export and import using \u0026lt;code\u0026gt;__declspec(dllexport)\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;__declspec(dllimport)\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This dual functionality is usually obtained through the use of a macro:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ifdef\u0026lt;/span\u0026gt; THIS_MODULE\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; DLLIMPEXP __declspec(dllexport)\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; DLLIMPEXP __declspec(dllimport)\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;endif\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The macro \u0026lt;code\u0026gt;THIS_MODULE\u0026lt;/code\u0026gt; would only be defined in the module that exports the function. That way, the declaration:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;DLLIMPEXP \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;expands to\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;__declspec(dllexport) \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;and tells the compiler to export the function, as the current module contains its definition. When including the declaration in a different module, it would expand to\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;__declspec(dllimport) \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;and tells the compiler that the definition is in one of the libraries you linked against (also see \u0026lt;strong\u0026gt;1)\u0026lt;/strong\u0026gt;).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You can similary import/export classes:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;DLLIMPEXP\u0026lt;/span\u0026gt; X\n{\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;undefined reference to \u0026lt;code\u0026gt;WinMain@16\u0026lt;/code\u0026gt; or similar \u0026lt;em\u0026gt;\u0026apos;unusual\u0026apos;\u0026lt;/em\u0026gt; \u0026lt;code\u0026gt;main()\u0026lt;/code\u0026gt; entry point reference\u0026lt;/strong\u0026gt; (especially for \u0026lt;a href=\u0026quot;/questions/tagged/visual-studio\u0026quot; class=\u0026quot;post-tag\u0026quot; title=\u0026quot;show questions tagged \u0026apos;visual-studio\u0026apos;\u0026quot; rel=\u0026quot;tag\u0026quot;\u0026gt;visual-studio\u0026lt;/a\u0026gt;).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You may have missed to choose the right project type with your actual IDE. The IDE may want to bind e.g. Windows Application projects to such entry point function (as specified in the missing reference above), instead of the commonly used \u0026lt;code\u0026gt;int main(int argc, char** argv);\u0026lt;/code\u0026gt; signature.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If your IDE supports \u0026lt;em\u0026gt;Plain Console Projects\u0026lt;/em\u0026gt; you might want to choose this project type, instead of a windows application project.\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;Here are \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/24715864/problems-importing-libraries-to-my-c-project-how-to-fix-this/24715865#24715865\u0026quot;\u0026gt;case1\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/5259714/undefined-reference-to-winmain16\u0026quot;\u0026gt;case2\u0026lt;/a\u0026gt; handled in more detail from a \u0026lt;em\u0026gt;real world\u0026lt;/em\u0026gt; problem.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Also if you\u0026apos;re using 3rd party libraries make sure you have the correct 32/64 bit binaries\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Microsoft offers a \u0026lt;code\u0026gt;#pragma\u0026lt;/code\u0026gt; to reference the correct library at link time;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;pragma\u0026lt;/span\u0026gt; comment(lib, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;libname.lib\u0026quot;\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;In addition to the library path including the directory of the library, this should be the full name of the library.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Visual Studio NuGet package needs to be updated for new toolset version\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I just had this problem trying to link libpng with Visual Studio 2013.  The problem is that the package file only had libraries for Visual Studio 2010 and 2012.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The correct solution is to hope the developer releases an updated package and then upgrade, but it worked for me by hacking in an extra setting for VS2013, pointing at the VS2012 library files.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I edited the package (in the \u0026lt;code\u0026gt;packages\u0026lt;/code\u0026gt; folder inside the solution\u0026apos;s directory) by finding \u0026lt;code\u0026gt;packagename\\build\\native\\packagename.targets\u0026lt;/code\u0026gt; and inside that file, copying all the \u0026lt;code\u0026gt;v110\u0026lt;/code\u0026gt; sections.  I changed the \u0026lt;code\u0026gt;v110\u0026lt;/code\u0026gt; to \u0026lt;code\u0026gt;v120\u0026lt;/code\u0026gt; in \u0026lt;strong\u0026gt;the condition fields only\u0026lt;/strong\u0026gt; being very careful to leave the filename paths all as \u0026lt;code\u0026gt;v110\u0026lt;/code\u0026gt;.  This simply allowed Visual Studio 2013 to link to the libraries for 2012, and in this case, it worked.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Suppose you have a big project written in c++ which has a thousand of .cpp files and a thousand of .h files.And let\u0026apos;s says the project also depends on ten static libraries. Let\u0026apos;s says we are on Windows and we build our project in Visual Studio 20xx. When you press Ctrl + F7 Visual Studio to start compiling the whole solution ( suppose we have just one project in the solution )\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;What\u0026apos;s the meaning of compilation ?\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Visual Studio search into file \u0026lt;strong\u0026gt;.vcxproj\u0026lt;/strong\u0026gt; and start compiling each file which has the extension .cpp. Order of compilation is undefined.So you must not assume that the file main.cpp is compiled first\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If .cpp files depends on   additional .h files  in order to find symbols\nthat may or may not be defined in the file .cpp\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If exists one .cpp file in which the compiler could not find one symbol, a \u0026lt;strong\u0026gt;compiler time error\u0026lt;/strong\u0026gt; raises the message \u0026lt;em\u0026gt;Symbol x could not be found\u0026lt;/em\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;For each file with extension .cpp is generated an object file .o and also Visual Studio writes the output in a file named \u0026lt;em\u0026gt;ProjectName.Cpp.Clean.txt\u0026lt;/em\u0026gt; which contains all object files that must be processed by the linker.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;The Second step of compilation is done by Linker.Linker should merge all the object file and build finally the output ( which may be an executable or a library)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Steps In Linking a project\u0026lt;/strong\u0026gt;    \u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Parse all the object files and find the definition which was only declared in headers ( eg: The code of one method of a class as is mentioned in previous answers, or event the initialization of a static variable which is member inside a class)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If one symbol could not be found in object files he also is searched in Additional Libraries.For adding a new library to a project \u0026lt;strong\u0026gt;Configuration properties\u0026lt;/strong\u0026gt; -\u0026amp;gt; \u0026lt;strong\u0026gt;VC++ Directories\u0026lt;/strong\u0026gt;  -\u0026amp;gt; \u0026lt;strong\u0026gt;Library Directories\u0026lt;/strong\u0026gt; and here you specified additional folder for searching libraries and \u0026lt;strong\u0026gt;Configuration properties\u0026lt;/strong\u0026gt; -\u0026amp;gt; \u0026lt;strong\u0026gt;Linker\u0026lt;/strong\u0026gt; -\u0026amp;gt; \u0026lt;strong\u0026gt;Input\u0026lt;/strong\u0026gt; for specifying the name of the library. \n-If the Linker could not find the symbol which you write in one .cpp he raises a \u0026lt;strong\u0026gt;linker time error\u0026lt;/strong\u0026gt; which may sound like \n\u0026lt;code\u0026gt;error LNK2001: unresolved external symbol \u0026quot;void __cdecl foo(void)\u0026quot; (?foo@@YAXXZ)\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Observation\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Once the Linker find one symbol he doesn\u0026apos;t search in other libraries for it\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;The order of linking libraries \u0026lt;strong\u0026gt;does matter\u0026lt;/strong\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If Linker finds an external symbol in one static library he includes the symbol in the output of the project.However, if the library is shared( dynamic ) he doesn\u0026apos;t include the code ( symbols ) in output, but  \u0026lt;em\u0026gt;Run-Time\u0026lt;/em\u0026gt; crashes may occur\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;How To Solve this kind of error\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Compiler Time Error : \u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Make sure you write your c++ project syntactical correct.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Linker Time Error\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Define all your symbol which you declare in your header files\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Use \u0026lt;code\u0026gt;#pragma once\u0026lt;/code\u0026gt; for allowing compiler not to include one header if it was already included in the current .cpp which are compiled\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Make sure that your external library doesn\u0026apos;t contain symbols that may enter into conflict with other symbols you defined in your header files\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;When you use the template to make sure you include the definition of each template function in the header file for allowing the compiler to generate appropriate code for any instantiations.  \u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;Use the linker to help diagnose the error\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;Most modern linkers include a verbose option that prints out to varying degrees;\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Link invocation (command line),\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Data on what libraries are included in the link stage,\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;The location of the libraries,\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Search paths used.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;For gcc and clang; you would typically add \u0026lt;code\u0026gt;-v -Wl,--verbose\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;-v -Wl,-v\u0026lt;/code\u0026gt; to the command line. More details can be found here;\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Linux \u0026lt;a href=\u0026quot;http://linux.die.net/man/1/ld\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;ld man page\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;LLVM \u0026lt;a href=\u0026quot;http://llvm.org/releases/3.6.2/docs/CommandGuide/llvm-link.html#cmdoption-v\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;linker page\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026quot;An introduction to GCC\u0026quot; \u0026lt;a href=\u0026quot;http://www.network-theory.co.uk/docs/gccintro/gccintro_75.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;chapter 9\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;For MSVC, \u0026lt;code\u0026gt;/VERBOSE\u0026lt;/code\u0026gt; (in particular \u0026lt;code\u0026gt;/VERBOSE:LIB\u0026lt;/code\u0026gt;) is added to the link command line.\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;The MSDN page on the \u0026lt;a href=\u0026quot;https://msdn.microsoft.com/en-us/library/wdsk6as6.aspx\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;/VERBOSE\u0026lt;/code\u0026gt; linker option\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;A bug in the compiler/IDE\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;I recently had this problem, and it turned out \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/27748699/unresolved-reference-to-constructor-which-is-defined/27748920#27748920\u0026quot;\u0026gt;it was a bug in Visual Studio Express 2013\u0026lt;/a\u0026gt;. I had to remove a source file from the project and re-add it to overcome the bug.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Steps to try if you believe it could be a bug in compiler/IDE:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Clean the project (some IDEs have an option to do this, you can also\nmanually do it by deleting the object files)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Try start a new project,\ncopying all source code from the original one.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Linked .lib file is associated to a .dll\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I had the same issue. Say i have projects MyProject and TestProject. I had effectively linked the lib file for MyProject to the TestProject. However, this lib file was produced as the DLL for the MyProject was built. Also, I did not contain source code for all methods in the MyProject, but only access to the DLL\u0026apos;s entry points. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To solve the issue, i built the MyProject as a LIB, and linked TestProject to this .lib file (i copy paste the generated .lib file into the TestProject folder). I can then build again MyProject as a DLL. It is compiling since the lib to which TestProject is linked does contain code for all methods in classes in MyProject. \u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Since people seem to be directed to this question when it comes to linker errors I am going to add this here.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;One possible reason for linker errors with GCC 5.2.0 is that a new libstdc++ library ABI is now chosen by default.\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;If you get linker errors about undefined references to symbols that involve types in the std::__cxx11 namespace or the tag [abi:cxx11] then it probably indicates that you are trying to link together object files that were compiled with different values for the _GLIBCXX_USE_CXX11_ABI macro. This commonly happens when linking to a third-party library that was compiled with an older version of GCC. If the third-party library cannot be rebuilt with the new ABI then you will need to recompile your code with the old ABI.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;So if you suddenly get linker errors when switching to a GCC after 5.1.0 this would be a thing to check out.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;Your linkage consumes libraries before the object files that refer to them\u0026lt;/h2\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;You are trying to compile and link your program with the GCC toolchain.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Your linkage specifies all of the necessary libraries and library search paths\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;If \u0026lt;code\u0026gt;libfoo\u0026lt;/code\u0026gt; depends on \u0026lt;code\u0026gt;libbar\u0026lt;/code\u0026gt;, then your linkage correctly puts \u0026lt;code\u0026gt;libfoo\u0026lt;/code\u0026gt; before \u0026lt;code\u0026gt;libbar\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Your linkage fails with \u0026lt;code\u0026gt;undefined reference to\u0026lt;/code\u0026gt; \u0026lt;em\u0026gt;something\u0026lt;/em\u0026gt; errors.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;But all the undefined \u0026lt;em\u0026gt;something\u0026lt;/em\u0026gt;s are declared in the header files you have\n\u0026lt;code\u0026gt;#include\u0026lt;/code\u0026gt;d and are in fact defined in the libraries that you are linking.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Examples are in C. They could equally well be C++\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;A minimal example involving a static library you built yourself\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;my_lib.c\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;my_lib.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;stdio.h\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;hw\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;puts\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Hello World\u0026quot;\u0026lt;/span\u0026gt;);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;my_lib.h\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ifndef\u0026lt;/span\u0026gt; MY_LIB_H\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; MT_LIB_H\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extern\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;hw\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;endif\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;eg1.c\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;my_lib.h\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;hw\u0026lt;/span\u0026gt;();\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You build your static library:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ gcc -c -o my_lib.o my_lib.c\n$ ar rcs libmy_lib.a my_lib.o\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You compile your program:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ gcc -I. -c -o eg1.o eg1.c\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You try to link it with \u0026lt;code\u0026gt;libmy_lib.a\u0026lt;/code\u0026gt; and fail:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ gcc -o eg1 -L. -lmy_lib eg1.o \neg1.o: In function `main\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;\u0026apos;\u0026lt;/span\u0026gt;:\neg1.c:(.text+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x5\u0026lt;/span\u0026gt;): undefined reference to `hw\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;\u0026apos;\u0026lt;/span\u0026gt;\ncollect2: error: ld returned \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; exit status\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The same result if you compile and link in one step, like:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ gcc -o eg1 -I. -L. -lmy_lib eg1.c\n/tmp/ccQk1tvs.o: In function `main\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;\u0026apos;\u0026lt;/span\u0026gt;:\neg1.c:(.text+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x5\u0026lt;/span\u0026gt;): undefined reference to `hw\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;\u0026apos;\u0026lt;/span\u0026gt;\ncollect2: error: ld returned \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; exit status\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h3\u0026gt;A minimal example involving a shared system library, the compression library \u0026lt;code\u0026gt;libz\u0026lt;/code\u0026gt;\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;eg2.c\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;zlib.h\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;stdio.h\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;%s\\n\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;zlibVersion\u0026lt;/span\u0026gt;());\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Compile your program:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ gcc -c -o eg2.o eg2.c\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Try to link your program with \u0026lt;code\u0026gt;libz\u0026lt;/code\u0026gt; and fail:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ gcc -o eg2 -lz eg2.o \neg2.o: In function `main\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;\u0026apos;\u0026lt;/span\u0026gt;:\neg2.c:(.text+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x5\u0026lt;/span\u0026gt;): undefined reference to `zlibVersion\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;\u0026apos;\u0026lt;/span\u0026gt;\ncollect2: error: ld returned \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; exit status\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Same if you compile and link in one go:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ gcc -o eg2 -I. -lz eg2.c\n/tmp/ccxCiGn7.o: In function `main\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;\u0026apos;\u0026lt;/span\u0026gt;:\neg2.c:(.text+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x5\u0026lt;/span\u0026gt;): undefined reference to `zlibVersion\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;\u0026apos;\u0026lt;/span\u0026gt;\ncollect2: error: ld returned \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; exit status\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;And a variation on example 2 involving \u0026lt;code\u0026gt;pkg-config\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ gcc -o eg2 $(pkg-config --libs zlib) eg2.o \neg2.o: In function `main\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;\u0026apos;\u0026lt;/span\u0026gt;:\neg2.c:(.text+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x5\u0026lt;/span\u0026gt;): undefined reference to `zlibVersion\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h3\u0026gt;What are you doing wrong?\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;In the sequence of object files and libraries you want to link to make your\nprogram, you are placing the libraries before the object files that refer to\nthem. You need to place the libraries \u0026lt;em\u0026gt;after\u0026lt;/em\u0026gt; the object files that refer\nto them.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Link example 1 correctly:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ gcc -o eg1 eg1.o -L. -lmy_lib\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Success:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ ./eg1 \nHello World\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Link example 2 correctly:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ gcc -o eg2 eg2.o -lz\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Success:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ ./eg2 \n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.2\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.8\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Link the example 2 \u0026lt;code\u0026gt;pkg-config\u0026lt;/code\u0026gt; variation correctly:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ gcc -o eg2 eg2.o $(pkg-config --libs zlib) \n$ ./eg2\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.2\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.8\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h3\u0026gt;The explanation\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Reading is optional from here on\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;By default, a linkage command generated by GCC, on your distro,\nconsumes the files in the linkage from left to right in\ncommandline sequence. When it finds that a file refers to \u0026lt;em\u0026gt;something\u0026lt;/em\u0026gt;\nand does not contain a definition for it, to will search for a definition\nin files further to the right. If it eventually finds a definition, the\nreference is resolved. If any references remain unresolved at the end,\nthe linkage fails: the linker does not search backwards.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;First, \u0026lt;strong\u0026gt;example 1\u0026lt;/strong\u0026gt;, with static library \u0026lt;code\u0026gt;my_lib.a\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;A static library is an indexed archive of object files. When the linker\nfinds \u0026lt;code\u0026gt;-lmy_lib\u0026lt;/code\u0026gt; in the linkage sequence and figures out that this refers\nto the static library \u0026lt;code\u0026gt;./libmy_lib.a\u0026lt;/code\u0026gt;, it wants to know whether your program\nneeds any of the object files in \u0026lt;code\u0026gt;libmy_lib.a\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;There is only object file in \u0026lt;code\u0026gt;libmy_lib.a\u0026lt;/code\u0026gt;, namely \u0026lt;code\u0026gt;my_lib.o\u0026lt;/code\u0026gt;, and there\u0026apos;s only one thing defined\nin \u0026lt;code\u0026gt;my_lib.o\u0026lt;/code\u0026gt;, namely the function \u0026lt;code\u0026gt;hw\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The linker will decide that your program needs \u0026lt;code\u0026gt;my_lib.o\u0026lt;/code\u0026gt; if and only if it already knows that\nyour program refers to \u0026lt;code\u0026gt;hw\u0026lt;/code\u0026gt;, in one or more of the object files it has already\nadded to the program, and that none of the object files it has already added\ncontains a definition for \u0026lt;code\u0026gt;hw\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If that is true, then the linker will extract a copy of \u0026lt;code\u0026gt;my_lib.o\u0026lt;/code\u0026gt; from the library and\nadd it to your program. Then, your program contains a definition for \u0026lt;code\u0026gt;hw\u0026lt;/code\u0026gt;, so\nits references to \u0026lt;code\u0026gt;hw\u0026lt;/code\u0026gt; are \u0026lt;em\u0026gt;resolved\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;When you try to link the program like:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ gcc -o eg1 -L. -lmy_lib eg1.o\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;the linker \u0026lt;em\u0026gt;has not added\u0026lt;/em\u0026gt; \u0026lt;code\u0026gt;eg1.o\u0026lt;/code\u0026gt; \u0026lt;em\u0026gt;to the program\u0026lt;/em\u0026gt; when it sees\n\u0026lt;code\u0026gt;-lmy_lib\u0026lt;/code\u0026gt;. Because at that point, it has not seen \u0026lt;code\u0026gt;eg1.o\u0026lt;/code\u0026gt;.\nYour program does not yet make any references to \u0026lt;code\u0026gt;hw\u0026lt;/code\u0026gt;: it\ndoes not yet make any references \u0026lt;em\u0026gt;at all\u0026lt;/em\u0026gt;, because all the references it makes\nare in \u0026lt;code\u0026gt;eg1.o\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So the linker does not add \u0026lt;code\u0026gt;my_lib.o\u0026lt;/code\u0026gt; to the program and has no further\nuse for \u0026lt;code\u0026gt;libmy_lib.a\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Next, it finds \u0026lt;code\u0026gt;eg1.o\u0026lt;/code\u0026gt;, and adds it to be program. An object file in the\nlinkage sequence is always added to the program. Now, the program makes\na reference to \u0026lt;code\u0026gt;hw\u0026lt;/code\u0026gt;, and does not contain a definition of \u0026lt;code\u0026gt;hw\u0026lt;/code\u0026gt;; but\nthere is nothing left in the linkage sequence that could provide the missing\ndefinition. The reference to \u0026lt;code\u0026gt;hw\u0026lt;/code\u0026gt; ends up \u0026lt;em\u0026gt;unresolved\u0026lt;/em\u0026gt;, and the linkage fails.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Second, \u0026lt;strong\u0026gt;example 2\u0026lt;/strong\u0026gt;, with shared library \u0026lt;code\u0026gt;libz\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;A shared library isn\u0026apos;t an archive of object files or anything like it. It\u0026apos;s\nmuch more like a \u0026lt;em\u0026gt;program\u0026lt;/em\u0026gt; that doesn\u0026apos;t have a \u0026lt;code\u0026gt;main\u0026lt;/code\u0026gt; function and\ninstead exposes multiple other symbols that it defines, so that other\nprograms can use them at runtime.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Many Linux distros today configure their GCC toolchain so that its language drivers (\u0026lt;code\u0026gt;gcc\u0026lt;/code\u0026gt;,\u0026lt;code\u0026gt;g++\u0026lt;/code\u0026gt;,\u0026lt;code\u0026gt;gfortran\u0026lt;/code\u0026gt; etc)\ninstruct the system linker (\u0026lt;code\u0026gt;ld\u0026lt;/code\u0026gt;) to link shared libraries on an \u0026lt;em\u0026gt;as-needed\u0026lt;/em\u0026gt; basis.\nYou have got one of those distros.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This means that when the linker finds \u0026lt;code\u0026gt;-lz\u0026lt;/code\u0026gt; in the linkage sequence, and figures out that this refers \nto the shared library (say) \u0026lt;code\u0026gt;/usr/lib/x86_64-linux-gnu/libz.so\u0026lt;/code\u0026gt;, it wants to know whether any references that it has added to your program that aren\u0026apos;t yet defined have definitions that are exported by \u0026lt;code\u0026gt;libz\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If that is true, then the linker will \u0026lt;em\u0026gt;not\u0026lt;/em\u0026gt; copy any chunks out of \u0026lt;code\u0026gt;libz\u0026lt;/code\u0026gt; and\nadd them to your program; instead, it will just doctor the code of your program \nso that:-\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;At runtime, the system program loader will load a copy of \u0026lt;code\u0026gt;libz\u0026lt;/code\u0026gt; into the\nsame process as your program whenever it loads a copy of your program, to run it.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;At runtime, whenever your program refers to something that is defined in\n\u0026lt;code\u0026gt;libz\u0026lt;/code\u0026gt;, that reference uses the definition exported by the copy of \u0026lt;code\u0026gt;libz\u0026lt;/code\u0026gt; in\nthe same process.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Your program wants to refer to just one thing that has a definition exported by \u0026lt;code\u0026gt;libz\u0026lt;/code\u0026gt;,\nnamely the function \u0026lt;code\u0026gt;zlibVersion\u0026lt;/code\u0026gt;, which is referred to just once, in \u0026lt;code\u0026gt;eg2.c\u0026lt;/code\u0026gt;.\nIf the linker adds that reference to your program, and then finds the definition\nexported by \u0026lt;code\u0026gt;libz\u0026lt;/code\u0026gt;, the reference is \u0026lt;em\u0026gt;resolved\u0026lt;/em\u0026gt; \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;But when you try to link the program like:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;gcc -o eg2 -lz eg2.o\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;the order of events is wrong in just the same way as with example 1.\nAt the point when the linker finds \u0026lt;code\u0026gt;-lz\u0026lt;/code\u0026gt;, there are \u0026lt;em\u0026gt;no\u0026lt;/em\u0026gt; references to anything\nin the program: they are all in \u0026lt;code\u0026gt;eg2.o\u0026lt;/code\u0026gt;, which has not yet been seen. So the\nlinker decides it has no use for \u0026lt;code\u0026gt;libz\u0026lt;/code\u0026gt;. When it reaches \u0026lt;code\u0026gt;eg2.o\u0026lt;/code\u0026gt;, adds it to the program,\nand then has undefined reference to \u0026lt;code\u0026gt;zlibVersion\u0026lt;/code\u0026gt;, the linkage sequence is finished;\nthat reference is unresolved, and the linkage fails.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Lastly, the \u0026lt;code\u0026gt;pkg-config\u0026lt;/code\u0026gt; variation of example 2 has a now obvious explanation.\nAfter shell-expansion:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;gcc -o eg2 $(pkg-config --libs zlib) eg2.o\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;becomes:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;gcc -o eg2 -lz eg2.o\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;which is just example 2 again.\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;I can reproduce the problem in example 1, but not in example 2\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;The linkage:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;gcc -o eg2 -lz eg2.o\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;works just fine for you!\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;(Or: That linkage worked fine for you on, say, Fedora 23, but fails on Ubuntu 16.04)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;That\u0026apos;s because the distro on which the linkage works is one of the ones that \ndoes not configure its GCC toolchain to link shared libraries \u0026lt;em\u0026gt;as-needed\u0026lt;/em\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Back in the day, it was normal for unix-like systems to link static and shared \nlibraries by different rules. Static libraries in a linkage sequence were linked \non the \u0026lt;em\u0026gt;as-needed\u0026lt;/em\u0026gt; basis explained in example 1, but shared libraries were linked unconditionally.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This behaviour is economical at linktime because the linker doesn\u0026apos;t have to ponder\nwhether a shared library is needed by the program: if it\u0026apos;s a shared library,\nlink it. And most libraries in most linkages are shared libraries. But there are disadvantages too:-\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;It is uneconomical at \u0026lt;em\u0026gt;runtime\u0026lt;/em\u0026gt;, because it can cause shared libraries to be\nloaded along with a program even if doesn\u0026apos;t need them.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;The different linkage rules for static and shared libraries can be confusing\nto inexpert programmers, who may not know whether \u0026lt;code\u0026gt;-lfoo\u0026lt;/code\u0026gt; in their linkage\nis going to resolve to \u0026lt;code\u0026gt;/some/where/libfoo.a\u0026lt;/code\u0026gt; or to \u0026lt;code\u0026gt;/some/where/libfoo.so\u0026lt;/code\u0026gt;,\nand might not understand the difference between shared and static libraries\nanyway.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;This trade-off has led to the schismatic situation today. Some distros have\nchanged their GCC linkage rules for shared libraries so that the \u0026lt;em\u0026gt;as-needed\u0026lt;/em\u0026gt;\nprinciple applies for all libraries. Some distros have stuck with the old\nway.\u0026lt;/p\u0026gt;\n\n\u0026lt;h3\u0026gt;Why do I still get this problem even if I compile-and-link at the same time?\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;If I just do:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ gcc -o eg1 -I. -L. -lmy_lib eg1.c\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;surely gcc has to compile \u0026lt;code\u0026gt;eg1.c\u0026lt;/code\u0026gt; first, and then link the resulting\nobject file with \u0026lt;code\u0026gt;libmy_lib.a\u0026lt;/code\u0026gt;.  So how can it not know that object file\nis needed when it\u0026apos;s doing the linking?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Because compiling and linking with a single command does not change the\norder of the linkage sequence.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;When you run the command above, \u0026lt;code\u0026gt;gcc\u0026lt;/code\u0026gt; figures out that you want compilation +\nlinkage. So behind the scenes, it generates a compilation command, and runs\nit, then generates a linkage command, and runs it, as if \u0026lt;em\u0026gt;you\u0026lt;/em\u0026gt; had run the\ntwo commands:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ gcc -I. -c -o eg1.o eg1.c\n$ gcc -o eg1 -L. -lmy_lib eg1.o\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;So the linkage fails just as it does if you \u0026lt;em\u0026gt;do\u0026lt;/em\u0026gt; run those two commands. The\nonly difference you notice in the failure is that gcc has generated a\ntemporary object file in the compile + link case, because you\u0026apos;re not telling it\nto use \u0026lt;code\u0026gt;eg1.o\u0026lt;/code\u0026gt;. We see:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;/tmp/ccQk1tvs.o: In function `main\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;\u0026apos;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;instead of:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;eg1.o: In function `main\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;\u0026apos;\u0026lt;/span\u0026gt;:\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h3\u0026gt;See also\u0026lt;/h3\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/24675715/1362568\u0026quot;\u0026gt;The order in which interdependent linked libraries are specified is wrong\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Putting interdependent libraries in the wrong order is just one way\nin which you can get files that \u0026lt;em\u0026gt;need\u0026lt;/em\u0026gt; definitions of things coming\nlater in the linkage than the files that \u0026lt;em\u0026gt;provide\u0026lt;/em\u0026gt; the definitions. Putting libraries before the \nobject files that refer to them is another way of making the same mistake.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;A wrapper around GNU ld that doesn\u0026apos;t support linker scripts\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Some .so files are actually \u0026lt;a href=\u0026quot;https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/4/html/Using_ld_the_GNU_Linker/simple-commands.html\u0026quot;\u0026gt;GNU ld linker scripts\u0026lt;/a\u0026gt;, e.g. \u0026lt;a href=\u0026quot;https://www.threadingbuildingblocks.org/download\u0026quot;\u0026gt;libtbb.so\u0026lt;/a\u0026gt; file is an ASCII text file with this contents:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;INPUT\u0026lt;/span\u0026gt; (libtbb.so\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.2\u0026lt;/span\u0026gt;)\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Some more complex builds may not support this. For example, if you include -v in the compiler options, you can see that the \u0026lt;a href=\u0026quot;http://www.mainsoft.com/content/mainsoft-unix-and-linux-overview\u0026quot;\u0026gt;mainwin gcc wrapper mwdip\u0026lt;/a\u0026gt; discards linker script command files in the verbose output list of libraries to link in. A simple work around is to replace the linker script input command file with a copy of the file instead (or a symlink), e.g.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;cp libtbb.so\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;.2\u0026lt;/span\u0026gt; libtbb.so\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Or you could replace the -l argument with the full path of the .so, e.g. instead of \u0026lt;code\u0026gt;-ltbb\u0026lt;/code\u0026gt; do \u0026lt;code\u0026gt;/home/foo/tbb-4.3/linux/lib/intel64/gcc4.4/libtbb.so.2\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;Befriending templates...\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;Given the code snippet of a template type with a friend operator (or function);\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;template\u0026lt;/span\u0026gt; \u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typename\u0026lt;/span\u0026gt; T\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Foo\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;friend\u0026lt;/span\u0026gt; std::ostream\u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;operator\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;lt; (std::ostream\u0026amp;amp; os, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; Foo\u0026amp;lt;T\u0026amp;gt;\u0026amp;amp; a);\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The \u0026lt;code\u0026gt;operator\u0026amp;lt;\u0026amp;lt;\u0026lt;/code\u0026gt; is being declared as a non-template function. For every type \u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt; used with \u0026lt;code\u0026gt;Foo\u0026lt;/code\u0026gt;, there needs to be a non-templated \u0026lt;code\u0026gt;operator\u0026amp;lt;\u0026amp;lt;\u0026lt;/code\u0026gt;. For example, if there is a type \u0026lt;code\u0026gt;Foo\u0026amp;lt;int\u0026amp;gt;\u0026lt;/code\u0026gt; declared, then there must be an operator implementation as follows;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;std::ostream\u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;operator\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;lt; (std::ostream\u0026amp;amp; os, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; Foo\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026amp;amp; a) {\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/*...*/\u0026lt;/span\u0026gt;}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Since it is not implemented, the linker fails to find it and results in the error.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To correct this, you can declare a template operator before the \u0026lt;code\u0026gt;Foo\u0026lt;/code\u0026gt; type and then declare as a friend, the appropriate instantiation. The syntax is a little awkward, but is looks as follows;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// forward declare the Foo\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;template\u0026lt;/span\u0026gt; \u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typename\u0026lt;/span\u0026gt;\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Foo\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// forward declare the operator \u0026amp;lt;\u0026amp;lt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;template\u0026lt;/span\u0026gt; \u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typename\u0026lt;/span\u0026gt; T\u0026amp;gt;\nstd::ostream\u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;operator\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;lt;(std::ostream\u0026amp;amp;, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; Foo\u0026amp;lt;T\u0026amp;gt;\u0026amp;amp;);\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;template\u0026lt;/span\u0026gt; \u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typename\u0026lt;/span\u0026gt; T\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Foo\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;friend\u0026lt;/span\u0026gt; std::ostream\u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;operator\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;lt; \u0026amp;lt;\u0026amp;gt;(std::ostream\u0026amp;amp; os, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; Foo\u0026amp;lt;T\u0026amp;gt;\u0026amp;amp; a);\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// note the required \u0026amp;lt;\u0026amp;gt;        ^^^^\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ...\u0026lt;/span\u0026gt;\n};\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;template\u0026lt;/span\u0026gt; \u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typename\u0026lt;/span\u0026gt; T\u0026amp;gt;\nstd::ostream\u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;operator\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;lt;(std::ostream\u0026amp;amp;, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; Foo\u0026amp;lt;T\u0026amp;gt;\u0026amp;amp;)\n{\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ... implement the operator\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The above code limits the friendship of the operator to the corresponding instantiation of \u0026lt;code\u0026gt;Foo\u0026lt;/code\u0026gt;, i.e. the \u0026lt;code\u0026gt;operator\u0026amp;lt;\u0026amp;lt; \u0026amp;lt;int\u0026amp;gt;\u0026lt;/code\u0026gt; instantiation is limited to access the private members of the instantiation of \u0026lt;code\u0026gt;Foo\u0026amp;lt;int\u0026amp;gt;\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Alternatives include;\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Allowing the friendship to extend to all instantiations of the templates, as follows;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;template\u0026lt;/span\u0026gt; \u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typename\u0026lt;/span\u0026gt; T\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Foo\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;template\u0026lt;/span\u0026gt; \u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typename\u0026lt;/span\u0026gt; T1\u0026amp;gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;friend\u0026lt;/span\u0026gt; std::ostream\u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;operator\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;lt;(std::ostream\u0026amp;amp; os, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; Foo\u0026amp;lt;T1\u0026amp;gt;\u0026amp;amp; a);\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ...\u0026lt;/span\u0026gt;\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Or, the implementation for the \u0026lt;code\u0026gt;operator\u0026amp;lt;\u0026amp;lt;\u0026lt;/code\u0026gt; can be done inline inside the class definition;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;template\u0026lt;/span\u0026gt; \u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typename\u0026lt;/span\u0026gt; T\u0026amp;gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Foo\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;friend\u0026lt;/span\u0026gt; std::ostream\u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;operator\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026amp;lt;(std::ostream\u0026amp;amp; os, \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; Foo\u0026amp;amp; a)\n    { \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/*...*/\u0026lt;/span\u0026gt; }\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// ...\u0026lt;/span\u0026gt;\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;Note\u0026lt;/em\u0026gt;, when the declaration of the operator (or function) only appears in the class, the name is not available for \u0026quot;normal\u0026quot; lookup, only for argument dependent lookup, from \u0026lt;a href=\u0026quot;http://en.cppreference.com/w/cpp/language/friend\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;cppreference\u0026lt;/a\u0026gt;;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;A name first declared in a friend declaration within class or class template X becomes a member of the innermost enclosing namespace of X, but is not accessible for lookup (except argument-dependent lookup that considers X) unless a matching declaration at the namespace scope is provided...\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;There is further reading on template friends at \u0026lt;a href=\u0026quot;http://en.cppreference.com/w/cpp/language/friend#Template_friends\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;cppreference\u0026lt;/a\u0026gt; and the \u0026lt;a href=\u0026quot;https://isocpp.org/wiki/faq/templates#template-friends\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;C++ FAQ\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://coliru.stacked-crooked.com/a/e9221c4bb23f9cd0\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Code listing showing the techniques above\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;As a side note to the failing code sample; g++ warns about this as follows\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;\u0026lt;code\u0026gt;warning: friend declaration \u0026apos;std::ostream\u0026amp;amp; operator\u0026amp;lt;\u0026amp;lt;(...)\u0026apos; declares a non-template function [-Wnon-template-friend]\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;\u0026lt;code\u0026gt;note: (if this is not what you intended, make sure the function template has already been declared and add \u0026amp;lt;\u0026amp;gt; after the function name here)\u0026lt;/code\u0026gt; \u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n    ","\n\u0026lt;h1\u0026gt;When your include paths are different\u0026lt;/h1\u0026gt;\n\u0026lt;p\u0026gt;Linker errors can happen when a header file and its associated shared library (.lib file) go out of sync. Let me explain.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;How do linkers work? The linker matches a function declaration (declared in the header) with its definition (in the shared library) by comparing their signatures. You can get a linker error if the linker doesn\u0026apos;t find a function definition that matches perfectly.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Is it possible to still get a linker error even though the declaration and the definition seem to match? Yes! They might look the same in source code, but it really depends on what the compiler sees. Essentially you could end up with a situation like this:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// header1.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typedef\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; Number;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Number)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// header2.h\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;typedef\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;float\u0026lt;/span\u0026gt; Number;\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Number)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// this only looks the same lexically\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Note how even though both the function declarations look identical in source code, but they are really different according to the compiler.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You might ask how one ends up in a situation like that? \u0026lt;strong\u0026gt;Include paths\u0026lt;/strong\u0026gt; of course! If when compiling the shared library, the include path leads to \u0026lt;code\u0026gt;header1.h\u0026lt;/code\u0026gt; and you end up using \u0026lt;code\u0026gt;header2.h\u0026lt;/code\u0026gt; in your own program, you\u0026apos;ll be left scratching your header wondering what happened (pun intended).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;An example of how this can happen in the real world is explained below.\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;Further elaboration with an example\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;I have two projects: \u0026lt;code\u0026gt;graphics.lib\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;main.exe\u0026lt;/code\u0026gt;. Both projects depend on \u0026lt;code\u0026gt;common_math.h\u0026lt;/code\u0026gt;. Suppose the library exports the following function:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// graphics.lib    \u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;common_math.h\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;\n   \n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;draw\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(vec3 p)\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{ ... } \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// vec3 comes from common_math.h\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;And then you go ahead and include the library in your own project.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// main.exe\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;other/common_math.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;graphics.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;draw\u0026lt;/span\u0026gt;(...);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Boom! You get a linker error and you have no idea why it\u0026apos;s failing. The reason is that the common library uses different versions of the same include \u0026lt;code\u0026gt;common_math.h\u0026lt;/code\u0026gt; (I have made it obvious here in the example by including a different path, but it might not always be so obvious. Maybe the include path is different in the compiler settings).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Note in this example, the linker would tell you it couldn\u0026apos;t find \u0026lt;code\u0026gt;draw()\u0026lt;/code\u0026gt;, when in reality you know it obviously is being exported by the library. You could spend hours scratching your head wondering what went wrong. The thing is, the linker sees a different signature because the parameter types are slightly different. In the example, \u0026lt;code\u0026gt;vec3\u0026lt;/code\u0026gt; is a different type in both projects as far as the compiler is concerned. This could happen because they come from two slightly different include files (maybe the include files come from two different versions of the library).\u0026lt;/p\u0026gt;\n\u0026lt;h2\u0026gt;Debugging the linker\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;DUMPBIN is your friend, if you are using Visual Studio. I\u0026apos;m sure other compilers have other similar tools.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The process goes like this:\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Note the weird mangled name given in the linker error. (eg. draw@graphics@XYZ).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Dump the exported symbols from the library into a text file.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Search for the exported symbol of interest, and notice that the mangled name is different.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Pay attention to why the mangled names ended up different. You would be able to see that the parameter types are different, even though they look the same in the source code.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Reason why they are different. In the example given above, they are different because of different include files.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;p\u0026gt;[1] By project I mean a set of source files that are linked together to produce either a library or an executable.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;EDIT 1: Rewrote first section to be easier to understand. Please comment below to let me know if something else needs to be fixed. Thanks!\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;Inconsistent \u0026lt;code\u0026gt;UNICODE\u0026lt;/code\u0026gt; definitions\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;A Windows UNICODE build is built with \u0026lt;code\u0026gt;TCHAR\u0026lt;/code\u0026gt; etc. being defined as \u0026lt;code\u0026gt;wchar_t\u0026lt;/code\u0026gt; etc. When not building with \u0026lt;code\u0026gt;UNICODE\u0026lt;/code\u0026gt; defined as build with \u0026lt;code\u0026gt;TCHAR\u0026lt;/code\u0026gt; defined as \u0026lt;code\u0026gt;char\u0026lt;/code\u0026gt; etc. These \u0026lt;code\u0026gt;UNICODE\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;_UNICODE\u0026lt;/code\u0026gt; defines affect all the \u0026lt;a href=\u0026quot;https://msdn.microsoft.com/en-us/library/windows/desktop/dd374131(v=vs.85).aspx\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026quot;\u0026lt;code\u0026gt;T\u0026lt;/code\u0026gt;\u0026quot; string types\u0026lt;/a\u0026gt;; \u0026lt;code\u0026gt;LPTSTR\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;LPCTSTR\u0026lt;/code\u0026gt; and their elk.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Building one library with \u0026lt;code\u0026gt;UNICODE\u0026lt;/code\u0026gt; defined and attempting to link it in a project where \u0026lt;code\u0026gt;UNICODE\u0026lt;/code\u0026gt; is not defined will result in linker errors since there will be a mismatch in the definition of \u0026lt;code\u0026gt;TCHAR\u0026lt;/code\u0026gt;; \u0026lt;code\u0026gt;char\u0026lt;/code\u0026gt; vs. \u0026lt;code\u0026gt;wchar_t\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The error usually includes a function a value with a \u0026lt;code\u0026gt;char\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;wchar_t\u0026lt;/code\u0026gt; derived type, these could include \u0026lt;code\u0026gt;std::basic_string\u0026amp;lt;\u0026amp;gt;\u0026lt;/code\u0026gt; etc. as well. When browsing through the affected function in the code, there will often be a reference to \u0026lt;code\u0026gt;TCHAR\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;std::basic_string\u0026amp;lt;TCHAR\u0026amp;gt;\u0026lt;/code\u0026gt; etc. This is a tell-tale sign that the code was originally intended for both a UNICODE and a Multi-Byte Character (or \u0026quot;narrow\u0026quot;) build.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To correct this, build all the required libraries and projects with a consistent definition of \u0026lt;code\u0026gt;UNICODE\u0026lt;/code\u0026gt; (and \u0026lt;code\u0026gt;_UNICODE\u0026lt;/code\u0026gt;).\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;This can be done with either;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; UNICODE\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; _UNICODE\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Or in the project settings;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;Project Properties \u0026amp;gt; General \u0026amp;gt; Project Defaults \u0026amp;gt; Character Set\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Or on the command line;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;/DUNICODE /D_UNICODE\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;The alternative is applicable as well, if UNICODE is not intended to be used, make sure the defines are not set, and/or the multi-character setting is used in the projects and consistently applied.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Do not forget to be consistent between the \u0026quot;Release\u0026quot; and \u0026quot;Debug\u0026quot; builds as well.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;Clean and rebuild\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;A \u0026quot;clean\u0026quot; of the build can remove the \u0026quot;dead wood\u0026quot; that may be left lying around from previous builds, failed builds, incomplete builds and other build system related build issues.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;In general the IDE or build will include some form of \u0026quot;clean\u0026quot; function, but this may not be correctly configured (e.g. in a manual makefile) or may fail (e.g. the intermediate or resultant binaries are read-only).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Once the \u0026quot;clean\u0026quot; has completed, verify that the \u0026quot;clean\u0026quot; has succeeded and all the generated intermediate file (e.g. an automated makefile) have been successfully removed.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This \u0026lt;em\u0026gt;process can be seen as a final resort, but is often a good first step\u0026lt;/em\u0026gt;; especially if the code related to the error has recently been added (either locally or from the source repository).\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;Missing \u0026quot;extern\u0026quot; in \u0026lt;code\u0026gt;const\u0026lt;/code\u0026gt; variable declarations/definitions (C++ only)\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;For people coming from C it might be a surprise that in C++ global \u0026lt;code\u0026gt;const\u0026lt;/code\u0026gt;variables have internal (or static) linkage. In C this was not the case, as all global variables are implicitly \u0026lt;code\u0026gt;extern\u0026lt;/code\u0026gt; (i.e. when the \u0026lt;code\u0026gt;static\u0026lt;/code\u0026gt; keyword is missing).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Example: \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// file1.cpp\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; test = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;;    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// in C++ same as \u0026quot;static const int test = 5\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; test2 = \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5\u0026lt;/span\u0026gt;;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// file2.cpp\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extern\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; test;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extern\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; test2;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; x = test;   \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// linker error in C++ , no error in C\u0026lt;/span\u0026gt;\n \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; y = test2;  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// no problem\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;correct would be to use a header file and include it in file2.cpp \u0026lt;em\u0026gt;and\u0026lt;/em\u0026gt; file1.cpp\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extern\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; test;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extern\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; test2;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Alternatively one could declare the \u0026lt;code\u0026gt;const\u0026lt;/code\u0026gt; variable in file1.cpp with explicit \u0026lt;code\u0026gt;extern\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Even though this is a pretty old questions with multiple accepted answers, I\u0026apos;d like to share how to resolve an \u0026lt;strong\u0026gt;obscure\u0026lt;/strong\u0026gt; \u0026quot;undefined reference to\u0026quot; error.  \u0026lt;/p\u0026gt;\n\n\u0026lt;h1\u0026gt;Different versions of libraries\u0026lt;/h1\u0026gt;\n\n\u0026lt;p\u0026gt;I was using an alias to refer to \u0026lt;code\u0026gt;std::filesystem::path\u0026lt;/code\u0026gt;: filesystem is in the standard library since C++17 but my program needed to \u0026lt;strong\u0026gt;also compile in C++14\u0026lt;/strong\u0026gt; so I decided to use a variable alias:  \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (defined _GLIBCXX_EXPERIMENTAL_FILESYSTEM) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//is the included filesystem library experimental? (C++14 and newer: \u0026amp;lt;experimental/filesystem\u0026amp;gt;)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;using\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;path_t\u0026lt;/span\u0026gt; = std::experimental::filesystem::path;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;elif\u0026lt;/span\u0026gt; (defined _GLIBCXX_FILESYSTEM) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//not experimental (C++17 and newer: \u0026amp;lt;filesystem\u0026amp;gt;)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;using\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;path_t\u0026lt;/span\u0026gt; = std::filesystem::path;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;endif\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Let\u0026apos;s say I have three files: main.cpp, file.h, file.cpp:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;file.h\u0026lt;/strong\u0026gt; #include\u0026apos;s \u0026amp;lt;\u0026lt;strong\u0026gt;experimental::filesystem\u0026lt;/strong\u0026gt;\u0026amp;gt; and contains the code above  \u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;file.cpp\u0026lt;/strong\u0026gt;, the implementation of file.h, #include\u0026apos;s \u0026quot;\u0026lt;strong\u0026gt;file.h\u0026lt;/strong\u0026gt;\u0026quot;  \u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;main.cpp\u0026lt;/strong\u0026gt; #include\u0026apos;s \u0026amp;lt;\u0026lt;strong\u0026gt;filesystem\u0026lt;/strong\u0026gt;\u0026amp;gt; and \u0026quot;\u0026lt;strong\u0026gt;file.h\u0026lt;/strong\u0026gt;\u0026quot;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;Note the \u0026lt;strong\u0026gt;different libraries\u0026lt;/strong\u0026gt; used in main.cpp and file.h. Since main.cpp #include\u0026apos;d \u0026quot;\u0026lt;strong\u0026gt;file.h\u0026lt;/strong\u0026gt;\u0026quot; after \u0026amp;lt;\u0026lt;strong\u0026gt;filesystem\u0026lt;/strong\u0026gt;\u0026amp;gt;, the version of filesystem used there was \u0026lt;strong\u0026gt;the C++17 one\u0026lt;/strong\u0026gt;. I used to compile the program with the following commands:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;$ \u0026lt;code\u0026gt;g++ -g -std=c++17 -c main.cpp\u0026lt;/code\u0026gt; -\u0026amp;gt; compiles main.cpp to main.o\u0026lt;br\u0026gt;\n$ \u0026lt;code\u0026gt;g++ -g -std=c++17 -c file.cpp\u0026lt;/code\u0026gt; -\u0026amp;gt; compiles file.cpp and file.h to file.o\u0026lt;br\u0026gt;\n$ \u0026lt;code\u0026gt;g++ -g -std=c++17 -o executable main.o file.o -lstdc++fs\u0026lt;/code\u0026gt; -\u0026amp;gt; links main.o and file.o  \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This way \u0026lt;strong\u0026gt;any function\u0026lt;/strong\u0026gt; contained in file.o and used in main.o that \u0026lt;strong\u0026gt;required \u0026lt;code\u0026gt;path_t\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; gave \u0026quot;undefined reference\u0026quot; errors because \u0026lt;strong\u0026gt;main.o\u0026lt;/strong\u0026gt; referred to \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;std::filesystem::path\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt; but \u0026lt;strong\u0026gt;file.o\u0026lt;/strong\u0026gt; to \u0026lt;strong\u0026gt;\u0026lt;code\u0026gt;std::experimental::filesystem::path\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;.  \u0026lt;/p\u0026gt;\n\n\u0026lt;h1\u0026gt;Resolution\u0026lt;/h1\u0026gt;\n\n\u0026lt;p\u0026gt;To fix this I just needed to \u0026lt;strong\u0026gt;change \u0026amp;lt;experimental::filesystem\u0026amp;gt; in file.h to \u0026amp;lt;filesystem\u0026amp;gt;\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;When linking against shared libraries, make sure that the used symbols are not hidden.\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;The default behavior of gcc is that all symbols are visible. However, when the translation units are built with option \u0026lt;code\u0026gt;-fvisibility=hidden\u0026lt;/code\u0026gt;, only functions/symbols marked with \u0026lt;code\u0026gt;__attribute__ ((visibility (\u0026quot;default\u0026quot;)))\u0026lt;/code\u0026gt; are external in the resulting shared object.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You can check whether the symbols your are looking for are external by invoking:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;# -\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;D \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;shows\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(global)\u0026lt;/span\u0026gt; dynamic symbols that can be used from the outside of XXX.so\nnm -D XXX.so | grep MY_SYMBOL \n\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;the hidden/local symbols are shown by \u0026lt;code\u0026gt;nm\u0026lt;/code\u0026gt; with lowercase symbol type, for example \u0026lt;code\u0026gt;t\u0026lt;/code\u0026gt; instead of `T for code-section:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;nm XXX.so\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;00000000000005\u0026lt;/span\u0026gt;a7 t HIDDEN_SYMBOL\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;00000000000005f\u0026lt;/span\u0026gt;8 T VISIBLE_SYMBOL\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;You can also use \u0026lt;code\u0026gt;nm\u0026lt;/code\u0026gt; with the option \u0026lt;code\u0026gt;-C\u0026lt;/code\u0026gt; to demangle the names (if C++ was used).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Similar to Windows-dlls, one would mark public functions with a define, for example \u0026lt;code\u0026gt;DLL_PUBLIC\u0026lt;/code\u0026gt; defined as:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; DLL_PUBLIC __attribute__ ((visibility (\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;default\u0026quot;\u0026lt;/span\u0026gt;)))\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;DLL_PUBLIC \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;my_public_function\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;{\n  ...\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Which roughly corresponds to Windows\u0026apos;/MSVC-version:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;ifdef\u0026lt;/span\u0026gt; BUILDING_DLL\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; DLL_PUBLIC __declspec(dllexport) \u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;define\u0026lt;/span\u0026gt; DLL_PUBLIC __declspec(dllimport) \u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;endif\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;More \u0026lt;a href=\u0026quot;https://gcc.gnu.org/wiki/Visibility\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;information about visibility\u0026lt;/a\u0026gt; can be found on the gcc wiki.\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;When a translation unit is compiled with \u0026lt;code\u0026gt;-fvisibility=hidden\u0026lt;/code\u0026gt; the resulting symbols have still external linkage (shown with upper case symbol type by \u0026lt;code\u0026gt;nm\u0026lt;/code\u0026gt;) and can be used for external linkage without problem if the object files become part of a static libraries. The linkage becomes local only when the object files are linked into a shared library.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To find which symbols in an object file are hidden run:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026amp;gt;\u0026amp;gt;\u0026amp;gt; objdump -t XXXX.o | grep hidden\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0000000000000000\u0026lt;/span\u0026gt; g     F .text  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;000000000000000b\u0026lt;/span\u0026gt; .hidden HIDDEN_SYMBOL1\n\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;000000000000000b\u0026lt;/span\u0026gt; g     F .text  \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;000000000000000b\u0026lt;/span\u0026gt; .hidden HIDDEN_SYMBOL2\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;Functions or class-methods are defined in source files with the \u0026lt;code\u0026gt;inline\u0026lt;/code\u0026gt; specifier.\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;An example:-\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;main.cpp\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;gum.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;foo.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;main\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;gum\u0026lt;/span\u0026gt;();\n    foo f;\n    f.\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;bar\u0026lt;/span\u0026gt;();\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;foo.h (1)\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;pragma\u0026lt;/span\u0026gt; once\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;bar\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n};\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;gum.h (1)\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;pragma\u0026lt;/span\u0026gt; once\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;extern\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;gum\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;foo.cpp (1)\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;foo.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;iostream\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* \u0026amp;lt;- wrong! */\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo::bar\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n    std::cout \u0026amp;lt;\u0026amp;lt; __PRETTY_FUNCTION__ \u0026amp;lt;\u0026amp;lt; std::endl;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;gum.cpp (1)\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;gum.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;iostream\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* \u0026amp;lt;- wrong! */\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;gum\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    std::cout \u0026amp;lt;\u0026amp;lt; __PRETTY_FUNCTION__ \u0026amp;lt;\u0026amp;lt; std::endl;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;If you specify that \u0026lt;code\u0026gt;gum\u0026lt;/code\u0026gt; (similarly, \u0026lt;code\u0026gt;foo::bar\u0026lt;/code\u0026gt;) is \u0026lt;code\u0026gt;inline\u0026lt;/code\u0026gt; at its definition then\nthe compiler will inline \u0026lt;code\u0026gt;gum\u0026lt;/code\u0026gt; (if it chooses to), by:-\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;not emitting any unique definition of \u0026lt;code\u0026gt;gum\u0026lt;/code\u0026gt;, and therefore\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;not emitting any symbol by which the linker can refer to the definition of \u0026lt;code\u0026gt;gum\u0026lt;/code\u0026gt;, and instead\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;replacing all calls to \u0026lt;code\u0026gt;gum\u0026lt;/code\u0026gt; with inline copies of the compiled body of \u0026lt;code\u0026gt;gum\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;As a result, if you define \u0026lt;code\u0026gt;gum\u0026lt;/code\u0026gt; inline in a source file \u0026lt;code\u0026gt;gum.cpp\u0026lt;/code\u0026gt;, it is\ncompiled to an object file \u0026lt;code\u0026gt;gum.o\u0026lt;/code\u0026gt; in which all calls to \u0026lt;code\u0026gt;gum\u0026lt;/code\u0026gt; are inlined\nand no symbol is defined by which the linker can refer to \u0026lt;code\u0026gt;gum\u0026lt;/code\u0026gt;. When you\nlink \u0026lt;code\u0026gt;gum.o\u0026lt;/code\u0026gt; into a program together with another object file, e.g. \u0026lt;code\u0026gt;main.o\u0026lt;/code\u0026gt;\nthat make references to an external symbol \u0026lt;code\u0026gt;gum\u0026lt;/code\u0026gt;, the linker cannot resolve\nthose references. So the linkage fails:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Compile:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;g++ -c  main.cpp foo.cpp gum.cpp\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Link:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ g++ -o prog main.o foo.o gum.o\nmain.o: In function `main\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;\u0026apos;\u0026lt;/span\u0026gt;:\nmain.cpp:(.text+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x18\u0026lt;/span\u0026gt;): undefined reference to `\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;gum\u0026lt;/span\u0026gt;()\u0026apos;\nmain.cpp:(.text+\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0x24\u0026lt;/span\u0026gt;): undefined reference to `foo::\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;bar\u0026lt;/span\u0026gt;() \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;\u0026apos;\u0026lt;/span\u0026gt;\ncollect2: error: ld returned \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1\u0026lt;/span\u0026gt; exit status\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;You can only define \u0026lt;code\u0026gt;gum\u0026lt;/code\u0026gt; as \u0026lt;code\u0026gt;inline\u0026lt;/code\u0026gt; if the compiler can see its definition in every source file in which \u0026lt;code\u0026gt;gum\u0026lt;/code\u0026gt; may be called. That means its inline definition needs to exist in a \u0026lt;em\u0026gt;header\u0026lt;/em\u0026gt; file that you \u0026lt;em\u0026gt;include\u0026lt;/em\u0026gt; in every source file\nyou compile in which \u0026lt;code\u0026gt;gum\u0026lt;/code\u0026gt; may be called. Do one of two things:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Either don\u0026apos;t inline the definitions\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Remove the \u0026lt;code\u0026gt;inline\u0026lt;/code\u0026gt; specifier from the source file definition:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;foo.cpp (2)\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;foo.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;iostream\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo::bar\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n    std::cout \u0026amp;lt;\u0026amp;lt; __PRETTY_FUNCTION__ \u0026amp;lt;\u0026amp;lt; std::endl;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;gum.cpp (2)\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;gum.h\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;iostream\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;gum\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;{\n    std::cout \u0026amp;lt;\u0026amp;lt; __PRETTY_FUNCTION__ \u0026amp;lt;\u0026amp;lt; std::endl;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Rebuild with that:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ g++ -c  main.cpp foo.cpp gum.cpp\nimk@imk-Inspiron\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;-7559\u0026lt;/span\u0026gt;:~/develop/so/scrap1$ g++ -o prog main.o foo.o gum.o\nimk@imk-Inspiron\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;-7559\u0026lt;/span\u0026gt;:~/develop/so/scrap1$ ./\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;prog\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;gum\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo::bar\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Success.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Or inline correctly\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Inline definitions in header files:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;foo.h (2)\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;pragma\u0026lt;/span\u0026gt; once\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;iostream\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;bar\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt;  \u0026lt;/span\u0026gt;{ \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// In-class definition is implicitly inline\u0026lt;/span\u0026gt;\n        std::cout \u0026amp;lt;\u0026amp;lt; __PRETTY_FUNCTION__ \u0026amp;lt;\u0026amp;lt; std::endl;\n    }\n};\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Alternatively...\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; 0\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;struct\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;foo\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;bar\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;;\n};\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo::bar\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt;  \u0026lt;/span\u0026gt;{\n    std::cout \u0026amp;lt;\u0026amp;lt; __PRETTY_FUNCTION__ \u0026amp;lt;\u0026amp;lt; std::endl;\n}\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;endif\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;gum.h (2)\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;pragma\u0026lt;/span\u0026gt; once\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;#\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;include\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026amp;lt;iostream\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;inline\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;gum\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;/span\u0026gt;{\n    std::cout \u0026amp;lt;\u0026amp;lt; __PRETTY_FUNCTION__ \u0026amp;lt;\u0026amp;lt; std::endl;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Now we don\u0026apos;t need \u0026lt;code\u0026gt;foo.cpp\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;gum.cpp\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-cpp s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-cpp\u0026quot;\u0026gt;$ g++ -c main.cpp\n$ g++ -o prog main.o\n$ ./\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;prog\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;gum\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;foo::bar\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt;\n\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"id":11,"title":"What is an undefined reference/unresolved external symbol error and how do I fix it?","content":"\n                \n\u0026lt;p\u0026gt;What are undefined reference/unresolved external symbol errors? What are common causes and how to fix/prevent them?\u0026lt;/p\u0026gt;\n    ","slug":"what-is-an-undefined-referenceunresolved-external-symbol-error-and-how-do-i-fix-it-1657384255179","postType":"QUESTION","createdAt":"2022-07-09T16:30:55.000Z","updatedAt":"2022-07-09T16:30:55.000Z","tags":[{"id":36,"name":"linker-errors","slug":"linker-errors","createdAt":"2022-07-09T16:30:55.000Z","updatedAt":"2022-07-09T16:30:55.000Z","Questions_Tags":{"questionId":11,"tagId":36}},{"id":37,"name":"undefined-reference","slug":"undefined-reference","createdAt":"2022-07-09T16:30:55.000Z","updatedAt":"2022-07-09T16:30:55.000Z","Questions_Tags":{"questionId":11,"tagId":37}},{"id":39,"name":"unresolved-external","slug":"unresolved-external","createdAt":"2022-07-09T16:30:55.000Z","updatedAt":"2022-07-09T16:30:55.000Z","Questions_Tags":{"questionId":11,"tagId":39}}],"relatedQuestions":[{"title":"What is an undefined reference/unresolved external symbol error and how do I fix it?","slug":"what-is-an-undefined-referenceunresolved-external-symbol-error-and-how-do-i-fix-it-1657384255179","tags":[{"name":"linker-errors","Questions_Tags":{"questionId":11,"tagId":36}},{"name":"undefined-reference","Questions_Tags":{"questionId":11,"tagId":37}},{"name":"unresolved-external","Questions_Tags":{"questionId":11,"tagId":39}}]}]},"randomQuestions":[{"title":"How to print a number with commas as thousands separators in JavaScript","slug":"how-to-print-a-number-with-commas-as-thousands-separators-in-javascript-1657387777379"},{"title":"Why does printf not flush after the call unless a newline is in the format string?","slug":"why-does-printf-not-flush-after-the-call-unless-a-newline-is-in-the-format-string-1657387853407"},{"title":"Swing GUI listeners without AWT","slug":"swing-gui-listeners-without-awt-1657387522426"},{"title":"How can I read inputs as numbers?","slug":"how-can-i-read-inputs-as-numbers-1657384503324"},{"title":"How can I upload files to a server using JSP/Servlet?","slug":"how-can-i-upload-files-to-a-server-using-jspservlet-1657384847658"},{"title":"Calling a function of a module by using its name (a string)","slug":"calling-a-function-of-a-module-by-using-its-name-(a-string)-1657388565656"},{"title":"Event binding on dynamically created elements?","slug":"event-binding-on-dynamically-created-elements-1657384268057"},{"title":"How to avoid using Select in Excel VBA","slug":"how-to-avoid-using-select-in-excel-vba-1657384286300"},{"title":"How to append text to an existing file in Java?","slug":"how-to-append-text-to-an-existing-file-in-java-1657388492377"},{"title":"Align inline-block DIVs to top of container element","slug":"align-inline-block-divs-to-top-of-container-element-1657387489610"},{"title":"How to remove/delete a large file from commit history in the Git repository?","slug":"how-to-removedelete-a-large-file-from-commit-history-in-the-git-repository-1657387589093"},{"title":"Useless use of cat?","slug":"useless-use-of-cat-1657388390794"},{"title":"Passing data between view controllers","slug":"passing-data-between-view-controllers-1657384540021"},{"title":"Randomize a List\u003cT\u003e","slug":"randomize-a-listlesstgreater-1657388172793"},{"title":"Object comparison in JavaScript [duplicate]","slug":"object-comparison-in-javascript-duplicate-1657387675463"},{"title":"getContactsFromFirebase() method return an empty list","slug":"getcontactsfromfirebase()-method-return-an-empty-list-1657388433928"},{"title":"How do I pass data between Activities in Android application?","slug":"how-do-i-pass-data-between-activities-in-android-application-1657384739839"},{"title":"How can I get useful error messages in PHP?","slug":"how-can-i-get-useful-error-messages-in-php-1657384609065"},{"title":"Google Maps JS API v3 - Simple Multiple Marker Example","slug":"google-maps-js-api-v3-simple-multiple-marker-example-1657388073335"},{"title":"CSS margin terror; Margin adds space outside parent element [duplicate]","slug":"css-margin-terror-margin-adds-space-outside-parent-element-duplicate-1657388142199"}]},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"what-is-an-undefined-referenceunresolved-external-symbol-error-and-how-do-i-fix-it-1657384255179"},"buildId":"6ctJfCympFH_chh5mjicD","isFallback":false,"gsp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>