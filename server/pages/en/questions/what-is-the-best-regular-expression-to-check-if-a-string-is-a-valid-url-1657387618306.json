{"pageProps":{"data":{"answer":["\n&lt;p&gt;I wrote my URL (actually IRI, internationalized) pattern to comply with RFC 3987 (&lt;a href=&quot;http://www.faqs.org/rfcs/rfc3987.html&quot; rel=&quot;noreferrer&quot;&gt;http://www.faqs.org/rfcs/rfc3987.html&lt;/a&gt;). These are in PCRE syntax.&lt;/p&gt;\n\n&lt;p&gt;For absolute IRIs (internationalized):&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt;/^[a-z](&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\+\\.])*&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:\\/\\/&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:])*@)?(?:\\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;}&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;){&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;}[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;})&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;)|&lt;span class=&quot;hljs-params&quot;&gt;v[0-9a-f]+\\.[-a-z0-9\\._~!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:]+)\\]&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}|&lt;span class=&quot;hljs-params&quot;&gt;(?:%[0-9a-f][0-9a-f]&lt;/span&gt;|[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\._~\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D7FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F900&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDCF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDF0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFEF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;}-\\x{1FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;20000&lt;/span&gt;}-\\x{2FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;}-\\x{3FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;40000&lt;/span&gt;}-\\x{4FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;}-\\x{5FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;}-\\x{6FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;70000&lt;/span&gt;}-\\x{7FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;80000&lt;/span&gt;}-\\x{8FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;90000&lt;/span&gt;}-\\x{9FFFD}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;AFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;B0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;BFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;C0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;CFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;DFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E1000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;EFFFD&lt;/span&gt;}!\\&lt;span class=&quot;hljs-variable&quot;&gt;$&amp;amp;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\)\\*\\+,;=])*)(?::[0-9]*)?(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;&lt;/span&gt;\\(\\)\\*\\+,;=&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;@]))*)*|&lt;span class=&quot;hljs-params&quot;&gt;\\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]&lt;/span&gt;|[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\._~\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D7FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F900&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDCF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDF0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFEF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;}-\\x{1FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;20000&lt;/span&gt;}-\\x{2FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;}-\\x{3FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;40000&lt;/span&gt;}-\\x{4FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;}-\\x{5FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;}-\\x{6FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;70000&lt;/span&gt;}-\\x{7FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;80000&lt;/span&gt;}-\\x{8FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;90000&lt;/span&gt;}-\\x{9FFFD}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;AFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;B0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;BFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;C0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;CFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;DFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E1000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;EFFFD&lt;/span&gt;}!\\&lt;span class=&quot;hljs-variable&quot;&gt;$&amp;amp;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;&lt;/span&gt;\\(\\)\\*\\+,;=&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;@]))*)*)&lt;span class=&quot;hljs-string&quot;&gt;?|&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]&lt;/span&gt;|[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\._~\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D7FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F900&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDCF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDF0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFEF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;}-\\x{1FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;20000&lt;/span&gt;}-\\x{2FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;}-\\x{3FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;40000&lt;/span&gt;}-\\x{4FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;}-\\x{5FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;}-\\x{6FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;70000&lt;/span&gt;}-\\x{7FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;80000&lt;/span&gt;}-\\x{8FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;90000&lt;/span&gt;}-\\x{9FFFD}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;AFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;B0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;BFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;C0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;CFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;DFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E1000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;EFFFD&lt;/span&gt;}!\\&lt;span class=&quot;hljs-variable&quot;&gt;$&amp;amp;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\)\\*\\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;&lt;/span&gt;\\(\\)\\*\\+,;=&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;@])))(&lt;span class=&quot;hljs-string&quot;&gt;?:\\?&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:@])&lt;/span&gt;|[\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F8FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;100000&lt;/span&gt;}-\\x{10FFFD}\\/\\&lt;span class=&quot;hljs-string&quot;&gt;?]&lt;/span&gt;)*)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;?:\\#&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:@])&lt;/span&gt;|[\\/\\&lt;span class=&quot;hljs-string&quot;&gt;?]&lt;/span&gt;)*)&lt;span class=&quot;hljs-string&quot;&gt;?$&lt;/span&gt;/i\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To also allow relative IRIs:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt;/^(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[a-z](&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\+\\.])*&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:\\/\\/&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:])*@)?(?:\\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;}&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;){&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;}[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;})&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;)|&lt;span class=&quot;hljs-params&quot;&gt;v[0-9a-f]+\\.[-a-z0-9\\._~!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:]+)\\]&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}|&lt;span class=&quot;hljs-params&quot;&gt;(?:%[0-9a-f][0-9a-f]&lt;/span&gt;|[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\._~\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D7FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F900&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDCF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDF0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFEF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;}-\\x{1FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;20000&lt;/span&gt;}-\\x{2FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;}-\\x{3FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;40000&lt;/span&gt;}-\\x{4FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;}-\\x{5FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;}-\\x{6FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;70000&lt;/span&gt;}-\\x{7FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;80000&lt;/span&gt;}-\\x{8FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;90000&lt;/span&gt;}-\\x{9FFFD}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;AFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;B0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;BFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;C0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;CFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;DFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E1000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;EFFFD&lt;/span&gt;}!\\&lt;span class=&quot;hljs-variable&quot;&gt;$&amp;amp;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\)\\*\\+,;=])*)(?::[0-9]*)?(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;&lt;/span&gt;\\(\\)\\*\\+,;=&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;@]))*)*|&lt;span class=&quot;hljs-params&quot;&gt;\\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]&lt;/span&gt;|[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\._~\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D7FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F900&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDCF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDF0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFEF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;}-\\x{1FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;20000&lt;/span&gt;}-\\x{2FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;}-\\x{3FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;40000&lt;/span&gt;}-\\x{4FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;}-\\x{5FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;}-\\x{6FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;70000&lt;/span&gt;}-\\x{7FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;80000&lt;/span&gt;}-\\x{8FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;90000&lt;/span&gt;}-\\x{9FFFD}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;AFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;B0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;BFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;C0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;CFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;DFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E1000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;EFFFD&lt;/span&gt;}!\\&lt;span class=&quot;hljs-variable&quot;&gt;$&amp;amp;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;&lt;/span&gt;\\(\\)\\*\\+,;=&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;@]))*)*)&lt;span class=&quot;hljs-string&quot;&gt;?|&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]&lt;/span&gt;|[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\._~\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D7FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F900&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDCF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDF0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFEF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;}-\\x{1FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;20000&lt;/span&gt;}-\\x{2FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;}-\\x{3FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;40000&lt;/span&gt;}-\\x{4FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;}-\\x{5FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;}-\\x{6FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;70000&lt;/span&gt;}-\\x{7FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;80000&lt;/span&gt;}-\\x{8FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;90000&lt;/span&gt;}-\\x{9FFFD}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;AFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;B0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;BFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;C0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;CFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;DFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E1000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;EFFFD&lt;/span&gt;}!\\&lt;span class=&quot;hljs-variable&quot;&gt;$&amp;amp;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\)\\*\\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;&lt;/span&gt;\\(\\)\\*\\+,;=&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;@])))(&lt;span class=&quot;hljs-string&quot;&gt;?:\\?&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:@])&lt;/span&gt;|[\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F8FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;100000&lt;/span&gt;}-\\x{10FFFD}\\/\\&lt;span class=&quot;hljs-string&quot;&gt;?]&lt;/span&gt;)*)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;?:\\#&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:@])&lt;/span&gt;|[\\/\\&lt;span class=&quot;hljs-string&quot;&gt;?]&lt;/span&gt;)*)&lt;span class=&quot;hljs-string&quot;&gt;?|&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:\\/\\/&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:])*@)?(?:\\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})|&lt;span class=&quot;hljs-params&quot;&gt;(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;}&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;){&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;}[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;})&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;)|&lt;span class=&quot;hljs-params&quot;&gt;v[0-9a-f]+\\.[-a-z0-9\\._~!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:]+)\\]&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;[1-9][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4][0-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}|&lt;span class=&quot;hljs-params&quot;&gt;(?:%[0-9a-f][0-9a-f]&lt;/span&gt;|[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\._~\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D7FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F900&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDCF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDF0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFEF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;}-\\x{1FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;20000&lt;/span&gt;}-\\x{2FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;}-\\x{3FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;40000&lt;/span&gt;}-\\x{4FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;}-\\x{5FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;}-\\x{6FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;70000&lt;/span&gt;}-\\x{7FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;80000&lt;/span&gt;}-\\x{8FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;90000&lt;/span&gt;}-\\x{9FFFD}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;AFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;B0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;BFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;C0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;CFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;DFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E1000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;EFFFD&lt;/span&gt;}!\\&lt;span class=&quot;hljs-variable&quot;&gt;$&amp;amp;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\)\\*\\+,;=])*)(?::[0-9]*)?(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;&lt;/span&gt;\\(\\)\\*\\+,;=&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;@]))*)*|&lt;span class=&quot;hljs-params&quot;&gt;\\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]&lt;/span&gt;|[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\._~\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D7FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F900&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDCF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDF0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFEF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;}-\\x{1FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;20000&lt;/span&gt;}-\\x{2FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;}-\\x{3FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;40000&lt;/span&gt;}-\\x{4FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;}-\\x{5FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;}-\\x{6FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;70000&lt;/span&gt;}-\\x{7FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;80000&lt;/span&gt;}-\\x{8FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;90000&lt;/span&gt;}-\\x{9FFFD}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;AFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;B0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;BFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;C0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;CFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;DFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E1000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;EFFFD&lt;/span&gt;}!\\&lt;span class=&quot;hljs-variable&quot;&gt;$&amp;amp;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\)\\*\\+,;=:@]))+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;&lt;/span&gt;\\(\\)\\*\\+,;=&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;@]))*)*)&lt;span class=&quot;hljs-string&quot;&gt;?|&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=@])+)(?:\\/(?:(?:%[0-9a-f][0-9a-f]&lt;/span&gt;|[-a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\._~\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D7FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F900&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDCF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FDF0&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFEF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;10000&lt;/span&gt;}-\\x{1FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;20000&lt;/span&gt;}-\\x{2FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;30000&lt;/span&gt;}-\\x{3FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;40000&lt;/span&gt;}-\\x{4FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;50000&lt;/span&gt;}-\\x{5FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;60000&lt;/span&gt;}-\\x{6FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;70000&lt;/span&gt;}-\\x{7FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;80000&lt;/span&gt;}-\\x{8FFFD}\\x{&lt;span class=&quot;hljs-number&quot;&gt;90000&lt;/span&gt;}-\\x{9FFFD}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;A0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;AFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;B0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;BFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;C0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;CFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;D0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;DFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E1000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;EFFFD&lt;/span&gt;}!\\&lt;span class=&quot;hljs-variable&quot;&gt;$&amp;amp;&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\)\\*\\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;&lt;/span&gt;\\(\\)\\*\\+,;=&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;@])))(&lt;span class=&quot;hljs-string&quot;&gt;?:\\?&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:@])&lt;/span&gt;|[\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;E000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F8FF&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;F0000&lt;/span&gt;}-\\x{&lt;span class=&quot;hljs-variable constant_&quot;&gt;FFFFD&lt;/span&gt;}\\x{&lt;span class=&quot;hljs-number&quot;&gt;100000&lt;/span&gt;}-\\x{10FFFD}\\/\\&lt;span class=&quot;hljs-string&quot;&gt;?]&lt;/span&gt;)*)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;?:\\#&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;%[0-9a-f]&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-9a-f]|&lt;span class=&quot;hljs-params&quot;&gt;[-a-z0-9\\._~\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}!\\$&amp;amp;&apos;\\(\\)\\*\\+,;=:@])&lt;/span&gt;|[\\/\\&lt;span class=&quot;hljs-string&quot;&gt;?]&lt;/span&gt;)*)&lt;span class=&quot;hljs-string&quot;&gt;?)&lt;/span&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$/&lt;/span&gt;i\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;How they were compiled (in PHP):&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/* Regex convenience functions (character class, non-capturing group) */&lt;/span&gt;\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$str&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$suffix&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$negate&lt;/span&gt; = &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;[&apos;&lt;/span&gt; . (&lt;span class=&quot;hljs-variable&quot;&gt;$negate&lt;/span&gt; ? &lt;span class=&quot;hljs-string&quot;&gt;&apos;^&apos;&lt;/span&gt; : &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$str&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;]&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$suffix&lt;/span&gt;;\n}\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$str&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$suffix&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;(?:&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$str&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;)&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$suffix&lt;/span&gt;;\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/* Preserved from RFC3986 */&lt;/span&gt;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ALPHA&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;a-z&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;0-9&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable&quot;&gt;$HEXDIG&lt;/span&gt; = &lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;a-f&apos;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$sub_delims&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;!\\\\$&amp;amp;\\&apos;\\\\(\\\\)\\\\*\\\\+,;=&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable&quot;&gt;$gen_delims&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;:\\\\/\\\\?\\\\#\\\\[\\\\]@&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable&quot;&gt;$reserved&lt;/span&gt; = &lt;span class=&quot;hljs-variable&quot;&gt;$gen_delims&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$sub_delims&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable&quot;&gt;$unreserved&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;-&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ALPHA&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\._~&apos;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$pct_encoded&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;%&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$HEXDIG&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$HEXDIG&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$dec_octet&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;implode&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt;),\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;1-9&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt;),\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;1&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt;),\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;2&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;0-4&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt;),\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;25&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;0-5&apos;&lt;/span&gt;)\n)));\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$IPv4address&lt;/span&gt; = &lt;span class=&quot;hljs-variable&quot;&gt;$dec_octet&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\.&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$dec_octet&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{3}&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$HEXDIG&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{1,4}&apos;&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable&quot;&gt;$ls32&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$IPv4address&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$IPv6address&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;implode&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{6}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$ls32&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;::&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{5}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$ls32&lt;/span&gt;,\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;::&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{4}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$ls32&lt;/span&gt;,\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;::&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{3}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$ls32&lt;/span&gt;,\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{0,2}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;::&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{2}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$ls32&lt;/span&gt;,\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{0,3}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;::&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ls32&lt;/span&gt;,\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{0,4}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;::&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ls32&lt;/span&gt;,\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{0,5}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;::&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt;,\n    &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;{0,6}&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$h16&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;::&apos;&lt;/span&gt;,\n)));\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$IPvFuture&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;v&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$HEXDIG&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;+&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$unreserved&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$sub_delims&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;+&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$IP_literal&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\[&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;implode&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$IPv6address&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$IPvFuture&lt;/span&gt;))) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\]&apos;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$port&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$scheme&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$ALPHA&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;-&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ALPHA&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\+\\\\.&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/* New or changed in RFC3987 */&lt;/span&gt;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$iprivate&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\x{E000}-\\x{F8FF}\\x{F0000}-\\x{FFFFD}\\x{100000}-\\x{10FFFD}&apos;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ucschar&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\x{A0}-\\x{D7FF}\\x{F900}-\\x{FDCF}\\x{FDF0}-\\x{FFEF}&apos;&lt;/span&gt; .\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\x{10000}-\\x{1FFFD}\\x{20000}-\\x{2FFFD}\\x{30000}-\\x{3FFFD}&apos;&lt;/span&gt; .\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\x{40000}-\\x{4FFFD}\\x{50000}-\\x{5FFFD}\\x{60000}-\\x{6FFFD}&apos;&lt;/span&gt; .\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\x{70000}-\\x{7FFFD}\\x{80000}-\\x{8FFFD}\\x{90000}-\\x{9FFFD}&apos;&lt;/span&gt; .\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\x{A0000}-\\x{AFFFD}\\x{B0000}-\\x{BFFFD}\\x{C0000}-\\x{CFFFD}&apos;&lt;/span&gt; .\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\x{D0000}-\\x{DFFFD}\\x{E1000}-\\x{EFFFD}&apos;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$iunreserved&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;-&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ALPHA&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$DIGIT&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\._~&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ucschar&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ipchar&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$pct_encoded&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$iunreserved&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$sub_delims&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:@&apos;&lt;/span&gt;));\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ifragment&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$ipchar&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\/\\\\?&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$iquery&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$ipchar&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$iprivate&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\/\\\\?&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$isegment_nz_nc&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$pct_encoded&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$iunreserved&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$sub_delims&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;@&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&apos;+&apos;&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable&quot;&gt;$isegment_nz&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$ipchar&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;+&apos;&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable&quot;&gt;$isegment&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$ipchar&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ipath_empty&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;(?!&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ipchar&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;)&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable&quot;&gt;$ipath_rootless&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$isegment_nz&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\/&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$isegment&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable&quot;&gt;$ipath_noscheme&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$isegment_nz_nc&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\/&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$isegment&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable&quot;&gt;$ipath_absolute&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\/&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$ipath_rootless&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;); &lt;span class=&quot;hljs-comment&quot;&gt;// Spec says isegment-nz *( &quot;/&quot; isegment )&lt;/span&gt;\n&lt;span class=&quot;hljs-variable&quot;&gt;$ipath_abempty&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\/&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$isegment&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ipath&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;implode&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(\n    &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_abempty&lt;/span&gt;,\n    &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_absolute&lt;/span&gt;,\n    &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_noscheme&lt;/span&gt;,\n    &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_rootless&lt;/span&gt;,\n    &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_empty&lt;/span&gt;\n))) . &lt;span class=&quot;hljs-string&quot;&gt;&apos;)&apos;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ireg_name&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$pct_encoded&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$iunreserved&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$sub_delims&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;@&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ihost&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;implode&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$IP_literal&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$IPv4address&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$ireg_name&lt;/span&gt;)));\n&lt;span class=&quot;hljs-variable&quot;&gt;$iuserinfo&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$pct_encoded&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;cc&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$iunreserved&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$sub_delims&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&apos;*&apos;&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable&quot;&gt;$iauthority&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$iuserinfo&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;@&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-variable&quot;&gt;$ihost&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$port&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$irelative_part&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;implode&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\/\\\\/&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$iauthority&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_abempty&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_absolute&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_noscheme&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_empty&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;\n)));\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$irelative_ref&lt;/span&gt; = &lt;span class=&quot;hljs-variable&quot;&gt;$irelative_part&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\?&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$iquery&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\#&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ifragment&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$ihier_part&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;implode&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-keyword&quot;&gt;array&lt;/span&gt;(\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\/\\\\/&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$iauthority&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_abempty&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_absolute&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_rootless&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;,\n    &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ipath_empty&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;&apos;&lt;/span&gt;\n)));\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$absolute_IRI&lt;/span&gt; = &lt;span class=&quot;hljs-variable&quot;&gt;$scheme&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ihier_part&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\?&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$iquery&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$IRI&lt;/span&gt; = &lt;span class=&quot;hljs-variable&quot;&gt;$scheme&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;:&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ihier_part&lt;/span&gt; . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\?&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$iquery&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;) . &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\#&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$ifragment&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;?&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$IRI_reference&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;ncg&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$IRI&lt;/span&gt; . &lt;span class=&quot;hljs-string&quot;&gt;&apos;|&apos;&lt;/span&gt; . &lt;span class=&quot;hljs-variable&quot;&gt;$irelative_ref&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Edit 7 March 2011: Because of the way PHP handles backslashes in quoted strings, these are unusable by default. You&apos;ll need to double-escape backslashes except where the backslash has a special meaning in regex. You can do that this way:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$escape_backslash&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;/(?&amp;lt;!\\\\)\\\\(?![\\[\\]\\\\\\^\\$\\.\\|\\*\\+\\(\\)QEnrtaefvdwsDWSbAZzB1-9GX]|x\\{[0-9a-f]{1,4}\\}|\\c[A-Z]|)/&apos;&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable&quot;&gt;$absolute_IRI&lt;/span&gt; = preg_replace(&lt;span class=&quot;hljs-variable&quot;&gt;$escape_backslash&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\\\\\&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$absolute_IRI&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable&quot;&gt;$IRI&lt;/span&gt; = preg_replace(&lt;span class=&quot;hljs-variable&quot;&gt;$escape_backslash&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\\\\\&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$IRI&lt;/span&gt;);\n&lt;span class=&quot;hljs-variable&quot;&gt;$IRI_reference&lt;/span&gt; = preg_replace(&lt;span class=&quot;hljs-variable&quot;&gt;$escape_backslash&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\\\\\&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$IRI_reference&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I&apos;ve just written up a blog post for a great solution for recognizing URLs in most used formats such as:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;www.google.com&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;http://www.google.com&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;mailto:somebody@google.com&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;somebody@google.com&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;www.url-with-querystring.com/?url=has-querystring&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;The regular expression used is:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt;/((([A-Za-z]{&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;}&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:\\/\\/&lt;/span&gt;)&lt;span class=&quot;hljs-string&quot;&gt;?)&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[-;&lt;span class=&quot;hljs-symbol&quot;&gt;:&amp;amp;&lt;/span&gt;=\\+\\&lt;span class=&quot;hljs-variable&quot;&gt;$,&lt;/span&gt;\\w]+@)&lt;span class=&quot;hljs-string&quot;&gt;?[&lt;/span&gt;A-Za-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;.-]+|&lt;span class=&quot;hljs-params&quot;&gt;(?:www.&lt;/span&gt;|[-;&lt;span class=&quot;hljs-symbol&quot;&gt;:&amp;amp;&lt;/span&gt;=\\+\\&lt;span class=&quot;hljs-variable&quot;&gt;$,&lt;/span&gt;\\w]+@)[A-Za-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;.-]+)((&lt;span class=&quot;hljs-string&quot;&gt;?:\\/&lt;/span&gt;[\\+~%\\/.\\w-_]*)&lt;span class=&quot;hljs-string&quot;&gt;?\\?&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[-\\+=&amp;amp;;%@.\\w_]*)&lt;span class=&quot;hljs-comment&quot;&gt;#?(?:[\\w]*))?)/&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;What platform? If using .NET, use &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/system.uri.trycreate&quot; rel=&quot;noreferrer&quot;&gt;&lt;code&gt;System.Uri.TryCreate&lt;/code&gt;&lt;/a&gt;, not a regex.&lt;/p&gt;\n\n&lt;p&gt;For example:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-csharp&quot;&gt;&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-built_in&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;IsValidUrl&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-built_in&quot;&gt;string&lt;/span&gt; urlString&lt;/span&gt;)&lt;/span&gt;\n{\n    Uri uri;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; Uri.TryCreate(urlString, UriKind.Absolute, &lt;span class=&quot;hljs-keyword&quot;&gt;out&lt;/span&gt; uri)\n        &amp;amp;&amp;amp; (uri.Scheme == Uri.UriSchemeHttp\n         || uri.Scheme == Uri.UriSchemeHttps\n         || uri.Scheme == Uri.UriSchemeFtp\n         || uri.Scheme == Uri.UriSchemeMailto\n            &lt;span class=&quot;hljs-comment&quot;&gt;/*...*/&lt;/span&gt;);\n}\n\n&lt;span class=&quot;hljs-comment&quot;&gt;// In test fixture...&lt;/span&gt;\n\n[&lt;span class=&quot;hljs-meta&quot;&gt;Test&lt;/span&gt;]\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;IsValidUrl_Test&lt;/span&gt;()&lt;/span&gt;\n{\n    Assert.True(IsValidUrl(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.example.com&quot;&lt;/span&gt;));\n    Assert.False(IsValidUrl(&lt;span class=&quot;hljs-string&quot;&gt;&quot;javascript:alert(&apos;xss&apos;)&quot;&lt;/span&gt;));\n    Assert.False(IsValidUrl(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;));\n    Assert.False(IsValidUrl(&lt;span class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;));\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;(Thanks to &lt;a href=&quot;https://stackoverflow.com/users/450141/yoshi&quot;&gt;@Yoshi&lt;/a&gt; for the tip about &lt;code&gt;javascript:&lt;/code&gt;)&lt;/p&gt;\n    ","\n&lt;p&gt;Here&apos;s what &lt;a href=&quot;http://en.wikipedia.org/wiki/RegexBuddy&quot; rel=&quot;noreferrer&quot;&gt;RegexBuddy&lt;/a&gt; uses.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt;(\\b(https?|&lt;span class=&quot;hljs-params&quot;&gt;ftp&lt;/span&gt;|file)&lt;span class=&quot;hljs-symbol&quot;&gt;://&lt;/span&gt;)&lt;span class=&quot;hljs-string&quot;&gt;?[&lt;/span&gt;-A-Za-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;+&amp;amp;@&lt;span class=&quot;hljs-comment&quot;&gt;#/%?=~_|!:,.;]+[-A-Za-z0-9+&amp;amp;@#/%=~_|]&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It matches these below (inside the &lt;code&gt;** **&lt;/code&gt; marks):  &lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;**http://www.regexbuddy.com**  \n**http://www.regexbuddy.com/**  \n**http://www.regexbuddy.com/index.html**  \n**http://www.regexbuddy.com/index.html?&lt;span class=&quot;hljs-built_in&quot;&gt;source&lt;/span&gt;=library**  \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You can download RegexBuddy at &lt;strong&gt;&lt;a href=&quot;http://www.regexbuddy.com/download.html&quot; rel=&quot;noreferrer&quot;&gt;http://www.regexbuddy.com/download.html&lt;/a&gt;&lt;/strong&gt;. &lt;/p&gt;\n    ","\n&lt;p&gt;Mathias Bynens has a great article on the best comparison of a lot of regular expressions: &lt;a href=&quot;http://mathiasbynens.be/demo/url-regex&quot;&gt;In search of the perfect URL validation regex&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://gist.github.com/729294&quot;&gt;The best one posted&lt;/a&gt; is a little long, but it matches just about anything you can throw at it.&lt;/p&gt;\n\n&lt;h3&gt;JavaScript version&lt;/h3&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt;/^(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;https?|&lt;span class=&quot;hljs-params&quot;&gt;ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;127&lt;/span&gt;)(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.\\d&lt;/span&gt;{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}){&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})(&lt;span class=&quot;hljs-string&quot;&gt;?!&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;169&lt;/span&gt;\\.&lt;span class=&quot;hljs-number&quot;&gt;254&lt;/span&gt;|&lt;span class=&quot;hljs-params&quot;&gt;192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\\d|&lt;span class=&quot;hljs-params&quot;&gt;3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\\d\\d|&lt;span class=&quot;hljs-params&quot;&gt;2[01]\\d&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;22&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;])(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;?\\d{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;}|&lt;span class=&quot;hljs-params&quot;&gt;2[0-4]\\d&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;])){&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;}(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\\d?|&lt;span class=&quot;hljs-params&quot;&gt;1\\d\\d&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\\d|&lt;span class=&quot;hljs-params&quot;&gt;25[0-4]))&lt;/span&gt;|(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[a-z\\u00a1-\\uffff0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]-*)*[a-z\\u00a1-\\uffff0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]+)(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[a-z\\u00a1-\\uffff0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]-*)*[a-z\\u00a1-\\uffff0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]+)*(&lt;span class=&quot;hljs-string&quot;&gt;?:\\.&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[a-z\\u00a1-\\uffff]{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,}))\\.&lt;span class=&quot;hljs-string&quot;&gt;?)&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;\\d{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;})&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[&lt;span class=&quot;hljs-regexp&quot;&gt;/?#]\\S*)?$/i&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h3&gt;PHP version&lt;/h3&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-perl&quot;&gt;&lt;span class=&quot;hljs-number&quot;&gt;_&lt;/span&gt;^(?:(?:https?|ftp):&lt;span class=&quot;hljs-regexp&quot;&gt;//&lt;/span&gt;)(?:\\S+(?::\\S*)?@)?(?:(?!(?:&lt;span class=&quot;hljs-number&quot;&gt;10&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;127&lt;/span&gt;)(?:\\.\\d{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})&lt;span class=&quot;hljs-string&quot;&gt;{3}&lt;/span&gt;)(?!(?:&lt;span class=&quot;hljs-number&quot;&gt;169&lt;/span&gt;\\.&lt;span class=&quot;hljs-number&quot;&gt;254&lt;/span&gt;|&lt;span class=&quot;hljs-number&quot;&gt;192&lt;/span&gt;\\.&lt;span class=&quot;hljs-number&quot;&gt;168&lt;/span&gt;)(?:\\.\\d{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})&lt;span class=&quot;hljs-string&quot;&gt;{2}&lt;/span&gt;)(?!&lt;span class=&quot;hljs-number&quot;&gt;172&lt;/span&gt;\\.(?:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;6&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]|&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;\\d|&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;])(?:\\.\\d{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;})&lt;span class=&quot;hljs-string&quot;&gt;{2}&lt;/span&gt;)(?:[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\\d?|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\\d\\d|&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;01&lt;/span&gt;]\\d|&lt;span class=&quot;hljs-number&quot;&gt;22&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;])(?:\\.(?:&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;?\\d{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;}|&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\\d|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;]))&lt;span class=&quot;hljs-string&quot;&gt;{2}&lt;/span&gt;(?:\\.(?:[&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]\\d?|&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;\\d\\d|&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]\\d|&lt;span class=&quot;hljs-number&quot;&gt;25&lt;/span&gt;[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;4&lt;/span&gt;]))|(?:(?:[a-z\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{00a1}&lt;/span&gt;-\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{ffff}&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]-*)*[a-z\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{00a1}&lt;/span&gt;-\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{ffff}&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]+)(?:\\.(?:[a-z\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{00a1}&lt;/span&gt;-\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{ffff}&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]-*)*[a-z\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{00a1}&lt;/span&gt;-\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{ffff}&lt;/span&gt;&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]+)*(?:\\.(?:[a-z\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{00a1}&lt;/span&gt;-\\&lt;span class=&quot;hljs-keyword&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;{ffff}&lt;/span&gt;]{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,}))\\.?)(?::\\d{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;})?(?:[/?&lt;span class=&quot;hljs-comment&quot;&gt;#]\\S*)?$_iuS&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;With regard to &lt;strong&gt;eyelidness&lt;/strong&gt;&apos; answer post that reads &quot;This is based on my reading of the URI specification.&quot;: Thanks Eyelidness, yours is the perfect solution I sought, as it is based on the URI spec! Superb work. :)&lt;/p&gt;\n\n&lt;p&gt;I had to make two amendments. The first to get the regexp to match IP address URLs correctly in PHP (v5.2.10) with the preg_match() function.&lt;/p&gt;\n\n&lt;p&gt;I had to add one more set of parenthesis to the line above &quot;IP Address&quot; around the pipes:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;)|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}(?&lt;span class=&quot;hljs-comment&quot;&gt;#&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Not sure why.&lt;/p&gt;\n\n&lt;p&gt;I have also reduced the top level domain minimum length from 3 to 2 letters to support .co.uk and similar.&lt;/p&gt;\n\n&lt;p&gt;Final code:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;/^(https?|ftp):\\/\\/(?&lt;span class=&quot;hljs-comment&quot;&gt;#                                      protocol&lt;/span&gt;\n)(([a-z0-9&lt;span class=&quot;hljs-variable&quot;&gt;$_&lt;/span&gt;\\.\\+!\\*\\&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\),;\\?&amp;amp;=-]|%[0-9a-f]{2})+(?#         username\n)(:([a-z0-9$_\\.\\+!\\*\\&apos;&lt;/span&gt;\\(\\),;\\?&amp;amp;=-]|%[0-9a-f]{2})+)?(?&lt;span class=&quot;hljs-comment&quot;&gt;#      password&lt;/span&gt;\n)@)?(?&lt;span class=&quot;hljs-comment&quot;&gt;#                                                     auth requires @&lt;/span&gt;\n)((([a-z0-9]\\.|[a-z0-9][a-z0-9-]*[a-z0-9]\\.)*(?&lt;span class=&quot;hljs-comment&quot;&gt;#             domain segments AND&lt;/span&gt;\n)[a-z][a-z0-9-]*[a-z0-9](?&lt;span class=&quot;hljs-comment&quot;&gt;#                                 top level domain  OR&lt;/span&gt;\n)|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}(?&lt;span class=&quot;hljs-comment&quot;&gt;#&lt;/span&gt;\n    )(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?&lt;span class=&quot;hljs-comment&quot;&gt;#             IP address&lt;/span&gt;\n))(:\\d+)?(?&lt;span class=&quot;hljs-comment&quot;&gt;#                                                port&lt;/span&gt;\n))(((\\/+([a-z0-9&lt;span class=&quot;hljs-variable&quot;&gt;$_&lt;/span&gt;\\.\\+!\\*\\&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\(\\),;:@&amp;amp;=-]|%[0-9a-f]{2})*)*(?# path\n)(\\?([a-z0-9$_\\.\\+!\\*\\&apos;&lt;/span&gt;\\(\\),;:@&amp;amp;=-]|%[0-9a-f]{2})*)(?&lt;span class=&quot;hljs-comment&quot;&gt;#      query string&lt;/span&gt;\n)?)?)?(?&lt;span class=&quot;hljs-comment&quot;&gt;#                                                   path and query string optional&lt;/span&gt;\n)(&lt;span class=&quot;hljs-comment&quot;&gt;#([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;:@&amp;amp;=-]|%[0-9a-f]{2})*)?(?#      fragment&lt;/span&gt;\n)$/i\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This modified version was not checked against the URI specification so I can&apos;t vouch for it&apos;s compliance, it was altered to handle URLs on local network environments and two digit TLDs as well as other kinds of Web URL, and to work better in the PHP setup I use.&lt;/p&gt;\n\n&lt;p&gt;As &lt;strong&gt;PHP&lt;/strong&gt; code:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-dart&quot;&gt;define(&lt;span class=&quot;hljs-string&quot;&gt;&apos;URL_FORMAT&apos;&lt;/span&gt;, \n&lt;span class=&quot;hljs-string&quot;&gt;&apos;/^(https?):\\/\\/&apos;&lt;/span&gt;.                                         &lt;span class=&quot;hljs-comment&quot;&gt;// protocol&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(([a-z0-9&lt;span class=&quot;hljs-subst&quot;&gt;$_&lt;/span&gt;\\.\\+!\\*\\&apos;\\(\\),;\\?&amp;amp;=-]|%[0-9a-f]{2})+&apos;&lt;/span&gt;.         &lt;span class=&quot;hljs-comment&quot;&gt;// username&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(:([a-z0-9&lt;span class=&quot;hljs-subst&quot;&gt;$_&lt;/span&gt;\\.\\+!\\*\\&apos;\\(\\),;\\?&amp;amp;=-]|%[0-9a-f]{2})+)?&apos;&lt;/span&gt;.      &lt;span class=&quot;hljs-comment&quot;&gt;// password&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;@)?(?#&apos;&lt;/span&gt;.                                                  &lt;span class=&quot;hljs-comment&quot;&gt;// auth requires @&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;)((([a-z0-9]\\.|[a-z0-9][a-z0-9-]*[a-z0-9]\\.)*&apos;&lt;/span&gt;.                      &lt;span class=&quot;hljs-comment&quot;&gt;// domain segments AND&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;[a-z][a-z0-9-]*[a-z0-9]&apos;&lt;/span&gt;.                                 &lt;span class=&quot;hljs-comment&quot;&gt;// top level domain  OR&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}&apos;&lt;/span&gt;.\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])&apos;&lt;/span&gt;.                 &lt;span class=&quot;hljs-comment&quot;&gt;// IP address&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;)(:\\d+)?&apos;&lt;/span&gt;.                                                &lt;span class=&quot;hljs-comment&quot;&gt;// port&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;)(((\\/+([a-z0-9&lt;span class=&quot;hljs-subst&quot;&gt;$_&lt;/span&gt;\\.\\+!\\*\\&apos;\\(\\),;:@&amp;amp;=-]|%[0-9a-f]{2})*)*&apos;&lt;/span&gt;. &lt;span class=&quot;hljs-comment&quot;&gt;// path&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(\\?([a-z0-9&lt;span class=&quot;hljs-subst&quot;&gt;$_&lt;/span&gt;\\.\\+!\\*\\&apos;\\(\\),;:@&amp;amp;=-]|%[0-9a-f]{2})*)&apos;&lt;/span&gt;.      &lt;span class=&quot;hljs-comment&quot;&gt;// query string&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;?)?)?&apos;&lt;/span&gt;.                                                   &lt;span class=&quot;hljs-comment&quot;&gt;// path and query string optional&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(#([a-z0-9&lt;span class=&quot;hljs-subst&quot;&gt;$_&lt;/span&gt;\\.\\+!\\*\\&apos;\\(\\),;:@&amp;amp;=-]|%[0-9a-f]{2})*)?&apos;&lt;/span&gt;.      &lt;span class=&quot;hljs-comment&quot;&gt;// fragment&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;$/i&apos;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here is a test program in PHP which validates a variety of URLs using the regex:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;&amp;lt;?php&lt;/span&gt;\n\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;define&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;URL_FORMAT&apos;&lt;/span&gt;,\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;/^(https?):\\/\\/&apos;&lt;/span&gt;.                                         // protocol\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;\\?&amp;amp;=-]|%[0-9a-f]{2})+&apos;&lt;/span&gt;.         // username\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(:([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;\\?&amp;amp;=-]|%[0-9a-f]{2})+)?&apos;&lt;/span&gt;.      // password\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;@)?(?#&apos;&lt;/span&gt;.                                                  // auth requires @\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;)((([a-z0-9]\\.|[a-z0-9][a-z0-9-]*[a-z0-9]\\.)*&apos;&lt;/span&gt;.                      // domain segments AND\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;[a-z][a-z0-9-]*[a-z0-9]&apos;&lt;/span&gt;.                                 // top level domain  OR\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}&apos;&lt;/span&gt;.\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])&apos;&lt;/span&gt;.                 // IP address\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;)(:\\d+)?&apos;&lt;/span&gt;.                                                // port\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;)(((\\/+([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;:@&amp;amp;=-]|%[0-9a-f]{2})*)*&apos;&lt;/span&gt;. // path\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(\\?([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;:@&amp;amp;=-]|%[0-9a-f]{2})*)&apos;&lt;/span&gt;.      // query &lt;span class=&quot;hljs-keyword&quot;&gt;string&lt;/span&gt;\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;?)?)?&apos;&lt;/span&gt;.                                                   // path &lt;span class=&quot;hljs-keyword&quot;&gt;and&lt;/span&gt; query &lt;span class=&quot;hljs-keyword&quot;&gt;string&lt;/span&gt; optional\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;(#([a-z0-9$_\\.\\+!\\*\\&apos;\\(\\),;:@&amp;amp;=-]|%[0-9a-f]{2})*)?&apos;&lt;/span&gt;.      // fragment\n&lt;span class=&quot;hljs-string&quot;&gt;&apos;$/i&apos;&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/**\n * Verify the syntax of the given URL. \n * \n * &lt;span class=&quot;hljs-doctag&quot;&gt;@access&lt;/span&gt; public\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; $url The URL to verify.\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@return&lt;/span&gt; boolean\n */&lt;/span&gt;\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;is_valid_url&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;str_starts_with&lt;/span&gt;(&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;strtolower&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;), &lt;span class=&quot;hljs-string&quot;&gt;&apos;http://localhost&apos;&lt;/span&gt;)) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;;\n  }\n  &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;preg_match&lt;/span&gt;(URL_FORMAT, &lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;);\n}\n\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/**\n * String starts with something\n * \n * This function will return true only if input string starts with\n * niddle\n * \n * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; string $string Input string\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; string $niddle Needle string\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@return&lt;/span&gt; boolean\n */&lt;/span&gt;\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;str_starts_with&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$string&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$niddle&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;{\n      &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;substr&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$string&lt;/span&gt;, &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;strlen&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$niddle&lt;/span&gt;)) == &lt;span class=&quot;hljs-variable&quot;&gt;$niddle&lt;/span&gt;;\n}\n\n\n&lt;span class=&quot;hljs-comment&quot;&gt;/**\n * Test a URL for validity and count results.\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; url url\n * &lt;span class=&quot;hljs-doctag&quot;&gt;@param&lt;/span&gt; expected expected result (true or false)\n */&lt;/span&gt;\n\n&lt;span class=&quot;hljs-variable&quot;&gt;$numtests&lt;/span&gt; = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n&lt;span class=&quot;hljs-variable&quot;&gt;$passed&lt;/span&gt; = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$expected&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;{\n  &lt;span class=&quot;hljs-keyword&quot;&gt;global&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$numtests&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$passed&lt;/span&gt;;\n  &lt;span class=&quot;hljs-variable&quot;&gt;$numtests&lt;/span&gt;++;\n  &lt;span class=&quot;hljs-variable&quot;&gt;$valid&lt;/span&gt; = &lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;is_valid_url&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;);\n  &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;URL Valid?: &quot;&lt;/span&gt; . (&lt;span class=&quot;hljs-variable&quot;&gt;$valid&lt;/span&gt;?&lt;span class=&quot;hljs-string&quot;&gt;&quot;yes&quot;&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;no&quot;&lt;/span&gt;) . &lt;span class=&quot;hljs-string&quot;&gt;&quot; for URL: &lt;span class=&quot;hljs-subst&quot;&gt;$url&lt;/span&gt;. Expected: &quot;&lt;/span&gt;.(&lt;span class=&quot;hljs-variable&quot;&gt;$expected&lt;/span&gt;?&lt;span class=&quot;hljs-string&quot;&gt;&quot;yes&quot;&lt;/span&gt;:&lt;span class=&quot;hljs-string&quot;&gt;&quot;no&quot;&lt;/span&gt;).&lt;span class=&quot;hljs-string&quot;&gt;&quot;. &quot;&lt;/span&gt;;\n  &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$valid&lt;/span&gt; == &lt;span class=&quot;hljs-variable&quot;&gt;$expected&lt;/span&gt;) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;PASS\\n&quot;&lt;/span&gt;; &lt;span class=&quot;hljs-variable&quot;&gt;$passed&lt;/span&gt;++;\n  } &lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;FAIL\\n&quot;&lt;/span&gt;;\n  }\n}\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;URL Tests:\\n\\n&quot;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://localserver/projects/public/assets/javascript/widgets/UserBoxMenu/widget.css&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.com&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.co.uk/projects/my%20folder/test.php&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://myserver.localdomain&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://192.168.1.120/projects/index.php&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://192.168.1.1/projects/index.php&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://projectpier-server.localdomain/projects/public/assets/javascript/widgets/UserBoxMenu/widget.css&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://2.4.168.19/project-pier?c=test&amp;amp;a=b&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://localhost/a/b/c/test.php?c=controller&amp;amp;arg1=20&amp;amp;arg2=20&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;test_url&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://user:password@localhost/a/b/c/test.php?c=controller&amp;amp;arg1=20&amp;amp;arg2=20&quot;&lt;/span&gt;, &lt;span class=&quot;hljs-literal&quot;&gt;true&lt;/span&gt;);\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;\\n&lt;span class=&quot;hljs-subst&quot;&gt;$passed&lt;/span&gt; out of &lt;span class=&quot;hljs-subst&quot;&gt;$numtests&lt;/span&gt; tests passed.\\n\\n&quot;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-meta&quot;&gt;?&amp;gt;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Thanks again to &lt;strong&gt;eyelidness&lt;/strong&gt; for the regex!&lt;/p&gt;\n    ","\n&lt;p&gt;The post &lt;a href=&quot;https://stackoverflow.com/questions/27745/getting-parts-of-a-url-regex#27755&quot;&gt;Getting parts of a URL (Regex)&lt;/a&gt; discusses parsing a URL to identify its various components. If you want to check if a URL is well-formed, it should be sufficient for your needs.&lt;/p&gt;\n\n&lt;p&gt;If you need to check if it&apos;s actually valid, you&apos;ll eventually have to try to access whatever&apos;s on the other end.&lt;/p&gt;\n\n&lt;p&gt;In general, though, you&apos;d probably be better off using a function that&apos;s supplied to you by your framework or another library. Many platforms include functions that parse URLs. For example, there&apos;s Python&apos;s &lt;a href=&quot;https://docs.python.org/3/library/urllib.parse.html&quot; rel=&quot;nofollow noreferrer&quot;&gt;urlparse&lt;/a&gt; module, and in .NET you could use the &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/aa332621.aspx&quot; rel=&quot;nofollow noreferrer&quot;&gt;System.Uri class&apos;s constructor&lt;/a&gt; as a means of validating the URL.&lt;/p&gt;\n    ","\n&lt;p&gt;&lt;strong&gt;This might not be a job for regexes, but for existing tools in your language of choice.&lt;/strong&gt;  You probably want to use existing code that has already been written, tested, and debugged.&lt;/p&gt;\n\n&lt;p&gt;In PHP, use the &lt;a href=&quot;http://php.net/manual/en/function.parse-url.php&quot;&gt;&lt;code&gt;parse_url&lt;/code&gt;&lt;/a&gt; function.&lt;/p&gt;\n\n&lt;p&gt;Perl: &lt;a href=&quot;http://search.cpan.org/dist/URI/&quot;&gt;&lt;code&gt;URI&lt;/code&gt; module&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;Ruby: &lt;a href=&quot;http://www.ruby-doc.org/stdlib-1.9.3/libdoc/uri/rdoc/URI.html&quot;&gt;&lt;code&gt;URI&lt;/code&gt; module&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;.NET: &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/txt7706a.aspx&quot;&gt;&apos;Uri&apos; class&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Regexes are not a magic wand you wave at every problem that happens to involve strings.&lt;/strong&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;This will match all URLs&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;with or without &lt;em&gt;http&lt;/em&gt;/&lt;em&gt;https&lt;/em&gt;   &lt;/li&gt;\n&lt;li&gt;with or without &lt;em&gt;www&lt;/em&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;...including sub-domains and those new top-level domain name extensions such as \n  .&lt;em&gt;museum&lt;/em&gt;, \n  .&lt;em&gt;academy&lt;/em&gt;, \n  .&lt;em&gt;foundation&lt;/em&gt;\n  etc. which can have up to 63 characters (not just .&lt;em&gt;com&lt;/em&gt;, .&lt;em&gt;net&lt;/em&gt;, .&lt;em&gt;info&lt;/em&gt; etc.)&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt;(([\\w]+&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;)&lt;span class=&quot;hljs-string&quot;&gt;?/&lt;/span&gt;/)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;([\\d\\w]|&lt;span class=&quot;hljs-params&quot;&gt;%[a-fA-f\\d]{2,2})+(:([\\d\\w]&lt;/span&gt;|&lt;span class=&quot;hljs-string&quot;&gt;%[a-fA-f\\d]&lt;/span&gt;{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;})+)&lt;span class=&quot;hljs-string&quot;&gt;?@&lt;/span&gt;)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;[\\d\\w][-\\d\\w]{&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;253&lt;/span&gt;}[\\d\\w]\\.)+[\\w]{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;63&lt;/span&gt;}(&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;[\\d]+)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;/([-+_~.\\d\\w]|&lt;span class=&quot;hljs-params&quot;&gt;%[a-fA-f\\d]{2,2})*)*(\\?(&amp;amp;?([-+_~.\\d\\w]&lt;/span&gt;|&lt;span class=&quot;hljs-string&quot;&gt;%[a-fA-f\\d]&lt;/span&gt;{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;})=&lt;span class=&quot;hljs-string&quot;&gt;?)&lt;/span&gt;*)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;&lt;span class=&quot;hljs-comment&quot;&gt;#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Because today maximum length of the available top-level domain name extension is 13 characters such as .&lt;em&gt;international&lt;/em&gt;, you can change the number 63 in expression to 13 to prevent someone misusing it.&lt;/p&gt;\n\n&lt;p&gt;as javascript&lt;/p&gt;\n\n&lt;p&gt;&lt;/p&gt;&lt;div class=&quot;snippet&quot; data-lang=&quot;js&quot; data-hide=&quot;false&quot;&gt;\n&lt;div class=&quot;snippet-code&quot;&gt;\n&lt;pre class=&quot;snippet-code-js lang-js s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; urlreg=&lt;span class=&quot;hljs-regexp&quot;&gt;/(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,63}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&amp;amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?/&lt;/span&gt;;\n\n$(&lt;span class=&quot;hljs-string&quot;&gt;&apos;textarea&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;on&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;input&apos;&lt;/span&gt;,&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;/span&gt;){\n  &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; url = $(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;val&lt;/span&gt;();\n  $(&lt;span class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;toggleClass&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;invalid&apos;&lt;/span&gt;, urlreg.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(url) == &lt;span class=&quot;hljs-literal&quot;&gt;false&lt;/span&gt;)\n});\n\n$(&lt;span class=&quot;hljs-string&quot;&gt;&apos;textarea&apos;&lt;/span&gt;).&lt;span class=&quot;hljs-title function_&quot;&gt;trigger&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;input&apos;&lt;/span&gt;);&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-css lang-css s-code-block&quot;&gt;&lt;code class=&quot;hljs language-css&quot;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;textarea&lt;/span&gt;{&lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;:green;}\n&lt;span class=&quot;hljs-selector-class&quot;&gt;.invalid&lt;/span&gt;{&lt;span class=&quot;hljs-attribute&quot;&gt;color&lt;/span&gt;:red;}&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;snippet-code-html lang-html s-code-block&quot;&gt;&lt;code class=&quot;hljs language-xml&quot;&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;hljs-attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;textarea&lt;/span&gt;&amp;gt;&lt;/span&gt;http://www.google.com&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;textarea&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;textarea&lt;/span&gt;&amp;gt;&lt;/span&gt;http//www.google.com&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;textarea&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;textarea&lt;/span&gt;&amp;gt;&lt;/span&gt;googlecom&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;textarea&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;&lt;span class=&quot;hljs-name&quot;&gt;textarea&lt;/span&gt;&amp;gt;&lt;/span&gt;https://www.google.com&lt;span class=&quot;hljs-tag&quot;&gt;&amp;lt;/&lt;span class=&quot;hljs-name&quot;&gt;textarea&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;div class=&quot;snippet-result&quot;&gt;&lt;div class=&quot;snippet-ctas&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn s-btn__primary&quot;&gt;&lt;span class=&quot;icon-play-white _hover&quot;&gt;&lt;/span&gt;&lt;span&gt; Run code snippet&lt;/span&gt;&lt;/button&gt;&lt;input class=&quot;copySnippet s-btn s-btn__filled&quot; type=&quot;button&quot; value=&quot;Copy snippet to answer&quot; style=&quot;display: none;&quot;&gt;&lt;button type=&quot;button&quot; class=&quot;s-btn hideResults&quot; style=&quot;display: none;&quot;&gt;Hide results&lt;/button&gt;&lt;div class=&quot;popout-code&quot;&gt;&lt;a class=&quot;snippet-expand-link&quot;&gt;Expand snippet&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;snippet-result-code&quot; style=&quot;display: none;&quot;&gt;&lt;iframe name=&quot;sif1&quot; sandbox=&quot;allow-forms allow-modals allow-scripts&quot; class=&quot;snippet-box-edit snippet-box-result&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;p&gt;&lt;/p&gt;\n\n&lt;p&gt;Wikipedia Article: &lt;a href=&quot;http://en.wikipedia.org/wiki/List_of_Internet_top-level_domains&quot; rel=&quot;noreferrer&quot;&gt;List of all internet top-level domains&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;h1&gt;Non-validating URI-reference Parser&lt;/h1&gt;\n&lt;p&gt;For reference purposes, here&apos;s the IETF Spec: (&lt;a href=&quot;http://www.ietf.org/rfc/rfc3986.txt&quot; rel=&quot;nofollow noreferrer&quot;&gt;TXT&lt;/a&gt; | &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc3986#appendix-B&quot; rel=&quot;nofollow noreferrer&quot;&gt;HTML&lt;/a&gt;). In particular, &lt;em&gt;Appendix B. &lt;strong&gt;Parsing&lt;/strong&gt; a URI Reference with a Regular Expression&lt;/em&gt; demonstrates how to parse a &lt;strong&gt;valid regex&lt;/strong&gt;. This is described as,&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;for an example of a non-validating URI-reference parser that will take any given string and extract the URI components.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;Here&apos;s the regex they provide:&lt;/p&gt;\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt; ^(([^&lt;span class=&quot;hljs-symbol&quot;&gt;:/&lt;span class=&quot;hljs-string&quot;&gt;?#&lt;/span&gt;&lt;/span&gt;]+)&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;/&lt;span class=&quot;hljs-regexp&quot;&gt;/([^/&lt;/span&gt;&lt;span class=&quot;hljs-string&quot;&gt;?#&lt;/span&gt;]*))&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;[^&lt;span class=&quot;hljs-string&quot;&gt;?#&lt;/span&gt;]*)(\\&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;[^&lt;span class=&quot;hljs-comment&quot;&gt;#]*))?(#(.*))?&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;As someone else said, it&apos;s probably best to leave this to a lib/framework you&apos;re already using.&lt;/p&gt;\n    ","\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;^(http:\\/\\/www\\.|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)?&lt;span class=&quot;hljs-selector-attr&quot;&gt;[a-z0-9]&lt;/span&gt;+([\\-\\.]{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;}[a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]+)*\\.&lt;span class=&quot;hljs-selector-attr&quot;&gt;[a-z]&lt;/span&gt;{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;}(:[&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;]{&lt;span class=&quot;hljs-number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;5&lt;/span&gt;})?(\\/.*)?$\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;live demo: &lt;a href=&quot;https://regex101.com/r/HUNasA/2&quot; rel=&quot;noreferrer&quot;&gt;https://regex101.com/r/HUNasA/2&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;I have tested various expressions to match my requirements. &lt;/p&gt;\n\n&lt;p&gt;As a user I can hit browser search bar with following strings:&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;valid urls&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;https://www.google.com&quot; rel=&quot;noreferrer&quot;&gt;https://www.google.com&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://www.google.com&quot; rel=&quot;noreferrer&quot;&gt;http://www.google.com&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://google.com/&quot; rel=&quot;noreferrer&quot;&gt;http://google.com/&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://google.com/&quot; rel=&quot;noreferrer&quot;&gt;https://google.com/&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;www.google.com&lt;/li&gt;\n&lt;li&gt;google.com&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://www.google.com.ua&quot; rel=&quot;noreferrer&quot;&gt;https://www.google.com.ua&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://www.google.com.ua&quot; rel=&quot;noreferrer&quot;&gt;http://www.google.com.ua&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://google.com.ua&quot; rel=&quot;noreferrer&quot;&gt;http://google.com.ua&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://google.com.ua/&quot; rel=&quot;noreferrer&quot;&gt;https://google.com.ua/&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;www.google.com.ua&lt;/li&gt;\n&lt;li&gt;google.com.ua&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://mail.google.com&quot; rel=&quot;noreferrer&quot;&gt;https://mail.google.com&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;http://mail.google.com&quot; rel=&quot;noreferrer&quot;&gt;http://mail.google.com&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;mail.google.com&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;invalid urls&lt;/strong&gt;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=&quot;http://google&quot; rel=&quot;noreferrer&quot;&gt;http://google&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=&quot;https://google.c&quot; rel=&quot;noreferrer&quot;&gt;https://google.c&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;google&lt;/li&gt;\n&lt;li&gt;google.&lt;/li&gt;\n&lt;li&gt;.google&lt;/li&gt;\n&lt;li&gt;.google.com&lt;/li&gt;\n&lt;li&gt;goole.c&lt;/li&gt;\n&lt;li&gt;...&lt;/li&gt;\n&lt;/ul&gt;\n    ","\n&lt;p&gt;The best regular expression for URL for me would be:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-scss&quot;&gt;&quot;(([\\w]+:)?&lt;span class=&quot;hljs-comment&quot;&gt;//)?(([\\d\\w]|%[a-fA-F\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,4}(:[\\d]+)?(/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&amp;amp;?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?&quot;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Here is a good rule that covers all possible cases: ports, params and etc&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt;/(&lt;span class=&quot;hljs-symbol&quot;&gt;https?:&lt;/span&gt;\\/\\/(&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;](&lt;span class=&quot;hljs-string&quot;&gt;?:&lt;/span&gt;[a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;-]{&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;61&lt;/span&gt;}[a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;])&lt;span class=&quot;hljs-string&quot;&gt;?\\.&lt;/span&gt;)+[a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;][a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;-]{&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;61&lt;/span&gt;}[a-z0-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;])(&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;span class=&quot;hljs-string&quot;&gt;?\\d&lt;/span&gt;*&lt;/span&gt;)\\/&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;[a-z_\\/&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;\\-&lt;span class=&quot;hljs-comment&quot;&gt;#.]*)\\??([a-z_\\/0-9\\-#=&amp;amp;]*)/g&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-delphi&quot;&gt;        &lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;validateURL&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(textval)&lt;/span&gt; &lt;span class=&quot;hljs-comment&quot;&gt;{\n            var urlregex = new RegExp(\n            &quot;^(http|https|ftp)\\://([a-zA-Z0-9\\.\\-]+(\\:[a-zA-Z0-9\\.&amp;amp;amp;%\\$\\-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}&lt;/span&gt;[0-9]&lt;span class=&quot;hljs-comment&quot;&gt;{2}&lt;/span&gt;|[1-9]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;[0-9]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;|[1-9])\\.&lt;span class=&quot;hljs-params&quot;&gt;(25[0-5]|2[0-4][0-9]|[0-1]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;[0-9]&lt;span class=&quot;hljs-comment&quot;&gt;{2}&lt;/span&gt;|[1-9]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;[0-9]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;|[1-9]|0)&lt;/span&gt;\\.&lt;span class=&quot;hljs-params&quot;&gt;(25[0-5]|2[0-4][0-9]|[0-1]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;[0-9]&lt;span class=&quot;hljs-comment&quot;&gt;{2}&lt;/span&gt;|[1-9]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;[0-9]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;|[1-9]|0)&lt;/span&gt;\\.&lt;span class=&quot;hljs-params&quot;&gt;(25[0-5]|2[0-4][0-9]|[0-1]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;[0-9]&lt;span class=&quot;hljs-comment&quot;&gt;{2}&lt;/span&gt;|[1-9]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;[0-9]&lt;span class=&quot;hljs-comment&quot;&gt;{1}&lt;/span&gt;|[0-9])&lt;/span&gt;|&lt;span class=&quot;hljs-title&quot;&gt;localhost&lt;/span&gt;|&lt;span class=&quot;hljs-params&quot;&gt;([a-zA-Z0-9\\-]+\\.)&lt;/span&gt;*[&lt;span class=&quot;hljs-title&quot;&gt;a&lt;/span&gt;-&lt;span class=&quot;hljs-title&quot;&gt;zA&lt;/span&gt;-&lt;span class=&quot;hljs-title&quot;&gt;Z0&lt;/span&gt;-9\\-]+\\.&lt;span class=&quot;hljs-params&quot;&gt;(com|edu|gov|int|mil|net|org|biz|arpa|info|&lt;span class=&quot;hljs-keyword&quot;&gt;name&lt;/span&gt;|pro|aero|coop|museum|[a-zA-Z]&lt;span class=&quot;hljs-comment&quot;&gt;{2}&lt;/span&gt;)&lt;/span&gt;)&lt;span class=&quot;hljs-params&quot;&gt;(\\:[0-9]+)&lt;/span&gt;*&lt;span class=&quot;hljs-params&quot;&gt;(/($|[a-zA-Z0-9\\.\\,\\?\\&lt;span class=&quot;hljs-string&quot;&gt;&apos;\\\\\\+&amp;amp;amp;%\\$#\\=~_\\-]+))*$&quot;);\n            return urlregex.test(textval);\n        }\n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Matches \n&lt;a href=&quot;http://site.com/dir/file.php?var=moo&quot; rel=&quot;noreferrer&quot;&gt;http://site.com/dir/file.php?var=moo&lt;/a&gt; | &lt;a href=&quot;ftp://user:pass@site.com:21/file/dir&quot; rel=&quot;noreferrer&quot;&gt;ftp://user:pass@site.com:21/file/dir&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Non-Matches \nsite.com | &lt;a href=&quot;http://site.com/dir//&quot; rel=&quot;noreferrer&quot;&gt;http://site.com/dir//&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I was not able to find the regex I was looking for so I modified a regex to fullfill my requirements, and apparently it seems to work fine now. My requirements were:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Match URLs w/o protocol (www.gooogle.com)&lt;/li&gt;\n&lt;li&gt;Match URLs with query parameters and path (&lt;a href=&quot;http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1&amp;amp;key2=value2e&quot; rel=&quot;noreferrer&quot;&gt;http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1&amp;amp;key2=value2e&lt;/a&gt;)&lt;/li&gt;\n&lt;li&gt;Don&apos;t match URLs where there are not acceptable characters (e.g. &quot;&apos;£), for instance: (www.google.com/somthing&quot;/somethingmore)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Here what I came up with, any suggestion is appreciated:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-swift&quot;&gt;&lt;span class=&quot;hljs-meta&quot;&gt;@Test&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; void testWebsiteUrl(){\n        &lt;span class=&quot;hljs-type&quot;&gt;String&lt;/span&gt; regularExpression &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;((http|ftp|https):&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;/&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;/)?[&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;w&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;-_]+(&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;.[&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;w&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;-_]+)+([&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;w&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;-&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;.,@?^=%&amp;amp;amp;:/~&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;+#]*[&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;w&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;-&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;@?^=%&amp;amp;amp;/~&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;+#])?&quot;&lt;/span&gt;;\n\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;www.google.com&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;www.google.co.uk&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.com&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.co.uk&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://www.google.com&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://www.google.co.uk&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;google.com&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;google.co.uk&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;google.mu&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;mes.intnet.mu&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;cse.uom.ac.mu&quot;&lt;/span&gt;.matches(regularExpression));\n\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.com/path&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1&amp;amp;key2=value2e&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.com/?queryparam=123&quot;&lt;/span&gt;.matches(regularExpression));\n        assertTrue(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.com/path?queryparam=123&quot;&lt;/span&gt;.matches(regularExpression));\n\n        assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;www..dr.google&quot;&lt;/span&gt;.matches(regularExpression));\n\n        assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;www:google.com&quot;&lt;/span&gt;.matches(regularExpression));\n\n        assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://www@.google.com&quot;&lt;/span&gt;.matches(regularExpression));\n\n        assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://www.google.com&lt;span class=&quot;hljs-subst&quot;&gt;\\&quot;&lt;/span&gt;&quot;&lt;/span&gt;.matches(regularExpression));\n        assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;https://www.google.com&apos;&quot;&lt;/span&gt;.matches(regularExpression));\n\n        assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.com/path&apos;&quot;&lt;/span&gt;.matches(regularExpression));\n        assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://subdomain.web-site.com/cgi-bin/perl.cgi?key1=value1&amp;amp;key2=value2e&apos;&quot;&lt;/span&gt;.matches(regularExpression));\n        assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.com/?queryparam=123&apos;&quot;&lt;/span&gt;.matches(regularExpression));\n        assertFalse(&lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.google.com/path?queryparam=12&apos;3&quot;&lt;/span&gt;.matches(regularExpression));\n\n    }\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I wrote a little groovy version that you can run&lt;/p&gt;\n&lt;p&gt;it matches the following URLs (which is good enough for me)&lt;/p&gt;\n&lt;pre class=&quot;lang-java s-code-block&quot;&gt;&lt;code class=&quot;hljs language-java&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;hljs-params&quot;&gt;(args)&lt;/span&gt; {\n    &lt;span class=&quot;hljs-type&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;go to http://www.m.abut.ly/abc its awesome&quot;&lt;/span&gt;\n    url = url.replaceAll(/https?:\\/\\/w{&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}\\w*?\\.(\\w*?\\.)?\\w{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}\\S*|www\\.(\\w*?\\.)?\\w*?\\.\\w{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}\\S*|(\\w*?\\.)?\\w*?\\.\\w{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;3&lt;/span&gt;}[\\/\\?]\\S*/ , { it -&amp;gt;\n        &lt;span class=&quot;hljs-string&quot;&gt;&quot;woof${it}woof&quot;&lt;/span&gt;\n    })\n    println url \n}\n&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=&quot;lang-none s-code-block&quot;&gt;&lt;code&gt;http://google.com\nhttp://google.com/help.php\nhttp://google.com/help.php?a=5\n\nhttp://www.google.com\nhttp://www.google.com/help.php\nhttp://www.google.com?a=5\n\ngoogle.com?a=5\ngoogle.com/help.php\ngoogle.com/help.php?a=5\n\nhttp://www.m.google.com/help.php?a=5 (and all its permutations)\nwww.m.google.com/help.php?a=5 (and all its permutations)\nm.google.com/help.php?a=5 (and all its permutations)\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The important thing for any URLs that don&apos;t start with &lt;code&gt;http&lt;/code&gt; or &lt;code&gt;www&lt;/code&gt; is that they must include a &lt;code&gt;/&lt;/code&gt; or &lt;code&gt;?&lt;/code&gt;&lt;/p&gt;\n&lt;p&gt;I bet this can be tweaked a little more but it does the job pretty nice for being so short and compact... because you can pretty much split it in 3:&lt;/p&gt;\n&lt;p&gt;find anything that starts with &lt;code&gt;http&lt;/code&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-none s-code-block&quot;&gt;&lt;code&gt;https?:\\/\\/w{0,3}\\w*?\\.\\w{2,3}\\S*\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;find anything that starts with &lt;code&gt;www&lt;/code&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-none s-code-block&quot;&gt;&lt;code&gt;www\\.\\w*?\\.\\w{2,3}\\S*\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;or find anything that must have a text then a dot then at least 2 letters and then a &lt;code&gt;?&lt;/code&gt; or &lt;code&gt;/&lt;/code&gt;:&lt;/p&gt;\n&lt;pre class=&quot;lang-none s-code-block&quot;&gt;&lt;code&gt;\\w*?\\.\\w{2,3}[\\/\\?]\\S*\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-javascript&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title function_&quot;&gt;validateURL&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;textval&lt;/span&gt;) {\n            &lt;span class=&quot;hljs-keyword&quot;&gt;var&lt;/span&gt; urlregex = &lt;span class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;hljs-title class_&quot;&gt;RegExp&lt;/span&gt;(\n            &lt;span class=&quot;hljs-string&quot;&gt;&quot;^(http|https|ftp)\\://[a-zA-Z0-9\\-\\.]+\\.[a-zA-Z]{2,3}(:[a-zA-Z0-9]*)?/?([a-zA-Z0-9\\-\\._\\?\\,\\&apos;/\\\\\\+&amp;amp;amp;%\\$#\\=~])*$&quot;&lt;/span&gt;);\n            &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; urlregex.&lt;span class=&quot;hljs-title function_&quot;&gt;test&lt;/span&gt;(textval);\n        }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Matches \n&lt;a href=&quot;http://www.asdah.com/~joe&quot;&gt;http://www.asdah.com/~joe&lt;/a&gt; | &lt;a href=&quot;ftp://ftp.asdah.co.uk:2828/asdah%20asdah.gif&quot;&gt;ftp://ftp.asdah.co.uk:2828/asdah%20asdah.gif&lt;/a&gt; | &lt;a href=&quot;https://asdah.gov/asdh-ah.as&quot;&gt;https://asdah.gov/asdh-ah.as&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;If you really search for the &lt;strong&gt;ultimate&lt;/strong&gt; match, you probably find it on &quot;&lt;a href=&quot;http://flanders.co.nz/2009/11/08/a-good-url-regular-expression-repost/&quot; rel=&quot;nofollow noreferrer&quot;&gt;A Good Url Regular Expression?&lt;/a&gt;&quot;.&lt;/p&gt;\n\n&lt;p&gt;But a regex that really matches all possible domains and allows anything that is allowed according to RFCs is horribly long and unreadable, trust me ;-)&lt;/p&gt;\n    ","\n&lt;p&gt;I&apos;ve been working on an in-depth article discussing URI validation using regular expressions. It is based on RFC3986.  &lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;http://jmrware.com/articles/2009/uri_regexp/URI_regex.html&quot; rel=&quot;nofollow&quot;&gt;Regular Expression URI Validation&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Although the article is not yet complete, I have come up with a PHP function which does a pretty good job of validating HTTP and FTP URLs. Here is the current version:&lt;/p&gt;\n\n\n\n&lt;pre class=&quot;lang-php s-code-block&quot;&gt;&lt;code class=&quot;hljs language-php&quot;&gt;&lt;span class=&quot;hljs-comment&quot;&gt;// function url_valid($url) { Rev:20110423_2000&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// Return associative array of valid URI components, or FALSE if $url is not&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// RFC-3986 compliant. If the passed URL begins with: &quot;www.&quot; or &quot;ftp.&quot;, then&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// &quot;http://&quot; or &quot;ftp://&quot; is prepended and the corrected full-url is stored in&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// the return array with a key name &quot;url&quot;. This value should be used by the caller.&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// Return value: FALSE if $url is not valid, otherwise array of URI components:&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// e.g.&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// Given: &quot;http://www.jmrware.com:80/articles?height=10&amp;amp;width=75#fragone&quot;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// Array(&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [scheme] =&amp;gt; http&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [authority] =&amp;gt; www.jmrware.com:80&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [userinfo] =&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [host] =&amp;gt; www.jmrware.com&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [IP_literal] =&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [IPV6address] =&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [ls32] =&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [IPvFuture] =&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [IPv4address] =&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [regname] =&amp;gt; www.jmrware.com&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [port] =&amp;gt; 80&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [path_abempty] =&amp;gt; /articles&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [query] =&amp;gt; height=10&amp;amp;width=75&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [fragment] =&amp;gt; fragone&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;//    [url] =&amp;gt; http://www.jmrware.com:80/articles?height=10&amp;amp;width=75#fragone&lt;/span&gt;\n&lt;span class=&quot;hljs-comment&quot;&gt;// )&lt;/span&gt;\n&lt;span class=&quot;hljs-function&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;hljs-title&quot;&gt;url_valid&lt;/span&gt;(&lt;span class=&quot;hljs-params&quot;&gt;&lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;&lt;/span&gt;) &lt;/span&gt;{\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;strpos&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;www.&apos;&lt;/span&gt;) === &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;) &lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;http://&apos;&lt;/span&gt;. &lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;strpos&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;, &lt;span class=&quot;hljs-string&quot;&gt;&apos;ftp.&apos;&lt;/span&gt;) === &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;) &lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&apos;ftp://&apos;&lt;/span&gt;. &lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;preg_match&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;/# Valid absolute URI having a non-empty, valid DNS host.\n        ^\n        (?P&amp;lt;scheme&amp;gt;[A-Za-z][A-Za-z0-9+\\-.]*):\\/\\/\n        (?P&amp;lt;authority&amp;gt;\n          (?:(?P&amp;lt;userinfo&amp;gt;(?:[A-Za-z0-9\\-._~!$&amp;amp;\\&apos;()*+,;=:]|%[0-9A-Fa-f]{2})*)@)?\n          (?P&amp;lt;host&amp;gt;\n            (?P&amp;lt;IP_literal&amp;gt;\n              \\[\n              (?:\n                (?P&amp;lt;IPV6address&amp;gt;\n                  (?:                                                (?:[0-9A-Fa-f]{1,4}:){6}\n                  |                                                ::(?:[0-9A-Fa-f]{1,4}:){5}\n                  | (?:                          [0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){4}\n                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,1}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){3}\n                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){2}\n                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})?::   [0-9A-Fa-f]{1,4}:\n                  | (?:(?:[0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})?::\n                  )\n                  (?P&amp;lt;ls32&amp;gt;[0-9A-Fa-f]{1,4}:[0-9A-Fa-f]{1,4}\n                  | (?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}\n                       (?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\n                  )\n                |   (?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::   [0-9A-Fa-f]{1,4}\n                |   (?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::\n                )\n              | (?P&amp;lt;IPvFuture&amp;gt;[Vv][0-9A-Fa-f]+\\.[A-Za-z0-9\\-._~!$&amp;amp;\\&apos;()*+,;=:]+)\n              )\n              \\]\n            )\n          | (?P&amp;lt;IPv4address&amp;gt;(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}\n                               (?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))\n          | (?P&amp;lt;regname&amp;gt;(?:[A-Za-z0-9\\-._~!$&amp;amp;\\&apos;()*+,;=]|%[0-9A-Fa-f]{2})+)\n          )\n          (?::(?P&amp;lt;port&amp;gt;[0-9]*))?\n        )\n        (?P&amp;lt;path_abempty&amp;gt;(?:\\/(?:[A-Za-z0-9\\-._~!$&amp;amp;\\&apos;()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)\n        (?:\\?(?P&amp;lt;query&amp;gt;       (?:[A-Za-z0-9\\-._~!$&amp;amp;\\&apos;()*+,;=:@\\\\/?]|%[0-9A-Fa-f]{2})*))?\n        (?:\\#(?P&amp;lt;fragment&amp;gt;    (?:[A-Za-z0-9\\-._~!$&amp;amp;\\&apos;()*+,;=:@\\\\/?]|%[0-9A-Fa-f]{2})*))?\n        $\n        /mx&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$m&lt;/span&gt;)) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;switch&lt;/span&gt; (&lt;span class=&quot;hljs-variable&quot;&gt;$m&lt;/span&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;scheme&apos;&lt;/span&gt;]) {\n    &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;https&apos;&lt;/span&gt;:\n    &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;http&apos;&lt;/span&gt;:\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable&quot;&gt;$m&lt;/span&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;userinfo&apos;&lt;/span&gt;]) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// HTTP scheme does not allow userinfo.&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;ftps&apos;&lt;/span&gt;:\n    &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;ftp&apos;&lt;/span&gt;:\n        &lt;span class=&quot;hljs-keyword&quot;&gt;break&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;default&lt;/span&gt;:\n        &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;;   &lt;span class=&quot;hljs-comment&quot;&gt;// Unrecognized URI scheme. Default to FALSE.&lt;/span&gt;\n    }\n    &lt;span class=&quot;hljs-comment&quot;&gt;// Validate host name conforms to DNS &quot;dot-separated-parts&quot;.&lt;/span&gt;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;hljs-variable&quot;&gt;$m&lt;/span&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;regname&apos;&lt;/span&gt;]) { &lt;span class=&quot;hljs-comment&quot;&gt;// If host regname specified, check for DNS conformance.&lt;/span&gt;\n        &lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (!&lt;span class=&quot;hljs-title function_ invoke__&quot;&gt;preg_match&lt;/span&gt;(&lt;span class=&quot;hljs-string&quot;&gt;&apos;/# HTTP DNS host name.\n            ^                      # Anchor to beginning of string.\n            (?!.{256})             # Overall host length is less than 256 chars.\n            (?:                    # Group dot separated host part alternatives.\n              [A-Za-z0-9]\\.        # Either a single alphanum followed by dot\n            |                      # or... part has more than one char (63 chars max).\n              [A-Za-z0-9]          # Part first char is alphanum (no dash).\n              [A-Za-z0-9\\-]{0,61}  # Internal chars are alphanum plus dash.\n              [A-Za-z0-9]          # Part last char is alphanum (no dash).\n              \\.                   # Each part followed by literal dot.\n            )*                     # Zero or more parts before top level domain.\n            (?:                    # Explicitly specify top level domains.\n              com|edu|gov|int|mil|net|org|biz|\n              info|name|pro|aero|coop|museum|\n              asia|cat|jobs|mobi|tel|travel|\n              [A-Za-z]{2})         # Country codes are exactly two alpha chars.\n              \\.?                  # Top level domain can end in a dot.\n            $                      # Anchor to end of string.\n            /ix&apos;&lt;/span&gt;, &lt;span class=&quot;hljs-variable&quot;&gt;$m&lt;/span&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;host&apos;&lt;/span&gt;])) &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-literal&quot;&gt;FALSE&lt;/span&gt;;\n    }\n    &lt;span class=&quot;hljs-variable&quot;&gt;$m&lt;/span&gt;[&lt;span class=&quot;hljs-string&quot;&gt;&apos;url&apos;&lt;/span&gt;] = &lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;;\n    &lt;span class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;hljs-variable&quot;&gt;$i&lt;/span&gt; = &lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; &lt;span class=&quot;hljs-keyword&quot;&gt;isset&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$m&lt;/span&gt;[&lt;span class=&quot;hljs-variable&quot;&gt;$i&lt;/span&gt;]); ++&lt;span class=&quot;hljs-variable&quot;&gt;$i&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot;&gt;unset&lt;/span&gt;(&lt;span class=&quot;hljs-variable&quot;&gt;$m&lt;/span&gt;[&lt;span class=&quot;hljs-variable&quot;&gt;$i&lt;/span&gt;]);\n    &lt;span class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$m&lt;/span&gt;; &lt;span class=&quot;hljs-comment&quot;&gt;// return TRUE == array of useful named $matches plus the valid $url.&lt;/span&gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This function utilizes two regexes; one to match a subset of valid generic URIs (absolute ones having a non-empty host), and a second to validate the DNS &quot;dot-separated-parts&quot; host name. Although this function currently validates only HTTP and FTP schemes, it is structured such that it can be easily extended to handle other schemes.&lt;/p&gt;\n    ","\n&lt;p&gt;I use this regex:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt;((&lt;span class=&quot;hljs-symbol&quot;&gt;https?:&lt;/span&gt;)&lt;span class=&quot;hljs-string&quot;&gt;?/&lt;/span&gt;/)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;([\\d\\w]|&lt;span class=&quot;hljs-params&quot;&gt;%[a-fA-f\\d]{2,2})+(:([\\d\\w]&lt;/span&gt;|&lt;span class=&quot;hljs-string&quot;&gt;%[a-fA-f\\d]&lt;/span&gt;{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;})+)&lt;span class=&quot;hljs-string&quot;&gt;?@&lt;/span&gt;)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;[\\d\\w][-\\d\\w]{&lt;span class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;253&lt;/span&gt;}[\\d\\w]\\.)+[\\w]{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;63&lt;/span&gt;}(&lt;span class=&quot;hljs-symbol&quot;&gt;:&lt;/span&gt;[\\d]+)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;/([-+_~.\\d\\w]|&lt;span class=&quot;hljs-params&quot;&gt;%[a-fA-f\\d]{2,2})*)*(\\?(&amp;amp;?([-+_~.\\d\\w]&lt;/span&gt;|&lt;span class=&quot;hljs-string&quot;&gt;%[a-fA-f\\d]&lt;/span&gt;{&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt;})=&lt;span class=&quot;hljs-string&quot;&gt;?)&lt;/span&gt;*)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;&lt;span class=&quot;hljs-comment&quot;&gt;#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;To support both:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;http://stackoverflow.com\nhttps://stackoverflow.com\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And:    &lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt;//stackoverflow.com\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;Here&apos;s a ready-to-go Java version from the Android source code.  This is the best one I&apos;ve found.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-swift&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;Matcher&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;WEB&lt;/span&gt;  &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hljs-type&quot;&gt;Pattern&lt;/span&gt;.compile(new &lt;span class=&quot;hljs-type&quot;&gt;StringBuilder&lt;/span&gt;()                 \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;((?:(http|https|Http|Https|rtsp|Rtsp):&quot;&lt;/span&gt;)                      \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;/&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;/(?:(?:[a-zA-Z0-9&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;$&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;-&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;_&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;.&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;+&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;!&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;*&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;&apos;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;(&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;)&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;,&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;?&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;&amp;amp;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;=]|(?:&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;%[a-fA-F0-9]{2})){1,64}(?:&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;:(?:[a-zA-Z0-9&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;$&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;-&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;_&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;.&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;+&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;!&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;*&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;&apos;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;(&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;)&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;,&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;?&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;&amp;amp;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;=]|(?:&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;%[a-fA-F0-9]{2})){1,25})?&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;@)?)?&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;((?:(?:[a-zA-Z0-9][a-zA-Z0-9&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;-]{0,64}&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;.)+&quot;&lt;/span&gt;)   &lt;span class=&quot;hljs-comment&quot;&gt;// named host                            &lt;/span&gt;\n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;(?:&quot;&lt;/span&gt;)   &lt;span class=&quot;hljs-comment&quot;&gt;// plus top level domain                         &lt;/span&gt;\n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;(?:aero|arpa|asia|a[cdefgilmnoqrstuwxz])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:biz|b[abdefghijmnorstvwyz])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:cat|com|coop|c[acdfghiklmnoruvxyz])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|d[ejkmoz]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:edu|e[cegrstu])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|f[ijkmor]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:gov|g[abdefghilmnpqrstuwy])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|h[kmnrtu]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:info|int|i[delmnoqrst])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:jobs|j[emop])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|k[eghimnrwyz]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|l[abcikrstuvy]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:mil|mobi|museum|m[acdghklmnopqrstuvwxyz])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:name|net|n[acefgilopruz])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:org|om)&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:pro|p[aefghklmnrstwy])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|qa&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|r[eouw]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|s[abcdeghijklmnortuvyz]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:tel|travel|t[cdfghjklmnoprtvwz])&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|u[agkmsyz]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|v[aceginu]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|w[fs]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|y[etu]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|z[amw]))&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|(?:(?:25[0-5]|2[0-4]&quot;&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;// or ip address                                                 &lt;/span&gt;\n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;[0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;.(?:25[0-5]|2[0-4][0-9]&quot;&lt;/span&gt;)                             \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;.(?:25[0-5]|2[0-4][0-9]|[0-1]&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;[0-9]{2}|[1-9][0-9]|[1-9]|0)&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;|[1-9][0-9]|[0-9])))&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;(?:&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;:&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;d{1,5})?)&quot;&lt;/span&gt;) &lt;span class=&quot;hljs-comment&quot;&gt;// plus option port number                             &lt;/span&gt;\n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;(&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;/(?:(?:[a-zA-Z0-9&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;/&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;?&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;:&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;@&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;&amp;amp;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;=&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;#&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;~&quot;&lt;/span&gt;)  &lt;span class=&quot;hljs-comment&quot;&gt;// plus option query params                         &lt;/span&gt;\n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;-&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;.&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;+&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;!&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;*&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;&apos;&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;(&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;)&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;,&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;_])|(?:&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;%[a-fA-F0-9]{2}))*)?&quot;&lt;/span&gt;)                         \n.append(&lt;span class=&quot;hljs-string&quot;&gt;&quot;(?:&lt;span class=&quot;hljs-subst&quot;&gt;\\\\&lt;/span&gt;b|$)&quot;&lt;/span&gt;).toString()                 \n).matcher(&lt;span class=&quot;hljs-string&quot;&gt;&quot;&quot;&lt;/span&gt;);\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I hope it&apos;s helpful for you...&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-makefile&quot;&gt;&lt;span class=&quot;hljs-section&quot;&gt;^(http|https):\\/\\/+[\\www\\d]+\\.[\\w]+(\\/[\\w\\d]+)?&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;For Python, this is the actual URL validating regex used in Django 1.5.1:&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-python&quot;&gt;&lt;span class=&quot;hljs-keyword&quot;&gt;import&lt;/span&gt; re\nregex = re.&lt;span class=&quot;hljs-built_in&quot;&gt;compile&lt;/span&gt;(\n        &lt;span class=&quot;hljs-string&quot;&gt;r&apos;^(?:http|ftp)s?://&apos;&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# http:// or https://&lt;/span&gt;\n        &lt;span class=&quot;hljs-string&quot;&gt;r&apos;(?:(?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+(?:[A-Z]{2,6}\\.?|[A-Z0-9-]{2,}\\.?)|&apos;&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# domain...&lt;/span&gt;\n        &lt;span class=&quot;hljs-string&quot;&gt;r&apos;localhost|&apos;&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# localhost...&lt;/span&gt;\n        &lt;span class=&quot;hljs-string&quot;&gt;r&apos;\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}|&apos;&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# ...or ipv4&lt;/span&gt;\n        &lt;span class=&quot;hljs-string&quot;&gt;r&apos;\\[?[A-F0-9]*:[A-F0-9:]+\\]?)&apos;&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# ...or ipv6&lt;/span&gt;\n        &lt;span class=&quot;hljs-string&quot;&gt;r&apos;(?::\\d+)?&apos;&lt;/span&gt;  &lt;span class=&quot;hljs-comment&quot;&gt;# optional port&lt;/span&gt;\n        &lt;span class=&quot;hljs-string&quot;&gt;r&apos;(?:/?|[/?]\\S+)$&apos;&lt;/span&gt;, re.IGNORECASE)\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This does both ipv4 and ipv6 addresses as well as ports and GET parameters.&lt;/p&gt;\n\n&lt;p&gt;Found in the &lt;a href=&quot;https://github.com/django/django/blob/master/django/core/validators.py&quot; rel=&quot;nofollow&quot;&gt;code here&lt;/a&gt;, Line 44.&lt;/p&gt;\n    ","\n&lt;p&gt;This one works for me very well. &lt;code&gt;(https?|ftp)://(www\\d?|[a-zA-Z0-9]+)?\\.[a-zA-Z0-9-]+(\\:|\\.)([a-zA-Z0-9.]+|(\\d+)?)([/?:].*)?&lt;/code&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;Here is a regex I made which extracts the different parts from an URL:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;^((?:https?|ftp):\\/\\/?)?([^:/\\s.]+\\.[^:/\\s]|localhost)(:\\d+)?((?:\\/\\w+)*\\/)?([\\w\\-.]+[^#?\\s]+)?([^#]+)?(#[\\w-]+)?$&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;((?:https?|ftp):\\/\\/?)?&lt;/code&gt;&lt;em&gt;(group 1)&lt;/em&gt;: extracts the protocol&lt;br&gt;\n&lt;code&gt;([^:/\\s.]+\\.[^:/\\s]|localhost)&lt;/code&gt;&lt;em&gt;(group 2)&lt;/em&gt;: extracts the hostname&lt;br&gt;\n&lt;code&gt;(:\\d+)?&lt;/code&gt;&lt;em&gt;(group 3)&lt;/em&gt;: extracts the port number&lt;br&gt;\n&lt;code&gt;((?:\\/\\w+)*\\/)?([\\w\\-.]+[^#?\\s]+)?&lt;/code&gt;&lt;em&gt;(groups 4 &amp;amp; 5)&lt;/em&gt;: extracts the path part&lt;br&gt;\n&lt;code&gt;([^#]+)?&lt;/code&gt;&lt;em&gt;(group 6)&lt;/em&gt;: extracts the query part&lt;br&gt;\n&lt;code&gt;(#[\\w-]+)?&lt;/code&gt;&lt;em&gt;(group 7)&lt;/em&gt;: extracts the hash part&lt;/p&gt;\n\n&lt;p&gt;For every part of the regex listed above, you can remove the ending &lt;code&gt;?&lt;/code&gt; to force it (or add one to make it facultative). You can also remove the &lt;code&gt;^&lt;/code&gt; at the beginning and &lt;code&gt;$&lt;/code&gt; at the end of the regex so it won&apos;t need to match the whole string.&lt;/p&gt;\n\n&lt;p&gt;See it on &lt;a href=&quot;https://regex101.com/r/Q2ilqN/7&quot; rel=&quot;nofollow noreferrer&quot;&gt;regex101&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;&lt;em&gt;Note:&lt;/em&gt;&lt;/strong&gt;&lt;em&gt; this regex is not 100% safe and may accept some strings which are not necessarily valid URLs but it does indeed validate some criterias. Its main goal was to extract the different parts of an URL not to validate it.&lt;/em&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;For convenience here&apos;s a one-liner regexp for URL&apos;s that will also match localhost where you&apos;re more likely to have ports than &lt;code&gt;.com&lt;/code&gt; or similar.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-ruby&quot;&gt;(http(s)&lt;span class=&quot;hljs-string&quot;&gt;?:\\/\\/&lt;/span&gt;.)&lt;span class=&quot;hljs-string&quot;&gt;?(&lt;/span&gt;www\\.)&lt;span class=&quot;hljs-string&quot;&gt;?[&lt;/span&gt;-a-zA-&lt;span class=&quot;hljs-variable constant_&quot;&gt;Z0&lt;/span&gt;-&lt;span class=&quot;hljs-number&quot;&gt;9&lt;/span&gt;@&lt;span class=&quot;hljs-symbol&quot;&gt;:%&lt;/span&gt;._\\+~&lt;span class=&quot;hljs-comment&quot;&gt;#=]{2,256}(\\.[a-z]{2,6}|:[0-9]{3,4})\\b([-a-zA-Z0-9@:%_\\+.~#?&amp;amp;\\/\\/=]*)&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;I found the following Regex for URLs, &lt;strong&gt;tested successfully with 500+ URLs&lt;/strong&gt;:&lt;/p&gt;\n\n&lt;p&gt;&lt;code&gt;/\\b(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\x{00a1}-\\x{ffff}0-9]+-?)*[a-z\\x{00a1}-\\x{ffff}0-9]+)(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}0-9]+-?)*[a-z\\x{00a1}-\\x{ffff}0-9]+)*(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?\\b/gi&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;I know it looks ugly, but the good thing is that it works. :)&lt;/em&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://regex101.com/r/hU9aV3/5&quot; rel=&quot;nofollow&quot;&gt;Explanation and demo with &lt;strong&gt;581 random URLs&lt;/strong&gt; on regex101.&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Source: &lt;a href=&quot;https://mathiasbynens.be/demo/url-regex&quot; rel=&quot;nofollow&quot;&gt;In search of the perfect URL validation regex&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;To Match a URL there are various option and it depend on you requirement.\nbelow are few.&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-perl&quot;&gt;&lt;span class=&quot;hljs-number&quot;&gt;_&lt;/span&gt;(^|[\\s.:;?\\-\\]&amp;lt;\\(])(https?:&lt;span class=&quot;hljs-regexp&quot;&gt;//&lt;/span&gt;[-\\w;&lt;span class=&quot;hljs-regexp&quot;&gt;/?:@&amp;amp;=+$\\|\\_.!~*\\|&apos;()\\[\\]%#,]+[\\w/&lt;/span&gt;&lt;span class=&quot;hljs-comment&quot;&gt;#](\\(\\))?)(?=$|[\\s&apos;,\\|\\(\\).:;?\\-\\[\\]&amp;gt;\\)])_i&lt;/span&gt;\n\n&lt;span class=&quot;hljs-comment&quot;&gt;#\\b(([\\w-]+://?|www[.])[^\\s()&amp;lt;&amp;gt;]+(?:\\([\\w\\d]+\\)|([^[:punct:]\\s]|/)))#iS&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And there is a link which gives you more than 10 different variations of validation for URL.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;https://mathiasbynens.be/demo/url-regex&quot; rel=&quot;nofollow&quot;&gt;https://mathiasbynens.be/demo/url-regex&lt;/a&gt;&lt;/p&gt;\n    ","\n&lt;p&gt;I tried to formulate my version of url. My requirement was to capture instances in a String where possible url can be cse.uom.ac.mu - noting that it is not preceded by http nor www&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-sql&quot;&gt;String regularExpression &lt;span class=&quot;hljs-operator&quot;&gt;=&lt;/span&gt; &quot;((((ht{2}ps?://)?)((w{3}\\\\.)?))?)[^.&amp;amp;&amp;amp;[a-zA-Z0-9]][a-zA-Z0-9.-]+[^.&amp;amp;&amp;amp;[a-zA-Z0-9]](\\\\.[a-zA-Z]{2,3})&quot;;\n\nassertTrue(&quot;www.google.com&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;www.google.co.uk&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;http://www.google.com&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;http://www.google.co.uk&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;https://www.google.com&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;https://www.google.co.uk&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;google.com&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;google.co.uk&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;google.mu&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;mes.intnet.mu&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\nassertTrue(&quot;cse.uom.ac.mu&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\n\n&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;cannot contain &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;.&apos;&lt;/span&gt; after www\nassertFalse(&quot;www..dr.google&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\n\n&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;cannot contain &lt;span class=&quot;hljs-number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&apos;.&apos;&lt;/span&gt; just before com\nassertFalse(&quot;www.dr.google..com&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\n\n&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;to&lt;/span&gt; test &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;where&lt;/span&gt; url www must be followed &lt;span class=&quot;hljs-keyword&quot;&gt;with&lt;/span&gt; a &lt;span class=&quot;hljs-string&quot;&gt;&apos;.&apos;&lt;/span&gt;\nassertFalse(&quot;www:google.com&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\n\n&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;to&lt;/span&gt; test &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;where&lt;/span&gt; url www must be followed &lt;span class=&quot;hljs-keyword&quot;&gt;with&lt;/span&gt; a &lt;span class=&quot;hljs-string&quot;&gt;&apos;.&apos;&lt;/span&gt;\n&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;assertFalse(&quot;http://wwwe.google.com&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\n\n&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hljs-operator&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;to&lt;/span&gt; test &lt;span class=&quot;hljs-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot;&gt;where&lt;/span&gt; www must be preceded &lt;span class=&quot;hljs-keyword&quot;&gt;with&lt;/span&gt; a &lt;span class=&quot;hljs-string&quot;&gt;&apos;.&apos;&lt;/span&gt;\nassertFalse(&quot;https://www@.google.com&quot;.&lt;span class=&quot;hljs-keyword&quot;&gt;matches&lt;/span&gt;(regularExpression));\n&lt;/code&gt;&lt;/pre&gt;\n    ","\n&lt;p&gt;whats wrong with plain and simple FILTER_VALIDATE_URL ?&lt;/p&gt;\n\n&lt;pre class=&quot;default s-code-block&quot;&gt;&lt;code class=&quot;hljs language-bash&quot;&gt; &lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt; = &lt;span class=&quot;hljs-string&quot;&gt;&quot;http://www.example.com&quot;&lt;/span&gt;;\n\n&lt;span class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt;(!filter_var(&lt;span class=&quot;hljs-variable&quot;&gt;$url&lt;/span&gt;, FILTER_VALIDATE_URL))\n  {\n  &lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;URL is not valid&quot;&lt;/span&gt;;\n  }\n&lt;span class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt;\n  {\n  &lt;span class=&quot;hljs-built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hljs-string&quot;&gt;&quot;URL is valid&quot;&lt;/span&gt;;\n  }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I know its not the question exactly but it did the job for me when I needed to validate urls so thought it might be useful to others who come across this post looking for the same thing&lt;/p&gt;\n    "],"id":318,"title":"What is the best regular expression to check if a string is a valid URL?","content":"\n                \n&lt;p&gt;How can I check if a given string is a valid URL address?&lt;/p&gt;\n\n&lt;p&gt;My knowledge of regular expressions is basic and doesn&apos;t allow me to choose from the hundreds of regular expressions I&apos;ve already seen on the web.&lt;/p&gt;\n    ","slug":"what-is-the-best-regular-expression-to-check-if-a-string-is-a-valid-url-1657387618306","postType":"QUESTION","createdAt":"2022-07-09T17:26:58.000Z","updatedAt":"2022-07-09T17:26:58.000Z","tags":[],"relatedQuestions":[]},"randomQuestions":[{"title":"Selenium \"selenium.common.exceptions.NoSuchElementException\" when using Chrome","slug":"selenium-\"selenium.common.exceptions.nosuchelementexception\"-when-using-chrome-1657388136699"},{"title":"How do I detect a click outside an element?","slug":"how-do-i-detect-a-click-outside-an-element-1657387505351"},{"title":"Why is the gets function so dangerous that it should not be used?","slug":"why-is-the-gets-function-so-dangerous-that-it-should-not-be-used-1657384544362"},{"title":"What is the difference between JSON and Object Literal Notation?","slug":"what-is-the-difference-between-json-and-object-literal-notation-1657387515710"},{"title":"How do I make a list of data frames?","slug":"how-do-i-make-a-list-of-data-frames-1657385480437"},{"title":"Prefer composition over inheritance?","slug":"prefer-composition-over-inheritance-1657387399409"},{"title":"List of lists changes reflected across sublists unexpectedly","slug":"list-of-lists-changes-reflected-across-sublists-unexpectedly-1657384393720"},{"title":"When should I wrap quotes around a shell variable?","slug":"when-should-i-wrap-quotes-around-a-shell-variable-1657384659265"},{"title":"What are copy elision and return value optimization?","slug":"what-are-copy-elision-and-return-value-optimization-1657385455976"},{"title":"What is the \"N+1 selects problem\" in ORM (Object-Relational Mapping)?","slug":"what-is-the-\"n+1-selects-problem\"-in-orm-(object-relational-mapping)-1657388055597"},{"title":"Dynamically select data frame columns using $ and a character value","slug":"dynamically-select-data-frame-columns-using-dollar-and-a-character-value-1657387836662"},{"title":"Is there a unique Android device ID?","slug":"is-there-a-unique-android-device-id-1657388089268"},{"title":"Is there a difference between \"==\" and \"is\"?","slug":"is-there-a-difference-between-\"\"-and-\"is\"-1657387902231"},{"title":"What is the behavior of integer division?","slug":"what-is-the-behavior-of-integer-division-1657388222571"},{"title":"How do I Pandas group-by to get sum?","slug":"how-do-i-pandas-group-by-to-get-sum-1657387908708"},{"title":"Most efficient method to groupby on an array of objects","slug":"most-efficient-method-to-groupby-on-an-array-of-objects-1657387580538"},{"title":"javascript function doesn't work when link is clicked","slug":"javascript-function-doesn't-work-when-link-is-clicked-1657387767488"},{"title":"Accessing an array out of bounds gives no error, why?","slug":"accessing-an-array-out-of-bounds-gives-no-error-why-1657387979932"},{"title":"How do I vertically center text with CSS? [duplicate]","slug":"how-do-i-vertically-center-text-with-css-duplicate-1657387645821"},{"title":"What should main() return in C and C++?","slug":"what-should-main()-return-in-c-and-c++-1657384745630"}]},"__N_SSG":true}