<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>How do I make Git forget about a file that was tracked, but is now in .gitignore? | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="There is a file that was being tracked by Git, but now the file is on the .gitignore list.
However, that file keeps showing up in git status after it is edited. How do I force Git to completely forget about it?
    "/><meta property="og:title" content="How do I make Git forget about a file that was tracked, but is now in .gitignore? | Solutions Checker"/><meta property="og:description" content="There is a file that was being tracked by Git, but now the file is on the .gitignore list.
However, that file keeps showing up in git status after it is edited. How do I force Git to completely forget about it?
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"How do I make Git forget about a file that was tracked, but is now in .gitignore?","text":"There is a file that was being tracked by Git, but now the file is on the .gitignore list.\nHowever, that file keeps showing up in git status after it is edited. How do I force Git to completely forget about it?\n    ","answerCount":30,"upVoteCount":500,"suggestedAnswer":[{"text":".gitignore will prevent untracked files from being added (without an add -f) to the set of files tracked by Git. However, Git will continue to track any files that are already being tracked.\nTo stop tracking a file, you need to remove it from the index. This can be achieved with this command.\ngit rm --cached &lt;file&gt;\n\nIf you want to remove a whole folder, you need to remove all files in it recursively.\ngit rm -r --cached &lt;folder&gt;\n\nThe removal of the file from the head revision will happen on the next commit.\nWARNING: While this will not remove the physical file from your local machine, it will remove the files from other developers&apos; machines on their next git pull.\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"The series of commands below will remove all of the items from the Git index (not from the working directory or local repository), and then will update the Git index, while respecting Git ignores. PS. Index = Cache\nFirst:\ngit rm -r --cached .\ngit add .\n\nThen:\ngit commit -am &quot;Remove ignored files&quot;\n\n\nOr as a one-liner:\ngit rm -r --cached . &amp;&amp; git add . &amp;&amp; git commit -am &quot;Remove ignored files&quot;\n\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"git update-index does the job for me:\ngit update-index --assume-unchanged &lt;file&gt;\n\nNote: This solution is actually independent on .gitignore as gitignore is only for untracked files.\n\nUpdate, a better option\nSince this answer was posted, a new option has been created and that should be preferred.  You should use --skip-worktree which is for modified tracked files that the user don&apos;t want to commit anymore and keep --assume-unchanged for performance to prevent git to check status of big tracked files. See https://stackoverflow.com/a/13631525/717372 for more details...\ngit update-index --skip-worktree &lt;file&gt;\n\nTo cancel\ngit update-index --no-skip-worktree &lt;file&gt;\n\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"git ls-files -c --ignored --exclude-standard -z | xargs -0 git rm --cached\ngit commit -am &quot;Remove ignored files&quot;\n\nThis takes the list of the ignored files, removes them from the index, and commits the changes.\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"Move it out, commit, and then move it back in.\nThis has worked for me in the past, but there is probably a &apos;gittier&apos; way to accomplish this.\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"I always use this command to remove those untracked files.\nOne-line, Unix-style, clean output:\ngit ls-files --ignored --exclude-standard | sed &apos;s/.*/&quot;&amp;&quot;/&apos; | xargs git rm -r --cached\n\nIt lists all your ignored files, replaces every output line with a quoted line instead to handle paths with spaces inside, and passes everything to git rm -r --cached to remove the paths/files/directories from the index.\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"The copy/paste answer is:\ngit rm --cached -r .; git add .; git status; git commit -m &quot;Ignore unwanted files&quot;\n\nThis command will NOT change the content of the .gitignore file. It will just ignore the files that have already been committed to a Git repository but now we have added them to .gitignore.\nThe command git status; is just to review the changes and could be dropped.\nIn the end, it will immediately commit the changes with the message &quot;Ignore unwanted files&quot;.\nIf you don&apos;t want to commit the changes, drop the last part of the command (git commit -m &quot;Ignore unwanted files&quot;)\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"Use this when:\n\nYou want to untrack a lot of files, or\nYou updated your .gitignore file\n\nSource: Untrack files already added to Git repository based on .gitignore\nLets say you have already added/committed some files to your Git repository and you then add them to your .gitignore file; these files will still be present in your repository index. This article we will see how to get rid of them.\nStep 1: Commit all your changes\nBefore proceeding, make sure all your changes are committed, including your .gitignore file.\nStep 2: Remove everything from the repository\nTo clear your repository, use:\ngit rm -r --cached .\n\n\nrm is the remove command\n-r will allow recursive removal\ncached will only remove files from the index. Your files will still be there.\n\nThe rm command can be unforgiving. If you wish to try what it does beforehand, add the -n or --dry-run flag to test things out.\nStep 3: Readd everything\ngit add .\n\nStep 4: Commit\ngit commit -m &quot;.gitignore fix&quot;\n\nYour repository is clean :)\nPush the changes to your remote to see the changes effective there as well.\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"If you cannot git rm a tracked file because other people might need it (warning, even if you git rm --cached, when someone else gets this change, their files will be deleted in their filesystem).  These are often done due to config file overrides, authentication credentials, etc. Please look at https://gist.github.com/1423106 for ways people have worked around the problem.\n\nTo summarize:\n\n\nHave your application look for an ignored file config-overide.ini and use that over the committed file config.ini (or alternately, look for ~/.config/myapp.ini, or $MYCONFIGFILE)\nCommit file config-sample.ini and ignore file config.ini, have a script or similar copy the file as necessary if necessary.\nTry to use gitattributes clean/smudge magic to apply and remove the changes for you, for instance smudge the config file as a checkout from an alternate branch and clean the config file as a checkout from HEAD.  This is tricky stuff, I don&apos;t recommend it for the novice user.\nKeep the config file on a deploy branch dedicated to it that is never merged to master.  When you want to deploy/compile/test you merge to that branch and get that file.  This is essentially the smudge/clean approach except using human merge policies and extra-git modules.\nAnti-recommentation: Don&apos;t use assume-unchanged, it will only end in tears (because having git lie to itself will cause bad things to happen, like your change being lost forever).\n\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"I accomplished this by using git filter-branch. The exact command I used was taken from the man page:\n\nWARNING: this will delete the file from your entire history\n\ngit filter-branch --index-filter &apos;git rm --cached --ignore-unmatch filename&apos; HEAD\n\n\nThis command will recreate the entire commit history, executing git rm before each commit and so will get rid of the specified file. Don&apos;t forget to back it up before running the command as it will be lost.\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"What didn&apos;t work for me\n(Under Linux), I wanted to use the posts here suggesting the ls-files --ignored --exclude-standard | xargs git rm -r --cached approach.  However, (some of) the files to be removed had an embedded newline/LF/\\n in their names.  Neither of the solutions:\ngit ls-files --ignored --exclude-standard | xargs -d&quot;\\n&quot; git rm --cached\ngit ls-files --ignored --exclude-standard | sed &apos;s/.*/&quot;&amp;&quot;/&apos; | xargs git rm -r --cached\n\ncope with this situation (get errors about files not found).\nSo I offer\ngit ls-files -z --ignored --exclude-standard | xargs -0 git rm -r --cached\ngit commit -am &quot;Remove ignored files&quot;\n\nThis uses the -z argument to ls-files, and the -0 argument to xargs to cater safely/correctly for &quot;nasty&quot; characters in filenames.\nIn the manual page git-ls-files(1), it states:\n\nWhen -z option is not used, TAB, LF, and backslash characters in\npathnames are represented as \\t, \\n, and \\\\, respectively.\n\nso I think my solution is needed if filenames have any of these characters in them.\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"Do the following steps for a file/folder:\nRemove a File:\n\nneed to add that file to .gitignore.\nneed to remove that file using the command (git rm --cached file name).\nneed to run (git add .).\nneed to (commit -m) &quot;file removed&quot;.\nand finally, (git push).\n\nFor example:\nI want to delete the test.txt file. I accidentally pushed to GitHub and want to remove it. Commands will be as follows:\nFirst, add &quot;test.txt&quot; in file .gitignore\ngit rm --cached test.txt\ngit add .\ngit commit -m &quot;test.txt removed&quot;\ngit push\n\nRemove Folder:\n\nneed to add that folder to file .gitignore.\nneed to remove that folder using the command (git rm -r --cached folder name).\nneed to run (git add .).\nneed to (commit -m) &quot;folder removed&quot;.\nand finally, (git push).\n\nFor example:\nI want to delete the .idea folder/directory. I accidentally pushed to GitHub and want to remove it. The commands will be as follows:\nFirst, add .idea in file .gitignore\ngit rm -r --cached .idea\ngit add .\ngit commit -m &quot;.idea removed&quot;\ngit push\n\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"\nUpdate your .gitignore file  for instance, add a folder you don&apos;t want to track to .gitignore.\ngit rm -r --cached .  Remove all tracked files, including wanted and unwanted. Your code will be safe as long as you have saved locally.\ngit add .  All files will be added back in, except those in .gitignore.\n\n\n\n\nHat tip to @AkiraYamamoto for pointing us in the right direction.\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0},{"text":"Do the following steps serially, and you will be fine.\n\nRemove the mistakenly added files from the directory/storage. You can use the &quot;rm -r&quot; (for Linux) command or delete them by browsing the directories. Or move them to another location on your PC. (You maybe need to close the IDE if running for moving/removing.)\n\nAdd the files / directories to the .gitignore file now and save it.\n\nNow remove them from the Git cache by using these commands (if there is more than one directory, remove them one by one by repeatedly issuing this command)\n git rm -r --cached path-to-those-files\n\n\nNow do a commit and push by using the following commands. This will remove those files from Git remote and make Git stop tracking those files.\n git add .\n git commit -m &quot;removed unnecessary files from Git&quot;\n git push origin\n\n\n\n    ","url":"/questions/[slug]#solution14","@type":"Answer","upvoteCount":0},{"text":"I think, that maybe Git can&apos;t totally forget about a file because of its conception (section &quot;Snapshots, Not Differences&quot;).\nThis problem is absent, for example, when using CVS. CVS stores information as a list of file-based changes. Information for CVS is a set of files and the changes made to each file over time.\nBut in Git every time you commit, or save the state of your project, it basically takes a picture of what all your files look like at that moment and stores a reference to that snapshot. So, if you added file once, it will always be present  in that snapshot.\nThese two articles were helpful for me:\ngit assume-unchanged vs skip-worktree and How to ignore changes in tracked files with Git\nBasing on it I do the following, if the file is already tracked:\ngit update-index --skip-worktree &lt;file&gt;\n\nFrom this moment all local changes in this file will be ignored and will not go to remote. If the file is changed on remote, conflict will occur, when git pull. Stash won&apos;t work. To resolve it, copy the file content to the safe place and follow these steps:\ngit update-index --no-skip-worktree &lt;file&gt;\ngit stash\ngit pull\n\nThe file content will be replaced by the remote content. Paste your changes from the safe place to the file and perform again:\ngit update-index --skip-worktree &lt;file&gt;\n\nIf everyone, who works with the project, will perform git update-index --skip-worktree &lt;file&gt;, problems with pull should be absent. This solution is OK for configurations files, when every developer has their own project configuration.\nIt is not very convenient to do this every time, when the file has been changed on remote, but it can protect it from overwriting by remote content.\n    ","url":"/questions/[slug]#solution15","@type":"Answer","upvoteCount":0},{"text":"Using the git rm --cached command does not answer the original question:\n\nHow do you force git to completely forget about [a file]?\n\nIn fact, this solution will cause the file to be deleted in every other instance of the repository when executing a git pull!\nThe correct way to force Git to forget about a file is documented by GitHub here.\nI recommend reading the documentation, but basically:\ngit fetch --all\ngit filter-branch --force --index-filter &apos;git rm --cached --ignore-unmatch full/path/to/file&apos; --prune-empty --tag-name-filter cat -- --all\ngit push origin --force --all\ngit push origin --force --tags\ngit for-each-ref --format=&apos;delete %(refname)&apos; refs/original | git update-ref --stdin\ngit reflog expire --expire=now --all\ngit gc --prune=now\n\nJust replace full/path/to/file with the full path of the file. Make sure you&apos;ve added the file to your .gitignore file.\nYou&apos;ll also need to (temporarily) allow non-fast-forward pushes to your repository, since you&apos;re changing your Git history.\n    ","url":"/questions/[slug]#solution16","@type":"Answer","upvoteCount":0},{"text":"git rm --cached -r &lt;YOUR_files_or_folders&gt;\n--cached  | only remove files from the index\n    ","url":"/questions/[slug]#solution17","@type":"Answer","upvoteCount":0},{"text":"The answer from Matt Frear was the most effective IMHO. The following is just a PowerShell script for those on Windows to only remove files from their Git repository that matches their exclusion list.\n# Get files matching exclusionsfrom .gitignore\n# Excluding comments and empty lines\n$ignoreFiles =  gc .gitignore | ?{$_ -notmatch  &quot;#&quot;} |  ?{$_ -match  &quot;\\S&quot;} | % {\n                    $ignore = &quot;*&quot; + $_ + &quot;*&quot;\n                    (gci -r -i $ignore).FullName\n                }\n$ignoreFiles = $ignoreFiles| ?{$_ -match  &quot;\\S&quot;}\n\n# Remove each of these file from Git\n$ignoreFiles | % { git rm $_}\n\ngit add .\n\n    ","url":"/questions/[slug]#solution18","@type":"Answer","upvoteCount":0},{"text":"Move or copy the file to a safe location, so you don&apos;t lose it. Then &apos;git rm&apos; the file and commit.\nThe file will still show up if you revert to one of those earlier commits, or another branch where it has not been removed. However, in all future commits, you will not see the file again. If the file is in the Git ignore, then you can move it back into the folder, and Git won&apos;t see it.\n    ","url":"/questions/[slug]#solution19","@type":"Answer","upvoteCount":0},{"text":"In my case I needed to put &quot;.envrc&quot; in the .gitignore file.\nAnd then I used:\ngit update-index --skip-worktree .envrc\ngit rm --cached .envrc\n\nAnd the file was removed.\nThen I committed again, telling that the file was removed.\nBut when I used the command git log -p, the content of the file (which was secret credentials of the Amazon S3) was showing the content which was removed and I don&apos;t want to show this content ever on the history of the Git repository.\nThen I used this command:\ngit filter-branch --index-filter &apos;git rm --cached --ignore-unmatch .envrc&apos; HEAD\n\nAnd I don&apos;t see the content again.\n    ","url":"/questions/[slug]#solution20","@type":"Answer","upvoteCount":0},{"text":"I liked JonBrave&apos;s answer, but I have messy enough working directories that commit -a scares me a bit, so here&apos;s what I&apos;ve done:\ngit config --global alias.exclude-ignored &apos;!git ls-files -z --ignored --exclude-standard | xargs -0 git rm -r --cached &amp;&amp;  git ls-files -z --ignored --exclude-standard | xargs -0 git stage &amp;&amp;  git stage .gitignore &amp;&amp; git commit -m &quot;new gitignore and remove ignored files from index&quot;&apos;\n\nBreaking it down:\ngit ls-files -z --ignored --exclude-standard | xargs -0 git rm -r --cached\ngit ls-files -z --ignored --exclude-standard | xargs -0 git stage\ngit stage .gitignore\ngit commit -m &quot;new gitignore and remove ignored files from index&quot;\n\n\nremove ignored files from the index\nstage .gitignore and the files you just removed\ncommit\n\n    ","url":"/questions/[slug]#solution21","@type":"Answer","upvoteCount":0},{"text":"The accepted answer does not &quot;make Git &quot;forget&quot; about a file...&quot; (historically).  It only makes Git ignore the file in the present/future.\nThis method makes Git completely forget ignored files (past/present/future), but it does not delete anything from the working directory (even when re-pulled from remote).\nThis method requires usage of file /.git/info/exclude (preferred) or a pre-existing .gitignore in all the commits that have files to be ignored/forgotten. 1\nAll methods of enforcing Git ignore behavior after-the-fact effectively rewrite history and thus have significant ramifications for any public/shared/collaborative repositories that might be pulled after this process. 2\nGeneral advice: start with a clean repository - everything committed, nothing pending in working directory or index, and make a backup!\nAlso, the comments/revision history of this answer (and revision history of this question) may be useful/enlightening.\n#Commit up-to-date .gitignore (if not already existing)\n#This command must be run on each branch\n\ngit add .gitignore\ngit commit -m &quot;Create .gitignore&quot;\n\n#Apply standard Git ignore behavior only to the current index, not the working directory (--cached)\n#If this command returns nothing, ensure /.git/info/exclude AND/OR .gitignore exist\n#This command must be run on each branch\n\ngit ls-files -z --ignored --exclude-standard | xargs -0 git rm --cached\n\n#Commit to prevent working directory data loss!\n#This commit will be automatically deleted by the --prune-empty flag in the following command\n#This command must be run on each branch\n\ngit commit -m &quot;ignored index&quot;\n\n#Apply standard git ignore behavior RETROACTIVELY to all commits from all branches (--all)\n#This step WILL delete ignored files from working directory UNLESS they have been dereferenced from the index by the commit above\n#This step will also delete any &quot;empty&quot; commits.  If deliberate &quot;empty&quot; commits should be kept, remove --prune-empty and instead run git reset HEAD^ immediately after this command\n\ngit filter-branch --tree-filter &apos;git ls-files -z --ignored --exclude-standard | xargs -0 git rm -f --ignore-unmatch&apos; --prune-empty --tag-name-filter cat -- --all\n\n#List all still-existing files that are now ignored properly\n#If this command returns nothing, it&apos;s time to restore from backup and start over\n#This command must be run on each branch\n\ngit ls-files --other --ignored --exclude-standard\n\n\nFinally, follow the rest of this GitHub guide (starting at step 6) which includes important warnings/information about the commands below.\ngit push origin --force --all\ngit push origin --force --tags\ngit for-each-ref --format=&quot;delete %(refname)&quot; refs/original | git update-ref --stdin\ngit reflog expire --expire=now --all\ngit gc --prune=now\n\n\nOther developers that pull from the now-modified remote repository should make a backup and then:\n#fetch modified remote\n\ngit fetch --all\n\n#&quot;Pull&quot; changes WITHOUT deleting newly-ignored files from working directory\n#This will overwrite local tracked files with remote - ensure any local modifications are backed-up/stashed\n\ngit reset FETCH_HEAD\n\n\nFootnotes\n1 Because /.git/info/exclude can be applied to all historical commits using the instructions above, perhaps details about getting a .gitignore file into the historical commit(s) that need it is beyond the scope of this answer.  I wanted a proper .gitignore file to be in the root commit, as if it was the first thing I did.  Others may not care since /.git/info/exclude can accomplish the same thing regardless where the .gitignore file exists in the commit history, and clearly rewriting history is a very touchy subject, even when aware of the ramifications.\nFWIW, potential methods may include git rebase or a git filter-branch that copies an external .gitignore into each commit, like the answers to this question.\n2 Enforcing Git ignore behavior after-the-fact by committing the results of a stand-alone git rm --cached command may result in newly-ignored file deletion in future pulls from the force-pushed remote. The --prune-empty flag in the following git filter-branch command avoids this problem by automatically removing the previous &quot;delete all ignored files&quot; index-only commit.  Rewriting Git history also changes commit hashes, which will wreak havoc on future pulls from public/shared/collaborative repositories.  Please understand the ramifications fully before doing this to such a repository. This GitHub guide specifies the following:\n\nTell your collaborators to rebase, not merge, any branches they created off of your old (tainted) repository history. One merge commit could reintroduce some or all of the tainted history that you just went to the trouble of purging.\n\nAlternative solutions that do not affect the remote repository are git update-index --assume-unchanged &lt;/path/file&gt; or git update-index --skip-worktree &lt;file&gt;, examples of which can be found here.\n    ","url":"/questions/[slug]#solution22","@type":"Answer","upvoteCount":0},{"text":"The BFG is specifically designed for removing unwanted data like big files or passwords from Git repositories, so it has a simple flag that will remove any large historical (not-in-your-current-commit) files: &apos;--strip-blobs-bigger-than&apos;\njava -jar bfg.jar --strip-blobs-bigger-than 100M\n\nIf you&apos;d like to specify files by name, you can do that too:\njava -jar bfg.jar --delete-files *.mp4\n\nThe BFG is 10-1000x faster than git filter-branch and is generally much easier to use - check the full usage instructions and examples for more details.\nSource: Reduce repository size\n    ","url":"/questions/[slug]#solution23","@type":"Answer","upvoteCount":0},{"text":"If you don&apos;t want to use the CLI and are working on Windows, a very simple solution is to use TortoiseGit. It has the &quot;Delete (keep local)&quot; Action in the menu which works fine.\n    ","url":"/questions/[slug]#solution24","@type":"Answer","upvoteCount":0},{"text":"This is no longer an issue in the latest Git (v2.17.1 at the time of writing).\nThe .gitignore file finally ignores tracked-but-deleted files. You can test this for yourself by running the following script. The final git status statement should report &quot;nothing to commit&quot;.\n# Create an empty repository\nmkdir gitignore-test\ncd gitignore-test\ngit init\n\n# Create a file and commit it\necho &quot;hello&quot; &gt; file\ngit add file\ngit commit -m initial\n\n# Add the file to gitignore and commit\necho &quot;file&quot; &gt; .gitignore\ngit add .gitignore\ngit commit -m gitignore\n\n# Remove the file and commit\ngit rm file\ngit commit -m &quot;removed file&quot;\n\n# Reintroduce the file and check status.\n# .gitignore is now respected - status reports &quot;nothing to commit&quot;.\necho &quot;hello&quot; &gt; file\ngit status\n\n    ","url":"/questions/[slug]#solution25","@type":"Answer","upvoteCount":0},{"text":"This is how I solved my issue:\ngit filter-branch --tree-filter &apos;rm -rf path/to/your/file&apos; HEAD\n git push\nIn this, we are basically trying to rewrite the history of that particular file in previous commits also.\nFor more information, you can refer to the man page of filter-branch here.\nSource: Removing sensitive data from a repository - using filter-branch\nSource: Git: How to remove a big file wrongly committed\n    ","url":"/questions/[slug]#solution26","@type":"Answer","upvoteCount":0},{"text":"In case of already committed DS_Store:\n\nfind . -name .DS_Store -print0 | xargs -0 git rm --ignore-unmatch\n\n\nIgnore them by:\n\necho &quot;.DS_Store&quot; &gt;&gt; ~/.gitignore_global\necho &quot;._.DS_Store&quot; &gt;&gt; ~/.gitignore_global\necho &quot;**/.DS_Store&quot; &gt;&gt; ~/.gitignore_global\necho &quot;**/._.DS_Store&quot; &gt;&gt; ~/.gitignore_global\ngit config --global core.excludesfile ~/.gitignore_global\n\n\nFinally, make a commit!\n    ","url":"/questions/[slug]#solution27","@type":"Answer","upvoteCount":0},{"text":"Especially for the IDE-based files, I use this:\nFor instance, for the slnx.sqlite file, I just got rid off it completely like the following:\ngit rm {PATH_OF_THE_FILE}/slnx.sqlite -f\ngit commit -m &quot;remove slnx.sqlite&quot;\n\nJust keep that in mind that some of those files store some local user settings and preferences for projects (like what files you had open). So every time you navigate or do some changes in your IDE, that file is changed and therefore it checks it out and show as uncommitted changes.\n    ","url":"/questions/[slug]#solution28","@type":"Answer","upvoteCount":0},{"text":"If anyone is having a hard time on Windows and you want to ignore the entire folder, go to the desired &apos;folder&apos; on file explorer, right click and do &apos;Git Bash Here&apos; (Git for Windows should have been installed).\nRun this command:\ngit ls-files -z | xargs -0 git update-index --assume-unchanged\n\n    ","url":"/questions/[slug]#solution29","@type":"Answer","upvoteCount":0},{"text":"In my case here, I had several .lock files in several directories that I needed to remove. I ran the following and it worked without having to go into each directory to remove them:\ngit rm -r --cached **/*.lock\n\nDoing this went into each folder under the &apos;root&apos; of where I was at and excluded all files that matched the pattern.\n    ","url":"/questions/[slug]#solution30","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/9fb80f4eb9e2d3c9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9fb80f4eb9e2d3c9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-25e5079ab4bd6ecd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-88567075f6bc9c6b.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/532-fec3344a80918110.js" defer=""></script><script src="/_next/static/chunks/495-bb1d5b202c02d7f2.js" defer=""></script><script src="/_next/static/chunks/817-363561828babdd16.js" defer=""></script><script src="/_next/static/chunks/81-2e45c38dc6fe8298.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-16d8c84aea765d4e.js" defer=""></script><script src="/_next/static/d4czOeg3MGPNUI9SipfjN/_buildManifest.js" defer=""></script><script src="/_next/static/d4czOeg3MGPNUI9SipfjN/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.5">.dlbxiY code{padding:5px;color:hsl(210deg 8% 15%);background-color:hsl(210deg 8% 90%);border-radius:3px;}/*!sc*/
data-styled.g5[id="sc-344134f6-0"]{content:"dlbxiY,"}/*!sc*/
</style></head><body><div id="__next"><div class="sc-9099c029-0 cIPEih"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-do-i-make-git-forget-about-a-file-that-was-tracked-but-is-now-in-.gitignore-1657387328843#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="sc-c5440139-0 figLul question my-5"><div class="sc-344134f6-0 dlbxiY flex question-header items-center justify-center"><div class="rounded-xl border p-5 shadow-md w-9/12 bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-do-i-make-git-forget-about-a-file-that-was-tracked-but-is-now-in-.gitignore-1657387328843">How do I make Git forget about a file that was tracked, but is now in .gitignore?</a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/git">git</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/gitignore">gitignore</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/git-rm">git-rm</a></div></div><div class="question-content mt-5">
                
<p>There is a file that was being tracked by Git, but now the file is on the <code>.gitignore</code> list.
However, that file keeps showing up in <code>git status</code> after it is edited. How do I force Git to completely forget about it?</p>
    </div></div></div><div class="sc-344134f6-2 EUowZ"><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><code>.gitignore</code> will prevent untracked files from being added (without an <code>add -f</code>) to the set of files tracked by Git. However, Git will continue to track any files that are already being tracked.</p>
<p>To stop tracking a file, you need to remove it from the index. This can be achieved with this command.</p>
<pre><code>git rm --cached &lt;file&gt;
</code></pre>
<p>If you want to remove a whole folder, you need to remove all files in it recursively.</p>
<pre><code>git rm -r --cached &lt;folder&gt;
</code></pre>
<p>The removal of the file from the head revision will happen on the next commit.</p>
<p><strong>WARNING: While this will not remove the physical file from your local machine, it will remove the files from other developers' machines on their next <code>git pull</code>.</strong></p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The series of commands below will remove all of the items from the Git index (not from the working directory or local repository), and then will update the Git index, while respecting Git ignores. <em>PS. Index = Cache</em></p>
<p><strong>First:</strong></p>
<pre><code>git rm -r --cached .
git add .
</code></pre>
<p><strong>Then:</strong></p>
<pre><code>git commit -am "Remove ignored files"
</code></pre>
<hr>
<p>Or as a one-liner:</p>
<pre><code>git rm -r --cached . &amp;&amp; git add . &amp;&amp; git commit -am "Remove ignored files"
</code></pre>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><a href="https://www.git-scm.com/docs/git-update-index" rel="noreferrer"><code>git update-index</code></a> does the job for me:</p>
<pre><code>git update-index --assume-unchanged &lt;file&gt;
</code></pre>
<p><strong>Note:</strong> This solution is actually independent on <code>.gitignore</code> as gitignore is only for untracked files.</p>
<hr>
<h1>Update, a better option</h1>
<p>Since this answer was posted, a new option has been created and that should be preferred.  You should use <code>--skip-worktree</code> which is for modified tracked files that the user don't want to commit anymore and keep <code>--assume-unchanged</code> for performance to prevent git to check status of big tracked files. See <a href="https://stackoverflow.com/a/13631525/717372">https://stackoverflow.com/a/13631525/717372</a> for more details...</p>
<pre><code>git update-index --skip-worktree &lt;file&gt;
</code></pre>
<p>To cancel</p>
<pre><code>git update-index --no-skip-worktree &lt;file&gt;
</code></pre>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre><code>git ls-files -c --ignored --exclude-standard -z | xargs -0 git rm --cached
git commit -am "Remove ignored files"
</code></pre>
<p>This takes the list of the ignored files, removes them from the index, and commits the changes.</p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Move it out, commit, and then move it back in.</p>
<p>This has worked for me in the past, but there is probably a 'gittier' way to accomplish this.</p>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I always use this command to remove those untracked files.
One-line, Unix-style, clean output:</p>
<pre><code>git ls-files --ignored --exclude-standard | sed 's/.*/"&amp;"/' | xargs git rm -r --cached
</code></pre>
<p>It lists all your ignored files, replaces every output line with a quoted line instead to handle paths with spaces inside, and passes everything to <code>git rm -r --cached</code> to remove the paths/files/directories from the index.</p>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The copy/paste answer is:</p>
<pre><code>git rm --cached -r .; git add .; git status; git commit -m "Ignore unwanted files"
</code></pre>
<p>This command will NOT change the content of the <code>.gitignore</code> file. It will just ignore the files that have already been committed to a Git repository but now we have added them to <code>.gitignore</code>.</p>
<p>The command <code>git status;</code> is just to review the changes and could be dropped.</p>
<p>In the end, it will immediately commit the changes with the message "<em>Ignore unwanted files</em>".</p>
<p>If you don't want to commit the changes, drop the last part of the command (<code>git commit -m "Ignore unwanted files"</code>)</p>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2 id="use-this-when-prx8">Use this when:</h2>
<ol>
<li>You want to untrack a lot of files, or</li>
<li>You updated your <em>.gitignore</em> file</li>
</ol>
<p>Source: <em><a href="http://www.codeblocq.com/2016/01/Untrack-files-already-added-to-git-repository-based-on-gitignore/" rel="noreferrer">Untrack files already added to Git repository based on .gitignore</a></em></p>
<p>Lets say you have already added/committed some files to your Git repository and you then add them to your <em>.gitignore</em> file; these files will still be present in your repository index. This article we will see how to get rid of them.</p>
<h3 id="step-1-commit-all-your-changes-2cno">Step 1: Commit all your changes</h3>
<p>Before proceeding, make sure all your changes are committed, including your <em>.gitignore</em> file.</p>
<h3 id="step-2-remove-everything-from-the-repository-x8vb">Step 2: Remove everything from the repository</h3>
<p>To clear your repository, use:</p>
<pre><code>git rm -r --cached .
</code></pre>
<ul>
<li><a href="https://git-scm.com/docs/git-rm" rel="noreferrer">rm</a> is the remove command</li>
<li><strong>-r</strong> will allow recursive removal</li>
<li><strong>cached</strong> will only remove files from the index. Your files will still be there.</li>
</ul>
<p>The <code>rm</code> command can be unforgiving. If you wish to try what it does beforehand, add the <code>-n</code> or <code>--dry-run</code> flag to test things out.</p>
<h3 id="step-3-readd-everything-ac9b">Step 3: Readd everything</h3>
<pre><code>git add .
</code></pre>
<h3 id="step-4-commit-y1uy">Step 4: Commit</h3>
<pre><code>git commit -m ".gitignore fix"
</code></pre>
<p>Your repository is clean :)</p>
<p>Push the changes to your remote to see the changes effective there as well.</p>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you cannot <code>git rm</code> a tracked file because other people might need it (warning, even if <em>you</em> <code>git rm --cached</code>, when someone else gets this change, their files will be deleted in their filesystem).  These are often done due to config file overrides, authentication credentials, etc. Please look at <a href="https://gist.github.com/1423106" rel="noreferrer">https://gist.github.com/1423106</a> for ways people have worked around the problem.</p>

<p>To summarize:</p>

<ul>
<li>Have your application look for an ignored file config-overide.ini and use that over the committed file config.ini (or alternately, look for ~/.config/myapp.ini, or $MYCONFIGFILE)</li>
<li>Commit file config-sample.ini and ignore file config.ini, have a script or similar copy the file as necessary if necessary.</li>
<li>Try to use gitattributes clean/smudge magic to apply and remove the changes for you, for instance smudge the config file as a checkout from an alternate branch and clean the config file as a checkout from HEAD.  This is tricky stuff, I don't recommend it for the novice user.</li>
<li>Keep the config file on a deploy branch dedicated to it that is never merged to master.  When you want to deploy/compile/test you merge to that branch and get that file.  This is essentially the smudge/clean approach except using human merge policies and extra-git modules.</li>
<li>Anti-recommentation: Don't use assume-unchanged, it will only end in tears (because having git lie to itself will cause bad things to happen, like your change being lost forever).</li>
</ul>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 10</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I accomplished this by using <a href="http://git-scm.com/docs/git-filter-branch" rel="noreferrer">git filter-branch</a>. The exact command I used was taken from the man page:</p>

<p><strong>WARNING</strong>: this will delete the file from your entire history</p>

<pre><code>git filter-branch --index-filter 'git rm --cached --ignore-unmatch filename' HEAD
</code></pre>

<p>This command will recreate the entire commit history, executing <code>git rm</code> before each commit and so will get rid of the specified file. Don't forget to back it up before running the command as it <em>will</em> be lost.</p>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 11</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h3>What didn't work for me</h3>
<p>(Under Linux), I wanted to use the posts here suggesting the <code>ls-files --ignored --exclude-standard | xargs git rm -r --cached</code> approach.  However, (some of) the files to be removed had an embedded newline/LF/<code>\n</code> in their names.  Neither of the solutions:</p>
<pre><code>git ls-files --ignored --exclude-standard | xargs -d"\n" git rm --cached
git ls-files --ignored --exclude-standard | sed 's/.*/"&amp;"/' | xargs git rm -r --cached
</code></pre>
<p>cope with this situation (get errors about files not found).</p>
<h3>So I offer</h3>
<pre><code>git ls-files -z --ignored --exclude-standard | xargs -0 git rm -r --cached
git commit -am "Remove ignored files"
</code></pre>
<p>This uses the <code>-z</code> argument to <strong>ls-files</strong>, and the <code>-0</code> argument to <strong>xargs</strong> to cater safely/correctly for "nasty" characters in filenames.</p>
<p>In the manual page <strong>git-ls-files(1)</strong>, it states:</p>
<blockquote>
<p>When -z option is not used, TAB, LF, and backslash characters in
pathnames are represented as \t, \n, and \\, respectively.</p>
</blockquote>
<p>so I think my solution is needed if filenames have any of these characters in them.</p>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 12</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Do the following steps for a file/folder:</p>
<p><strong>Remove a File:</strong></p>
<ol>
<li>need to add that file to .gitignore.</li>
<li>need to remove that file using the command (<strong>git rm --cached file name</strong>).</li>
<li>need to run (<strong>git add .</strong>).</li>
<li>need to (<strong>commit -m</strong>) "file removed".</li>
<li>and finally, (<strong>git push</strong>).</li>
</ol>
<p><strong>For example:</strong></p>
<p>I want to delete the <em>test.txt</em> file. I accidentally pushed to GitHub and want to remove it. Commands will be as follows:</p>
<p><strong>First, add "test.txt" in file <em>.gitignore</em></strong></p>
<pre><code>git rm --cached test.txt
git add .
git commit -m "test.txt removed"
git push
</code></pre>
<p><strong>Remove Folder:</strong></p>
<ol>
<li>need to add that folder to file <em>.gitignore</em>.</li>
<li>need to remove that folder using the command (<strong>git rm -r --cached folder name</strong>).</li>
<li>need to run (<strong>git add .</strong>).</li>
<li>need to (<strong>commit -m</strong>) "folder removed".</li>
<li>and finally, (<strong>git push</strong>).</li>
</ol>
<p><strong>For example:</strong></p>
<p>I want to delete the <em>.idea</em> folder/directory. I accidentally pushed to GitHub and want to remove it. The commands will be as follows:</p>
<p><strong>First, add <em>.idea</em> in file <em>.gitignore</em></strong></p>
<pre><code>git rm -r --cached .idea
git add .
git commit -m ".idea removed"
git push
</code></pre>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 13</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<ol>
<li><p>Update your <code>.gitignore</code> file  for instance, add a folder you don't want to track to <code>.gitignore</code>.</p></li>
<li><p><code>git rm -r --cached .</code>  Remove all tracked files, including wanted and unwanted. Your code will be safe as long as you have saved locally.</p></li>
<li><p><code>git add .</code>  All files will be added back in, except those in <code>.gitignore</code>.</p></li>
</ol>

<hr>

<p>Hat tip to @AkiraYamamoto for pointing us in the right direction.</p>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 14</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Do the following steps serially, and you will be fine.</p>
<ol>
<li><p><strong>Remove</strong> the mistakenly added files <strong>from the directory/storage</strong>. You can use the "rm -r" (for Linux) command or delete them by browsing the directories. Or move them to another location on your PC. (You maybe need to close the IDE if running for <strong>moving/removing</strong>.)</p>
</li>
<li><p>Add the files / directories to the <em>.gitignore</em> file now and save it.</p>
</li>
<li><p>Now <strong>remove</strong> them from the <strong>Git cache</strong> by using these commands (if there is more than one directory, remove them one by one by repeatedly issuing this command)</p>
<pre><code> git rm -r --cached path-to-those-files
</code></pre>
</li>
<li><p>Now <strong>do</strong> a <strong>commit and push</strong> by using the following commands. This will <em>remove those files from Git remote</em> and make Git <em>stop tracking</em> those files.</p>
<pre><code> git add .
 git commit -m "removed unnecessary files from Git"
 git push origin
</code></pre>
</li>
</ol>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 15</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I think, that maybe Git can't totally forget about a file because of its conception (<a href="https://git-scm.com/book/en/v2/Getting-Started-Git-Basics" rel="nofollow noreferrer">section "Snapshots, Not Differences"</a>).</p>
<p>This problem is absent, for example, when using <a href="https://en.wikipedia.org/wiki/Concurrent_Versions_System" rel="nofollow noreferrer">CVS</a>. CVS stores information as a list of file-based changes. Information for CVS is a set of files and the changes made to each file over time.</p>
<p>But in Git every time you commit, or save the state of your project, it basically takes a picture of what <em><strong>all your files</strong></em> look like at that moment and stores a reference to that snapshot. So, if you added file once, it will always be present  in that snapshot.</p>
<p>These two articles were helpful for me:</p>
<p><a href="http://fallengamer.livejournal.com/93321.html" rel="nofollow noreferrer">git assume-unchanged vs skip-worktree</a> and <a href="http://blog.stephan-partzsch.de/how-to-ignore-changes-in-tracked-files-with-git/" rel="nofollow noreferrer">How to ignore changes in tracked files with Git</a></p>
<p>Basing on it I do the following, if the file is already tracked:</p>
<pre><code>git update-index --skip-worktree &lt;file&gt;
</code></pre>
<p>From this moment all local changes in this file will be ignored and will not go to remote. If the file is changed on remote, conflict will occur, when <code>git pull</code>. Stash won't work. To resolve it, <em>copy the file content to the safe place</em> and follow these steps:</p>
<pre><code>git update-index --no-skip-worktree &lt;file&gt;
git stash
git pull
</code></pre>
<p>The file content will be replaced by the remote content. Paste your changes from the safe place to the file and perform again:</p>
<pre><code>git update-index --skip-worktree &lt;file&gt;
</code></pre>
<p>If everyone, who works with the project, will perform <code>git update-index --skip-worktree &lt;file&gt;</code>, problems with <code>pull</code> should be absent. This solution is OK for configurations files, when every developer has their own project configuration.</p>
<p>It is not very convenient to do this every time, when the file has been changed on remote, but it can protect it from overwriting by remote content.</p>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 16</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Using the <code>git rm --cached</code> command does not answer the original question:</p>
<blockquote>
<p>How do you force <code>git</code> to completely forget about [a file]?</p>
</blockquote>
<p>In fact, this solution will cause the file to be <strong>deleted</strong> in every other instance of the repository when executing a <code>git pull</code>!</p>
<p>The correct way to force Git to forget about a file is documented by GitHub <a href="https://help.github.com/en/articles/removing-sensitive-data-from-a-repository" rel="nofollow noreferrer">here</a>.</p>
<p>I recommend reading the documentation, but basically:</p>
<pre><code>git fetch --all
git filter-branch --force --index-filter 'git rm --cached --ignore-unmatch full/path/to/file' --prune-empty --tag-name-filter cat -- --all
git push origin --force --all
git push origin --force --tags
git for-each-ref --format='delete %(refname)' refs/original | git update-ref --stdin
git reflog expire --expire=now --all
git gc --prune=now
</code></pre>
<p>Just replace <code>full/path/to/file</code> with the full path of the file. Make sure you've added the file to your <code>.gitignore</code> file.</p>
<p>You'll also need to (temporarily) <a href="https://stackoverflow.com/a/10544328/4901390">allow non-fast-forward pushes to your repository</a>, since you're changing your Git history.</p>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 17</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><code>git rm --cached -r &lt;YOUR_files_or_folders&gt;</code></p>
<p>--cached  | only remove files from the index</p>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 18</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The <a href="https://stackoverflow.com/questions/1274057/how-can-i-make-git-forget-about-a-file-that-was-tracked-but-is-now-in-gitign/19095988#19095988">answer from Matt Frear</a> was the most effective IMHO. The following is just a PowerShell script for those on Windows to only remove files from their Git repository that matches their exclusion list.</p>
<pre><code># Get files matching exclusionsfrom .gitignore
# Excluding comments and empty lines
$ignoreFiles =  gc .gitignore | ?{$_ -notmatch  "#"} |  ?{$_ -match  "\S"} | % {
                    $ignore = "*" + $_ + "*"
                    (gci -r -i $ignore).FullName
                }
$ignoreFiles = $ignoreFiles| ?{$_ -match  "\S"}

# Remove each of these file from Git
$ignoreFiles | % { git rm $_}

git add .
</code></pre>
    </div></div></div></div><div id="solution19" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 19</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Move or copy the file to a safe location, so you don't lose it. Then 'git rm' the file and commit.</p>
<p>The file will still show up if you revert to one of those earlier commits, or another branch where it has not been removed. However, in all future commits, you will not see the file again. If the file is in the Git ignore, then you can move it back into the folder, and Git won't see it.</p>
    </div></div></div></div><div id="solution20" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 20</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In my case I needed to put "<code>.envrc</code>" in the <em>.gitignore</em> file.</p>
<p>And then I used:</p>
<pre><code>git update-index --skip-worktree .envrc
git rm --cached .envrc
</code></pre>
<p>And the file was removed.</p>
<p>Then I committed again, telling that the file was removed.</p>
<p>But when I used the command <code>git log -p</code>, the content of the file (which was secret credentials of the <a href="https://en.wikipedia.org/wiki/Amazon_S3" rel="noreferrer">Amazon S3</a>) was showing the content which was removed and I don't want to show this content ever on the history of the Git repository.</p>
<p>Then I used this command:</p>
<pre><code>git filter-branch --index-filter 'git rm --cached --ignore-unmatch .envrc' HEAD
</code></pre>
<p>And I don't see the content again.</p>
    </div></div></div></div><div id="solution21" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 21</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I liked <a href="https://stackoverflow.com/questions/1274057/how-can-i-make-git-forget-about-a-file-that-was-tracked-but-is-now-in-gitign/34511442#34511442">JonBrave's answer</a>, but I have messy enough working directories that <code>commit -a</code> scares me a bit, so here's what I've done:</p>
<pre><code>git config --global alias.exclude-ignored '!git ls-files -z --ignored --exclude-standard | xargs -0 git rm -r --cached &amp;&amp;  git ls-files -z --ignored --exclude-standard | xargs -0 git stage &amp;&amp;  git stage .gitignore &amp;&amp; git commit -m "new gitignore and remove ignored files from index"'
</code></pre>
<p>Breaking it down:</p>
<pre><code>git ls-files -z --ignored --exclude-standard | xargs -0 git rm -r --cached
git ls-files -z --ignored --exclude-standard | xargs -0 git stage
git stage .gitignore
git commit -m "new gitignore and remove ignored files from index"
</code></pre>
<ul>
<li>remove ignored files from the index</li>
<li>stage .gitignore and the files you just removed</li>
<li>commit</li>
</ul>
    </div></div></div></div><div id="solution22" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 22</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The accepted answer does not "make Git <strong>"forget"</strong> about a file..." (historically).  It only makes Git <strong>ignore</strong> the file in the present/future.</p>
<p>This method makes Git <strong>completely forget</strong> ignored files (<strong>past</strong>/present/future), but it does <strong>not</strong> delete anything from the working directory (even when re-pulled from remote).</p>
<p>This method requires usage of file <code>/.git/info/exclude</code> (preferred) <strong>or</strong> a <strong>pre-existing</strong> <code>.gitignore</code> in <strong>all</strong> the commits that have files to be ignored/forgotten. <sup>1</sup></p>
<p>All methods of enforcing Git ignore behavior after-the-fact effectively rewrite history and thus have <a href="https://stackoverflow.com/q/1491001">significant ramifications</a> for any public/shared/collaborative repositories that might be pulled after this process. <sup>2</sup></p>
<p>General advice: <strong>start with a clean repository</strong> - everything committed, nothing pending in working directory or index, <strong>and make a backup</strong>!</p>
<p>Also, the comments/<a href="https://stackoverflow.com/posts/57454176/revisions">revision history</a> of <a href="https://stackoverflow.com/a/57454176">this answer</a> (<a href="https://stackoverflow.com/posts/57418769/revisions">and revision history</a> of <a href="https://stackoverflow.com/posts/57418769">this question</a>) may be useful/enlightening.</p>
<pre class="lang-sh s-code-block"><code class="hljs language-bash"><span class="hljs-comment">#Commit up-to-date .gitignore (if not already existing)</span>
<span class="hljs-comment">#This command must be run on each branch</span>

git add .gitignore
git commit -m <span class="hljs-string">"Create .gitignore"</span>

<span class="hljs-comment">#Apply standard Git ignore behavior only to the current index, not the working directory (--cached)</span>
<span class="hljs-comment">#If this command returns nothing, ensure /.git/info/exclude AND/OR .gitignore exist</span>
<span class="hljs-comment">#This command must be run on each branch</span>

git ls-files -z --ignored --exclude-standard | xargs -0 git <span class="hljs-built_in">rm</span> --cached

<span class="hljs-comment">#Commit to prevent working directory data loss!</span>
<span class="hljs-comment">#This commit will be automatically deleted by the --prune-empty flag in the following command</span>
<span class="hljs-comment">#This command must be run on each branch</span>

git commit -m <span class="hljs-string">"ignored index"</span>

<span class="hljs-comment">#Apply standard git ignore behavior RETROACTIVELY to all commits from all branches (--all)</span>
<span class="hljs-comment">#This step WILL delete ignored files from working directory UNLESS they have been dereferenced from the index by the commit above</span>
<span class="hljs-comment">#This step will also delete any "empty" commits.  If deliberate "empty" commits should be kept, remove --prune-empty and instead run git reset HEAD^ immediately after this command</span>

git filter-branch --tree-filter <span class="hljs-string">'git ls-files -z --ignored --exclude-standard | xargs -0 git rm -f --ignore-unmatch'</span> --prune-empty --tag-name-filter <span class="hljs-built_in">cat</span> -- --all

<span class="hljs-comment">#List all still-existing files that are now ignored properly</span>
<span class="hljs-comment">#If this command returns nothing, it's time to restore from backup and start over</span>
<span class="hljs-comment">#This command must be run on each branch</span>

git ls-files --other --ignored --exclude-standard
</code></pre>
<hr>
<p>Finally, follow the rest of this <a href="https://help.github.com/en/articles/removing-sensitive-data-from-a-repository" rel="nofollow noreferrer">GitHub guide</a> (starting at step 6) <strong>which includes important warnings/information about the commands below</strong>.</p>
<pre class="lang-sh s-code-block"><code class="hljs language-bash">git push origin --force --all
git push origin --force --tags
git for-each-ref --format=<span class="hljs-string">"delete %(refname)"</span> refs/original | git update-ref --stdin
git reflog expire --expire=now --all
git gc --prune=now
</code></pre>
<hr>
<p>Other developers that pull from the now-modified remote repository should make a backup and then:</p>
<pre class="lang-sh s-code-block"><code class="hljs language-bash"><span class="hljs-comment">#fetch modified remote</span>

git fetch --all

<span class="hljs-comment">#"Pull" changes WITHOUT deleting newly-ignored files from working directory</span>
<span class="hljs-comment">#This will overwrite local tracked files with remote - ensure any local modifications are backed-up/stashed</span>

git reset FETCH_HEAD
</code></pre>
<hr>
<h2 id="footnotes-6jhk">Footnotes</h2>
<p><sup>1</sup> Because <code>/.git/info/exclude</code> can be applied to all historical commits using the instructions above, perhaps details about getting a <code>.gitignore</code> file <em>into</em> the historical commit(s) that need it is beyond the scope of this answer.  I wanted a proper <code>.gitignore</code> file to be in the root commit, as if it was the first thing I did.  Others may not care since <code>/.git/info/exclude</code> can accomplish the same thing regardless where the <code>.gitignore</code> file exists in the commit history, and clearly rewriting history is a <strong>very</strong> touchy subject, even when aware of the <a href="https://stackoverflow.com/q/1491001">ramifications</a>.</p>
<p>FWIW, potential methods may include <code>git rebase</code> or a <code>git filter-branch</code> that copies an <em>external</em> <code>.gitignore</code> into each commit, like the answers to <a href="https://stackoverflow.com/q/43463687">this question</a>.</p>
<p><sup>2</sup> Enforcing Git ignore behavior after-the-fact by committing the results of a stand-alone <code>git rm --cached</code> command may result in newly-ignored file <strong>deletion</strong> in future pulls from the force-pushed remote. The <code>--prune-empty</code> flag in the following <code>git filter-branch</code> command avoids this problem by automatically removing the previous "delete all ignored files" index-only commit.  Rewriting Git history also changes commit hashes, which will <a href="https://stackoverflow.com/q/1491001">wreak havoc</a> on future pulls from public/shared/collaborative repositories.  Please understand the <a href="https://stackoverflow.com/q/1491001">ramifications</a> fully before doing this to such a repository. <a href="https://help.github.com/en/articles/removing-sensitive-data-from-a-repository" rel="nofollow noreferrer">This GitHub guide</a> specifies the following:</p>
<blockquote>
<p>Tell your collaborators to <a href="https://git-scm.com/book/en/Git-Branching-Rebasing" rel="nofollow noreferrer">rebase</a>, <em>not</em> merge, any branches they created off of your old (tainted) repository history. One merge commit could reintroduce some or all of the tainted history that you just went to the trouble of purging.</p>
</blockquote>
<p>Alternative solutions that <strong>do not</strong> affect the remote repository are <code>git update-index --assume-unchanged &lt;/path/file&gt;</code> or <code>git update-index --skip-worktree &lt;file&gt;</code>, examples of which can be found <a href="https://stackoverflow.com/a/20241145">here</a>.</p>
    </div></div></div></div><div id="solution23" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 23</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The <a href="https://rtyley.github.io/bfg-repo-cleaner/" rel="nofollow noreferrer">BFG</a> is specifically designed for removing unwanted data like big files or passwords from Git repositories, so it has a simple flag that will remove any large historical (not-in-your-current-commit) files: '--strip-blobs-bigger-than'</p>
<pre><code>java -jar bfg.jar --strip-blobs-bigger-than 100M
</code></pre>
<p>If you'd like to specify files by name, you can do that too:</p>
<pre><code>java -jar bfg.jar --delete-files *.mp4
</code></pre>
<p>The BFG is 10-1000x faster than <code>git filter-branch</code> and is generally much easier to use - check the <a href="https://rtyley.github.io/bfg-repo-cleaner/#usage" rel="nofollow noreferrer">full usage instructions</a> and <a href="https://rtyley.github.io/bfg-repo-cleaner/#examples" rel="nofollow noreferrer">examples</a> for more details.</p>
<p>Source: <em><a href="https://confluence.atlassian.com/bitbucket/reduce-repository-size-321848262.html" rel="nofollow noreferrer">Reduce repository size</a></em></p>
    </div></div></div></div><div id="solution24" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 24</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you don't want to use the CLI and are working on Windows, a very simple solution is to use <a href="https://tortoisegit.org/" rel="nofollow noreferrer">TortoiseGit</a>. It has the "Delete (keep local)" Action in the menu which works fine.</p>
    </div></div></div></div><div id="solution25" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 25</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>This is no longer an issue in the latest Git</strong> (v2.17.1 at the time of writing).</p>
<p>The <em>.gitignore</em> file finally ignores tracked-but-deleted files. You can test this for yourself by running the following script. The final <code>git status</code> statement should report "nothing to commit".</p>
<pre><code># Create an empty repository
mkdir gitignore-test
cd gitignore-test
git init

# Create a file and commit it
echo "hello" &gt; file
git add file
git commit -m initial

# Add the file to gitignore and commit
echo "file" &gt; .gitignore
git add .gitignore
git commit -m gitignore

# Remove the file and commit
git rm file
git commit -m "removed file"

# Reintroduce the file and check status.
# .gitignore is now respected - status reports "nothing to commit".
echo "hello" &gt; file
git status
</code></pre>
    </div></div></div></div><div id="solution26" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 26</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This is how I solved my issue:</p>
<p><code>git filter-branch --tree-filter 'rm -rf path/to/your/file' HEAD</code>
<br> <code>git push</code></p>
<p>In this, we are basically trying to rewrite the history of that particular file in previous commits also.</p>
<p>For more information, you can refer to the <a href="https://en.wikipedia.org/wiki/Man_page" rel="nofollow noreferrer">man page</a> of filter-branch <a href="https://git-scm.com/docs/git-filter-branch" rel="nofollow noreferrer">here</a>.</p>
<p>Source: <em><a href="https://docs.github.com/en/github/authenticating-to-github/removing-sensitive-data-from-a-repository#using-filter-branch" rel="nofollow noreferrer">Removing sensitive data from a repository - using filter-branch</a></em></p>
<p>Source: <em><a href="https://thomas-cokelaer.info/blog/2018/02/git-how-to-remove-a-big-file-wrongly-committed/" rel="nofollow noreferrer">Git: How to remove a big file wrongly committed</a></em></p>
    </div></div></div></div><div id="solution27" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 27</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In case of already committed <code>DS_Store</code>:</p>

<pre><code>find . -name .DS_Store -print0 | xargs -0 git rm --ignore-unmatch
</code></pre>

<p>Ignore them by:</p>

<pre><code>echo ".DS_Store" &gt;&gt; ~/.gitignore_global
echo "._.DS_Store" &gt;&gt; ~/.gitignore_global
echo "**/.DS_Store" &gt;&gt; ~/.gitignore_global
echo "**/._.DS_Store" &gt;&gt; ~/.gitignore_global
git config --global core.excludesfile ~/.gitignore_global
</code></pre>

<p>Finally, make a commit!</p>
    </div></div></div></div><div id="solution28" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 28</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Especially for the IDE-based files, I use this:</p>
<p>For instance, for the slnx.sqlite file, I just got rid off it completely like the following:</p>
<pre><code>git rm {PATH_OF_THE_FILE}/slnx.sqlite -f
git commit -m "remove slnx.sqlite"
</code></pre>
<p>Just keep that in mind that some of those files store some local user settings and preferences for projects (like what files you had open). So every time you navigate or do some changes in your IDE, that file is changed and therefore it checks it out and show as uncommitted changes.</p>
    </div></div></div></div><div id="solution29" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 29</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If anyone is having a hard time on Windows and you want to ignore the entire folder, go to the desired 'folder' on file explorer, right click and do 'Git Bash Here' (Git for Windows should have been installed).</p>
<p>Run this command:</p>
<pre><code>git ls-files -z | xargs -0 git update-index --assume-unchanged
</code></pre>
    </div></div></div></div><div id="solution30" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 30</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In my case here, I had several .lock files in several directories that I needed to remove. I ran the following and it worked without having to go into each directory to remove them:</p>
<pre><code>git rm -r --cached **/*.lock
</code></pre>
<p>Doing this went into each folder under the 'root' of where I was at and excluded all files that matched the pattern.</p>
    </div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;.gitignore\u0026lt;/code\u0026gt; will prevent untracked files from being added (without an \u0026lt;code\u0026gt;add -f\u0026lt;/code\u0026gt;) to the set of files tracked by Git. However, Git will continue to track any files that are already being tracked.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;To stop tracking a file, you need to remove it from the index. This can be achieved with this command.\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git rm --cached \u0026amp;lt;file\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;If you want to remove a whole folder, you need to remove all files in it recursively.\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git rm -r --cached \u0026amp;lt;folder\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The removal of the file from the head revision will happen on the next commit.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;WARNING: While this will not remove the physical file from your local machine, it will remove the files from other developers\u0026apos; machines on their next \u0026lt;code\u0026gt;git pull\u0026lt;/code\u0026gt;.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The series of commands below will remove all of the items from the Git index (not from the working directory or local repository), and then will update the Git index, while respecting Git ignores. \u0026lt;em\u0026gt;PS. Index = Cache\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;First:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git rm -r --cached .\ngit add .\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Then:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git commit -am \u0026quot;Remove ignored files\u0026quot;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;Or as a one-liner:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git rm -r --cached . \u0026amp;amp;\u0026amp;amp; git add . \u0026amp;amp;\u0026amp;amp; git commit -am \u0026quot;Remove ignored files\u0026quot;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://www.git-scm.com/docs/git-update-index\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;git update-index\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt; does the job for me:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git update-index --assume-unchanged \u0026amp;lt;file\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Note:\u0026lt;/strong\u0026gt; This solution is actually independent on \u0026lt;code\u0026gt;.gitignore\u0026lt;/code\u0026gt; as gitignore is only for untracked files.\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;h1\u0026gt;Update, a better option\u0026lt;/h1\u0026gt;\n\u0026lt;p\u0026gt;Since this answer was posted, a new option has been created and that should be preferred.  You should use \u0026lt;code\u0026gt;--skip-worktree\u0026lt;/code\u0026gt; which is for modified tracked files that the user don\u0026apos;t want to commit anymore and keep \u0026lt;code\u0026gt;--assume-unchanged\u0026lt;/code\u0026gt; for performance to prevent git to check status of big tracked files. See \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/13631525/717372\u0026quot;\u0026gt;https://stackoverflow.com/a/13631525/717372\u0026lt;/a\u0026gt; for more details...\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git update-index --skip-worktree \u0026amp;lt;file\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;To cancel\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git update-index --no-skip-worktree \u0026amp;lt;file\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git ls-files -c --ignored --exclude-standard -z | xargs -0 git rm --cached\ngit commit -am \u0026quot;Remove ignored files\u0026quot;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This takes the list of the ignored files, removes them from the index, and commits the changes.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Move it out, commit, and then move it back in.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This has worked for me in the past, but there is probably a \u0026apos;gittier\u0026apos; way to accomplish this.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I always use this command to remove those untracked files.\nOne-line, Unix-style, clean output:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git ls-files --ignored --exclude-standard | sed \u0026apos;s/.*/\u0026quot;\u0026amp;amp;\u0026quot;/\u0026apos; | xargs git rm -r --cached\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;It lists all your ignored files, replaces every output line with a quoted line instead to handle paths with spaces inside, and passes everything to \u0026lt;code\u0026gt;git rm -r --cached\u0026lt;/code\u0026gt; to remove the paths/files/directories from the index.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The copy/paste answer is:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git rm --cached -r .; git add .; git status; git commit -m \u0026quot;Ignore unwanted files\u0026quot;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This command will NOT change the content of the \u0026lt;code\u0026gt;.gitignore\u0026lt;/code\u0026gt; file. It will just ignore the files that have already been committed to a Git repository but now we have added them to \u0026lt;code\u0026gt;.gitignore\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The command \u0026lt;code\u0026gt;git status;\u0026lt;/code\u0026gt; is just to review the changes and could be dropped.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;In the end, it will immediately commit the changes with the message \u0026quot;\u0026lt;em\u0026gt;Ignore unwanted files\u0026lt;/em\u0026gt;\u0026quot;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If you don\u0026apos;t want to commit the changes, drop the last part of the command (\u0026lt;code\u0026gt;git commit -m \u0026quot;Ignore unwanted files\u0026quot;\u0026lt;/code\u0026gt;)\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h2 id=\u0026quot;use-this-when-prx8\u0026quot;\u0026gt;Use this when:\u0026lt;/h2\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;You want to untrack a lot of files, or\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;You updated your \u0026lt;em\u0026gt;.gitignore\u0026lt;/em\u0026gt; file\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;p\u0026gt;Source: \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;http://www.codeblocq.com/2016/01/Untrack-files-already-added-to-git-repository-based-on-gitignore/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Untrack files already added to Git repository based on .gitignore\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Lets say you have already added/committed some files to your Git repository and you then add them to your \u0026lt;em\u0026gt;.gitignore\u0026lt;/em\u0026gt; file; these files will still be present in your repository index. This article we will see how to get rid of them.\u0026lt;/p\u0026gt;\n\u0026lt;h3 id=\u0026quot;step-1-commit-all-your-changes-2cno\u0026quot;\u0026gt;Step 1: Commit all your changes\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;Before proceeding, make sure all your changes are committed, including your \u0026lt;em\u0026gt;.gitignore\u0026lt;/em\u0026gt; file.\u0026lt;/p\u0026gt;\n\u0026lt;h3 id=\u0026quot;step-2-remove-everything-from-the-repository-x8vb\u0026quot;\u0026gt;Step 2: Remove everything from the repository\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;To clear your repository, use:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git rm -r --cached .\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026quot;https://git-scm.com/docs/git-rm\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;rm\u0026lt;/a\u0026gt; is the remove command\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;-r\u0026lt;/strong\u0026gt; will allow recursive removal\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;cached\u0026lt;/strong\u0026gt; will only remove files from the index. Your files will still be there.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;The \u0026lt;code\u0026gt;rm\u0026lt;/code\u0026gt; command can be unforgiving. If you wish to try what it does beforehand, add the \u0026lt;code\u0026gt;-n\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;--dry-run\u0026lt;/code\u0026gt; flag to test things out.\u0026lt;/p\u0026gt;\n\u0026lt;h3 id=\u0026quot;step-3-readd-everything-ac9b\u0026quot;\u0026gt;Step 3: Readd everything\u0026lt;/h3\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git add .\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h3 id=\u0026quot;step-4-commit-y1uy\u0026quot;\u0026gt;Step 4: Commit\u0026lt;/h3\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git commit -m \u0026quot;.gitignore fix\u0026quot;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Your repository is clean :)\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Push the changes to your remote to see the changes effective there as well.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you cannot \u0026lt;code\u0026gt;git rm\u0026lt;/code\u0026gt; a tracked file because other people might need it (warning, even if \u0026lt;em\u0026gt;you\u0026lt;/em\u0026gt; \u0026lt;code\u0026gt;git rm --cached\u0026lt;/code\u0026gt;, when someone else gets this change, their files will be deleted in their filesystem).  These are often done due to config file overrides, authentication credentials, etc. Please look at \u0026lt;a href=\u0026quot;https://gist.github.com/1423106\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;https://gist.github.com/1423106\u0026lt;/a\u0026gt; for ways people have worked around the problem.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;To summarize:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Have your application look for an ignored file config-overide.ini and use that over the committed file config.ini (or alternately, look for ~/.config/myapp.ini, or $MYCONFIGFILE)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Commit file config-sample.ini and ignore file config.ini, have a script or similar copy the file as necessary if necessary.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Try to use gitattributes clean/smudge magic to apply and remove the changes for you, for instance smudge the config file as a checkout from an alternate branch and clean the config file as a checkout from HEAD.  This is tricky stuff, I don\u0026apos;t recommend it for the novice user.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Keep the config file on a deploy branch dedicated to it that is never merged to master.  When you want to deploy/compile/test you merge to that branch and get that file.  This is essentially the smudge/clean approach except using human merge policies and extra-git modules.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Anti-recommentation: Don\u0026apos;t use assume-unchanged, it will only end in tears (because having git lie to itself will cause bad things to happen, like your change being lost forever).\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I accomplished this by using \u0026lt;a href=\u0026quot;http://git-scm.com/docs/git-filter-branch\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;git filter-branch\u0026lt;/a\u0026gt;. The exact command I used was taken from the man page:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;WARNING\u0026lt;/strong\u0026gt;: this will delete the file from your entire history\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git filter-branch --index-filter \u0026apos;git rm --cached --ignore-unmatch filename\u0026apos; HEAD\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This command will recreate the entire commit history, executing \u0026lt;code\u0026gt;git rm\u0026lt;/code\u0026gt; before each commit and so will get rid of the specified file. Don\u0026apos;t forget to back it up before running the command as it \u0026lt;em\u0026gt;will\u0026lt;/em\u0026gt; be lost.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h3\u0026gt;What didn\u0026apos;t work for me\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;(Under Linux), I wanted to use the posts here suggesting the \u0026lt;code\u0026gt;ls-files --ignored --exclude-standard | xargs git rm -r --cached\u0026lt;/code\u0026gt; approach.  However, (some of) the files to be removed had an embedded newline/LF/\u0026lt;code\u0026gt;\\n\u0026lt;/code\u0026gt; in their names.  Neither of the solutions:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git ls-files --ignored --exclude-standard | xargs -d\u0026quot;\\n\u0026quot; git rm --cached\ngit ls-files --ignored --exclude-standard | sed \u0026apos;s/.*/\u0026quot;\u0026amp;amp;\u0026quot;/\u0026apos; | xargs git rm -r --cached\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;cope with this situation (get errors about files not found).\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;So I offer\u0026lt;/h3\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git ls-files -z --ignored --exclude-standard | xargs -0 git rm -r --cached\ngit commit -am \u0026quot;Remove ignored files\u0026quot;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This uses the \u0026lt;code\u0026gt;-z\u0026lt;/code\u0026gt; argument to \u0026lt;strong\u0026gt;ls-files\u0026lt;/strong\u0026gt;, and the \u0026lt;code\u0026gt;-0\u0026lt;/code\u0026gt; argument to \u0026lt;strong\u0026gt;xargs\u0026lt;/strong\u0026gt; to cater safely/correctly for \u0026quot;nasty\u0026quot; characters in filenames.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;In the manual page \u0026lt;strong\u0026gt;git-ls-files(1)\u0026lt;/strong\u0026gt;, it states:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;When -z option is not used, TAB, LF, and backslash characters in\npathnames are represented as \\t, \\n, and \\\\, respectively.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;so I think my solution is needed if filenames have any of these characters in them.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Do the following steps for a file/folder:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Remove a File:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;need to add that file to .gitignore.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;need to remove that file using the command (\u0026lt;strong\u0026gt;git rm --cached file name\u0026lt;/strong\u0026gt;).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;need to run (\u0026lt;strong\u0026gt;git add .\u0026lt;/strong\u0026gt;).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;need to (\u0026lt;strong\u0026gt;commit -m\u0026lt;/strong\u0026gt;) \u0026quot;file removed\u0026quot;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;and finally, (\u0026lt;strong\u0026gt;git push\u0026lt;/strong\u0026gt;).\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;For example:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I want to delete the \u0026lt;em\u0026gt;test.txt\u0026lt;/em\u0026gt; file. I accidentally pushed to GitHub and want to remove it. Commands will be as follows:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;First, add \u0026quot;test.txt\u0026quot; in file \u0026lt;em\u0026gt;.gitignore\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git rm --cached test.txt\ngit add .\ngit commit -m \u0026quot;test.txt removed\u0026quot;\ngit push\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Remove Folder:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;need to add that folder to file \u0026lt;em\u0026gt;.gitignore\u0026lt;/em\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;need to remove that folder using the command (\u0026lt;strong\u0026gt;git rm -r --cached folder name\u0026lt;/strong\u0026gt;).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;need to run (\u0026lt;strong\u0026gt;git add .\u0026lt;/strong\u0026gt;).\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;need to (\u0026lt;strong\u0026gt;commit -m\u0026lt;/strong\u0026gt;) \u0026quot;folder removed\u0026quot;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;and finally, (\u0026lt;strong\u0026gt;git push\u0026lt;/strong\u0026gt;).\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;For example:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I want to delete the \u0026lt;em\u0026gt;.idea\u0026lt;/em\u0026gt; folder/directory. I accidentally pushed to GitHub and want to remove it. The commands will be as follows:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;First, add \u0026lt;em\u0026gt;.idea\u0026lt;/em\u0026gt; in file \u0026lt;em\u0026gt;.gitignore\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git rm -r --cached .idea\ngit add .\ngit commit -m \u0026quot;.idea removed\u0026quot;\ngit push\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Update your \u0026lt;code\u0026gt;.gitignore\u0026lt;/code\u0026gt; file  for instance, add a folder you don\u0026apos;t want to track to \u0026lt;code\u0026gt;.gitignore\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;git rm -r --cached .\u0026lt;/code\u0026gt;  Remove all tracked files, including wanted and unwanted. Your code will be safe as long as you have saved locally.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;git add .\u0026lt;/code\u0026gt;  All files will be added back in, except those in \u0026lt;code\u0026gt;.gitignore\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;Hat tip to @AkiraYamamoto for pointing us in the right direction.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Do the following steps serially, and you will be fine.\u0026lt;/p\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Remove\u0026lt;/strong\u0026gt; the mistakenly added files \u0026lt;strong\u0026gt;from the directory/storage\u0026lt;/strong\u0026gt;. You can use the \u0026quot;rm -r\u0026quot; (for Linux) command or delete them by browsing the directories. Or move them to another location on your PC. (You maybe need to close the IDE if running for \u0026lt;strong\u0026gt;moving/removing\u0026lt;/strong\u0026gt;.)\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Add the files / directories to the \u0026lt;em\u0026gt;.gitignore\u0026lt;/em\u0026gt; file now and save it.\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Now \u0026lt;strong\u0026gt;remove\u0026lt;/strong\u0026gt; them from the \u0026lt;strong\u0026gt;Git cache\u0026lt;/strong\u0026gt; by using these commands (if there is more than one directory, remove them one by one by repeatedly issuing this command)\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; git rm -r --cached path-to-those-files\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Now \u0026lt;strong\u0026gt;do\u0026lt;/strong\u0026gt; a \u0026lt;strong\u0026gt;commit and push\u0026lt;/strong\u0026gt; by using the following commands. This will \u0026lt;em\u0026gt;remove those files from Git remote\u0026lt;/em\u0026gt; and make Git \u0026lt;em\u0026gt;stop tracking\u0026lt;/em\u0026gt; those files.\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt; git add .\n git commit -m \u0026quot;removed unnecessary files from Git\u0026quot;\n git push origin\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I think, that maybe Git can\u0026apos;t totally forget about a file because of its conception (\u0026lt;a href=\u0026quot;https://git-scm.com/book/en/v2/Getting-Started-Git-Basics\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;section \u0026quot;Snapshots, Not Differences\u0026quot;\u0026lt;/a\u0026gt;).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This problem is absent, for example, when using \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Concurrent_Versions_System\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;CVS\u0026lt;/a\u0026gt;. CVS stores information as a list of file-based changes. Information for CVS is a set of files and the changes made to each file over time.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;But in Git every time you commit, or save the state of your project, it basically takes a picture of what \u0026lt;em\u0026gt;\u0026lt;strong\u0026gt;all your files\u0026lt;/strong\u0026gt;\u0026lt;/em\u0026gt; look like at that moment and stores a reference to that snapshot. So, if you added file once, it will always be present  in that snapshot.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;These two articles were helpful for me:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;http://fallengamer.livejournal.com/93321.html\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;git assume-unchanged vs skip-worktree\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;http://blog.stephan-partzsch.de/how-to-ignore-changes-in-tracked-files-with-git/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;How to ignore changes in tracked files with Git\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Basing on it I do the following, if the file is already tracked:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git update-index --skip-worktree \u0026amp;lt;file\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;From this moment all local changes in this file will be ignored and will not go to remote. If the file is changed on remote, conflict will occur, when \u0026lt;code\u0026gt;git pull\u0026lt;/code\u0026gt;. Stash won\u0026apos;t work. To resolve it, \u0026lt;em\u0026gt;copy the file content to the safe place\u0026lt;/em\u0026gt; and follow these steps:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git update-index --no-skip-worktree \u0026amp;lt;file\u0026amp;gt;\ngit stash\ngit pull\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The file content will be replaced by the remote content. Paste your changes from the safe place to the file and perform again:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git update-index --skip-worktree \u0026amp;lt;file\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;If everyone, who works with the project, will perform \u0026lt;code\u0026gt;git update-index --skip-worktree \u0026amp;lt;file\u0026amp;gt;\u0026lt;/code\u0026gt;, problems with \u0026lt;code\u0026gt;pull\u0026lt;/code\u0026gt; should be absent. This solution is OK for configurations files, when every developer has their own project configuration.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;It is not very convenient to do this every time, when the file has been changed on remote, but it can protect it from overwriting by remote content.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Using the \u0026lt;code\u0026gt;git rm --cached\u0026lt;/code\u0026gt; command does not answer the original question:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;How do you force \u0026lt;code\u0026gt;git\u0026lt;/code\u0026gt; to completely forget about [a file]?\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;In fact, this solution will cause the file to be \u0026lt;strong\u0026gt;deleted\u0026lt;/strong\u0026gt; in every other instance of the repository when executing a \u0026lt;code\u0026gt;git pull\u0026lt;/code\u0026gt;!\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The correct way to force Git to forget about a file is documented by GitHub \u0026lt;a href=\u0026quot;https://help.github.com/en/articles/removing-sensitive-data-from-a-repository\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;here\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I recommend reading the documentation, but basically:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git fetch --all\ngit filter-branch --force --index-filter \u0026apos;git rm --cached --ignore-unmatch full/path/to/file\u0026apos; --prune-empty --tag-name-filter cat -- --all\ngit push origin --force --all\ngit push origin --force --tags\ngit for-each-ref --format=\u0026apos;delete %(refname)\u0026apos; refs/original | git update-ref --stdin\ngit reflog expire --expire=now --all\ngit gc --prune=now\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Just replace \u0026lt;code\u0026gt;full/path/to/file\u0026lt;/code\u0026gt; with the full path of the file. Make sure you\u0026apos;ve added the file to your \u0026lt;code\u0026gt;.gitignore\u0026lt;/code\u0026gt; file.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You\u0026apos;ll also need to (temporarily) \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/10544328/4901390\u0026quot;\u0026gt;allow non-fast-forward pushes to your repository\u0026lt;/a\u0026gt;, since you\u0026apos;re changing your Git history.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;git rm --cached -r \u0026amp;lt;YOUR_files_or_folders\u0026amp;gt;\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;--cached  | only remove files from the index\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/1274057/how-can-i-make-git-forget-about-a-file-that-was-tracked-but-is-now-in-gitign/19095988#19095988\u0026quot;\u0026gt;answer from Matt Frear\u0026lt;/a\u0026gt; was the most effective IMHO. The following is just a PowerShell script for those on Windows to only remove files from their Git repository that matches their exclusion list.\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;# Get files matching exclusionsfrom .gitignore\n# Excluding comments and empty lines\n$ignoreFiles =  gc .gitignore | ?{$_ -notmatch  \u0026quot;#\u0026quot;} |  ?{$_ -match  \u0026quot;\\S\u0026quot;} | % {\n                    $ignore = \u0026quot;*\u0026quot; + $_ + \u0026quot;*\u0026quot;\n                    (gci -r -i $ignore).FullName\n                }\n$ignoreFiles = $ignoreFiles| ?{$_ -match  \u0026quot;\\S\u0026quot;}\n\n# Remove each of these file from Git\n$ignoreFiles | % { git rm $_}\n\ngit add .\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Move or copy the file to a safe location, so you don\u0026apos;t lose it. Then \u0026apos;git rm\u0026apos; the file and commit.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The file will still show up if you revert to one of those earlier commits, or another branch where it has not been removed. However, in all future commits, you will not see the file again. If the file is in the Git ignore, then you can move it back into the folder, and Git won\u0026apos;t see it.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In my case I needed to put \u0026quot;\u0026lt;code\u0026gt;.envrc\u0026lt;/code\u0026gt;\u0026quot; in the \u0026lt;em\u0026gt;.gitignore\u0026lt;/em\u0026gt; file.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;And then I used:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git update-index --skip-worktree .envrc\ngit rm --cached .envrc\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;And the file was removed.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Then I committed again, telling that the file was removed.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;But when I used the command \u0026lt;code\u0026gt;git log -p\u0026lt;/code\u0026gt;, the content of the file (which was secret credentials of the \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Amazon_S3\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Amazon S3\u0026lt;/a\u0026gt;) was showing the content which was removed and I don\u0026apos;t want to show this content ever on the history of the Git repository.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Then I used this command:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git filter-branch --index-filter \u0026apos;git rm --cached --ignore-unmatch .envrc\u0026apos; HEAD\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;And I don\u0026apos;t see the content again.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I liked \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/1274057/how-can-i-make-git-forget-about-a-file-that-was-tracked-but-is-now-in-gitign/34511442#34511442\u0026quot;\u0026gt;JonBrave\u0026apos;s answer\u0026lt;/a\u0026gt;, but I have messy enough working directories that \u0026lt;code\u0026gt;commit -a\u0026lt;/code\u0026gt; scares me a bit, so here\u0026apos;s what I\u0026apos;ve done:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git config --global alias.exclude-ignored \u0026apos;!git ls-files -z --ignored --exclude-standard | xargs -0 git rm -r --cached \u0026amp;amp;\u0026amp;amp;  git ls-files -z --ignored --exclude-standard | xargs -0 git stage \u0026amp;amp;\u0026amp;amp;  git stage .gitignore \u0026amp;amp;\u0026amp;amp; git commit -m \u0026quot;new gitignore and remove ignored files from index\u0026quot;\u0026apos;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Breaking it down:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git ls-files -z --ignored --exclude-standard | xargs -0 git rm -r --cached\ngit ls-files -z --ignored --exclude-standard | xargs -0 git stage\ngit stage .gitignore\ngit commit -m \u0026quot;new gitignore and remove ignored files from index\u0026quot;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;remove ignored files from the index\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;stage .gitignore and the files you just removed\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;commit\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The accepted answer does not \u0026quot;make Git \u0026lt;strong\u0026gt;\u0026quot;forget\u0026quot;\u0026lt;/strong\u0026gt; about a file...\u0026quot; (historically).  It only makes Git \u0026lt;strong\u0026gt;ignore\u0026lt;/strong\u0026gt; the file in the present/future.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This method makes Git \u0026lt;strong\u0026gt;completely forget\u0026lt;/strong\u0026gt; ignored files (\u0026lt;strong\u0026gt;past\u0026lt;/strong\u0026gt;/present/future), but it does \u0026lt;strong\u0026gt;not\u0026lt;/strong\u0026gt; delete anything from the working directory (even when re-pulled from remote).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This method requires usage of file \u0026lt;code\u0026gt;/.git/info/exclude\u0026lt;/code\u0026gt; (preferred) \u0026lt;strong\u0026gt;or\u0026lt;/strong\u0026gt; a \u0026lt;strong\u0026gt;pre-existing\u0026lt;/strong\u0026gt; \u0026lt;code\u0026gt;.gitignore\u0026lt;/code\u0026gt; in \u0026lt;strong\u0026gt;all\u0026lt;/strong\u0026gt; the commits that have files to be ignored/forgotten. \u0026lt;sup\u0026gt;1\u0026lt;/sup\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;All methods of enforcing Git ignore behavior after-the-fact effectively rewrite history and thus have \u0026lt;a href=\u0026quot;https://stackoverflow.com/q/1491001\u0026quot;\u0026gt;significant ramifications\u0026lt;/a\u0026gt; for any public/shared/collaborative repositories that might be pulled after this process. \u0026lt;sup\u0026gt;2\u0026lt;/sup\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;General advice: \u0026lt;strong\u0026gt;start with a clean repository\u0026lt;/strong\u0026gt; - everything committed, nothing pending in working directory or index, \u0026lt;strong\u0026gt;and make a backup\u0026lt;/strong\u0026gt;!\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Also, the comments/\u0026lt;a href=\u0026quot;https://stackoverflow.com/posts/57454176/revisions\u0026quot;\u0026gt;revision history\u0026lt;/a\u0026gt; of \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/57454176\u0026quot;\u0026gt;this answer\u0026lt;/a\u0026gt; (\u0026lt;a href=\u0026quot;https://stackoverflow.com/posts/57418769/revisions\u0026quot;\u0026gt;and revision history\u0026lt;/a\u0026gt; of \u0026lt;a href=\u0026quot;https://stackoverflow.com/posts/57418769\u0026quot;\u0026gt;this question\u0026lt;/a\u0026gt;) may be useful/enlightening.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sh s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#Commit up-to-date .gitignore (if not already existing)\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#This command must be run on each branch\u0026lt;/span\u0026gt;\n\ngit add .gitignore\ngit commit -m \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Create .gitignore\u0026quot;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#Apply standard Git ignore behavior only to the current index, not the working directory (--cached)\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#If this command returns nothing, ensure /.git/info/exclude AND/OR .gitignore exist\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#This command must be run on each branch\u0026lt;/span\u0026gt;\n\ngit ls-files -z --ignored --exclude-standard | xargs -0 git \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;rm\u0026lt;/span\u0026gt; --cached\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#Commit to prevent working directory data loss!\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#This commit will be automatically deleted by the --prune-empty flag in the following command\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#This command must be run on each branch\u0026lt;/span\u0026gt;\n\ngit commit -m \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;ignored index\u0026quot;\u0026lt;/span\u0026gt;\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#Apply standard git ignore behavior RETROACTIVELY to all commits from all branches (--all)\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#This step WILL delete ignored files from working directory UNLESS they have been dereferenced from the index by the commit above\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#This step will also delete any \u0026quot;empty\u0026quot; commits.  If deliberate \u0026quot;empty\u0026quot; commits should be kept, remove --prune-empty and instead run git reset HEAD^ immediately after this command\u0026lt;/span\u0026gt;\n\ngit filter-branch --tree-filter \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;git ls-files -z --ignored --exclude-standard | xargs -0 git rm -f --ignore-unmatch\u0026apos;\u0026lt;/span\u0026gt; --prune-empty --tag-name-filter \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;cat\u0026lt;/span\u0026gt; -- --all\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#List all still-existing files that are now ignored properly\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#If this command returns nothing, it\u0026apos;s time to restore from backup and start over\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#This command must be run on each branch\u0026lt;/span\u0026gt;\n\ngit ls-files --other --ignored --exclude-standard\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;Finally, follow the rest of this \u0026lt;a href=\u0026quot;https://help.github.com/en/articles/removing-sensitive-data-from-a-repository\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;GitHub guide\u0026lt;/a\u0026gt; (starting at step 6) \u0026lt;strong\u0026gt;which includes important warnings/information about the commands below\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sh s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;git push origin --force --all\ngit push origin --force --tags\ngit for-each-ref --format=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;delete %(refname)\u0026quot;\u0026lt;/span\u0026gt; refs/original | git update-ref --stdin\ngit reflog expire --expire=now --all\ngit gc --prune=now\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;Other developers that pull from the now-modified remote repository should make a backup and then:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-sh s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#fetch modified remote\u0026lt;/span\u0026gt;\n\ngit fetch --all\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#\u0026quot;Pull\u0026quot; changes WITHOUT deleting newly-ignored files from working directory\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;#This will overwrite local tracked files with remote - ensure any local modifications are backed-up/stashed\u0026lt;/span\u0026gt;\n\ngit reset FETCH_HEAD\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;h2 id=\u0026quot;footnotes-6jhk\u0026quot;\u0026gt;Footnotes\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;sup\u0026gt;1\u0026lt;/sup\u0026gt; Because \u0026lt;code\u0026gt;/.git/info/exclude\u0026lt;/code\u0026gt; can be applied to all historical commits using the instructions above, perhaps details about getting a \u0026lt;code\u0026gt;.gitignore\u0026lt;/code\u0026gt; file \u0026lt;em\u0026gt;into\u0026lt;/em\u0026gt; the historical commit(s) that need it is beyond the scope of this answer.  I wanted a proper \u0026lt;code\u0026gt;.gitignore\u0026lt;/code\u0026gt; file to be in the root commit, as if it was the first thing I did.  Others may not care since \u0026lt;code\u0026gt;/.git/info/exclude\u0026lt;/code\u0026gt; can accomplish the same thing regardless where the \u0026lt;code\u0026gt;.gitignore\u0026lt;/code\u0026gt; file exists in the commit history, and clearly rewriting history is a \u0026lt;strong\u0026gt;very\u0026lt;/strong\u0026gt; touchy subject, even when aware of the \u0026lt;a href=\u0026quot;https://stackoverflow.com/q/1491001\u0026quot;\u0026gt;ramifications\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;FWIW, potential methods may include \u0026lt;code\u0026gt;git rebase\u0026lt;/code\u0026gt; or a \u0026lt;code\u0026gt;git filter-branch\u0026lt;/code\u0026gt; that copies an \u0026lt;em\u0026gt;external\u0026lt;/em\u0026gt; \u0026lt;code\u0026gt;.gitignore\u0026lt;/code\u0026gt; into each commit, like the answers to \u0026lt;a href=\u0026quot;https://stackoverflow.com/q/43463687\u0026quot;\u0026gt;this question\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;sup\u0026gt;2\u0026lt;/sup\u0026gt; Enforcing Git ignore behavior after-the-fact by committing the results of a stand-alone \u0026lt;code\u0026gt;git rm --cached\u0026lt;/code\u0026gt; command may result in newly-ignored file \u0026lt;strong\u0026gt;deletion\u0026lt;/strong\u0026gt; in future pulls from the force-pushed remote. The \u0026lt;code\u0026gt;--prune-empty\u0026lt;/code\u0026gt; flag in the following \u0026lt;code\u0026gt;git filter-branch\u0026lt;/code\u0026gt; command avoids this problem by automatically removing the previous \u0026quot;delete all ignored files\u0026quot; index-only commit.  Rewriting Git history also changes commit hashes, which will \u0026lt;a href=\u0026quot;https://stackoverflow.com/q/1491001\u0026quot;\u0026gt;wreak havoc\u0026lt;/a\u0026gt; on future pulls from public/shared/collaborative repositories.  Please understand the \u0026lt;a href=\u0026quot;https://stackoverflow.com/q/1491001\u0026quot;\u0026gt;ramifications\u0026lt;/a\u0026gt; fully before doing this to such a repository. \u0026lt;a href=\u0026quot;https://help.github.com/en/articles/removing-sensitive-data-from-a-repository\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;This GitHub guide\u0026lt;/a\u0026gt; specifies the following:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;Tell your collaborators to \u0026lt;a href=\u0026quot;https://git-scm.com/book/en/Git-Branching-Rebasing\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;rebase\u0026lt;/a\u0026gt;, \u0026lt;em\u0026gt;not\u0026lt;/em\u0026gt; merge, any branches they created off of your old (tainted) repository history. One merge commit could reintroduce some or all of the tainted history that you just went to the trouble of purging.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;Alternative solutions that \u0026lt;strong\u0026gt;do not\u0026lt;/strong\u0026gt; affect the remote repository are \u0026lt;code\u0026gt;git update-index --assume-unchanged \u0026amp;lt;/path/file\u0026amp;gt;\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;git update-index --skip-worktree \u0026amp;lt;file\u0026amp;gt;\u0026lt;/code\u0026gt;, examples of which can be found \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/20241145\u0026quot;\u0026gt;here\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The \u0026lt;a href=\u0026quot;https://rtyley.github.io/bfg-repo-cleaner/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;BFG\u0026lt;/a\u0026gt; is specifically designed for removing unwanted data like big files or passwords from Git repositories, so it has a simple flag that will remove any large historical (not-in-your-current-commit) files: \u0026apos;--strip-blobs-bigger-than\u0026apos;\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;java -jar bfg.jar --strip-blobs-bigger-than 100M\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;If you\u0026apos;d like to specify files by name, you can do that too:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;java -jar bfg.jar --delete-files *.mp4\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;The BFG is 10-1000x faster than \u0026lt;code\u0026gt;git filter-branch\u0026lt;/code\u0026gt; and is generally much easier to use - check the \u0026lt;a href=\u0026quot;https://rtyley.github.io/bfg-repo-cleaner/#usage\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;full usage instructions\u0026lt;/a\u0026gt; and \u0026lt;a href=\u0026quot;https://rtyley.github.io/bfg-repo-cleaner/#examples\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;examples\u0026lt;/a\u0026gt; for more details.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Source: \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://confluence.atlassian.com/bitbucket/reduce-repository-size-321848262.html\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Reduce repository size\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you don\u0026apos;t want to use the CLI and are working on Windows, a very simple solution is to use \u0026lt;a href=\u0026quot;https://tortoisegit.org/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;TortoiseGit\u0026lt;/a\u0026gt;. It has the \u0026quot;Delete (keep local)\u0026quot; Action in the menu which works fine.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;This is no longer an issue in the latest Git\u0026lt;/strong\u0026gt; (v2.17.1 at the time of writing).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The \u0026lt;em\u0026gt;.gitignore\u0026lt;/em\u0026gt; file finally ignores tracked-but-deleted files. You can test this for yourself by running the following script. The final \u0026lt;code\u0026gt;git status\u0026lt;/code\u0026gt; statement should report \u0026quot;nothing to commit\u0026quot;.\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;# Create an empty repository\nmkdir gitignore-test\ncd gitignore-test\ngit init\n\n# Create a file and commit it\necho \u0026quot;hello\u0026quot; \u0026amp;gt; file\ngit add file\ngit commit -m initial\n\n# Add the file to gitignore and commit\necho \u0026quot;file\u0026quot; \u0026amp;gt; .gitignore\ngit add .gitignore\ngit commit -m gitignore\n\n# Remove the file and commit\ngit rm file\ngit commit -m \u0026quot;removed file\u0026quot;\n\n# Reintroduce the file and check status.\n# .gitignore is now respected - status reports \u0026quot;nothing to commit\u0026quot;.\necho \u0026quot;hello\u0026quot; \u0026amp;gt; file\ngit status\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This is how I solved my issue:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;git filter-branch --tree-filter \u0026apos;rm -rf path/to/your/file\u0026apos; HEAD\u0026lt;/code\u0026gt;\n\u0026lt;br\u0026gt; \u0026lt;code\u0026gt;git push\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;In this, we are basically trying to rewrite the history of that particular file in previous commits also.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For more information, you can refer to the \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Man_page\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;man page\u0026lt;/a\u0026gt; of filter-branch \u0026lt;a href=\u0026quot;https://git-scm.com/docs/git-filter-branch\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;here\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Source: \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://docs.github.com/en/github/authenticating-to-github/removing-sensitive-data-from-a-repository#using-filter-branch\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Removing sensitive data from a repository - using filter-branch\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Source: \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://thomas-cokelaer.info/blog/2018/02/git-how-to-remove-a-big-file-wrongly-committed/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Git: How to remove a big file wrongly committed\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In case of already committed \u0026lt;code\u0026gt;DS_Store\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;find . -name .DS_Store -print0 | xargs -0 git rm --ignore-unmatch\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Ignore them by:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;echo \u0026quot;.DS_Store\u0026quot; \u0026amp;gt;\u0026amp;gt; ~/.gitignore_global\necho \u0026quot;._.DS_Store\u0026quot; \u0026amp;gt;\u0026amp;gt; ~/.gitignore_global\necho \u0026quot;**/.DS_Store\u0026quot; \u0026amp;gt;\u0026amp;gt; ~/.gitignore_global\necho \u0026quot;**/._.DS_Store\u0026quot; \u0026amp;gt;\u0026amp;gt; ~/.gitignore_global\ngit config --global core.excludesfile ~/.gitignore_global\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Finally, make a commit!\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Especially for the IDE-based files, I use this:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For instance, for the slnx.sqlite file, I just got rid off it completely like the following:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git rm {PATH_OF_THE_FILE}/slnx.sqlite -f\ngit commit -m \u0026quot;remove slnx.sqlite\u0026quot;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Just keep that in mind that some of those files store some local user settings and preferences for projects (like what files you had open). So every time you navigate or do some changes in your IDE, that file is changed and therefore it checks it out and show as uncommitted changes.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If anyone is having a hard time on Windows and you want to ignore the entire folder, go to the desired \u0026apos;folder\u0026apos; on file explorer, right click and do \u0026apos;Git Bash Here\u0026apos; (Git for Windows should have been installed).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Run this command:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git ls-files -z | xargs -0 git update-index --assume-unchanged\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In my case here, I had several .lock files in several directories that I needed to remove. I ran the following and it worked without having to go into each directory to remove them:\u0026lt;/p\u0026gt;\n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git rm -r --cached **/*.lock\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Doing this went into each folder under the \u0026apos;root\u0026apos; of where I was at and excluded all files that matched the pattern.\u0026lt;/p\u0026gt;\n    "],"id":224,"title":"How do I make Git forget about a file that was tracked, but is now in .gitignore?","content":"\n                \n\u0026lt;p\u0026gt;There is a file that was being tracked by Git, but now the file is on the \u0026lt;code\u0026gt;.gitignore\u0026lt;/code\u0026gt; list.\nHowever, that file keeps showing up in \u0026lt;code\u0026gt;git status\u0026lt;/code\u0026gt; after it is edited. How do I force Git to completely forget about it?\u0026lt;/p\u0026gt;\n    ","slug":"how-do-i-make-git-forget-about-a-file-that-was-tracked-but-is-now-in-.gitignore-1657387328843","postType":"QUESTION","createdAt":"2022-07-09T17:22:08.000Z","updatedAt":"2022-07-09T17:22:08.000Z","tags":[{"id":1522,"name":"git","slug":"git","createdAt":"2022-07-09T17:22:08.000Z","updatedAt":"2022-07-09T17:22:08.000Z","Questions_Tags":{"questionId":224,"tagId":1522}},{"id":1523,"name":"gitignore","slug":"gitignore","createdAt":"2022-07-09T17:22:08.000Z","updatedAt":"2022-07-09T17:22:08.000Z","Questions_Tags":{"questionId":224,"tagId":1523}},{"id":1524,"name":"git-rm","slug":"git-rm","createdAt":"2022-07-09T17:22:08.000Z","updatedAt":"2022-07-09T17:22:08.000Z","Questions_Tags":{"questionId":224,"tagId":1524}}]}},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-do-i-make-git-forget-about-a-file-that-was-tracked-but-is-now-in-.gitignore-1657387328843"},"buildId":"d4czOeg3MGPNUI9SipfjN","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>