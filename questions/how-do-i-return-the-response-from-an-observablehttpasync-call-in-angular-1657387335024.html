<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/2eccd4d47c856f2b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2eccd4d47c856f2b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-25e5079ab4bd6ecd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-20edbe0b078add93.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/613-1e0aa2b2023820bb.js" defer=""></script><script src="/_next/static/chunks/495-bb1d5b202c02d7f2.js" defer=""></script><script src="/_next/static/chunks/471-84c36aa98dd4107c.js" defer=""></script><script src="/_next/static/chunks/81-301f760ac8107464.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-76d2c3e2d98bb08b.js" defer=""></script><script src="/_next/static/8pZkyd0U8-Y2Qf3QK9j7l/_buildManifest.js" defer=""></script><script src="/_next/static/8pZkyd0U8-Y2Qf3QK9j7l/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.5">.eZIPKL code{padding:5px;color:hsl(210deg 8% 15%);background-color:hsl(210deg 8% 90%);border-radius:3px;}/*!sc*/
data-styled.g5[id="sc-c4b0431a-0"]{content:"eZIPKL,"}/*!sc*/
</style></head><body><div id="__next"><div class="sc-9099c029-0 cIPEih"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="https://flowbite.com/docs/images/logo.svg" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo"/><span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Hunter</span></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-do-i-return-the-response-from-an-observablehttpasync-call-in-angular-1657387335024#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="sc-c5440139-0 figLul question my-5"><div class="sc-c4b0431a-0 eZIPKL flex question-header items-center justify-center"><div class="rounded-xl border p-5 shadow-md w-9/12 bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-do-i-return-the-response-from-an-observablehttpasync-call-in-angular-1657387335024">How do I return the response from an Observable/http/async call in angular?</a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/angular">angular</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/typescript">typescript</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/observable">observable</a></div></div><div class="question-content mt-5">
                
<p>I have service which returns an observable which does an http request to my server and gets the data. I want to use this data but I always end up getting <code>undefined</code>. What's the problem?</p>

<p><strong>Service</strong>:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">@<span class="hljs-title class_">Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EventService</span> {

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">private http: Http</span>) { }

  <span class="hljs-title function_">getEventList</span>(): <span class="hljs-title class_">Observable</span>&lt;any&gt;{
    <span class="hljs-keyword">let</span> headers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Headers</span>({ <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> });
    <span class="hljs-keyword">let</span> options = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RequestOptions</span>({ <span class="hljs-attr">headers</span>: headers });

    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">http</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">"http://localhost:9999/events/get"</span>, options)
                .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span> res.<span class="hljs-title function_">json</span>())
                .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span> err)
  }
}
</code></pre>

<p><strong>Component:</strong></p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">@<span class="hljs-title class_">Component</span>({...})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EventComponent</span> {

  <span class="hljs-attr">myEvents</span>: any;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"> private es: EventService </span>) { }

  <span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>){
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">es</span>.<span class="hljs-title function_">getEventList</span>()
        .<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">response</span>)=&gt;</span>{
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span> = response;
        });

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span>); <span class="hljs-comment">//This prints undefined!</span>
  }
}
</code></pre>

<p>I checked <a href="https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call">How do I return the response from an asynchronous call?</a> post but couldn't find a solution</p>
    </div></div></div><div class="sc-c4b0431a-2 cRqwQe"><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>Reason:</strong></p>

<p>The reason that it's <code>undefined</code> is that you are making an asynchronous operation. Meaning it'll take some time to complete the <code>getEventList</code> method (depending mostly on your network speed).</p>

<p>So lets look at the http call.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-property">es</span>.<span class="hljs-title function_">getEventList</span>()
</code></pre>

<p>After you actually make ("fire") your http request with <code>subscribe</code> you will be <strong>waiting</strong> for the response. While waiting, javascript will execute the lines below this code and if it encounters synchronous assignments/operations it'll execute them immediately.</p>

<p>So after subscribing to the <code>getEventList()</code> and waiting for the response,</p>

<p><code>console.log(this.myEvents);</code> </p>

<p>line will be executed immediately. And the value of it is <code>undefined</code> before the response arrives from the server (or to whatever that you have initialized it in the first place).</p>

<p>It is similar to doing:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>){
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>{
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span> = response;
    }, <span class="hljs-number">5000</span>);

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span>); <span class="hljs-comment">//This prints undefined!</span>
}
</code></pre>

<p></p><hr>
<strong>Solution:</strong><p></p>

<blockquote>
  <p>So how do we overcome this problem? We will use the callback function which is the <code>subscribe</code> method. Because when the data arrives from the server it'll be inside the <code>subscribe</code> with the response.</p>
</blockquote>

<p>So changing the code to:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-property">es</span>.<span class="hljs-title function_">getEventList</span>()
    .<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">response</span>)=&gt;</span>{
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span> = response;
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span>); <span class="hljs-comment">//&lt;-- not undefined anymore</span>
    });
</code></pre>

<p>will print the response.. after some time.
</p><hr>
<strong>What you should do:</strong><p></p>

<p>There might be lots of things to do with your response other than just logging it; you should do all these operations inside the callback (inside the <code>subscribe</code> function), when the data arrives.</p>

<p>Another thing to mention is that if you come from a <code>Promise</code> background, the <code>then</code> callback corresponds to <code>subscribe</code> with observables.
</p><hr>
<strong>What you shouldn't do:</strong><p></p>

<p>You shouldn't try to change an async operation to a sync operation (not that you can). One of the reasons that we have async operations is to not make the user wait for an operation to complete while they can do other things in that time period. Suppose that one of your async operations takes 3 minutes to complete, if we didn't have the async operations the interface would froze for 3 minutes.</p>

<hr>

<p><strong>Suggested Reading:</strong></p>

<p>The original credit to this answer goes to: <a href="https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call">How do I return the response from an asynchronous call?</a></p>

<p>But with the angular2 release we were introduced to typescript and observables so this answer hopefully covers the basics of handling an asynchronous request with observables.</p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Making a http call in angular/javascript is asynchronous operation.
So when you make http call it will assign new thread to finish this call and start execution next line with another thread.
That is why  you are getting undefined value.
so make below change to resolve this</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable language_">this</span>.<span class="hljs-property">es</span>.<span class="hljs-title function_">getEventList</span>()  
      .<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">response</span>)=&gt;</span>{  
       <span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span> = response;  
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span>); <span class="hljs-comment">//&lt;-this become synchronous now  </span>
    });
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can use <a href="https://angular.io/api/common/AsyncPipe" rel="nofollow noreferrer">asyncPipe</a> if you use myEvents only in template.</p>
<p>Here example with asyncPipe and Angular4 HttpClient <a href="https://stackblitz.com/edit/angular-rhioqt?file=app%2Fevent.service.ts" rel="nofollow noreferrer">example</a></p>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Observables are lazy so you have to subscribe to get the value. You subscribed it properly in your code but simultaneously logged the output outside the 'subscribe' block. That's why it is 'undefined'.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">es</span>.<span class="hljs-title function_">getEventList</span>()
    .<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span> = response;
    });

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span>); <span class="hljs-comment">//Outside the subscribe block 'Undefined'</span>
}
</code></pre>

<p>So if you log it inside the subscribe block then it will log response properly.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>){
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">es</span>.<span class="hljs-title function_">getEventList</span>()
    .<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">response</span>)=&gt;</span>{
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span> = response;
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span>); <span class="hljs-comment">//Inside the subscribe block 'http response'</span>
    });
}
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here the problem is, you are initializing <code>this.myEvents</code> into <code>subscribe()</code> which is an asynchronous block while you are doing <code>console.log()</code> just out of <code>subscribe()</code> block.
So <code>console.log()</code> getting called before <code>this.myEvents</code> gets initialized.</p>

<p>Please move your console.log() code as well inside subscribe() and you are done.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>){
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">es</span>.<span class="hljs-title function_">getEventList</span>()
        .<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">response</span>)=&gt;</span>{
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span> = response;
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span>);
        });
  }
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The result is undefined because angular process async .
you can trying as below:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">async</span> <span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>){
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">es</span>.<span class="hljs-title function_">getEventList</span>();
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res));
}
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Also make sure that you map your response to a json output. Otherwise it will return plain text. You do it this like this:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">getEventList</span>(): <span class="hljs-title class_">Observable</span>&lt;any&gt; {
<span class="hljs-keyword">let</span> headers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Headers</span>({ <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> });
<span class="hljs-keyword">let</span> options = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RequestOptions</span>({ <span class="hljs-attr">headers</span>: headers });

<span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">http</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">"http://localhost:9999/events/get"</span>, options)
            .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>{ <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">json</span>();}) &lt;!-- add call to json here
            .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span>{<span class="hljs-keyword">return</span> err;})
}
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Undefined because the value here is logged before any data from the service is set from that above subscribe service call.  So you have to wait until the ajax call finishes and set the data from the response data. </p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">getEventList</span>(): <span class="hljs-title class_">Observable</span>&lt;any&gt;{
    <span class="hljs-keyword">let</span> headers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Headers</span>({ <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> });
    <span class="hljs-keyword">let</span> options = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RequestOptions</span>({ <span class="hljs-attr">headers</span>: headers });

    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">http</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">"http://localhost:9999/events/get"</span>, options)
                .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span> res.<span class="hljs-title function_">json</span>())
                .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>)=&gt;</span> err)
  }
</code></pre>

<p>Here make the Console log inside the  subscribe method that will make the log when the data is set in myEvents variable.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>){
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">es</span>.<span class="hljs-title function_">getEventList</span>()
        .<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">response</span>)=&gt;</span>{
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span> = response;
     <span class="hljs-comment">// This prints the value from the response</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myEvents</span>)
        }); 
  }
</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>To do this you have 2 options:</strong></p>
<p>Suppose we have a service which is returning shipping details array :</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">  <span class="hljs-title function_">getShippingPrices</span>(): <span class="hljs-title class_">Observable</span>&lt;<span class="hljs-title class_">IShippingDetails</span>[]&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">http</span>.<span class="hljs-property">get</span>&lt;<span class="hljs-title class_">IShippingDetails</span>[]&gt;(<span class="hljs-string">'/assets/shipping.json'</span>);
  }
</code></pre>
<p><strong>1. Use Async pipe</strong> : Easy way when you just want to show the result in template</p>
<p>In the component class directly assign the observable to variable:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ShippingComponent</span> implements <span class="hljs-title class_">OnInit</span> {
  shipOptions1 = <span class="hljs-variable language_">this</span>.<span class="hljs-property">cartService</span>.<span class="hljs-title function_">getShippingPrices</span>();
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">private cartService: CartService</span>) {}

  <span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>) {}
}
</code></pre>
<p>and then use async pipe in template :</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">&lt;div *ngFor=<span class="hljs-string">"let s of shipOptions1 |async"</span>&gt;
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>{{s.type}}<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span>
&lt;/div&gt;
</code></pre>
<p>Refer: Check the 4th point in this URL
<a href="https://angular.io/start/start-data#configuring-the-shippingcomponent-to-use-cartservice" rel="nofollow noreferrer">https://angular.io/start/start-data#configuring-the-shippingcomponent-to-use-cartservice</a></p>
<p><strong>2. Use Subscribe</strong> : When you want to manipulate it or want do some business logic on/from response</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ShippingComponent</span> implements <span class="hljs-title class_">OnInit</span> {
  <span class="hljs-attr">shipOptions2</span>: <span class="hljs-title class_">IShippingDetails</span>[] = [];
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">private cartService: CartService</span>) {}

  <span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cartService</span>.<span class="hljs-title function_">getShippingPrices</span>().<span class="hljs-title function_">subscribe</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">shipOptions2</span> = response;
      <span class="hljs-comment">//console.log(this.myEvents);</span>
      <span class="hljs-comment">//All other code using shipOptions2</span>
    });
  }
}

</code></pre>
    </div></div></div></div><div class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 10</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can simply try this method-</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">let</span> headers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Headers</span>({<span class="hljs-string">'Accept'</span>: <span class="hljs-string">'application/json'</span>});
<span class="hljs-keyword">let</span> options = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RequestOptions</span>({<span class="hljs-attr">headers</span>: headers});

<span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">http</span>
    .<span class="hljs-title function_">get</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">yourSearchUrlHere</span>, options) <span class="hljs-comment">// the URL which you have defined</span>
    .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
        res.<span class="hljs-title function_">json</span>(); <span class="hljs-comment">// using return res.json() will throw error</span>
    }
    .<span class="hljs-title function_">catch</span>(err) =&gt; {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'error'</span>);
    }
</code></pre>
    </div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Reason:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The reason that it\u0026apos;s \u0026lt;code\u0026gt;undefined\u0026lt;/code\u0026gt; is that you are making an asynchronous operation. Meaning it\u0026apos;ll take some time to complete the \u0026lt;code\u0026gt;getEventList\u0026lt;/code\u0026gt; method (depending mostly on your network speed).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So lets look at the http call.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;es\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;After you actually make (\u0026quot;fire\u0026quot;) your http request with \u0026lt;code\u0026gt;subscribe\u0026lt;/code\u0026gt; you will be \u0026lt;strong\u0026gt;waiting\u0026lt;/strong\u0026gt; for the response. While waiting, javascript will execute the lines below this code and if it encounters synchronous assignments/operations it\u0026apos;ll execute them immediately.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;So after subscribing to the \u0026lt;code\u0026gt;getEventList()\u0026lt;/code\u0026gt; and waiting for the response,\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;console.log(this.myEvents);\u0026lt;/code\u0026gt; \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;line will be executed immediately. And the value of it is \u0026lt;code\u0026gt;undefined\u0026lt;/code\u0026gt; before the response arrives from the server (or to whatever that you have initialized it in the first place).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;It is similar to doing:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ngOnInit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;setTimeout\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;()=\u0026amp;gt;\u0026lt;/span\u0026gt;{\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt; = response;\n    }, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5000\u0026lt;/span\u0026gt;);\n\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//This prints undefined!\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;hr\u0026gt;\n\u0026lt;strong\u0026gt;Solution:\u0026lt;/strong\u0026gt;\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;So how do we overcome this problem? We will use the callback function which is the \u0026lt;code\u0026gt;subscribe\u0026lt;/code\u0026gt; method. Because when the data arrives from the server it\u0026apos;ll be inside the \u0026lt;code\u0026gt;subscribe\u0026lt;/code\u0026gt; with the response.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;So changing the code to:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;es\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;()\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;subscribe\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;{\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt; = response;\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//\u0026amp;lt;-- not undefined anymore\u0026lt;/span\u0026gt;\n    });\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;will print the response.. after some time.\n\u0026lt;/p\u0026gt;\u0026lt;hr\u0026gt;\n\u0026lt;strong\u0026gt;What you should do:\u0026lt;/strong\u0026gt;\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;There might be lots of things to do with your response other than just logging it; you should do all these operations inside the callback (inside the \u0026lt;code\u0026gt;subscribe\u0026lt;/code\u0026gt; function), when the data arrives.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Another thing to mention is that if you come from a \u0026lt;code\u0026gt;Promise\u0026lt;/code\u0026gt; background, the \u0026lt;code\u0026gt;then\u0026lt;/code\u0026gt; callback corresponds to \u0026lt;code\u0026gt;subscribe\u0026lt;/code\u0026gt; with observables.\n\u0026lt;/p\u0026gt;\u0026lt;hr\u0026gt;\n\u0026lt;strong\u0026gt;What you shouldn\u0026apos;t do:\u0026lt;/strong\u0026gt;\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You shouldn\u0026apos;t try to change an async operation to a sync operation (not that you can). One of the reasons that we have async operations is to not make the user wait for an operation to complete while they can do other things in that time period. Suppose that one of your async operations takes 3 minutes to complete, if we didn\u0026apos;t have the async operations the interface would froze for 3 minutes.\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Suggested Reading:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The original credit to this answer goes to: \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\u0026quot;\u0026gt;How do I return the response from an asynchronous call?\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;But with the angular2 release we were introduced to typescript and observables so this answer hopefully covers the basics of handling an asynchronous request with observables.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Making a http call in angular/javascript is asynchronous operation.\nSo when you make http call it will assign new thread to finish this call and start execution next line with another thread.\nThat is why  you are getting undefined value.\nso make below change to resolve this\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;es\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;()  \n      .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;subscribe\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;{  \n       \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt; = response;  \n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//\u0026amp;lt;-this become synchronous now  \u0026lt;/span\u0026gt;\n    });\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can use \u0026lt;a href=\u0026quot;https://angular.io/api/common/AsyncPipe\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;asyncPipe\u0026lt;/a\u0026gt; if you use myEvents only in template.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Here example with asyncPipe and Angular4 HttpClient \u0026lt;a href=\u0026quot;https://stackblitz.com/edit/angular-rhioqt?file=app%2Fevent.service.ts\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;example\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Observables are lazy so you have to subscribe to get the value. You subscribed it properly in your code but simultaneously logged the output outside the \u0026apos;subscribe\u0026apos; block. That\u0026apos;s why it is \u0026apos;undefined\u0026apos;.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ngOnInit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n  \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;es\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;()\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;subscribe\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt; = response;\n    });\n\n  \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Outside the subscribe block \u0026apos;Undefined\u0026apos;\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;So if you log it inside the subscribe block then it will log response properly.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ngOnInit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n  \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;es\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;()\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;subscribe\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;{\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt; = response;\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Inside the subscribe block \u0026apos;http response\u0026apos;\u0026lt;/span\u0026gt;\n    });\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here the problem is, you are initializing \u0026lt;code\u0026gt;this.myEvents\u0026lt;/code\u0026gt; into \u0026lt;code\u0026gt;subscribe()\u0026lt;/code\u0026gt; which is an asynchronous block while you are doing \u0026lt;code\u0026gt;console.log()\u0026lt;/code\u0026gt; just out of \u0026lt;code\u0026gt;subscribe()\u0026lt;/code\u0026gt; block.\nSo \u0026lt;code\u0026gt;console.log()\u0026lt;/code\u0026gt; getting called before \u0026lt;code\u0026gt;this.myEvents\u0026lt;/code\u0026gt; gets initialized.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Please move your console.log() code as well inside subscribe() and you are done.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ngOnInit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;es\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;()\n        .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;subscribe\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;{\n            \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt; = response;\n            \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt;);\n        });\n  }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The result is undefined because angular process async .\nyou can trying as below:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;async\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ngOnInit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;const\u0026lt;/span\u0026gt; res = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;await\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;es\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;();\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;JSON\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;stringify\u0026lt;/span\u0026gt;(res));\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Also make sure that you map your response to a json output. Otherwise it will return plain text. You do it this like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;(): \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Observable\u0026lt;/span\u0026gt;\u0026amp;lt;any\u0026amp;gt; {\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; headers = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Headers\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Content-Type\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;application/json\u0026apos;\u0026lt;/span\u0026gt; });\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; options = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RequestOptions\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;headers\u0026lt;/span\u0026gt;: headers });\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://localhost:9999/events/get\u0026quot;\u0026lt;/span\u0026gt;, options)\n            .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;res\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;{ \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; res.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;json\u0026lt;/span\u0026gt;();}) \u0026amp;lt;!-- add call to json here\n            .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;err\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;{\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; err;})\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Undefined because the value here is logged before any data from the service is set from that above subscribe service call.  So you have to wait until the ajax call finishes and set the data from the response data. \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;(): \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Observable\u0026lt;/span\u0026gt;\u0026amp;lt;any\u0026amp;gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; headers = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Headers\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Content-Type\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;application/json\u0026apos;\u0026lt;/span\u0026gt; });\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; options = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RequestOptions\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;headers\u0026lt;/span\u0026gt;: headers });\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://localhost:9999/events/get\u0026quot;\u0026lt;/span\u0026gt;, options)\n                .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;res\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt; res.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;json\u0026lt;/span\u0026gt;())\n                .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;err\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt; err)\n  }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Here make the Console log inside the  subscribe method that will make the log when the data is set in myEvents variable.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ngOnInit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;es\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;()\n        .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;subscribe\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;{\n            \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt; = response;\n     \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// This prints the value from the response\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt;)\n        }); \n  }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;To do this you have 2 options:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Suppose we have a service which is returning shipping details array :\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getShippingPrices\u0026lt;/span\u0026gt;(): \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Observable\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;IShippingDetails\u0026lt;/span\u0026gt;[]\u0026amp;gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;IShippingDetails\u0026lt;/span\u0026gt;[]\u0026amp;gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;/assets/shipping.json\u0026apos;\u0026lt;/span\u0026gt;);\n  }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;1. Use Async pipe\u0026lt;/strong\u0026gt; : Easy way when you just want to show the result in template\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;In the component class directly assign the observable to variable:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;export\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ShippingComponent\u0026lt;/span\u0026gt; implements \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;OnInit\u0026lt;/span\u0026gt; {\n  shipOptions1 = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;cartService\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getShippingPrices\u0026lt;/span\u0026gt;();\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;constructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;private cartService: CartService\u0026lt;/span\u0026gt;) {}\n\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ngOnInit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {}\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;and then use async pipe in template :\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026amp;lt;div *ngFor=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;let s of shipOptions1 |async\u0026quot;\u0026lt;/span\u0026gt;\u0026amp;gt;\n  \u0026lt;span class=\u0026quot;language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;label\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;{{s.type}}\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;label\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\n\u0026amp;lt;/div\u0026amp;gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Refer: Check the 4th point in this URL\n\u0026lt;a href=\u0026quot;https://angular.io/start/start-data#configuring-the-shippingcomponent-to-use-cartservice\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;https://angular.io/start/start-data#configuring-the-shippingcomponent-to-use-cartservice\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;2. Use Subscribe\u0026lt;/strong\u0026gt; : When you want to manipulate it or want do some business logic on/from response\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;export\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ShippingComponent\u0026lt;/span\u0026gt; implements \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;OnInit\u0026lt;/span\u0026gt; {\n  \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;shipOptions2\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;IShippingDetails\u0026lt;/span\u0026gt;[] = [];\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;constructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;private cartService: CartService\u0026lt;/span\u0026gt;) {}\n\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ngOnInit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;cartService\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getShippingPrices\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;subscribe\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n      \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;shipOptions2\u0026lt;/span\u0026gt; = response;\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//console.log(this.myEvents);\u0026lt;/span\u0026gt;\n      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//All other code using shipOptions2\u0026lt;/span\u0026gt;\n    });\n  }\n}\n\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You can simply try this method-\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; headers = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Headers\u0026lt;/span\u0026gt;({\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Accept\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;application/json\u0026apos;\u0026lt;/span\u0026gt;});\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; options = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RequestOptions\u0026lt;/span\u0026gt;({\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;headers\u0026lt;/span\u0026gt;: headers});\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;yourSearchUrlHere\u0026lt;/span\u0026gt;, options) \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// the URL which you have defined\u0026lt;/span\u0026gt;\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;res\u0026lt;/span\u0026gt;) =\u0026amp;gt;\u0026lt;/span\u0026gt; {\n        res.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;json\u0026lt;/span\u0026gt;(); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// using return res.json() will throw error\u0026lt;/span\u0026gt;\n    }\n    .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt;(err) =\u0026amp;gt; {\n        \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;error\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;error\u0026apos;\u0026lt;/span\u0026gt;);\n    }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"id":226,"title":"How do I return the response from an Observable/http/async call in angular?","content":"\n                \n\u0026lt;p\u0026gt;I have service which returns an observable which does an http request to my server and gets the data. I want to use this data but I always end up getting \u0026lt;code\u0026gt;undefined\u0026lt;/code\u0026gt;. What\u0026apos;s the problem?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Service\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;@\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Injectable\u0026lt;/span\u0026gt;()\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;export\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;EventService\u0026lt;/span\u0026gt; {\n\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;constructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;private http: Http\u0026lt;/span\u0026gt;) { }\n\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;(): \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Observable\u0026lt;/span\u0026gt;\u0026amp;lt;any\u0026amp;gt;{\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; headers = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Headers\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Content-Type\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;application/json\u0026apos;\u0026lt;/span\u0026gt; });\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;let\u0026lt;/span\u0026gt; options = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;RequestOptions\u0026lt;/span\u0026gt;({ \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;headers\u0026lt;/span\u0026gt;: headers });\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://localhost:9999/events/get\u0026quot;\u0026lt;/span\u0026gt;, options)\n                .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;map\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;res\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt; res.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;json\u0026lt;/span\u0026gt;())\n                .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;err\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt; err)\n  }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Component:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;@\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Component\u0026lt;/span\u0026gt;({...})\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;export\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;EventComponent\u0026lt;/span\u0026gt; {\n\n  \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt;: any;\n\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;constructor\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt; private es: EventService \u0026lt;/span\u0026gt;) { }\n\n  \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;ngOnInit\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;){\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;es\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getEventList\u0026lt;/span\u0026gt;()\n        .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;subscribe\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt;)=\u0026amp;gt;\u0026lt;/span\u0026gt;{\n            \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt; = response;\n        });\n\n    \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;myEvents\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//This prints undefined!\u0026lt;/span\u0026gt;\n  }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;I checked \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\u0026quot;\u0026gt;How do I return the response from an asynchronous call?\u0026lt;/a\u0026gt; post but couldn\u0026apos;t find a solution\u0026lt;/p\u0026gt;\n    ","slug":"how-do-i-return-the-response-from-an-observablehttpasync-call-in-angular-1657387335024","postType":"QUESTION","createdAt":"2022-07-09T17:22:15.000Z","updatedAt":"2022-07-09T17:22:15.000Z","tags":[{"id":1531,"name":"angular","slug":"angular","createdAt":"2022-07-09T17:22:15.000Z","updatedAt":"2022-07-09T17:22:15.000Z","Questions_Tags":{"questionId":226,"tagId":1531}},{"id":1533,"name":"typescript","slug":"typescript","createdAt":"2022-07-09T17:22:15.000Z","updatedAt":"2022-07-09T17:22:15.000Z","Questions_Tags":{"questionId":226,"tagId":1533}},{"id":1534,"name":"observable","slug":"observable","createdAt":"2022-07-09T17:22:15.000Z","updatedAt":"2022-07-09T17:22:15.000Z","Questions_Tags":{"questionId":226,"tagId":1534}}]}},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-do-i-return-the-response-from-an-observablehttpasync-call-in-angular-1657387335024"},"buildId":"8pZkyd0U8-Y2Qf3QK9j7l","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>