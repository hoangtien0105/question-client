<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>I just assigned a variable, but echo $variable shows something else | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="Here are a series of cases where echo $var can show a different value than what was just assigned. This happens regardless of whether the assigned value was &quot;double quoted&quot;, &#x27;single quoted&#x27; or unquoted. 

How do I get the shell to set my variable correctly?

Asterisks

The expected output is /* Foobar is free software */, but instead I get a list of filenames:

$ var=&quot;/* Foobar is free software */&quot;
$ echo $var 
/bin /boot /dev /etc /home /initrd.img /lib /lib64 /media /mnt /opt /proc ...


Square brackets

The expected value is [a-z], but sometimes I get a single letter instead!

$ var=[a-z]
$ echo $var
c


Line feeds (newlines)

The expected value is a  a list of separate lines, but instead all the values are on one line!

$ cat file
foo
bar
baz

$ var=$(cat file)
$ echo $var
foo bar baz


Multiple spaces

I expected a carefully aligned table header, but instead multiple spaces either disappear or are collapsed into one!

$ var=&quot;       title     |    count&quot;
$ echo $var
title | count


Tabs

I expected two tab separated values, but instead I get two space separated values!

$ var=$&#x27;key\tvalue&#x27;
$ echo $var
key value

    "/><meta property="og:title" content="I just assigned a variable, but echo $variable shows something else | Solutions Checker"/><meta property="og:description" content="Here are a series of cases where echo $var can show a different value than what was just assigned. This happens regardless of whether the assigned value was &quot;double quoted&quot;, &#x27;single quoted&#x27; or unquoted. 

How do I get the shell to set my variable correctly?

Asterisks

The expected output is /* Foobar is free software */, but instead I get a list of filenames:

$ var=&quot;/* Foobar is free software */&quot;
$ echo $var 
/bin /boot /dev /etc /home /initrd.img /lib /lib64 /media /mnt /opt /proc ...


Square brackets

The expected value is [a-z], but sometimes I get a single letter instead!

$ var=[a-z]
$ echo $var
c


Line feeds (newlines)

The expected value is a  a list of separate lines, but instead all the values are on one line!

$ cat file
foo
bar
baz

$ var=$(cat file)
$ echo $var
foo bar baz


Multiple spaces

I expected a carefully aligned table header, but instead multiple spaces either disappear or are collapsed into one!

$ var=&quot;       title     |    count&quot;
$ echo $var
title | count


Tabs

I expected two tab separated values, but instead I get two space separated values!

$ var=$&#x27;key\tvalue&#x27;
$ echo $var
key value

    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"I just assigned a variable, but echo $variable shows something else","text":"Here are a series of cases where echo $var can show a different value than what was just assigned. This happens regardless of whether the assigned value was &quot;double quoted&quot;, &apos;single quoted&apos; or unquoted. \n\nHow do I get the shell to set my variable correctly?\n\nAsterisks\n\nThe expected output is /* Foobar is free software */, but instead I get a list of filenames:\n\n$ var=&quot;/* Foobar is free software */&quot;\n$ echo $var \n/bin /boot /dev /etc /home /initrd.img /lib /lib64 /media /mnt /opt /proc ...\n\n\nSquare brackets\n\nThe expected value is [a-z], but sometimes I get a single letter instead!\n\n$ var=[a-z]\n$ echo $var\nc\n\n\nLine feeds (newlines)\n\nThe expected value is a  a list of separate lines, but instead all the values are on one line!\n\n$ cat file\nfoo\nbar\nbaz\n\n$ var=$(cat file)\n$ echo $var\nfoo bar baz\n\n\nMultiple spaces\n\nI expected a carefully aligned table header, but instead multiple spaces either disappear or are collapsed into one!\n\n$ var=&quot;       title     |    count&quot;\n$ echo $var\ntitle | count\n\n\nTabs\n\nI expected two tab separated values, but instead I get two space separated values!\n\n$ var=$&apos;key\\tvalue&apos;\n$ echo $var\nkey value\n\n    ","answerCount":7,"upVoteCount":500,"suggestedAnswer":[{"text":"In all of the cases above, the variable is correctly set, but not correctly read! The right way is to use double quotes when referencing:\n\necho &quot;$var&quot;\n\n\nThis gives the expected value in all the examples given. Always quote variable references!\n\n\n\nWhy? \n\nWhen a variable is unquoted, it will:\n\n\nUndergo field splitting where the value is split into multiple words on whitespace (by default):\n\nBefore: /* Foobar is free software */\n\nAfter: /*, Foobar, is, free, software, */\nEach of these words will undergo pathname expansion, where patterns are expanded into matching files:\n\nBefore: /*\n\nAfter: /bin, /boot, /dev, /etc, /home, ...\nFinally, all the arguments are passed to echo, which writes them out separated by single spaces, giving\n\n/bin /boot /dev /etc /home Foobar is free software Desktop/ Downloads/\n\n\ninstead of the variable&apos;s value.\n\n\nWhen the variable is quoted it will:\n\n\nBe substituted for its value.\nThere is no step 2.\n\n\nThis is why you should always quote all variable references, unless you specifically require word splitting and pathname expansion. Tools like shellcheck are there to help, and will warn about missing quotes in all the cases above.\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"You may want to know why this is happening. Together with the great explanation by that other guy, find a reference of Why does my shell script choke on whitespace or other special characters? written by Gilles in Unix &amp; Linux:\n\n\n  Why do I need to write &quot;$foo&quot;? What happens without the quotes?\n  \n  $foo does not mean take the value of the variable foo. It means\n  something much more complex:\n  \n  \n  First, take the value of the variable.  \n  Field splitting: treat that value as a whitespace-separated list of fields, and build the resulting list. For example, if the variable\n  contains foo *  bar  then the result of this step is the 3-element\n  list foo, *, bar.  \n  Filename generation: treat each field as a glob, i.e. as a wildcard pattern, and replace it by the list of file names that match this\n  pattern. If the pattern doesn&apos;t match any files, it is left\n  unmodified. In our example, this results in the list containing foo,\n  following by the list of files in the current directory, and finally\n  bar. If the current directory is empty, the result is foo, *,\n  bar.\n  \n  \n  Note that the result is a list of strings. There are two contexts in\n  shell syntax: list context and string context. Field splitting and\n  filename generation only happen in list context, but that&apos;s most of\n  the time. Double quotes delimit a string context: the whole\n  double-quoted string is a single string, not to be split. (Exception:\n  &quot;$@&quot; to expand to the list of positional parameters, e.g. &quot;$@&quot; is\n  equivalent to &quot;$1&quot; &quot;$2&quot; &quot;$3&quot; if there are three positional\n  parameters. See What is the difference between $* and $@?)\n  \n  The same happens to command substitution with $(foo) or with \n  `foo`. On a side note, don&apos;t use `foo`: its quoting rules are\n  weird and non-portable, and all modern shells support $(foo) which\n  is absolutely equivalent except for having intuitive quoting rules.\n  \n  The output of arithmetic substitution also undergoes the same\n  expansions, but that isn&apos;t normally a concern as it only contains\n  non-expandable characters (assuming IFS doesn&apos;t contain digits or\n  -).\n  \n  See When is double-quoting necessary? for more details about the\n  cases when you can leave out the quotes.\n  \n  Unless you mean for all this rigmarole to happen, just remember to\n  always use double quotes around variable and command substitutions. Do\n  take care: leaving out the quotes can lead not just to errors but to\n  security\n  holes.\n\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"In addition to other issues caused by failing to quote, -n and -e can be consumed by echo as arguments. (Only the former is legal per the POSIX spec for echo, but several common implementations violate the spec and consume -e as well).\nTo avoid this, use printf instead of echo when details matter.\nThus:\n$ vars=&quot;-e -n -a&quot;\n$ echo $vars      # breaks because -e and -n can be treated as arguments to echo\n-a\n$ echo &quot;$vars&quot;\n-e -n -a\n\nHowever, correct quoting won&apos;t always save you when using echo:\n$ vars=&quot;-n&quot;\n$ echo &quot;$vars&quot;\n$ ## not even an empty line was printed\n\n...whereas it will save you with printf:\n$ vars=&quot;-n&quot;\n$ printf &apos;%s\\n&apos; &quot;$vars&quot;\n-n\n\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"user double quote to get the exact value. like this:\n\necho &quot;${var}&quot;\n\n\nand it will read your value correctly.\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"echo $var output highly depends on the value of IFS variable. By default it contains space, tab, and newline characters:\n\n[ks@localhost ~]$ echo -n &quot;$IFS&quot; | cat -vte\n ^I$\n\n\nThis means that when shell is doing field splitting (or word splitting) it uses all these characters as word separators. This is what happens when referencing a variable without double quotes to echo it ($var) and thus expected output is altered.\n\nOne way to prevent word splitting (besides using double quotes) is to set IFS to null. See http://pubs.opengroup.org/onlinepubs/009695399/utilities/xcu_chap02.html#tag_02_06_05 :\n\n\n  If the value of IFS is null, no field splitting shall be performed.\n\n\nSetting to null means setting to empty \nvalue:\n\nIFS=\n\n\n\n\nTest:\n\n[ks@localhost ~]$ echo -n &quot;$IFS&quot; | cat -vte\n ^I$\n[ks@localhost ~]$ var=$&apos;key\\nvalue&apos;\n[ks@localhost ~]$ echo $var\nkey value\n[ks@localhost ~]$ IFS=\n[ks@localhost ~]$ echo $var\nkey\nvalue\n[ks@localhost ~]$ \n\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"The answer from ks1322 helped me to identify the issue while using docker-compose exec:\n\nIf you omit the -T flag, docker-compose exec add a special character that break output, we see b instead of 1b:\n\n$ test=$(/usr/local/bin/docker-compose exec db bash -c &quot;echo 1&quot;)\n$ echo &quot;${test}b&quot;\nb\n\n\necho &quot;${test}&quot; | cat -vte\n1^M$\n\n\nWith -T flag, docker-compose exec works as expected:\n\n$ test=$(/usr/local/bin/docker-compose exec -T db bash -c &quot;echo 1&quot;)\n$ echo &quot;${test}b&quot;\n1b\n\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"Additional to putting the variable in quotation, one could also translate the output of the variable using tr and converting spaces to newlines.\n\n$ echo $var | tr &quot; &quot; &quot;\\n&quot;\nfoo\nbar\nbaz\n\n\nAlthough this is a little more convoluted, it does add more diversity with the output as you can substitute any character as the separator between array variables.\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/9fb80f4eb9e2d3c9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9fb80f4eb9e2d3c9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-25e5079ab4bd6ecd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-18d80dcb3110b1ad.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/532-fec3344a80918110.js" defer=""></script><script src="/_next/static/chunks/495-bb1d5b202c02d7f2.js" defer=""></script><script src="/_next/static/chunks/817-363561828babdd16.js" defer=""></script><script src="/_next/static/chunks/81-89fd2eaadd8354ed.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-16d8c84aea765d4e.js" defer=""></script><script src="/_next/static/D-Vv5KfwuaE883xCdWfex/_buildManifest.js" defer=""></script><script src="/_next/static/D-Vv5KfwuaE883xCdWfex/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.5">.dlbxiY code{padding:5px;color:hsl(210deg 8% 15%);background-color:hsl(210deg 8% 90%);border-radius:3px;}/*!sc*/
data-styled.g5[id="sc-344134f6-0"]{content:"dlbxiY,"}/*!sc*/
</style></head><body><div id="__next"><div class="sc-9099c029-0 cIPEih"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo.svg" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/i-just-assigned-a-variable-but-echo-dollarvariable-shows-something-else-1657387574561#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="sc-c5440139-0 figLul question my-5"><div class="sc-344134f6-0 dlbxiY flex question-header items-center justify-center"><div class="rounded-xl border p-5 shadow-md w-9/12 bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/i-just-assigned-a-variable-but-echo-dollarvariable-shows-something-else-1657387574561">I just assigned a variable, but echo $variable shows something else</a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/quoting">quoting</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/sh">sh</a></div></div><div class="question-content mt-5">
                
<p>Here are a series of cases where <code>echo $var</code> can show a different value than what was just assigned. This happens regardless of whether the assigned value was "double quoted", 'single quoted' or unquoted. </p>

<p>How do I get the shell to set my variable correctly?</p>

<p><strong>Asterisks</strong></p>

<p>The expected output is <code>/* Foobar is free software */</code>, but instead I get a list of filenames:</p>

<pre class="lang-bash s-code-block"><code class="hljs language-bash">$ var=<span class="hljs-string">"/* Foobar is free software */"</span>
$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$var</span> 
/bin /boot /dev /etc /home /initrd.img /lib /lib64 /media /mnt /opt /proc ...
</code></pre>

<p><strong>Square brackets</strong></p>

<p>The expected value is <code>[a-z]</code>, but sometimes I get a single letter instead!</p>

<pre class="lang-bash s-code-block"><code class="hljs language-bash">$ var=[a-z]
$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$var</span>
c
</code></pre>

<p><strong>Line feeds (newlines)</strong></p>

<p>The expected value is a  a list of separate lines, but instead all the values are on one line!</p>

<pre class="lang-bash s-code-block"><code class="hljs language-bash">$ <span class="hljs-built_in">cat</span> file
foo
bar
baz

$ var=$(<span class="hljs-built_in">cat</span> file)
$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$var</span>
foo bar baz
</code></pre>

<p><strong>Multiple spaces</strong></p>

<p>I expected a carefully aligned table header, but instead multiple spaces either disappear or are collapsed into one!</p>

<pre class="lang-bash s-code-block"><code class="hljs language-bash">$ var=<span class="hljs-string">"       title     |    count"</span>
$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$var</span>
title | count
</code></pre>

<p><strong>Tabs</strong></p>

<p>I expected two tab separated values, but instead I get two space separated values!</p>

<pre class="lang-bash s-code-block"><code class="hljs language-bash">$ var=$<span class="hljs-string">'key\tvalue'</span>
$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$var</span>
key value
</code></pre>
    </div></div></div><div class="sc-344134f6-2 EUowZ"><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In all of the cases above, the variable is correctly set, but not correctly read! The right way is to <strong>use double quotes <em>when referencing</em></strong>:</p>

<pre class="lang-bash s-code-block"><code class="hljs language-bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$var</span>"</span>
</code></pre>

<p>This gives the expected value in all the examples given. Always quote variable references!</p>

<hr>

<p>Why? </p>

<p>When a variable is <strong>unquoted</strong>, it will:</p>

<ol>
<li><p>Undergo <a href="http://pubs.opengroup.org/onlinepubs/009695399/utilities/xcu_chap02.html#tag_02_06_05">field splitting</a> where the value is split into multiple words on whitespace (by default):</p>

<p>Before: <code>/* Foobar is free software */</code></p>

<p>After: <code>/*</code>, <code>Foobar</code>, <code>is</code>, <code>free</code>, <code>software</code>, <code>*/</code></p></li>
<li><p>Each of these words will undergo <a href="http://pubs.opengroup.org/onlinepubs/009695399/utilities/xcu_chap02.html#tag_02_06_06">pathname expansion</a>, where patterns are expanded into matching files:</p>

<p>Before: <code>/*</code></p>

<p>After: <code>/bin</code>, <code>/boot</code>, <code>/dev</code>, <code>/etc</code>, <code>/home</code>, ...</p></li>
<li><p>Finally, all the arguments are passed to echo, which writes them out <a href="http://pubs.opengroup.org/onlinepubs/9699919799/utilities/echo.html#tag_20_37_10">separated by single spaces</a>, giving</p>

<pre class="lang-bash s-code-block"><code class="hljs language-bash">/bin /boot /dev /etc /home Foobar is free software Desktop/ Downloads/
</code></pre>

<p>instead of the variable's value.</p></li>
</ol>

<p>When the variable is <strong>quoted</strong> it will:</p>

<ol>
<li>Be substituted for its value.</li>
<li>There is no step 2.</li>
</ol>

<p>This is why you should <strong>always quote all variable references</strong>, unless you specifically require word splitting and pathname expansion. Tools like <a href="http://www.shellcheck.net">shellcheck</a> are there to help, and will warn about missing quotes in all the cases above.</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You may want to know why this is happening. Together with <a href="https://stackoverflow.com/a/29378567/1983854">the great explanation by that other guy</a>, find a reference of <a href="https://unix.stackexchange.com/a/131767/40596">Why does my shell script choke on whitespace or other special characters?</a> written by <a href="https://unix.stackexchange.com/users/885/gilles">Gilles</a> in <a href="https://unix.stackexchange.com/">Unix &amp; Linux</a>:</p>

<blockquote>
  <h2>Why do I need to write <code>"$foo"</code>? What happens without the quotes?</h2>
  
  <p><code>$foo</code> does not mean take the value of the variable <code>foo</code>. It means
  something much more complex:</p>
  
  <ul>
  <li>First, take the value of the variable.  </li>
  <li>Field splitting: treat that value as a whitespace-separated list of fields, and build the resulting list. For example, if the variable
  contains <code>foo *  bar </code> then the result of this step is the 3-element
  list <code>foo</code>, <code>*</code>, <code>bar</code>.  </li>
  <li>Filename generation: treat each field as a glob, i.e. as a wildcard pattern, and replace it by the list of file names that match this
  pattern. If the pattern doesn't match any files, it is left
  unmodified. In our example, this results in the list containing <code>foo</code>,
  following by the list of files in the current directory, and finally
  <code>bar</code>. If the current directory is empty, the result is <code>foo</code>, <code>*</code>,
  <code>bar</code>.</li>
  </ul>
  
  <p>Note that the result is a list of strings. There are two contexts in
  shell syntax: list context and string context. Field splitting and
  filename generation only happen in list context, but that's most of
  the time. Double quotes delimit a string context: the whole
  double-quoted string is a single string, not to be split. (Exception:
  <code>"$@"</code> to expand to the list of positional parameters, e.g. <code>"$@"</code> is
  equivalent to <code>"$1" "$2" "$3"</code> if there are three positional
  parameters. See <a href="https://unix.stackexchange.com/questions/41571/what-is-the-difference-between-and/94200#94200">What is the difference between $* and $@?</a>)</p>
  
  <p>The same happens to command substitution with <code>$(foo)</code> or with <code>
  `foo`</code>. On a side note, don't use <code>`foo`</code>: its quoting rules are
  weird and non-portable, and all modern shells support <code>$(foo)</code> which
  is absolutely equivalent except for having intuitive quoting rules.</p>
  
  <p>The output of arithmetic substitution also undergoes the same
  expansions, but that isn't normally a concern as it only contains
  non-expandable characters (assuming <code>IFS</code> doesn't contain digits or
  <code>-</code>).</p>
  
  <p>See <a href="https://unix.stackexchange.com/questions/68694/when-is-double-quoting-necessary">When is double-quoting necessary?</a> for more details about the
  cases when you can leave out the quotes.</p>
  
  <p>Unless you mean for all this rigmarole to happen, just remember to
  always use double quotes around variable and command substitutions. Do
  take care: leaving out the quotes can lead not just to errors but to
  <a href="https://unix.stackexchange.com/questions/171346/security-implications-of-forgetting-to-quote-a-variable-in-bash-posix-shells/171347#171347">security
  holes</a>.</p>
</blockquote>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In addition to other issues caused by failing to quote, <code>-n</code> and <code>-e</code> can be consumed by <code>echo</code> as arguments. (Only the former is legal per the POSIX spec for <code>echo</code>, but several common implementations violate the spec and consume <code>-e</code> as well).</p>
<p>To avoid this, <strong>use <code>printf</code> instead of <code>echo</code> when details matter.</strong></p>
<p>Thus:</p>
<pre class="lang-bash s-code-block"><code class="hljs language-bash">$ vars=<span class="hljs-string">"-e -n -a"</span>
$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$vars</span>      <span class="hljs-comment"># breaks because -e and -n can be treated as arguments to echo</span>
-a
$ <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$vars</span>"</span>
-e -n -a
</code></pre>
<p>However, correct quoting won't always save you when using <code>echo</code>:</p>
<pre class="lang-bash s-code-block"><code class="hljs language-bash">$ vars=<span class="hljs-string">"-n"</span>
$ <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$vars</span>"</span>
$ <span class="hljs-comment">## not even an empty line was printed</span>
</code></pre>
<p>...whereas it <strong>will</strong> save you with <code>printf</code>:</p>
<pre class="lang-bash s-code-block"><code class="hljs language-bash">$ vars=<span class="hljs-string">"-n"</span>
$ <span class="hljs-built_in">printf</span> <span class="hljs-string">'%s\n'</span> <span class="hljs-string">"<span class="hljs-variable">$vars</span>"</span>
-n
</code></pre>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>user double quote to get the exact value. like this:</p>

<pre class="lang-bash s-code-block"><code class="hljs language-bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">${var}</span>"</span>
</code></pre>

<p>and it will read your value correctly.</p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><code>echo $var</code> output highly depends on the value of <code>IFS</code> variable. By default it contains space, tab, and newline characters:</p>

<pre class="lang-bash s-code-block"><code class="hljs language-bash">[ks@localhost ~]$ <span class="hljs-built_in">echo</span> -n <span class="hljs-string">"<span class="hljs-variable">$IFS</span>"</span> | <span class="hljs-built_in">cat</span> -vte
 ^I$
</code></pre>

<p>This means that when shell is doing field splitting (or word splitting) it uses all these characters as word separators. This is what happens when referencing a variable without double quotes to echo it (<code>$var</code>) and thus expected output is altered.</p>

<p>One way to prevent word splitting (besides using double quotes) is to set <code>IFS</code> to null. See <a href="http://pubs.opengroup.org/onlinepubs/009695399/utilities/xcu_chap02.html#tag_02_06_05" rel="nofollow">http://pubs.opengroup.org/onlinepubs/009695399/utilities/xcu_chap02.html#tag_02_06_05</a> :</p>

<blockquote>
  <p>If the value of IFS is null, no field splitting shall be performed.</p>
</blockquote>

<p>Setting to null means setting to empty 
value:</p>

<pre class="lang-bash s-code-block"><code class="hljs language-bash">IFS=
</code></pre>

<hr>

<p>Test:</p>

<pre class="lang-bash s-code-block"><code class="hljs language-bash">[ks@localhost ~]$ <span class="hljs-built_in">echo</span> -n <span class="hljs-string">"<span class="hljs-variable">$IFS</span>"</span> | <span class="hljs-built_in">cat</span> -vte
 ^I$
[ks@localhost ~]$ var=$<span class="hljs-string">'key\nvalue'</span>
[ks@localhost ~]$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$var</span>
key value
[ks@localhost ~]$ IFS=
[ks@localhost ~]$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$var</span>
key
value
[ks@localhost ~]$ 
</code></pre>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>The <a href="https://stackoverflow.com/questions/29378566/i-just-assigned-a-variable-but-echo-variable-shows-something-else/33719549#33719549">answer from ks1322</a> helped me to identify the issue while using <code>docker-compose exec</code>:</p>

<p>If you omit the <code>-T</code> flag, <code>docker-compose exec</code> add a special character that break output, we see <code>b</code> instead of <code>1b</code>:</p>

<pre class="lang-bash s-code-block"><code class="hljs language-bash">$ <span class="hljs-built_in">test</span>=$(/usr/local/bin/docker-compose <span class="hljs-built_in">exec</span> db bash -c <span class="hljs-string">"echo 1"</span>)
$ <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">${test}</span>b"</span>
b
</code></pre>

<pre class="lang-bash s-code-block"><code class="hljs language-bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">${test}</span>"</span> | <span class="hljs-built_in">cat</span> -vte
1^M$
</code></pre>

<p>With <code>-T</code> flag, <code>docker-compose exec</code> works as expected:</p>

<pre class="lang-bash s-code-block"><code class="hljs language-bash">$ <span class="hljs-built_in">test</span>=$(/usr/local/bin/docker-compose <span class="hljs-built_in">exec</span> -T db bash -c <span class="hljs-string">"echo 1"</span>)
$ <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">${test}</span>b"</span>
1b
</code></pre>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Additional to putting the variable in quotation, one could also translate the output of the variable using <code>tr</code> and converting spaces to newlines.</p>

<pre class="lang-bash s-code-block"><code class="hljs language-bash">$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$var</span> | <span class="hljs-built_in">tr</span> <span class="hljs-string">" "</span> <span class="hljs-string">"\n"</span>
foo
bar
baz
</code></pre>

<p>Although this is a little more convoluted, it does add more diversity with the output as you can substitute any character as the separator between array variables.</p>
    </div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;In all of the cases above, the variable is correctly set, but not correctly read! The right way is to \u0026lt;strong\u0026gt;use double quotes \u0026lt;em\u0026gt;when referencing\u0026lt;/em\u0026gt;\u0026lt;/strong\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$var\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This gives the expected value in all the examples given. Always quote variable references!\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;Why? \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;When a variable is \u0026lt;strong\u0026gt;unquoted\u0026lt;/strong\u0026gt;, it will:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Undergo \u0026lt;a href=\u0026quot;http://pubs.opengroup.org/onlinepubs/009695399/utilities/xcu_chap02.html#tag_02_06_05\u0026quot;\u0026gt;field splitting\u0026lt;/a\u0026gt; where the value is split into multiple words on whitespace (by default):\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Before: \u0026lt;code\u0026gt;/* Foobar is free software */\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;After: \u0026lt;code\u0026gt;/*\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;Foobar\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;is\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;free\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;software\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;*/\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Each of these words will undergo \u0026lt;a href=\u0026quot;http://pubs.opengroup.org/onlinepubs/009695399/utilities/xcu_chap02.html#tag_02_06_06\u0026quot;\u0026gt;pathname expansion\u0026lt;/a\u0026gt;, where patterns are expanded into matching files:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Before: \u0026lt;code\u0026gt;/*\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;After: \u0026lt;code\u0026gt;/bin\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;/boot\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;/dev\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;/etc\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;/home\u0026lt;/code\u0026gt;, ...\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;Finally, all the arguments are passed to echo, which writes them out \u0026lt;a href=\u0026quot;http://pubs.opengroup.org/onlinepubs/9699919799/utilities/echo.html#tag_20_37_10\u0026quot;\u0026gt;separated by single spaces\u0026lt;/a\u0026gt;, giving\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;/bin /boot /dev /etc /home Foobar is free software Desktop/ Downloads/\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;instead of the variable\u0026apos;s value.\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;When the variable is \u0026lt;strong\u0026gt;quoted\u0026lt;/strong\u0026gt; it will:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Be substituted for its value.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;There is no step 2.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;This is why you should \u0026lt;strong\u0026gt;always quote all variable references\u0026lt;/strong\u0026gt;, unless you specifically require word splitting and pathname expansion. Tools like \u0026lt;a href=\u0026quot;http://www.shellcheck.net\u0026quot;\u0026gt;shellcheck\u0026lt;/a\u0026gt; are there to help, and will warn about missing quotes in all the cases above.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;You may want to know why this is happening. Together with \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/29378567/1983854\u0026quot;\u0026gt;the great explanation by that other guy\u0026lt;/a\u0026gt;, find a reference of \u0026lt;a href=\u0026quot;https://unix.stackexchange.com/a/131767/40596\u0026quot;\u0026gt;Why does my shell script choke on whitespace or other special characters?\u0026lt;/a\u0026gt; written by \u0026lt;a href=\u0026quot;https://unix.stackexchange.com/users/885/gilles\u0026quot;\u0026gt;Gilles\u0026lt;/a\u0026gt; in \u0026lt;a href=\u0026quot;https://unix.stackexchange.com/\u0026quot;\u0026gt;Unix \u0026amp;amp; Linux\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;h2\u0026gt;Why do I need to write \u0026lt;code\u0026gt;\u0026quot;$foo\u0026quot;\u0026lt;/code\u0026gt;? What happens without the quotes?\u0026lt;/h2\u0026gt;\n  \n  \u0026lt;p\u0026gt;\u0026lt;code\u0026gt;$foo\u0026lt;/code\u0026gt; does not mean take the value of the variable \u0026lt;code\u0026gt;foo\u0026lt;/code\u0026gt;. It means\n  something much more complex:\u0026lt;/p\u0026gt;\n  \n  \u0026lt;ul\u0026gt;\n  \u0026lt;li\u0026gt;First, take the value of the variable.  \u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;Field splitting: treat that value as a whitespace-separated list of fields, and build the resulting list. For example, if the variable\n  contains \u0026lt;code\u0026gt;foo *  bar \u0026lt;/code\u0026gt; then the result of this step is the 3-element\n  list \u0026lt;code\u0026gt;foo\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;*\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;bar\u0026lt;/code\u0026gt;.  \u0026lt;/li\u0026gt;\n  \u0026lt;li\u0026gt;Filename generation: treat each field as a glob, i.e. as a wildcard pattern, and replace it by the list of file names that match this\n  pattern. If the pattern doesn\u0026apos;t match any files, it is left\n  unmodified. In our example, this results in the list containing \u0026lt;code\u0026gt;foo\u0026lt;/code\u0026gt;,\n  following by the list of files in the current directory, and finally\n  \u0026lt;code\u0026gt;bar\u0026lt;/code\u0026gt;. If the current directory is empty, the result is \u0026lt;code\u0026gt;foo\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;*\u0026lt;/code\u0026gt;,\n  \u0026lt;code\u0026gt;bar\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\n  \u0026lt;/ul\u0026gt;\n  \n  \u0026lt;p\u0026gt;Note that the result is a list of strings. There are two contexts in\n  shell syntax: list context and string context. Field splitting and\n  filename generation only happen in list context, but that\u0026apos;s most of\n  the time. Double quotes delimit a string context: the whole\n  double-quoted string is a single string, not to be split. (Exception:\n  \u0026lt;code\u0026gt;\u0026quot;$@\u0026quot;\u0026lt;/code\u0026gt; to expand to the list of positional parameters, e.g. \u0026lt;code\u0026gt;\u0026quot;$@\u0026quot;\u0026lt;/code\u0026gt; is\n  equivalent to \u0026lt;code\u0026gt;\u0026quot;$1\u0026quot; \u0026quot;$2\u0026quot; \u0026quot;$3\u0026quot;\u0026lt;/code\u0026gt; if there are three positional\n  parameters. See \u0026lt;a href=\u0026quot;https://unix.stackexchange.com/questions/41571/what-is-the-difference-between-and/94200#94200\u0026quot;\u0026gt;What is the difference between $* and $@?\u0026lt;/a\u0026gt;)\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;The same happens to command substitution with \u0026lt;code\u0026gt;$(foo)\u0026lt;/code\u0026gt; or with \u0026lt;code\u0026gt;\n  `foo`\u0026lt;/code\u0026gt;. On a side note, don\u0026apos;t use \u0026lt;code\u0026gt;`foo`\u0026lt;/code\u0026gt;: its quoting rules are\n  weird and non-portable, and all modern shells support \u0026lt;code\u0026gt;$(foo)\u0026lt;/code\u0026gt; which\n  is absolutely equivalent except for having intuitive quoting rules.\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;The output of arithmetic substitution also undergoes the same\n  expansions, but that isn\u0026apos;t normally a concern as it only contains\n  non-expandable characters (assuming \u0026lt;code\u0026gt;IFS\u0026lt;/code\u0026gt; doesn\u0026apos;t contain digits or\n  \u0026lt;code\u0026gt;-\u0026lt;/code\u0026gt;).\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;See \u0026lt;a href=\u0026quot;https://unix.stackexchange.com/questions/68694/when-is-double-quoting-necessary\u0026quot;\u0026gt;When is double-quoting necessary?\u0026lt;/a\u0026gt; for more details about the\n  cases when you can leave out the quotes.\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;Unless you mean for all this rigmarole to happen, just remember to\n  always use double quotes around variable and command substitutions. Do\n  take care: leaving out the quotes can lead not just to errors but to\n  \u0026lt;a href=\u0026quot;https://unix.stackexchange.com/questions/171346/security-implications-of-forgetting-to-quote-a-variable-in-bash-posix-shells/171347#171347\u0026quot;\u0026gt;security\n  holes\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In addition to other issues caused by failing to quote, \u0026lt;code\u0026gt;-n\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;-e\u0026lt;/code\u0026gt; can be consumed by \u0026lt;code\u0026gt;echo\u0026lt;/code\u0026gt; as arguments. (Only the former is legal per the POSIX spec for \u0026lt;code\u0026gt;echo\u0026lt;/code\u0026gt;, but several common implementations violate the spec and consume \u0026lt;code\u0026gt;-e\u0026lt;/code\u0026gt; as well).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;To avoid this, \u0026lt;strong\u0026gt;use \u0026lt;code\u0026gt;printf\u0026lt;/code\u0026gt; instead of \u0026lt;code\u0026gt;echo\u0026lt;/code\u0026gt; when details matter.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Thus:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;$ vars=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-e -n -a\u0026quot;\u0026lt;/span\u0026gt;\n$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$vars\u0026lt;/span\u0026gt;      \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;# breaks because -e and -n can be treated as arguments to echo\u0026lt;/span\u0026gt;\n-a\n$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$vars\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt;\n-e -n -a\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;However, correct quoting won\u0026apos;t always save you when using \u0026lt;code\u0026gt;echo\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;$ vars=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-n\u0026quot;\u0026lt;/span\u0026gt;\n$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$vars\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt;\n$ \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;## not even an empty line was printed\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;...whereas it \u0026lt;strong\u0026gt;will\u0026lt;/strong\u0026gt; save you with \u0026lt;code\u0026gt;printf\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;$ vars=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;-n\u0026quot;\u0026lt;/span\u0026gt;\n$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;printf\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;%s\\n\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$vars\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt;\n-n\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;user double quote to get the exact value. like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;${var}\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;and it will read your value correctly.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;echo $var\u0026lt;/code\u0026gt; output highly depends on the value of \u0026lt;code\u0026gt;IFS\u0026lt;/code\u0026gt; variable. By default it contains space, tab, and newline characters:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;[ks@localhost ~]$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; -n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$IFS\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;cat\u0026lt;/span\u0026gt; -vte\n ^I$\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This means that when shell is doing field splitting (or word splitting) it uses all these characters as word separators. This is what happens when referencing a variable without double quotes to echo it (\u0026lt;code\u0026gt;$var\u0026lt;/code\u0026gt;) and thus expected output is altered.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;One way to prevent word splitting (besides using double quotes) is to set \u0026lt;code\u0026gt;IFS\u0026lt;/code\u0026gt; to null. See \u0026lt;a href=\u0026quot;http://pubs.opengroup.org/onlinepubs/009695399/utilities/xcu_chap02.html#tag_02_06_05\u0026quot; rel=\u0026quot;nofollow\u0026quot;\u0026gt;http://pubs.opengroup.org/onlinepubs/009695399/utilities/xcu_chap02.html#tag_02_06_05\u0026lt;/a\u0026gt; :\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;If the value of IFS is null, no field splitting shall be performed.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;Setting to null means setting to empty \nvalue:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;IFS=\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;Test:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;[ks@localhost ~]$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; -n \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$IFS\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;cat\u0026lt;/span\u0026gt; -vte\n ^I$\n[ks@localhost ~]$ var=$\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;key\\nvalue\u0026apos;\u0026lt;/span\u0026gt;\n[ks@localhost ~]$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$var\u0026lt;/span\u0026gt;\nkey value\n[ks@localhost ~]$ IFS=\n[ks@localhost ~]$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$var\u0026lt;/span\u0026gt;\nkey\nvalue\n[ks@localhost ~]$ \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;The \u0026lt;a href=\u0026quot;https://stackoverflow.com/questions/29378566/i-just-assigned-a-variable-but-echo-variable-shows-something-else/33719549#33719549\u0026quot;\u0026gt;answer from ks1322\u0026lt;/a\u0026gt; helped me to identify the issue while using \u0026lt;code\u0026gt;docker-compose exec\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you omit the \u0026lt;code\u0026gt;-T\u0026lt;/code\u0026gt; flag, \u0026lt;code\u0026gt;docker-compose exec\u0026lt;/code\u0026gt; add a special character that break output, we see \u0026lt;code\u0026gt;b\u0026lt;/code\u0026gt; instead of \u0026lt;code\u0026gt;1b\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;test\u0026lt;/span\u0026gt;=$(/usr/local/bin/docker-compose \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;exec\u0026lt;/span\u0026gt; db bash -c \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;echo 1\u0026quot;\u0026lt;/span\u0026gt;)\n$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;${test}\u0026lt;/span\u0026gt;b\u0026quot;\u0026lt;/span\u0026gt;\nb\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;${test}\u0026lt;/span\u0026gt;\u0026quot;\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;cat\u0026lt;/span\u0026gt; -vte\n1^M$\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;With \u0026lt;code\u0026gt;-T\u0026lt;/code\u0026gt; flag, \u0026lt;code\u0026gt;docker-compose exec\u0026lt;/code\u0026gt; works as expected:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;test\u0026lt;/span\u0026gt;=$(/usr/local/bin/docker-compose \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;exec\u0026lt;/span\u0026gt; -T db bash -c \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;echo 1\u0026quot;\u0026lt;/span\u0026gt;)\n$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;${test}\u0026lt;/span\u0026gt;b\u0026quot;\u0026lt;/span\u0026gt;\n1b\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Additional to putting the variable in quotation, one could also translate the output of the variable using \u0026lt;code\u0026gt;tr\u0026lt;/code\u0026gt; and converting spaces to newlines.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$var\u0026lt;/span\u0026gt; | \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;tr\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot; \u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;\\n\u0026quot;\u0026lt;/span\u0026gt;\nfoo\nbar\nbaz\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Although this is a little more convoluted, it does add more diversity with the output as you can substitute any character as the separator between array variables.\u0026lt;/p\u0026gt;\n    "],"id":308,"title":"I just assigned a variable, but echo $variable shows something else","content":"\n                \n\u0026lt;p\u0026gt;Here are a series of cases where \u0026lt;code\u0026gt;echo $var\u0026lt;/code\u0026gt; can show a different value than what was just assigned. This happens regardless of whether the assigned value was \u0026quot;double quoted\u0026quot;, \u0026apos;single quoted\u0026apos; or unquoted. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;How do I get the shell to set my variable correctly?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Asterisks\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The expected output is \u0026lt;code\u0026gt;/* Foobar is free software */\u0026lt;/code\u0026gt;, but instead I get a list of filenames:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;$ var=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/* Foobar is free software */\u0026quot;\u0026lt;/span\u0026gt;\n$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$var\u0026lt;/span\u0026gt; \n/bin /boot /dev /etc /home /initrd.img /lib /lib64 /media /mnt /opt /proc ...\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Square brackets\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The expected value is \u0026lt;code\u0026gt;[a-z]\u0026lt;/code\u0026gt;, but sometimes I get a single letter instead!\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;$ var=[a-z]\n$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$var\u0026lt;/span\u0026gt;\nc\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Line feeds (newlines)\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The expected value is a  a list of separate lines, but instead all the values are on one line!\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;cat\u0026lt;/span\u0026gt; file\nfoo\nbar\nbaz\n\n$ var=$(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;cat\u0026lt;/span\u0026gt; file)\n$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$var\u0026lt;/span\u0026gt;\nfoo bar baz\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Multiple spaces\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I expected a carefully aligned table header, but instead multiple spaces either disappear or are collapsed into one!\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;$ var=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;       title     |    count\u0026quot;\u0026lt;/span\u0026gt;\n$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$var\u0026lt;/span\u0026gt;\ntitle | count\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Tabs\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I expected two tab separated values, but instead I get two space separated values!\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-bash s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-bash\u0026quot;\u0026gt;$ var=$\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;key\\tvalue\u0026apos;\u0026lt;/span\u0026gt;\n$ \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;echo\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$var\u0026lt;/span\u0026gt;\nkey value\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","slug":"i-just-assigned-a-variable-but-echo-dollarvariable-shows-something-else-1657387574561","postType":"QUESTION","createdAt":"2022-07-09T17:26:14.000Z","updatedAt":"2022-07-09T17:26:14.000Z","tags":[{"id":1827,"name":"quoting","slug":"quoting","createdAt":"2022-07-09T17:26:14.000Z","updatedAt":"2022-07-09T17:26:14.000Z","Questions_Tags":{"questionId":308,"tagId":1827}},{"id":1828,"name":"sh","slug":"sh","createdAt":"2022-07-09T17:26:14.000Z","updatedAt":"2022-07-09T17:26:14.000Z","Questions_Tags":{"questionId":308,"tagId":1828}}]}},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"i-just-assigned-a-variable-but-echo-dollarvariable-shows-something-else-1657387574561"},"buildId":"D-Vv5KfwuaE883xCdWfex","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>