<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>How to close/hide the Android soft keyboard programmatically? | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="I have an EditText and a Button in my layout.
After writing in the edit field and clicking on the Button, I want to hide the virtual keyboard when touching it outside the keyboard. I assume that this is a simple piece of code, but where can I find an example of it?
    "/><meta property="og:title" content="How to close/hide the Android soft keyboard programmatically? | Solutions Checker"/><meta property="og:description" content="I have an EditText and a Button in my layout.
After writing in the edit field and clicking on the Button, I want to hide the virtual keyboard when touching it outside the keyboard. I assume that this is a simple piece of code, but where can I find an example of it?
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"How to close/hide the Android soft keyboard programmatically?","text":"I have an EditText and a Button in my layout.\nAfter writing in the edit field and clicking on the Button, I want to hide the virtual keyboard when touching it outside the keyboard. I assume that this is a simple piece of code, but where can I find an example of it?\n    ","answerCount":30,"upVoteCount":500,"suggestedAnswer":[{"text":"You can force Android to hide the virtual keyboard using the InputMethodManager, calling hideSoftInputFromWindow, passing in the token of the window containing your focused view.\n// Check if no view has focus:\nView view = this.getCurrentFocus();\nif (view != null) {  \n    InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n}\n\nThis will force the keyboard to be hidden in all situations. In some cases, you will want to pass in InputMethodManager.HIDE_IMPLICIT_ONLY as the second parameter to ensure you only hide the keyboard when the user didn&apos;t explicitly force it to appear (by holding down the menu).\nNote: If you want to do this in Kotlin, use:\ncontext?.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\nKotlin Syntax\n// Only runs if there is a view that is currently focused\nthis.currentFocus?.let { view -&gt;\n    val imm = getSystemService(Context.INPUT_METHOD_SERVICE) as? InputMethodManager\n    imm?.hideSoftInputFromWindow(view.windowToken, 0)\n}\n\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"To help clarify this madness, I&apos;d like to begin by apologizing on behalf of all Android users for Google&apos;s downright ridiculous treatment of the soft keyboard. The reason there are so many answers, each different, for the same simple question is that this API, like many others in Android, is horribly designed. I can think of no polite way to state it.\nI want to hide the keyboard.  I expect to provide Android with the following statement: Keyboard.hide(). The end. Thank you very much.  But Android has a problem.  You must use the InputMethodManager to hide the keyboard. OK, fine, this is Android&apos;s API to the keyboard. BUT! You are required to have a Context in order to get access to the IMM. Now we have a problem.  I may want to hide the keyboard from a static or utility class that has no use or need for any Context. or And FAR worse, the IMM requires that you specify what View (or even worse, what Window) you want to hide the keyboard FROM.\nThis is what makes hiding the keyboard so challenging. Dear Google: When I&apos;m looking up the recipe for a cake, there is no RecipeProvider on Earth that would refuse to provide me with the recipe unless I first answer WHO the cake will be eaten by AND where it will be eaten!!\nThis sad story ends with the ugly truth: to hide the Android keyboard, you will be required to provide 2 forms of identification: a Context and either a View or a Window.\nI have created a static utility method that can do the job VERY solidly, provided you call it from an Activity.\npublic static void hideKeyboard(Activity activity) {\n    InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    //Find the currently focused view, so we can grab the correct window token from it.\n    View view = activity.getCurrentFocus();\n    //If no view currently has focus, create a new one, just so we can grab a window token from it\n    if (view == null) {\n        view = new View(activity);\n    }\n    imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n}\n\nBe aware that this utility method ONLY works when called from an Activity! The above method calls getCurrentFocus of the target Activity to fetch the proper window token.\nBut suppose you want to hide the keyboard from an EditText hosted in a DialogFragment? You can&apos;t use the method above for that:\nhideKeyboard(getActivity()); //won&apos;t work\n\nThis won&apos;t work because you&apos;ll be passing a reference to the Fragment&apos;s host Activity, which will have no focused control while the Fragment is shown! Wow! So, for hiding the keyboard from fragments, I resort to the lower-level, more common, and uglier:\npublic static void hideKeyboardFrom(Context context, View view) {\n    InputMethodManager imm = (InputMethodManager) context.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n}\n\nBelow is some additional information gleaned from more time wasted chasing this solution:\nAbout windowSoftInputMode\nThere&apos;s yet another point of contention to be aware of. By default, Android will automatically assign initial focus to the first EditText or focusable control in your Activity.  It naturally follows that the InputMethod (typically the soft keyboard) will respond to the focus event by showing itself. The windowSoftInputMode attribute in AndroidManifest.xml, when set to stateAlwaysHidden, instructs the keyboard to ignore this automatically-assigned initial focus.\n&lt;activity\n    android:name=&quot;.MyActivity&quot;\n    android:windowSoftInputMode=&quot;stateAlwaysHidden&quot;/&gt;\n\nAlmost unbelievably, it appears to do nothing to prevent the keyboard from opening when you touch the control (unless focusable=&quot;false&quot; and/or focusableInTouchMode=&quot;false&quot; are assigned to the control). Apparently, the windowSoftInputMode setting applies only to automatic focus events, not to focus events triggered by touch events.\nTherefore, stateAlwaysHidden is VERY poorly named indeed. It should perhaps be called ignoreInitialFocus instead.\n\nUPDATE: More ways to get a window token\nIf there is no focused view (e.g. can happen if you just changed fragments), there are other views that will supply a useful window token.\nThese are alternatives for the above code if (view == null)   view = new View(activity);  These don&apos;t refer explicitly to your activity.\nInside a fragment class:\nview = getView().getRootView().getWindowToken();\n\nGiven a fragment fragment as a parameter:\nview = fragment.getView().getRootView().getWindowToken();\n\nStarting from your content body:\nview = findViewById(android.R.id.content).getRootView().getWindowToken();\n\n\nUPDATE 2: Clear focus to avoid showing keyboard again if you open the app from the background\nAdd this line to the end of the method:\nview.clearFocus();\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"Also useful for hiding the soft-keyboard is:\n\ngetWindow().setSoftInputMode(\n    WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN\n);\n\n\nThis can be used to suppress the soft-keyboard until the user actually touches the editText View.\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"I got one more solution to hide keyboard:\n\nInputMethodManager imm = (InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE);\nimm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, 0);\n\n\nHere pass HIDE_IMPLICIT_ONLY at the position of showFlag and 0 at the position of hiddenFlag. It will forcefully close soft Keyboard.\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"Meier&apos;s solution works for me too. In my case, the top level of my App is a tab host and I want to hide the keyword when switching tabs - I get the window token from the tab host View.\n\ntabHost.setOnTabChangedListener(new OnTabChangeListener() {\n    public void onTabChanged(String tabId) {\n        InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(tabHost.getApplicationWindowToken(), 0);\n    }\n}\n\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"Please try this below code in  onCreate()\nEditText edtView = (EditText) findViewById(R.id.editTextConvertValue);\nedtView.setInputType(InputType.TYPE_NULL);\n\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"Update:\nI don&apos;t know why this solution is not work any more ( I just tested on Android 23). Please use the solution of Saurabh Pareek instead. Here it is:\n\nInputMethodManager imm = (InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE);\n//Hide:\nimm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, 0);\n//Show\nimm.toggleSoftInput(InputMethodManager.SHOW_IMPLICIT, 0);\n\n\nOld answer:\n\n//Show soft-keyboard:\ngetWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_VISIBLE);\n//hide keyboard :\n getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"protected void hideSoftKeyboard(EditText input) {\n    InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(input.getWindowToken(), 0);    \n}\n\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"If all the other answers here don&apos;t work for you as you would like them to, there&apos;s another way of manually controlling the keyboard.\n\nCreate a function with that will manage some of the EditText&apos;s properties:\n\npublic void setEditTextFocus(boolean isFocused) {\n    searchEditText.setCursorVisible(isFocused);\n    searchEditText.setFocusable(isFocused);\n    searchEditText.setFocusableInTouchMode(isFocused);\n\n    if (isFocused) {\n        searchEditText.requestFocus();\n    }\n}\n\n\nThen, make sure that onFocus of the EditText you open/close the keyboard:\n\nsearchEditText.setOnFocusChangeListener(new OnFocusChangeListener() {\n    @Override\n    public void onFocusChange(View v, boolean hasFocus) {\n        if (v == searchEditText) {\n            if (hasFocus) {\n                // Open keyboard\n                ((InputMethodManager) context.getSystemService(Context.INPUT_METHOD_SERVICE)).showSoftInput(searchEditText, InputMethodManager.SHOW_FORCED);\n            } else {\n                // Close keyboard\n                ((InputMethodManager) context.getSystemService(Context.INPUT_METHOD_SERVICE)).hideSoftInputFromWindow(searchEditText.getWindowToken(), 0);\n            }\n        }\n    }\n});\n\n\nNow, whenever you want to open the keyboard manually call: \n\nsetEditTextFocus(true);\n\n\nAnd for closing call:\n\nsetEditTextFocus(false);\n\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"Saurabh Pareek has the best answer so far.\n\nMight as well use the correct flags, though.\n\n/* hide keyboard */\n((InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE))\n    .toggleSoftInput(InputMethodManager.SHOW_IMPLICIT, 0);\n\n/* show keyboard */\n((InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE))\n    .toggleSoftInput(0, InputMethodManager.HIDE_IMPLICIT_ONLY);\n\n\nExample of real use\n\n/* click button */\npublic void onClick(View view) {      \n  /* hide keyboard */\n  ((InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE))\n      .toggleSoftInput(InputMethodManager.SHOW_IMPLICIT, 0);\n\n  /* start loader to check parameters ... */\n}\n\n/* loader finished */\npublic void onLoadFinished(Loader&lt;Object&gt; loader, Object data) {\n    /* parameters not valid ... */\n\n    /* show keyboard */\n    ((InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE))\n        .toggleSoftInput(0, InputMethodManager.HIDE_IMPLICIT_ONLY);\n\n    /* parameters valid ... */\n}\n\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"from so searching, here I found an answer that works for me\n\n// Show soft-keyboard:\nInputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.toggleSoftInput(InputMethodManager.SHOW_FORCED, 0);\n\n// Hide soft-keyboard:\ngetWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"The short answer\n\nIn your OnClick listener call the onEditorAction of the EditText with IME_ACTION_DONE\n\nbutton.setOnClickListener(new OnClickListener() {\n\n    @Override\n    public void onClick(View v) {\n        someEditText.onEditorAction(EditorInfo.IME_ACTION_DONE)\n    }\n});\n\n\nThe drill-down\n\nI feel this method is better, simpler and more aligned with Android&apos;s design pattern.\nIn the simple example above (and usually in most of the common cases) you&apos;ll have an EditText that has/had focus and it also usually was the one to invoke the keyboard in the first place (it is definitely able to invoke it in many common scenarios). In that same way, it should be the one to release the keyboard, usually that can be done by an ImeAction. Just see how an EditText with android:imeOptions=&quot;actionDone&quot; behaves, you want to achieve the same behavior by the same means.\n\n\n\nCheck this related answer\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"This should work:\n\npublic class KeyBoard {\n\n    public static void show(Activity activity){\n        InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        imm.toggleSoftInput(0, InputMethodManager.HIDE_IMPLICIT_ONLY); // show\n    }\n\n    public static void hide(Activity activity){\n        InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        imm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, 0); // hide\n    }\n\n    public static void toggle(Activity activity){\n        InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        if (imm.isActive()){\n            hide(activity); \n        } else {\n            show(activity); \n        }\n    }\n}\n\nKeyBoard.toggle(activity);\n\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0},{"text":"I&apos;m using a custom keyboard to input an Hex number so I can&apos;t have the IMM keyboard show up...\n\nIn v3.2.4_r1 setSoftInputShownOnFocus(boolean show) was added to control weather or not to display the keyboard when a TextView gets focus, but its still hidden so reflection must be used:\n\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB_MR2) {\n    try {\n        Method method = TextView.class.getMethod(&quot;setSoftInputShownOnFocus&quot;, boolean.class);\n        method.invoke(mEditText, false);\n    } catch (Exception e) {\n        // Fallback to the second method\n    }\n}\n\n\n\n\nFor older versions, I got very good results (but far from perfect) with a OnGlobalLayoutListener, added with the aid of a ViewTreeObserver from my root view and then checking if the keyboard is shown like this:\n\n@Override\npublic void onGlobalLayout() {\n    Configuration config = getResources().getConfiguration();\n\n    // Dont allow the default keyboard to show up\n    if (config.keyboardHidden != Configuration.KEYBOARDHIDDEN_YES) {\n        InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(mRootView.getWindowToken(), 0);\n    }\n}\n\n\nThis last solution may show the keyboard for a split second and messes with the selection handles.\n\nWhen in the keyboard enters full screen, onGlobalLayout isn&apos;t called. To avoid that, use TextView#setImeOptions(int) or in the TextView XML declaration:\n\nandroid:imeOptions=&quot;actionNone|actionUnspecified|flagNoFullscreen|flagNoExtractUi&quot;\n\n\nUpdate: Just found what dialogs use to never show the keyboard and works in all versions:\n\ngetWindow().setFlags(WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM,\n        WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\n\n    ","url":"/questions/[slug]#solution14","@type":"Answer","upvoteCount":0},{"text":"public void setKeyboardVisibility(boolean show) {\n    InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    if(show){\n        imm.toggleSoftInput(InputMethodManager.SHOW_FORCED, 0);\n    }else{\n        imm.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(),0);\n    }\n}\n\n    ","url":"/questions/[slug]#solution15","@type":"Answer","upvoteCount":0},{"text":"I have spent more than two days working through all of the solutions posted in the thread and have found them lacking in one way or another.  My exact requirement is to have a button that will with 100% reliability show or hide the on screen keyboard.  When the keyboard is in its hidden state is should not re-appear, no matter what input fields the user clicks on.  When it is in its visible state the keyboard should not disappear no matter what buttons the user clicks.  This needs to work on Android 2.2+ all the way up to the latest devices.\n\nYou can see a working implementation of this in my app clean RPN.\n\nAfter testing many of the suggested answers on a number of different phones (including froyo and gingerbread devices) it became apparent that android apps can reliably:\n\n\nTemporarily hide the keyboard.  It will re-appear again when a user\nfocuses a new text field.\nShow the keyboard when an activity starts\nand set a flag on the activity indicating that they keyboard should\nalways be visible.  This flag can only be set when an activity is\ninitialising.\nMark an activity to never show or allow the use of the\nkeyboard.  This flag can only be set when an activity is\ninitialising.\n\n\nFor me, temporarily hiding the keyboard is not enough.  On some devices it will re-appear as soon as a new text field is focused.  As my app uses multiple text fields on one page, focusing a new text field will cause the hidden keyboard to pop back up again.\n\nUnfortunately item 2 and 3 on the list only work reliability when an activity is being started.  Once the activity has become visible you cannot permanently hide or show the keyboard.  The trick is to actually restart your activity when the user presses the keyboard toggle button.  In my app when the user presses on the toggle keyboard button, the following code runs:\n\nprivate void toggleKeyboard(){\n\n    if(keypadPager.getVisibility() == View.VISIBLE){\n        Intent i = new Intent(this, MainActivity.class);\n        i.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n        Bundle state = new Bundle();\n        onSaveInstanceState(state);\n        state.putBoolean(SHOW_KEYBOARD, true);\n        i.putExtras(state);\n\n        startActivity(i);\n    }\n    else{\n        Intent i = new Intent(this, MainActivity.class);\n        i.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n        Bundle state = new Bundle();\n        onSaveInstanceState(state);\n        state.putBoolean(SHOW_KEYBOARD, false);\n        i.putExtras(state);\n\n        startActivity(i);\n    }\n}\n\n\nThis causes the current activity to have its state saved into a Bundle, and then the activity is started, passing through an boolean which indicates if the keyboard should be shown or hidden.\n\nInside the onCreate method the following code is run:\n\nif(bundle.getBoolean(SHOW_KEYBOARD)){\n    ((InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE)).showSoftInput(newEquationText,0);\n    getWindow().setSoftInputMode(LayoutParams.SOFT_INPUT_STATE_ALWAYS_VISIBLE);\n}\nelse{\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM,\n            WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\n}\n\n\nIf the soft keyboard should be shown, then the InputMethodManager is told to show the keyboard and the window is instructed to make the soft input always visible. If the soft keyboard should be hidden then the WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM is set.\n\nThis approach works reliably on all devices I have tested on - from a 4 year old HTC phone running android 2.2 up to a nexus 7 running 4.2.2.  The only disadvantage with this approach is you need to be careful with handling the back button.  As my app essentially only has one screen (its a calculator) I can override onBackPressed() and return to the devices home screen.\n    ","url":"/questions/[slug]#solution16","@type":"Answer","upvoteCount":0},{"text":"Alternatively to this all around solution, if you wanted to close the soft keyboard from anywhere without having a reference to the (EditText) field that was used to open the keyboard, but still wanted to do it if the field was focused, you could use this (from an Activity):\n\nif (getCurrentFocus() != null) {\n    InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(), 0);\n}\n\n    ","url":"/questions/[slug]#solution17","@type":"Answer","upvoteCount":0},{"text":"Thank God its officially supported after 11 years\nFirst add dependency implementation &apos;androidx.core:core-ktx:1.7.0&apos; to app gradle\nHere is the simple project on github\nimport android.app.Activity\nimport android.content.Context\nimport android.view.View\nimport androidx.core.view.WindowInsetsCompat\nimport androidx.core.view.WindowInsetsControllerCompat\nimport androidx.fragment.app.Fragment\nimport androidx.fragment.app.FragmentActivity\n\n\nfun View.showKeyboard() = (this.context as? Activity)?.showKeyboard()\nfun View.hideKeyboard() = (this.context as? Activity)?.hideKeyboard()\n\nfun Fragment.showKeyboard() = activity?.let(FragmentActivity::showKeyboard)\nfun Fragment.hideKeyboard() = activity?.hideKeyboard()\n\nfun Context.showKeyboard() = (this as? Activity)?.showKeyboard()\nfun Context.hideKeyboard() = (this as? Activity)?.hideKeyboard()\n\nfun Activity.showKeyboard() = WindowInsetsControllerCompat(window, window.decorView).show(WindowInsetsCompat.Type.ime())\nfun Activity.hideKeyboard() = WindowInsetsControllerCompat(window, window.decorView).hide(WindowInsetsCompat.Type.ime())\n\n    ","url":"/questions/[slug]#solution18","@type":"Answer","upvoteCount":0},{"text":"Thanks to this SO answer, I derived the following which, in my case, works nicely when scrolling through the the fragments of a ViewPager...\n\nprivate void hideKeyboard() {   \n    // Check if no view has focus:\n    View view = this.getCurrentFocus();\n    if (view != null) {\n        InputMethodManager inputManager = (InputMethodManager) this.getSystemService(Context.INPUT_METHOD_SERVICE);\n        inputManager.hideSoftInputFromWindow(view.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n    }\n}\n\nprivate void showKeyboard() {   \n    // Check if no view has focus:\n    View view = this.getCurrentFocus();\n    if (view != null) {\n        InputMethodManager inputManager = (InputMethodManager) this.getSystemService(Context.INPUT_METHOD_SERVICE);\n        inputManager.showSoftInput(view, InputMethodManager.SHOW_IMPLICIT);\n    }\n}\n\n    ","url":"/questions/[slug]#solution19","@type":"Answer","upvoteCount":0},{"text":"Above answers work for different scenario&apos;s but  If you want to hide the keyboard inside a view and struggling to get the right context try this:\n\nsetOnClickListener(new OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        hideSoftKeyBoardOnTabClicked(v);\n    }\n}\n\nprivate void hideSoftKeyBoardOnTabClicked(View v) {\n    if (v != null &amp;&amp; context != null) {\n        InputMethodManager imm = (InputMethodManager) context.getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(v.getApplicationWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n    }\n}\n\n\nand to get the context fetch it from constructor:) \n\npublic View/RelativeLayout/so and so (Context context, AttributeSet attrs, int defStyle) {\n    super(context, attrs, defStyle);\n    this.context = context;\n    init();\n}\n\n    ","url":"/questions/[slug]#solution20","@type":"Answer","upvoteCount":0},{"text":"If you want to close the soft keyboard during a unit or functional test, you can do so by clicking the &quot;back button&quot; from your test:\n\n// Close the soft keyboard from a Test\ngetInstrumentation().sendKeyDownUpSync(KeyEvent.KEYCODE_BACK);\n\n\nI put &quot;back button&quot; in quotes, since the above doesn&apos;t trigger the onBackPressed() for the Activity in question. It just closes the keyboard.\n\nMake sure to pause for a little while before moving on, since it takes a little while to close the back button, so subsequent clicks to Views, etc., won&apos;t be registered until after a short pause (1 second is long enough ime).\n    ","url":"/questions/[slug]#solution21","@type":"Answer","upvoteCount":0},{"text":"Now, almost 12 years later, we finally have an official, backwards compatible way to do this with AndroidX Core 1.5+:\nfun View.hideKeyboard() = ViewCompat.getWindowInsetsController(this)\n    ?.hide(WindowInsetsCompat.Type.ime())\n\nor specifically for Fragment:\nfun Fragment.hideKeyboard() = ViewCompat.getWindowInsetsController(requireView())\n    ?.hide(WindowInsetsCompat.Type.ime())\n\n    ","url":"/questions/[slug]#solution22","@type":"Answer","upvoteCount":0},{"text":"Here&apos;s how you do it in Mono for Android (AKA MonoDroid)\n\nInputMethodManager imm = GetSystemService (Context.InputMethodService) as InputMethodManager;\nif (imm != null)\n    imm.HideSoftInputFromWindow (searchbox.WindowToken , 0);\n\n    ","url":"/questions/[slug]#solution23","@type":"Answer","upvoteCount":0},{"text":"This worked for me for all the bizarre keyboard behavior\n\nprivate boolean isKeyboardVisible() {\n    Rect r = new Rect();\n    //r will be populated with the coordinates of your view that area still visible.\n    mRootView.getWindowVisibleDisplayFrame(r);\n\n    int heightDiff = mRootView.getRootView().getHeight() - (r.bottom - r.top);\n    return heightDiff &gt; 100; // if more than 100 pixels, its probably a keyboard...\n}\n\nprotected void showKeyboard() {\n    if (isKeyboardVisible())\n        return;\n    InputMethodManager inputMethodManager = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    if (getCurrentFocus() == null) {\n        inputMethodManager.toggleSoftInput(InputMethodManager.SHOW_FORCED, 0);\n    } else {\n        View view = getCurrentFocus();\n        inputMethodManager.showSoftInput(view, InputMethodManager.SHOW_FORCED);\n    }\n}\n\nprotected void hideKeyboard() {\n    if (!isKeyboardVisible())\n        return;\n    InputMethodManager inputMethodManager = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    View view = getCurrentFocus();\n    if (view == null) {\n        if (inputMethodManager.isAcceptingText())\n            inputMethodManager.toggleSoftInput(InputMethodManager.HIDE_NOT_ALWAYS, 0);\n    } else {\n        if (view instanceof EditText)\n            ((EditText) view).setText(((EditText) view).getText().toString()); // reset edit text bug on some keyboards bug\n        inputMethodManager.hideSoftInputFromInputMethod(view.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n    }\n}\n\n    ","url":"/questions/[slug]#solution24","@type":"Answer","upvoteCount":0},{"text":"Simple and Easy to use method, just call hideKeyboardFrom(YourActivity.this); to hide keyboard\n\n/**\n * This method is used to hide keyboard\n * @param activity\n */\npublic static void hideKeyboardFrom(Activity activity) {\n    InputMethodManager imm = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(activity.getCurrentFocus().getWindowToken(), 0);\n}\n\n    ","url":"/questions/[slug]#solution25","@type":"Answer","upvoteCount":0},{"text":"Just use this optimized code in your activity:\n\nif (this.getCurrentFocus() != null) {\n    InputMethodManager inputManager = (InputMethodManager) this.getSystemService(Context.INPUT_METHOD_SERVICE);\n    inputManager.hideSoftInputFromWindow(this.getCurrentFocus().getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n}\n\n    ","url":"/questions/[slug]#solution26","@type":"Answer","upvoteCount":0},{"text":"Add to your activity    android:windowSoftInputMode=&quot;stateHidden&quot; in Manifest file. Example:\n\n&lt;activity\n            android:name=&quot;.ui.activity.MainActivity&quot;\n            android:label=&quot;@string/mainactivity&quot;\n            android:windowSoftInputMode=&quot;stateHidden&quot;/&gt;\n\n    ","url":"/questions/[slug]#solution27","@type":"Answer","upvoteCount":0},{"text":" Kotlin Version via Extension Function\nUsing kotlin extension functions, it&apos;d be so simple to show and hide the soft keyboard.\nExtensionFunctions.kt\nimport android.app.Activity\nimport android.view.View\nimport android.view.inputmethod.InputMethodManager\nimport android.widget.EditText\nimport androidx.fragment.app.Fragment\n\nfun Activity.hideKeyboard(): Boolean {\n    return (getSystemService(Activity.INPUT_METHOD_SERVICE) as InputMethodManager)\n        .hideSoftInputFromWindow((currentFocus ?: View(this)).windowToken, 0)\n}\n\nfun Fragment.hideKeyboard(): Boolean {\n    return (context?.getSystemService(Activity.INPUT_METHOD_SERVICE) as InputMethodManager)\n        .hideSoftInputFromWindow((activity?.currentFocus ?: View(context)).windowToken, 0)\n}\n\nfun EditText.hideKeyboard(): Boolean {\n    return (context.getSystemService(Activity.INPUT_METHOD_SERVICE) as InputMethodManager)\n        .hideSoftInputFromWindow(windowToken, 0)\n}\n\nfun EditText.showKeyboard(): Boolean {\n    return (context.getSystemService(Activity.INPUT_METHOD_SERVICE) as InputMethodManager)\n        .showSoftInput(this, 0)\n}\n\n Usage\nNow in your Activity or Fragment, hideKeyboard() is clearly accessible as well as calling it from an instance of EditText like:\neditText.hideKeyboard()\n\n    ","url":"/questions/[slug]#solution28","@type":"Answer","upvoteCount":0},{"text":"For Open Keyboard :\n\nInputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.showSoftInput(edtView, InputMethodManager.SHOW_IMPLICIT);\n\n\nFor Close/Hide Keyboard :\n\n InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\n imm.hideSoftInputFromWindow(edtView.getWindowToken(), 0);\n\n    ","url":"/questions/[slug]#solution29","@type":"Answer","upvoteCount":0},{"text":"I have the case, where my EditText can be located also in an AlertDialog, so the keyboard should be closed on dismiss. The following code seems to be working anywhere:\n\npublic static void hideKeyboard( Activity activity ) {\n    InputMethodManager imm = (InputMethodManager)activity.getSystemService( Context.INPUT_METHOD_SERVICE );\n    View f = activity.getCurrentFocus();\n    if( null != f &amp;&amp; null != f.getWindowToken() &amp;&amp; EditText.class.isAssignableFrom( f.getClass() ) )\n        imm.hideSoftInputFromWindow( f.getWindowToken(), 0 );\n    else \n        activity.getWindow().setSoftInputMode( WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN );\n}\n\n    ","url":"/questions/[slug]#solution30","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/9fb80f4eb9e2d3c9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9fb80f4eb9e2d3c9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-25e5079ab4bd6ecd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-18d80dcb3110b1ad.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/532-fec3344a80918110.js" defer=""></script><script src="/_next/static/chunks/495-bb1d5b202c02d7f2.js" defer=""></script><script src="/_next/static/chunks/817-363561828babdd16.js" defer=""></script><script src="/_next/static/chunks/81-89fd2eaadd8354ed.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-16d8c84aea765d4e.js" defer=""></script><script src="/_next/static/D-Vv5KfwuaE883xCdWfex/_buildManifest.js" defer=""></script><script src="/_next/static/D-Vv5KfwuaE883xCdWfex/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.5">.dlbxiY code{padding:5px;color:hsl(210deg 8% 15%);background-color:hsl(210deg 8% 90%);border-radius:3px;}/*!sc*/
data-styled.g5[id="sc-344134f6-0"]{content:"dlbxiY,"}/*!sc*/
</style></head><body><div id="__next"><div class="sc-9099c029-0 cIPEih"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo.svg" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-to-closehide-the-android-soft-keyboard-programmatically-1657388217420#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="sc-c5440139-0 figLul question my-5"><div class="sc-344134f6-0 dlbxiY flex question-header items-center justify-center"><div class="rounded-xl border p-5 shadow-md w-9/12 bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-to-closehide-the-android-soft-keyboard-programmatically-1657388217420">How to close/hide the Android soft keyboard programmatically?</a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/android-edittext">android-edittext</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/android-softkeyboard">android-softkeyboard</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/android-input-method">android-input-method</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/soft-keyboard">soft-keyboard</a></div></div><div class="question-content mt-5">
                
<p>I have an <code>EditText</code> and a <code>Button</code> in my layout.</p>
<p>After writing in the edit field and clicking on the <code>Button</code>, I want to hide the virtual keyboard when touching it outside the keyboard. I assume that this is a simple piece of code, but where can I find an example of it?</p>
    </div></div></div><div class="sc-344134f6-2 EUowZ"><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>You can force Android to hide the virtual keyboard using the <a href="http://developer.android.com/reference/android/view/inputmethod/InputMethodManager.html" rel="noreferrer">InputMethodManager</a>, calling <a href="http://developer.android.com/reference/android/view/inputmethod/InputMethodManager.html#hideSoftInputFromWindow%28android.os.IBinder,%20int%29" rel="noreferrer"><code>hideSoftInputFromWindow</code></a>, passing in the token of the window containing your focused view.</p>
<pre class="lang-java s-code-block"><code class="hljs language-java"><span class="hljs-comment">// Check if no view has focus:</span>
<span class="hljs-type">View</span> <span class="hljs-variable">view</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getCurrentFocus();
<span class="hljs-keyword">if</span> (view != <span class="hljs-literal">null</span>) {  
    <span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">imm</span> <span class="hljs-operator">=</span> (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);
    imm.hideSoftInputFromWindow(view.getWindowToken(), <span class="hljs-number">0</span>);
}
</code></pre>
<p>This will force the keyboard to be hidden in all situations. In some cases, you will want to pass in <code>InputMethodManager.HIDE_IMPLICIT_ONLY</code> as the second parameter to ensure you only hide the keyboard when the user didn't explicitly force it to appear (by holding down the menu).</p>
<p><strong>Note:</strong> If you want to do this in Kotlin, use:
<code>context?.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager</code></p>
<p><strong>Kotlin Syntax</strong></p>
<pre class="lang-kotlin s-code-block"><code class="hljs language-kotlin"><span class="hljs-comment">// Only runs if there is a view that is currently focused</span>
<span class="hljs-keyword">this</span>.currentFocus?.let { view -&gt;
    <span class="hljs-keyword">val</span> imm = getSystemService(Context.INPUT_METHOD_SERVICE) <span class="hljs-keyword">as</span>? InputMethodManager
    imm?.hideSoftInputFromWindow(view.windowToken, <span class="hljs-number">0</span>)
}
</code></pre>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>To help clarify this madness, I'd like to begin by apologizing on behalf of all Android users for Google's downright ridiculous treatment of the soft keyboard. The reason there are so many answers, each different, for the same simple question is that this API, like many others in Android, is horribly designed. I can think of no polite way to state it.</p>
<p>I want to hide the keyboard.  I expect to provide Android with the following statement: <code>Keyboard.hide()</code>. The end. Thank you very much.  But Android has a problem.  You must use the <code>InputMethodManager</code> to hide the keyboard. OK, fine, this is Android's API to the keyboard. BUT! You are required to have a <code>Context</code> in order to get access to the IMM. Now we have a problem.  I may want to hide the keyboard from a static or utility class that has no use or need for any <code>Context</code>. or And FAR worse, the IMM requires that you specify what <code>View</code> (or even worse, what <code>Window</code>) you want to hide the keyboard FROM.</p>
<p>This is what makes hiding the keyboard so challenging. Dear Google: When I'm looking up the recipe for a cake, there is no <code>RecipeProvider</code> on Earth that would refuse to provide me with the recipe unless I first answer WHO the cake will be eaten by AND where it will be eaten!!</p>
<p>This sad story ends with the ugly truth: to hide the Android keyboard, you will be required to provide 2 forms of identification: a <code>Context</code> and either a <code>View</code> or a <code>Window</code>.</p>
<p>I have created a static utility method that can do the job VERY solidly, provided you call it from an <code>Activity</code>.</p>
<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hideKeyboard</span><span class="hljs-params">(Activity activity)</span> {
    <span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">imm</span> <span class="hljs-operator">=</span> (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);
    <span class="hljs-comment">//Find the currently focused view, so we can grab the correct window token from it.</span>
    <span class="hljs-type">View</span> <span class="hljs-variable">view</span> <span class="hljs-operator">=</span> activity.getCurrentFocus();
    <span class="hljs-comment">//If no view currently has focus, create a new one, just so we can grab a window token from it</span>
    <span class="hljs-keyword">if</span> (view == <span class="hljs-literal">null</span>) {
        view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">View</span>(activity);
    }
    imm.hideSoftInputFromWindow(view.getWindowToken(), <span class="hljs-number">0</span>);
}
</code></pre>
<p>Be aware that this utility method ONLY works when called from an <code>Activity</code>! The above method calls <code>getCurrentFocus</code> of the target <code>Activity</code> to fetch the proper window token.</p>
<p>But suppose you want to hide the keyboard from an <code>EditText</code> hosted in a <code>DialogFragment</code>? You can't use the method above for that:</p>
<pre class="default s-code-block"><code class="hljs language-scss"><span class="hljs-built_in">hideKeyboard</span>(getActivity()); <span class="hljs-comment">//won't work</span>
</code></pre>
<p>This won't work because you'll be passing a reference to the <code>Fragment</code>'s host <code>Activity</code>, which will have no focused control while the <code>Fragment</code> is shown! Wow! So, for hiding the keyboard from fragments, I resort to the lower-level, more common, and uglier:</p>
<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hideKeyboardFrom</span><span class="hljs-params">(Context context, View view)</span> {
    <span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">imm</span> <span class="hljs-operator">=</span> (InputMethodManager) context.getSystemService(Activity.INPUT_METHOD_SERVICE);
    imm.hideSoftInputFromWindow(view.getWindowToken(), <span class="hljs-number">0</span>);
}
</code></pre>
<p>Below is some additional information gleaned from more time wasted chasing this solution:</p>
<p><strong>About windowSoftInputMode</strong></p>
<p>There's yet another point of contention to be aware of. By default, Android will automatically assign initial focus to the first <code>EditText</code> or focusable control in your <code>Activity</code>.  It naturally follows that the InputMethod (typically the soft keyboard) will respond to the focus event by showing itself. The <code>windowSoftInputMode</code> attribute in <code>AndroidManifest.xml</code>, when set to <code>stateAlwaysHidden</code>, instructs the keyboard to ignore this automatically-assigned initial focus.</p>
<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
    <span class="hljs-attr">android:name</span>=<span class="hljs-string">".MyActivity"</span>
    <span class="hljs-attr">android:windowSoftInputMode</span>=<span class="hljs-string">"stateAlwaysHidden"</span>/&gt;</span>
</code></pre>
<p>Almost unbelievably, it appears to do nothing to prevent the keyboard from opening when you touch the control (unless <code>focusable="false"</code> and/or <code>focusableInTouchMode="false"</code> are assigned to the control). Apparently, the windowSoftInputMode setting applies only to automatic focus events, not to focus events triggered by touch events.</p>
<p>Therefore, <code>stateAlwaysHidden</code> is VERY poorly named indeed. It should perhaps be called <code>ignoreInitialFocus</code> instead.</p>
<hr>
<p><strong>UPDATE: More ways to get a window token</strong></p>
<p>If there is no focused view (e.g. can happen if you just changed fragments), there are other views that will supply a useful window token.</p>
<p>These are alternatives for the above code <code>if (view == null)   view = new View(activity);</code>  These don't refer explicitly to your activity.</p>
<p>Inside a fragment class:</p>
<pre class="default s-code-block"><code class="hljs language-ini"><span class="hljs-attr">view</span> = getView().getRootView().getWindowToken()<span class="hljs-comment">;</span>
</code></pre>
<p>Given a fragment <code>fragment</code> as a parameter:</p>
<pre class="default s-code-block"><code class="hljs language-ini"><span class="hljs-attr">view</span> = fragment.getView().getRootView().getWindowToken()<span class="hljs-comment">;</span>
</code></pre>
<p>Starting from your content body:</p>
<pre class="default s-code-block"><code class="hljs language-ini"><span class="hljs-attr">view</span> = findViewById(android.R.id.content).getRootView().getWindowToken()<span class="hljs-comment">;</span>
</code></pre>
<hr>
<p><strong>UPDATE 2: Clear focus to avoid showing keyboard again if you open the app from the background</strong></p>
<p>Add this line to the end of the method:</p>
<p><code>view.clearFocus();</code></p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Also useful for hiding the soft-keyboard is:</p>

<pre class="default s-code-block"><code class="hljs language-scss"><span class="hljs-built_in">getWindow</span>()<span class="hljs-selector-class">.setSoftInputMode</span>(
    WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN
);
</code></pre>

<p>This can be used to suppress the soft-keyboard until the user actually touches the editText View.</p>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I got one more solution to hide keyboard:</p>

<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">imm</span> <span class="hljs-operator">=</span> (InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE);
imm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, <span class="hljs-number">0</span>);
</code></pre>

<p>Here pass <code>HIDE_IMPLICIT_ONLY</code> at the position of <code>showFlag</code> and <code>0</code> at the position of <code>hiddenFlag</code>. It will forcefully close soft Keyboard.</p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Meier's solution works for me too. In my case, the top level of my App is a tab host and I want to hide the keyword when switching tabs - I get the window token from the tab host View.</p>

<pre class="default s-code-block"><code class="hljs language-typescript">tabHost.<span class="hljs-title function_">setOnTabChangedListener</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OnTabChangeListener</span>() {
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onTabChanged</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> tabId</span>) {
        <span class="hljs-title class_">InputMethodManager</span> imm = (<span class="hljs-title class_">InputMethodManager</span>) <span class="hljs-title function_">getSystemService</span>(<span class="hljs-title class_">Context</span>.<span class="hljs-property">INPUT_METHOD_SERVICE</span>);
        imm.<span class="hljs-title function_">hideSoftInputFromWindow</span>(tabHost.<span class="hljs-title function_">getApplicationWindowToken</span>(), <span class="hljs-number">0</span>);
    }
}
</code></pre>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Please try this below code in  <code>onCreate()</code></p>
<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-type">EditText</span> <span class="hljs-variable">edtView</span> <span class="hljs-operator">=</span> (EditText) findViewById(R.id.editTextConvertValue);
edtView.setInputType(InputType.TYPE_NULL);
</code></pre>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>Update:</strong>
I don't know why this solution is not work any more ( I just tested on Android 23). Please use the solution of <a href="https://stackoverflow.com/a/9494042/523325">Saurabh Pareek</a> instead. Here it is:</p>

<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">imm</span> <span class="hljs-operator">=</span> (InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE);
<span class="hljs-comment">//Hide:</span>
imm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, <span class="hljs-number">0</span>);
<span class="hljs-comment">//Show</span>
imm.toggleSoftInput(InputMethodManager.SHOW_IMPLICIT, <span class="hljs-number">0</span>);
</code></pre>

<p>Old answer:</p>

<pre class="default s-code-block"><code class="hljs language-scss"><span class="hljs-comment">//Show soft-keyboard:</span>
<span class="hljs-built_in">getWindow</span>()<span class="hljs-selector-class">.setSoftInputMode</span>(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_VISIBLE);
<span class="hljs-comment">//hide keyboard :</span>
 <span class="hljs-built_in">getWindow</span>()<span class="hljs-selector-class">.setSoftInputMode</span>(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);
</code></pre>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hideSoftKeyboard</span><span class="hljs-params">(EditText input)</span> {
    <span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">imm</span> <span class="hljs-operator">=</span> (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
    imm.hideSoftInputFromWindow(input.getWindowToken(), <span class="hljs-number">0</span>);    
}
</code></pre>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If all the other answers here don't work for you as you would like them to, there's another way of manually controlling the keyboard.</p>

<p>Create a function with that will manage some of the <code>EditText</code>'s properties:</p>

<pre class="default s-code-block"><code class="hljs language-scss">public void <span class="hljs-built_in">setEditTextFocus</span>(boolean isFocused) {
    searchEditText<span class="hljs-selector-class">.setCursorVisible</span>(isFocused);
    searchEditText<span class="hljs-selector-class">.setFocusable</span>(isFocused);
    searchEditText<span class="hljs-selector-class">.setFocusableInTouchMode</span>(isFocused);

    if (isFocused) {
        searchEditText<span class="hljs-selector-class">.requestFocus</span>();
    }
}
</code></pre>

<p>Then, make sure that onFocus of the <code>EditText</code> you open/close the keyboard:</p>

<pre class="default s-code-block"><code class="hljs language-scss">searchEditText<span class="hljs-selector-class">.setOnFocusChangeListener</span>(new OnFocusChangeListener() {
    <span class="hljs-keyword">@Override</span>
    public void onFocusChange(View v, boolean hasFocus) {
        if (v == searchEditText) {
            if (hasFocus) {
                <span class="hljs-comment">// Open keyboard</span>
                ((InputMethodManager) context<span class="hljs-selector-class">.getSystemService</span>(Context.INPUT_METHOD_SERVICE))<span class="hljs-selector-class">.showSoftInput</span>(searchEditText, InputMethodManager.SHOW_FORCED);
            } else {
                <span class="hljs-comment">// Close keyboard</span>
                ((InputMethodManager) context<span class="hljs-selector-class">.getSystemService</span>(Context.INPUT_METHOD_SERVICE))<span class="hljs-selector-class">.hideSoftInputFromWindow</span>(searchEditText.getWindowToken(), <span class="hljs-number">0</span>);
            }
        }
    }
});
</code></pre>

<p>Now, whenever you want to open the keyboard manually call: </p>

<pre class="default s-code-block"><code class="hljs language-scss"><span class="hljs-built_in">setEditTextFocus</span>(true);
</code></pre>

<p>And for closing call:</p>

<pre class="default s-code-block"><code class="hljs language-scss"><span class="hljs-built_in">setEditTextFocus</span>(false);
</code></pre>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 10</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><a href="https://stackoverflow.com/a/9494042/197359">Saurabh Pareek</a> has the best answer so far.</p>

<p>Might as well use the correct flags, though.</p>

<pre class="default s-code-block"><code class="hljs language-scss"><span class="hljs-comment">/* hide keyboard */</span>
((InputMethodManager) <span class="hljs-built_in">getSystemService</span>(Activity.INPUT_METHOD_SERVICE))
    <span class="hljs-selector-class">.toggleSoftInput</span>(InputMethodManager.SHOW_IMPLICIT, <span class="hljs-number">0</span>);

<span class="hljs-comment">/* show keyboard */</span>
((InputMethodManager) <span class="hljs-built_in">getSystemService</span>(Activity.INPUT_METHOD_SERVICE))
    <span class="hljs-selector-class">.toggleSoftInput</span>(<span class="hljs-number">0</span>, InputMethodManager.HIDE_IMPLICIT_ONLY);
</code></pre>

<p>Example of real use</p>

<pre class="default s-code-block"><code class="hljs language-scss"><span class="hljs-comment">/* click button */</span>
public void <span class="hljs-built_in">onClick</span>(View view) {      
  <span class="hljs-comment">/* hide keyboard */</span>
  ((InputMethodManager) <span class="hljs-built_in">getSystemService</span>(Activity.INPUT_METHOD_SERVICE))
      <span class="hljs-selector-class">.toggleSoftInput</span>(InputMethodManager.SHOW_IMPLICIT, <span class="hljs-number">0</span>);

  <span class="hljs-comment">/* start loader to check parameters ... */</span>
}

<span class="hljs-comment">/* loader finished */</span>
public void <span class="hljs-built_in">onLoadFinished</span>(Loader&lt;Object&gt; loader, Object data) {
    <span class="hljs-comment">/* parameters not valid ... */</span>

    <span class="hljs-comment">/* show keyboard */</span>
    ((InputMethodManager) <span class="hljs-built_in">getSystemService</span>(Activity.INPUT_METHOD_SERVICE))
        <span class="hljs-selector-class">.toggleSoftInput</span>(<span class="hljs-number">0</span>, InputMethodManager.HIDE_IMPLICIT_ONLY);

    <span class="hljs-comment">/* parameters valid ... */</span>
}
</code></pre>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 11</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>from so searching, here I found an answer that works for me</p>

<pre class="default s-code-block"><code class="hljs language-css">// Show soft-keyboard:
InputMethodManager imm = (InputMethodManager) <span class="hljs-built_in">getSystemService</span>(Context.INPUT_METHOD_SERVICE);
imm<span class="hljs-selector-class">.toggleSoftInput</span>(InputMethodManager<span class="hljs-selector-class">.SHOW_FORCED</span>, <span class="hljs-number">0</span>);

// Hide soft-keyboard:
<span class="hljs-built_in">getWindow</span>().<span class="hljs-built_in">setSoftInputMode</span>(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);
</code></pre>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 12</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2>The short answer</h2>

<p>In your <code>OnClick</code> listener call the <code>onEditorAction</code> of the <code>EditText</code> with <code>IME_ACTION_DONE</code></p>

<pre class="default s-code-block"><code class="hljs language-typescript">button.<span class="hljs-title function_">setOnClickListener</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OnClickListener</span>() {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onClick</span>(<span class="hljs-params">View v</span>) {
        someEditText.<span class="hljs-title function_">onEditorAction</span>(<span class="hljs-title class_">EditorInfo</span>.<span class="hljs-property">IME_ACTION_DONE</span>)
    }
});
</code></pre>

<h2>The drill-down</h2>

<p>I feel this method is better, simpler and more aligned with Android's design pattern.
In the simple example above (and usually in most of the common cases) you'll have an <code>EditText</code> that has/had focus and it also usually was the one to invoke the keyboard in the first place (it is definitely able to invoke it in many common scenarios). In that same way, <strong>it</strong> should be the one to release the keyboard, usually that can be done by an <code>ImeAction</code>. Just see how an <code>EditText</code> with <code>android:imeOptions="actionDone"</code> behaves, you want to achieve the same behavior by the same means.</p>

<hr>

<p>Check this <a href="https://stackoverflow.com/a/3449616/2837443">related answer</a></p>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 13</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This should work:</p>

<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">KeyBoard</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">(Activity activity)</span>{
        <span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">imm</span> <span class="hljs-operator">=</span> (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);
        imm.toggleSoftInput(<span class="hljs-number">0</span>, InputMethodManager.HIDE_IMPLICIT_ONLY); <span class="hljs-comment">// show</span>
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hide</span><span class="hljs-params">(Activity activity)</span>{
        <span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">imm</span> <span class="hljs-operator">=</span> (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);
        imm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, <span class="hljs-number">0</span>); <span class="hljs-comment">// hide</span>
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">toggle</span><span class="hljs-params">(Activity activity)</span>{
        <span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">imm</span> <span class="hljs-operator">=</span> (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);
        <span class="hljs-keyword">if</span> (imm.isActive()){
            hide(activity); 
        } <span class="hljs-keyword">else</span> {
            show(activity); 
        }
    }
}

KeyBoard.toggle(activity);
</code></pre>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 14</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I'm using a custom keyboard to input an Hex number so I can't have the IMM keyboard show up...</p>

<p>In v3.2.4_r1 <code>setSoftInputShownOnFocus(boolean show)</code> was added to control weather or not to display the keyboard when a TextView gets focus, but its still hidden so reflection must be used:</p>

<pre class="default s-code-block"><code class="hljs language-php"><span class="hljs-keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB_MR2) {
    <span class="hljs-keyword">try</span> {
        Method method = TextView.<span class="hljs-keyword">class</span>.<span class="hljs-title function_ invoke__">getMethod</span>(<span class="hljs-string">"setSoftInputShownOnFocus"</span>, <span class="hljs-keyword">boolean</span>.<span class="hljs-keyword">class</span>);
        method.<span class="hljs-title function_ invoke__">invoke</span>(mEditText, <span class="hljs-literal">false</span>);
    } <span class="hljs-keyword">catch</span> (<span class="hljs-built_in">Exception</span> e) {
        <span class="hljs-comment">// Fallback to the second method</span>
    }
}
</code></pre>

<hr>

<p>For older versions, I got very good results (but far from perfect) with a <code>OnGlobalLayoutListener</code>, added with the aid of a <code>ViewTreeObserver</code> from my root view and then checking if the keyboard is shown like this:</p>

<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onGlobalLayout</span><span class="hljs-params">()</span> {
    <span class="hljs-type">Configuration</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> getResources().getConfiguration();

    <span class="hljs-comment">// Dont allow the default keyboard to show up</span>
    <span class="hljs-keyword">if</span> (config.keyboardHidden != Configuration.KEYBOARDHIDDEN_YES) {
        <span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">imm</span> <span class="hljs-operator">=</span> (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
        imm.hideSoftInputFromWindow(mRootView.getWindowToken(), <span class="hljs-number">0</span>);
    }
}
</code></pre>

<p>This last solution may show the keyboard for a split second and messes with the selection handles.</p>

<p>When in the keyboard enters full screen, onGlobalLayout isn't called. To avoid that, use <a href="https://developer.android.com/reference/android/widget/TextView.html#setImeOptions%28int%29" rel="noreferrer">TextView#setImeOptions(int)</a> or in the TextView XML declaration:</p>

<pre class="default s-code-block"><code class="hljs language-vbnet"><span class="hljs-symbol">android:</span>imeOptions=<span class="hljs-string">"actionNone|actionUnspecified|flagNoFullscreen|flagNoExtractUi"</span>
</code></pre>

<p><strong>Update:</strong> Just found what dialogs use to never show the keyboard and works in all versions:</p>

<pre class="default s-code-block"><code class="hljs language-scss"><span class="hljs-built_in">getWindow</span>()<span class="hljs-selector-class">.setFlags</span>(WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM,
        WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);
</code></pre>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 15</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setKeyboardVisibility</span><span class="hljs-params">(<span class="hljs-type">boolean</span> show)</span> {
    <span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">imm</span> <span class="hljs-operator">=</span> (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
    <span class="hljs-keyword">if</span>(show){
        imm.toggleSoftInput(InputMethodManager.SHOW_FORCED, <span class="hljs-number">0</span>);
    }<span class="hljs-keyword">else</span>{
        imm.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(),<span class="hljs-number">0</span>);
    }
}
</code></pre>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 16</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I have spent more than two days working through all of the solutions posted in the thread and have found them lacking in one way or another.  My exact requirement is to have a button that will with 100% reliability show or hide the on screen keyboard.  When the keyboard is in its hidden state is should not re-appear, no matter what input fields the user clicks on.  When it is in its visible state the keyboard should not disappear no matter what buttons the user clicks.  This needs to work on Android 2.2+ all the way up to the latest devices.</p>

<p>You can see a working implementation of this in my app <a href="https://play.google.com/store/apps/details?id=au.com.lukesleeman.rpn&amp;hl=en" rel="noreferrer">clean RPN</a>.</p>

<p>After testing many of the suggested answers on a number of different phones (including froyo and gingerbread devices) it became apparent that android apps can reliably:</p>

<ol>
<li>Temporarily hide the keyboard.  It will re-appear again when a user
focuses a new text field.</li>
<li>Show the keyboard when an activity starts
and set a flag on the activity indicating that they keyboard should
always be visible.  This flag can only be set when an activity is
initialising.</li>
<li>Mark an activity to never show or allow the use of the
keyboard.  This flag can only be set when an activity is
initialising.</li>
</ol>

<p>For me, temporarily hiding the keyboard is not enough.  On some devices it will re-appear as soon as a new text field is focused.  As my app uses multiple text fields on one page, focusing a new text field will cause the hidden keyboard to pop back up again.</p>

<p>Unfortunately item 2 and 3 on the list only work reliability when an activity is being started.  Once the activity has become visible you cannot permanently hide or show the keyboard.  The trick is to actually restart your activity when the user presses the keyboard toggle button.  In my app when the user presses on the toggle keyboard button, the following code runs:</p>

<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">toggleKeyboard</span><span class="hljs-params">()</span>{

    <span class="hljs-keyword">if</span>(keypadPager.getVisibility() == View.VISIBLE){
        <span class="hljs-type">Intent</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(<span class="hljs-built_in">this</span>, MainActivity.class);
        i.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);
        <span class="hljs-type">Bundle</span> <span class="hljs-variable">state</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bundle</span>();
        onSaveInstanceState(state);
        state.putBoolean(SHOW_KEYBOARD, <span class="hljs-literal">true</span>);
        i.putExtras(state);

        startActivity(i);
    }
    <span class="hljs-keyword">else</span>{
        <span class="hljs-type">Intent</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(<span class="hljs-built_in">this</span>, MainActivity.class);
        i.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);
        <span class="hljs-type">Bundle</span> <span class="hljs-variable">state</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bundle</span>();
        onSaveInstanceState(state);
        state.putBoolean(SHOW_KEYBOARD, <span class="hljs-literal">false</span>);
        i.putExtras(state);

        startActivity(i);
    }
}
</code></pre>

<p>This causes the current activity to have its state saved into a Bundle, and then the activity is started, passing through an boolean which indicates if the keyboard should be shown or hidden.</p>

<p>Inside the onCreate method the following code is run:</p>

<pre class="default s-code-block"><code class="hljs language-scss"><span class="hljs-built_in">if</span>(bundle.getBoolean(SHOW_KEYBOARD)){
    ((InputMethodManager) <span class="hljs-built_in">getSystemService</span>(Context.INPUT_METHOD_SERVICE))<span class="hljs-selector-class">.showSoftInput</span>(newEquationText,<span class="hljs-number">0</span>);
    <span class="hljs-built_in">getWindow</span>()<span class="hljs-selector-class">.setSoftInputMode</span>(LayoutParams.SOFT_INPUT_STATE_ALWAYS_VISIBLE);
}
else{
    <span class="hljs-built_in">getWindow</span>()<span class="hljs-selector-class">.setFlags</span>(WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM,
            WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);
}
</code></pre>

<p>If the soft keyboard should be shown, then the InputMethodManager is told to show the keyboard and the window is instructed to make the soft input always visible. If the soft keyboard should be hidden then the WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM is set.</p>

<p>This approach works reliably on all devices I have tested on - from a 4 year old HTC phone running android 2.2 up to a nexus 7 running 4.2.2.  The only disadvantage with this approach is you need to be careful with handling the back button.  As my app essentially only has one screen (its a calculator) I can override onBackPressed() and return to the devices home screen.</p>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 17</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Alternatively to <a href="https://stackoverflow.com/a/9494042/451962">this all around solution</a>, if you wanted to close the soft keyboard <strong>from anywhere</strong> without having a reference to the (EditText) field that was used to open the keyboard, but still wanted to do it if the field was focused, you could use this (from an Activity):</p>

<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-keyword">if</span> (getCurrentFocus() != <span class="hljs-literal">null</span>) {
    <span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">imm</span> <span class="hljs-operator">=</span> (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
    imm.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(), <span class="hljs-number">0</span>);
}
</code></pre>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 18</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Thank God its officially supported <a href="https://www.youtube.com/watch?v=acC7SR1EXsI" rel="noreferrer">after 11 years</a></p>
<p>First add dependency <code>implementation 'androidx.core:core-ktx:1.7.0'</code> to app gradle</p>
<p><strong>Here is the simple <a href="https://github.com/sergchil/KeyboardTest" rel="noreferrer">project</a> on github</strong></p>
<pre class="default s-code-block"><code class="hljs language-kotlin"><span class="hljs-keyword">import</span> android.app.Activity
<span class="hljs-keyword">import</span> android.content.Context
<span class="hljs-keyword">import</span> android.view.View
<span class="hljs-keyword">import</span> androidx.core.view.WindowInsetsCompat
<span class="hljs-keyword">import</span> androidx.core.view.WindowInsetsControllerCompat
<span class="hljs-keyword">import</span> androidx.fragment.app.Fragment
<span class="hljs-keyword">import</span> androidx.fragment.app.FragmentActivity


<span class="hljs-function"><span class="hljs-keyword">fun</span> View.<span class="hljs-title">showKeyboard</span><span class="hljs-params">()</span></span> = (<span class="hljs-keyword">this</span>.context <span class="hljs-keyword">as</span>? Activity)?.showKeyboard()
<span class="hljs-function"><span class="hljs-keyword">fun</span> View.<span class="hljs-title">hideKeyboard</span><span class="hljs-params">()</span></span> = (<span class="hljs-keyword">this</span>.context <span class="hljs-keyword">as</span>? Activity)?.hideKeyboard()

<span class="hljs-function"><span class="hljs-keyword">fun</span> Fragment.<span class="hljs-title">showKeyboard</span><span class="hljs-params">()</span></span> = activity?.let(FragmentActivity::showKeyboard)
<span class="hljs-function"><span class="hljs-keyword">fun</span> Fragment.<span class="hljs-title">hideKeyboard</span><span class="hljs-params">()</span></span> = activity?.hideKeyboard()

<span class="hljs-function"><span class="hljs-keyword">fun</span> Context.<span class="hljs-title">showKeyboard</span><span class="hljs-params">()</span></span> = (<span class="hljs-keyword">this</span> <span class="hljs-keyword">as</span>? Activity)?.showKeyboard()
<span class="hljs-function"><span class="hljs-keyword">fun</span> Context.<span class="hljs-title">hideKeyboard</span><span class="hljs-params">()</span></span> = (<span class="hljs-keyword">this</span> <span class="hljs-keyword">as</span>? Activity)?.hideKeyboard()

<span class="hljs-function"><span class="hljs-keyword">fun</span> Activity.<span class="hljs-title">showKeyboard</span><span class="hljs-params">()</span></span> = WindowInsetsControllerCompat(window, window.decorView).show(WindowInsetsCompat.Type.ime())
<span class="hljs-function"><span class="hljs-keyword">fun</span> Activity.<span class="hljs-title">hideKeyboard</span><span class="hljs-params">()</span></span> = WindowInsetsControllerCompat(window, window.decorView).hide(WindowInsetsCompat.Type.ime())
</code></pre>
    </div></div></div></div><div id="solution19" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 19</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Thanks to <a href="https://stackoverflow.com/a/7696791/1617737">this SO answer</a>, I derived the following which, in my case, works nicely when scrolling through the the fragments of a ViewPager...</p>

<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hideKeyboard</span><span class="hljs-params">()</span> {   
    <span class="hljs-comment">// Check if no view has focus:</span>
    <span class="hljs-type">View</span> <span class="hljs-variable">view</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getCurrentFocus();
    <span class="hljs-keyword">if</span> (view != <span class="hljs-literal">null</span>) {
        <span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">inputManager</span> <span class="hljs-operator">=</span> (InputMethodManager) <span class="hljs-built_in">this</span>.getSystemService(Context.INPUT_METHOD_SERVICE);
        inputManager.hideSoftInputFromWindow(view.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);
    }
}

<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">showKeyboard</span><span class="hljs-params">()</span> {   
    <span class="hljs-comment">// Check if no view has focus:</span>
    <span class="hljs-type">View</span> <span class="hljs-variable">view</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getCurrentFocus();
    <span class="hljs-keyword">if</span> (view != <span class="hljs-literal">null</span>) {
        <span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">inputManager</span> <span class="hljs-operator">=</span> (InputMethodManager) <span class="hljs-built_in">this</span>.getSystemService(Context.INPUT_METHOD_SERVICE);
        inputManager.showSoftInput(view, InputMethodManager.SHOW_IMPLICIT);
    }
}
</code></pre>
    </div></div></div></div><div id="solution20" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 20</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Above answers work for different scenario's but  <strong>If you want to hide the keyboard inside a view and struggling to get the right context try this:</strong></p>

<pre class="default s-code-block"><code class="hljs language-typescript"><span class="hljs-title function_">setOnClickListener</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OnClickListener</span>() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">onClick</span>(<span class="hljs-params">View v</span>) {
        <span class="hljs-title function_">hideSoftKeyBoardOnTabClicked</span>(v);
    }
}

<span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">hideSoftKeyBoardOnTabClicked</span>(<span class="hljs-params">View v</span>) {
    <span class="hljs-keyword">if</span> (v != <span class="hljs-literal">null</span> &amp;&amp; context != <span class="hljs-literal">null</span>) {
        <span class="hljs-title class_">InputMethodManager</span> imm = (<span class="hljs-title class_">InputMethodManager</span>) context.<span class="hljs-title function_">getSystemService</span>(<span class="hljs-title class_">Context</span>.<span class="hljs-property">INPUT_METHOD_SERVICE</span>);
        imm.<span class="hljs-title function_">hideSoftInputFromWindow</span>(v.<span class="hljs-title function_">getApplicationWindowToken</span>(), <span class="hljs-title class_">InputMethodManager</span>.<span class="hljs-property">HIDE_NOT_ALWAYS</span>);
    }
}
</code></pre>

<p>and to get the context fetch it from constructor:) </p>

<pre class="default s-code-block"><code class="hljs language-csharp"><span class="hljs-keyword">public</span> View/RelativeLayout/<span class="hljs-function">so <span class="hljs-keyword">and</span> <span class="hljs-title">so</span> (<span class="hljs-params">Context context, AttributeSet attrs, <span class="hljs-built_in">int</span> defStyle</span>)</span> {
    super(context, attrs, defStyle);
    <span class="hljs-keyword">this</span>.context = context;
    <span class="hljs-keyword">init</span>();
}
</code></pre>
    </div></div></div></div><div id="solution21" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 21</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you want to close the soft keyboard during a unit or functional test, you can do so by clicking the "back button" from your test:</p>

<pre class="default s-code-block"><code class="hljs language-scss"><span class="hljs-comment">// Close the soft keyboard from a Test</span>
<span class="hljs-built_in">getInstrumentation</span>()<span class="hljs-selector-class">.sendKeyDownUpSync</span>(KeyEvent.KEYCODE_BACK);
</code></pre>

<p>I put "back button" in quotes, since the above doesn't trigger the <code>onBackPressed()</code> for the Activity in question. It just closes the keyboard.</p>

<p>Make sure to pause for a little while before moving on, since it takes a little while to close the back button, so subsequent clicks to Views, etc., won't be registered until after a short pause (1 second is long enough ime).</p>
    </div></div></div></div><div id="solution22" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 22</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Now, almost 12 years later, we finally have an official, backwards compatible way to do this with <a href="https://developer.android.com/jetpack/androidx/releases/core#1.5.0" rel="noreferrer">AndroidX Core 1.5+</a>:</p>
<pre class="default s-code-block"><code class="hljs language-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> View.<span class="hljs-title">hideKeyboard</span><span class="hljs-params">()</span></span> = ViewCompat.getWindowInsetsController(<span class="hljs-keyword">this</span>)
    ?.hide(WindowInsetsCompat.Type.ime())
</code></pre>
<p>or specifically for Fragment:</p>
<pre class="default s-code-block"><code class="hljs language-kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> Fragment.<span class="hljs-title">hideKeyboard</span><span class="hljs-params">()</span></span> = ViewCompat.getWindowInsetsController(requireView())
    ?.hide(WindowInsetsCompat.Type.ime())
</code></pre>
    </div></div></div></div><div id="solution23" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 23</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Here's how you do it in Mono for Android (AKA MonoDroid)</p>

<pre class="default s-code-block"><code class="hljs language-csharp">InputMethodManager imm = GetSystemService (Context.InputMethodService) <span class="hljs-keyword">as</span> InputMethodManager;
<span class="hljs-keyword">if</span> (imm != <span class="hljs-literal">null</span>)
    imm.HideSoftInputFromWindow (searchbox.WindowToken , <span class="hljs-number">0</span>);
</code></pre>
    </div></div></div></div><div id="solution24" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 24</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>This worked for me for all the bizarre keyboard behavior</p>

<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isKeyboardVisible</span><span class="hljs-params">()</span> {
    <span class="hljs-type">Rect</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Rect</span>();
    <span class="hljs-comment">//r will be populated with the coordinates of your view that area still visible.</span>
    mRootView.getWindowVisibleDisplayFrame(r);

    <span class="hljs-type">int</span> <span class="hljs-variable">heightDiff</span> <span class="hljs-operator">=</span> mRootView.getRootView().getHeight() - (r.bottom - r.top);
    <span class="hljs-keyword">return</span> heightDiff &gt; <span class="hljs-number">100</span>; <span class="hljs-comment">// if more than 100 pixels, its probably a keyboard...</span>
}

<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">showKeyboard</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">if</span> (isKeyboardVisible())
        <span class="hljs-keyword">return</span>;
    <span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">inputMethodManager</span> <span class="hljs-operator">=</span> (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
    <span class="hljs-keyword">if</span> (getCurrentFocus() == <span class="hljs-literal">null</span>) {
        inputMethodManager.toggleSoftInput(InputMethodManager.SHOW_FORCED, <span class="hljs-number">0</span>);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-type">View</span> <span class="hljs-variable">view</span> <span class="hljs-operator">=</span> getCurrentFocus();
        inputMethodManager.showSoftInput(view, InputMethodManager.SHOW_FORCED);
    }
}

<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hideKeyboard</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">if</span> (!isKeyboardVisible())
        <span class="hljs-keyword">return</span>;
    <span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">inputMethodManager</span> <span class="hljs-operator">=</span> (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
    <span class="hljs-type">View</span> <span class="hljs-variable">view</span> <span class="hljs-operator">=</span> getCurrentFocus();
    <span class="hljs-keyword">if</span> (view == <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">if</span> (inputMethodManager.isAcceptingText())
            inputMethodManager.toggleSoftInput(InputMethodManager.HIDE_NOT_ALWAYS, <span class="hljs-number">0</span>);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (view <span class="hljs-keyword">instanceof</span> EditText)
            ((EditText) view).setText(((EditText) view).getText().toString()); <span class="hljs-comment">// reset edit text bug on some keyboards bug</span>
        inputMethodManager.hideSoftInputFromInputMethod(view.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);
    }
}
</code></pre>
    </div></div></div></div><div id="solution25" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 25</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Simple and Easy to use method, just call <strong>hideKeyboardFrom(YourActivity.this);</strong> to hide keyboard</p>

<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-comment">/**
 * This method is used to hide keyboard
 * <span class="hljs-doctag">@param</span> activity
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hideKeyboardFrom</span><span class="hljs-params">(Activity activity)</span> {
    <span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">imm</span> <span class="hljs-operator">=</span> (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);
    imm.hideSoftInputFromWindow(activity.getCurrentFocus().getWindowToken(), <span class="hljs-number">0</span>);
}
</code></pre>
    </div></div></div></div><div id="solution26" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 26</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Just use this optimized code in your activity:</p>

<pre class="default s-code-block"><code class="hljs language-kotlin"><span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getCurrentFocus() != <span class="hljs-literal">null</span>) {
    InputMethodManager inputManager = (InputMethodManager) <span class="hljs-keyword">this</span>.getSystemService(Context.INPUT_METHOD_SERVICE);
    inputManager.hideSoftInputFromWindow(<span class="hljs-keyword">this</span>.getCurrentFocus().getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);
}
</code></pre>
    </div></div></div></div><div id="solution27" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 27</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Add to your activity    <code>android:windowSoftInputMode="stateHidden"</code> in Manifest file. Example:</p>

<pre class="default s-code-block"><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
            <span class="hljs-attr">android:name</span>=<span class="hljs-string">".ui.activity.MainActivity"</span>
            <span class="hljs-attr">android:label</span>=<span class="hljs-string">"@string/mainactivity"</span>
            <span class="hljs-attr">android:windowSoftInputMode</span>=<span class="hljs-string">"stateHidden"</span>/&gt;</span>
</code></pre>
    </div></div></div></div><div id="solution28" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 28</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h2> <code>Kotlin Version</code> via <code>Extension Function</code></h2>
<p>Using kotlin extension functions, it'd be so simple to show and hide the soft keyboard.</p>
<p><strong>ExtensionFunctions.kt</strong></p>
<pre class="default s-code-block"><code class="hljs language-kotlin"><span class="hljs-keyword">import</span> android.app.Activity
<span class="hljs-keyword">import</span> android.view.View
<span class="hljs-keyword">import</span> android.view.inputmethod.InputMethodManager
<span class="hljs-keyword">import</span> android.widget.EditText
<span class="hljs-keyword">import</span> androidx.fragment.app.Fragment

<span class="hljs-function"><span class="hljs-keyword">fun</span> Activity.<span class="hljs-title">hideKeyboard</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-keyword">return</span> (getSystemService(Activity.INPUT_METHOD_SERVICE) <span class="hljs-keyword">as</span> InputMethodManager)
        .hideSoftInputFromWindow((currentFocus ?: View(<span class="hljs-keyword">this</span>)).windowToken, <span class="hljs-number">0</span>)
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> Fragment.<span class="hljs-title">hideKeyboard</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-keyword">return</span> (context?.getSystemService(Activity.INPUT_METHOD_SERVICE) <span class="hljs-keyword">as</span> InputMethodManager)
        .hideSoftInputFromWindow((activity?.currentFocus ?: View(context)).windowToken, <span class="hljs-number">0</span>)
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> EditText.<span class="hljs-title">hideKeyboard</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-keyword">return</span> (context.getSystemService(Activity.INPUT_METHOD_SERVICE) <span class="hljs-keyword">as</span> InputMethodManager)
        .hideSoftInputFromWindow(windowToken, <span class="hljs-number">0</span>)
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> EditText.<span class="hljs-title">showKeyboard</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-keyword">return</span> (context.getSystemService(Activity.INPUT_METHOD_SERVICE) <span class="hljs-keyword">as</span> InputMethodManager)
        .showSoftInput(<span class="hljs-keyword">this</span>, <span class="hljs-number">0</span>)
}
</code></pre>
<h3> Usage</h3>
<p>Now in your <code>Activity</code> or <code>Fragment</code>, <code>hideKeyboard()</code> is clearly accessible as well as calling it from an instance of <code>EditText</code> like:</p>
<pre class="default s-code-block"><code class="hljs language-scss">editText<span class="hljs-selector-class">.hideKeyboard</span>()
</code></pre>
    </div></div></div></div><div id="solution29" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 29</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>For Open Keyboard :</p>

<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">imm</span> <span class="hljs-operator">=</span> (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
imm.showSoftInput(edtView, InputMethodManager.SHOW_IMPLICIT);
</code></pre>

<p>For Close/Hide Keyboard :</p>

<pre class="default s-code-block"><code class="hljs language-java"> <span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">imm</span> <span class="hljs-operator">=</span> (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);
 imm.hideSoftInputFromWindow(edtView.getWindowToken(), <span class="hljs-number">0</span>);
</code></pre>
    </div></div></div></div><div id="solution30" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 30</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I have the case, where my <code>EditText</code> can be located also in an <code>AlertDialog</code>, so the keyboard should be closed on dismiss. The following code seems to be working anywhere:</p>

<pre class="default s-code-block"><code class="hljs language-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hideKeyboard</span><span class="hljs-params">( Activity activity )</span> {
    <span class="hljs-type">InputMethodManager</span> <span class="hljs-variable">imm</span> <span class="hljs-operator">=</span> (InputMethodManager)activity.getSystemService( Context.INPUT_METHOD_SERVICE );
    <span class="hljs-type">View</span> <span class="hljs-variable">f</span> <span class="hljs-operator">=</span> activity.getCurrentFocus();
    <span class="hljs-keyword">if</span>( <span class="hljs-literal">null</span> != f &amp;&amp; <span class="hljs-literal">null</span> != f.getWindowToken() &amp;&amp; EditText.class.isAssignableFrom( f.getClass() ) )
        imm.hideSoftInputFromWindow( f.getWindowToken(), <span class="hljs-number">0</span> );
    <span class="hljs-keyword">else</span> 
        activity.getWindow().setSoftInputMode( WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN );
}
</code></pre>
    </div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;You can force Android to hide the virtual keyboard using the \u0026lt;a href=\u0026quot;http://developer.android.com/reference/android/view/inputmethod/InputMethodManager.html\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;InputMethodManager\u0026lt;/a\u0026gt;, calling \u0026lt;a href=\u0026quot;http://developer.android.com/reference/android/view/inputmethod/InputMethodManager.html#hideSoftInputFromWindow%28android.os.IBinder,%20int%29\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;hideSoftInputFromWindow\u0026lt;/code\u0026gt;\u0026lt;/a\u0026gt;, passing in the token of the window containing your focused view.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-java s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Check if no view has focus:\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;view\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.getCurrentFocus();\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (view != \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) {  \n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;imm\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(view.getWindowToken(), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This will force the keyboard to be hidden in all situations. In some cases, you will want to pass in \u0026lt;code\u0026gt;InputMethodManager.HIDE_IMPLICIT_ONLY\u0026lt;/code\u0026gt; as the second parameter to ensure you only hide the keyboard when the user didn\u0026apos;t explicitly force it to appear (by holding down the menu).\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Note:\u0026lt;/strong\u0026gt; If you want to do this in Kotlin, use:\n\u0026lt;code\u0026gt;context?.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Kotlin Syntax\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-kotlin s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-kotlin\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Only runs if there is a view that is currently focused\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.currentFocus?.let { view -\u0026amp;gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;val\u0026lt;/span\u0026gt; imm = getSystemService(Context.INPUT_METHOD_SERVICE) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt;? InputMethodManager\n    imm?.hideSoftInputFromWindow(view.windowToken, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;To help clarify this madness, I\u0026apos;d like to begin by apologizing on behalf of all Android users for Google\u0026apos;s downright ridiculous treatment of the soft keyboard. The reason there are so many answers, each different, for the same simple question is that this API, like many others in Android, is horribly designed. I can think of no polite way to state it.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I want to hide the keyboard.  I expect to provide Android with the following statement: \u0026lt;code\u0026gt;Keyboard.hide()\u0026lt;/code\u0026gt;. The end. Thank you very much.  But Android has a problem.  You must use the \u0026lt;code\u0026gt;InputMethodManager\u0026lt;/code\u0026gt; to hide the keyboard. OK, fine, this is Android\u0026apos;s API to the keyboard. BUT! You are required to have a \u0026lt;code\u0026gt;Context\u0026lt;/code\u0026gt; in order to get access to the IMM. Now we have a problem.  I may want to hide the keyboard from a static or utility class that has no use or need for any \u0026lt;code\u0026gt;Context\u0026lt;/code\u0026gt;. or And FAR worse, the IMM requires that you specify what \u0026lt;code\u0026gt;View\u0026lt;/code\u0026gt; (or even worse, what \u0026lt;code\u0026gt;Window\u0026lt;/code\u0026gt;) you want to hide the keyboard FROM.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This is what makes hiding the keyboard so challenging. Dear Google: When I\u0026apos;m looking up the recipe for a cake, there is no \u0026lt;code\u0026gt;RecipeProvider\u0026lt;/code\u0026gt; on Earth that would refuse to provide me with the recipe unless I first answer WHO the cake will be eaten by AND where it will be eaten!!\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;This sad story ends with the ugly truth: to hide the Android keyboard, you will be required to provide 2 forms of identification: a \u0026lt;code\u0026gt;Context\u0026lt;/code\u0026gt; and either a \u0026lt;code\u0026gt;View\u0026lt;/code\u0026gt; or a \u0026lt;code\u0026gt;Window\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I have created a static utility method that can do the job VERY solidly, provided you call it from an \u0026lt;code\u0026gt;Activity\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hideKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Activity activity)\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;imm\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Find the currently focused view, so we can grab the correct window token from it.\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;view\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; activity.getCurrentFocus();\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//If no view currently has focus, create a new one, just so we can grab a window token from it\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (view == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) {\n        view = \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt;(activity);\n    }\n    imm.hideSoftInputFromWindow(view.getWindowToken(), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Be aware that this utility method ONLY works when called from an \u0026lt;code\u0026gt;Activity\u0026lt;/code\u0026gt;! The above method calls \u0026lt;code\u0026gt;getCurrentFocus\u0026lt;/code\u0026gt; of the target \u0026lt;code\u0026gt;Activity\u0026lt;/code\u0026gt; to fetch the proper window token.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;But suppose you want to hide the keyboard from an \u0026lt;code\u0026gt;EditText\u0026lt;/code\u0026gt; hosted in a \u0026lt;code\u0026gt;DialogFragment\u0026lt;/code\u0026gt;? You can\u0026apos;t use the method above for that:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;hideKeyboard\u0026lt;/span\u0026gt;(getActivity()); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//won\u0026apos;t work\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;This won\u0026apos;t work because you\u0026apos;ll be passing a reference to the \u0026lt;code\u0026gt;Fragment\u0026lt;/code\u0026gt;\u0026apos;s host \u0026lt;code\u0026gt;Activity\u0026lt;/code\u0026gt;, which will have no focused control while the \u0026lt;code\u0026gt;Fragment\u0026lt;/code\u0026gt; is shown! Wow! So, for hiding the keyboard from fragments, I resort to the lower-level, more common, and uglier:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hideKeyboardFrom\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Context context, View view)\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;imm\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager) context.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(view.getWindowToken(), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Below is some additional information gleaned from more time wasted chasing this solution:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;About windowSoftInputMode\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;There\u0026apos;s yet another point of contention to be aware of. By default, Android will automatically assign initial focus to the first \u0026lt;code\u0026gt;EditText\u0026lt;/code\u0026gt; or focusable control in your \u0026lt;code\u0026gt;Activity\u0026lt;/code\u0026gt;.  It naturally follows that the InputMethod (typically the soft keyboard) will respond to the focus event by showing itself. The \u0026lt;code\u0026gt;windowSoftInputMode\u0026lt;/code\u0026gt; attribute in \u0026lt;code\u0026gt;AndroidManifest.xml\u0026lt;/code\u0026gt;, when set to \u0026lt;code\u0026gt;stateAlwaysHidden\u0026lt;/code\u0026gt;, instructs the keyboard to ignore this automatically-assigned initial focus.\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;activity\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:name\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;.MyActivity\u0026quot;\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:windowSoftInputMode\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;stateAlwaysHidden\u0026quot;\u0026lt;/span\u0026gt;/\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Almost unbelievably, it appears to do nothing to prevent the keyboard from opening when you touch the control (unless \u0026lt;code\u0026gt;focusable=\u0026quot;false\u0026quot;\u0026lt;/code\u0026gt; and/or \u0026lt;code\u0026gt;focusableInTouchMode=\u0026quot;false\u0026quot;\u0026lt;/code\u0026gt; are assigned to the control). Apparently, the windowSoftInputMode setting applies only to automatic focus events, not to focus events triggered by touch events.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Therefore, \u0026lt;code\u0026gt;stateAlwaysHidden\u0026lt;/code\u0026gt; is VERY poorly named indeed. It should perhaps be called \u0026lt;code\u0026gt;ignoreInitialFocus\u0026lt;/code\u0026gt; instead.\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;UPDATE: More ways to get a window token\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;If there is no focused view (e.g. can happen if you just changed fragments), there are other views that will supply a useful window token.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;These are alternatives for the above code \u0026lt;code\u0026gt;if (view == null)   view = new View(activity);\u0026lt;/code\u0026gt;  These don\u0026apos;t refer explicitly to your activity.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Inside a fragment class:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-ini\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;view\u0026lt;/span\u0026gt; = getView().getRootView().getWindowToken()\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Given a fragment \u0026lt;code\u0026gt;fragment\u0026lt;/code\u0026gt; as a parameter:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-ini\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;view\u0026lt;/span\u0026gt; = fragment.getView().getRootView().getWindowToken()\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Starting from your content body:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-ini\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;view\u0026lt;/span\u0026gt; = findViewById(android.R.id.content).getRootView().getWindowToken()\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;UPDATE 2: Clear focus to avoid showing keyboard again if you open the app from the background\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Add this line to the end of the method:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;view.clearFocus();\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Also useful for hiding the soft-keyboard is:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getWindow\u0026lt;/span\u0026gt;()\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.setSoftInputMode\u0026lt;/span\u0026gt;(\n    WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN\n);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This can be used to suppress the soft-keyboard until the user actually touches the editText View.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I got one more solution to hide keyboard:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;imm\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE);\nimm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Here pass \u0026lt;code\u0026gt;HIDE_IMPLICIT_ONLY\u0026lt;/code\u0026gt; at the position of \u0026lt;code\u0026gt;showFlag\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;0\u0026lt;/code\u0026gt; at the position of \u0026lt;code\u0026gt;hiddenFlag\u0026lt;/code\u0026gt;. It will forcefully close soft Keyboard.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Meier\u0026apos;s solution works for me too. In my case, the top level of my App is a tab host and I want to hide the keyword when switching tabs - I get the window token from the tab host View.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;tabHost.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setOnTabChangedListener\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;OnTabChangeListener\u0026lt;/span\u0026gt;() {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onTabChanged\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;String\u0026lt;/span\u0026gt; tabId\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; imm = (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getSystemService\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Context\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;INPUT_METHOD_SERVICE\u0026lt;/span\u0026gt;);\n        imm.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hideSoftInputFromWindow\u0026lt;/span\u0026gt;(tabHost.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getApplicationWindowToken\u0026lt;/span\u0026gt;(), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Please try this below code in  \u0026lt;code\u0026gt;onCreate()\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;EditText\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;edtView\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (EditText) findViewById(R.id.editTextConvertValue);\nedtView.setInputType(InputType.TYPE_NULL);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Update:\u0026lt;/strong\u0026gt;\nI don\u0026apos;t know why this solution is not work any more ( I just tested on Android 23). Please use the solution of \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/9494042/523325\u0026quot;\u0026gt;Saurabh Pareek\u0026lt;/a\u0026gt; instead. Here it is:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;imm\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE);\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Hide:\u0026lt;/span\u0026gt;\nimm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Show\u0026lt;/span\u0026gt;\nimm.toggleSoftInput(InputMethodManager.SHOW_IMPLICIT, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Old answer:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Show soft-keyboard:\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getWindow\u0026lt;/span\u0026gt;()\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.setSoftInputMode\u0026lt;/span\u0026gt;(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_VISIBLE);\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//hide keyboard :\u0026lt;/span\u0026gt;\n \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getWindow\u0026lt;/span\u0026gt;()\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.setSoftInputMode\u0026lt;/span\u0026gt;(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hideSoftKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(EditText input)\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;imm\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(input.getWindowToken(), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);    \n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If all the other answers here don\u0026apos;t work for you as you would like them to, there\u0026apos;s another way of manually controlling the keyboard.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Create a function with that will manage some of the \u0026lt;code\u0026gt;EditText\u0026lt;/code\u0026gt;\u0026apos;s properties:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;public void \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;setEditTextFocus\u0026lt;/span\u0026gt;(boolean isFocused) {\n    searchEditText\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.setCursorVisible\u0026lt;/span\u0026gt;(isFocused);\n    searchEditText\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.setFocusable\u0026lt;/span\u0026gt;(isFocused);\n    searchEditText\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.setFocusableInTouchMode\u0026lt;/span\u0026gt;(isFocused);\n\n    if (isFocused) {\n        searchEditText\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.requestFocus\u0026lt;/span\u0026gt;();\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Then, make sure that onFocus of the \u0026lt;code\u0026gt;EditText\u0026lt;/code\u0026gt; you open/close the keyboard:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;searchEditText\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.setOnFocusChangeListener\u0026lt;/span\u0026gt;(new OnFocusChangeListener() {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    public void onFocusChange(View v, boolean hasFocus) {\n        if (v == searchEditText) {\n            if (hasFocus) {\n                \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Open keyboard\u0026lt;/span\u0026gt;\n                ((InputMethodManager) context\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.getSystemService\u0026lt;/span\u0026gt;(Context.INPUT_METHOD_SERVICE))\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.showSoftInput\u0026lt;/span\u0026gt;(searchEditText, InputMethodManager.SHOW_FORCED);\n            } else {\n                \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Close keyboard\u0026lt;/span\u0026gt;\n                ((InputMethodManager) context\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.getSystemService\u0026lt;/span\u0026gt;(Context.INPUT_METHOD_SERVICE))\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.hideSoftInputFromWindow\u0026lt;/span\u0026gt;(searchEditText.getWindowToken(), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n            }\n        }\n    }\n});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Now, whenever you want to open the keyboard manually call: \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;setEditTextFocus\u0026lt;/span\u0026gt;(true);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;And for closing call:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;setEditTextFocus\u0026lt;/span\u0026gt;(false);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://stackoverflow.com/a/9494042/197359\u0026quot;\u0026gt;Saurabh Pareek\u0026lt;/a\u0026gt; has the best answer so far.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Might as well use the correct flags, though.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* hide keyboard */\u0026lt;/span\u0026gt;\n((InputMethodManager) \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getSystemService\u0026lt;/span\u0026gt;(Activity.INPUT_METHOD_SERVICE))\n    \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggleSoftInput\u0026lt;/span\u0026gt;(InputMethodManager.SHOW_IMPLICIT, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* show keyboard */\u0026lt;/span\u0026gt;\n((InputMethodManager) \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getSystemService\u0026lt;/span\u0026gt;(Activity.INPUT_METHOD_SERVICE))\n    \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggleSoftInput\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, InputMethodManager.HIDE_IMPLICIT_ONLY);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Example of real use\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* click button */\u0026lt;/span\u0026gt;\npublic void \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;onClick\u0026lt;/span\u0026gt;(View view) {      \n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* hide keyboard */\u0026lt;/span\u0026gt;\n  ((InputMethodManager) \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getSystemService\u0026lt;/span\u0026gt;(Activity.INPUT_METHOD_SERVICE))\n      \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggleSoftInput\u0026lt;/span\u0026gt;(InputMethodManager.SHOW_IMPLICIT, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n\n  \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* start loader to check parameters ... */\u0026lt;/span\u0026gt;\n}\n\n\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* loader finished */\u0026lt;/span\u0026gt;\npublic void \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;onLoadFinished\u0026lt;/span\u0026gt;(Loader\u0026amp;lt;Object\u0026amp;gt; loader, Object data) {\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* parameters not valid ... */\u0026lt;/span\u0026gt;\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* show keyboard */\u0026lt;/span\u0026gt;\n    ((InputMethodManager) \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getSystemService\u0026lt;/span\u0026gt;(Activity.INPUT_METHOD_SERVICE))\n        \u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggleSoftInput\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, InputMethodManager.HIDE_IMPLICIT_ONLY);\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/* parameters valid ... */\u0026lt;/span\u0026gt;\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;from so searching, here I found an answer that works for me\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-css\u0026quot;\u0026gt;// Show soft-keyboard:\nInputMethodManager imm = (InputMethodManager) \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getSystemService\u0026lt;/span\u0026gt;(Context.INPUT_METHOD_SERVICE);\nimm\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.toggleSoftInput\u0026lt;/span\u0026gt;(InputMethodManager\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.SHOW_FORCED\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n\n// Hide soft-keyboard:\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getWindow\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;setSoftInputMode\u0026lt;/span\u0026gt;(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;h2\u0026gt;The short answer\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;In your \u0026lt;code\u0026gt;OnClick\u0026lt;/code\u0026gt; listener call the \u0026lt;code\u0026gt;onEditorAction\u0026lt;/code\u0026gt; of the \u0026lt;code\u0026gt;EditText\u0026lt;/code\u0026gt; with \u0026lt;code\u0026gt;IME_ACTION_DONE\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;button.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setOnClickListener\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;OnClickListener\u0026lt;/span\u0026gt;() {\n\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onClick\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;View v\u0026lt;/span\u0026gt;) {\n        someEditText.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onEditorAction\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;EditorInfo\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;IME_ACTION_DONE\u0026lt;/span\u0026gt;)\n    }\n});\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;h2\u0026gt;The drill-down\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;I feel this method is better, simpler and more aligned with Android\u0026apos;s design pattern.\nIn the simple example above (and usually in most of the common cases) you\u0026apos;ll have an \u0026lt;code\u0026gt;EditText\u0026lt;/code\u0026gt; that has/had focus and it also usually was the one to invoke the keyboard in the first place (it is definitely able to invoke it in many common scenarios). In that same way, \u0026lt;strong\u0026gt;it\u0026lt;/strong\u0026gt; should be the one to release the keyboard, usually that can be done by an \u0026lt;code\u0026gt;ImeAction\u0026lt;/code\u0026gt;. Just see how an \u0026lt;code\u0026gt;EditText\u0026lt;/code\u0026gt; with \u0026lt;code\u0026gt;android:imeOptions=\u0026quot;actionDone\u0026quot;\u0026lt;/code\u0026gt; behaves, you want to achieve the same behavior by the same means.\u0026lt;/p\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;Check this \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/3449616/2837443\u0026quot;\u0026gt;related answer\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This should work:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;KeyBoard\u0026lt;/span\u0026gt; {\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;show\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Activity activity)\u0026lt;/span\u0026gt;{\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;imm\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        imm.toggleSoftInput(\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;, InputMethodManager.HIDE_IMPLICIT_ONLY); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// show\u0026lt;/span\u0026gt;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hide\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Activity activity)\u0026lt;/span\u0026gt;{\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;imm\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        imm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// hide\u0026lt;/span\u0026gt;\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toggle\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Activity activity)\u0026lt;/span\u0026gt;{\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;imm\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (imm.isActive()){\n            hide(activity); \n        } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n            show(activity); \n        }\n    }\n}\n\nKeyBoard.toggle(activity);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I\u0026apos;m using a custom keyboard to input an Hex number so I can\u0026apos;t have the IMM keyboard show up...\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;In v3.2.4_r1 \u0026lt;code\u0026gt;setSoftInputShownOnFocus(boolean show)\u0026lt;/code\u0026gt; was added to control weather or not to display the keyboard when a TextView gets focus, but its still hidden so reflection must be used:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (Build.VERSION.SDK_INT \u0026amp;gt;= Build.VERSION_CODES.HONEYCOMB_MR2) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;try\u0026lt;/span\u0026gt; {\n        Method method = TextView.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;getMethod\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;setSoftInputShownOnFocus\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;boolean\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt;);\n        method.\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;invoke\u0026lt;/span\u0026gt;(mEditText, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;);\n    } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;catch\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Exception\u0026lt;/span\u0026gt; e) {\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Fallback to the second method\u0026lt;/span\u0026gt;\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;p\u0026gt;For older versions, I got very good results (but far from perfect) with a \u0026lt;code\u0026gt;OnGlobalLayoutListener\u0026lt;/code\u0026gt;, added with the aid of a \u0026lt;code\u0026gt;ViewTreeObserver\u0026lt;/code\u0026gt; from my root view and then checking if the keyboard is shown like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onGlobalLayout\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Configuration\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;config\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; getResources().getConfiguration();\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Dont allow the default keyboard to show up\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (config.keyboardHidden != Configuration.KEYBOARDHIDDEN_YES) {\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;imm\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(mRootView.getWindowToken(), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This last solution may show the keyboard for a split second and messes with the selection handles.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;When in the keyboard enters full screen, onGlobalLayout isn\u0026apos;t called. To avoid that, use \u0026lt;a href=\u0026quot;https://developer.android.com/reference/android/widget/TextView.html#setImeOptions%28int%29\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;TextView#setImeOptions(int)\u0026lt;/a\u0026gt; or in the TextView XML declaration:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-vbnet\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-symbol\u0026quot;\u0026gt;android:\u0026lt;/span\u0026gt;imeOptions=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;actionNone|actionUnspecified|flagNoFullscreen|flagNoExtractUi\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Update:\u0026lt;/strong\u0026gt; Just found what dialogs use to never show the keyboard and works in all versions:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getWindow\u0026lt;/span\u0026gt;()\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.setFlags\u0026lt;/span\u0026gt;(WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM,\n        WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setKeyboardVisibility\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;boolean\u0026lt;/span\u0026gt; show)\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;imm\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(show){\n        imm.toggleSoftInput(InputMethodManager.SHOW_FORCED, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n    }\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;{\n        imm.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(),\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I have spent more than two days working through all of the solutions posted in the thread and have found them lacking in one way or another.  My exact requirement is to have a button that will with 100% reliability show or hide the on screen keyboard.  When the keyboard is in its hidden state is should not re-appear, no matter what input fields the user clicks on.  When it is in its visible state the keyboard should not disappear no matter what buttons the user clicks.  This needs to work on Android 2.2+ all the way up to the latest devices.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;You can see a working implementation of this in my app \u0026lt;a href=\u0026quot;https://play.google.com/store/apps/details?id=au.com.lukesleeman.rpn\u0026amp;amp;hl=en\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;clean RPN\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;After testing many of the suggested answers on a number of different phones (including froyo and gingerbread devices) it became apparent that android apps can reliably:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Temporarily hide the keyboard.  It will re-appear again when a user\nfocuses a new text field.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Show the keyboard when an activity starts\nand set a flag on the activity indicating that they keyboard should\nalways be visible.  This flag can only be set when an activity is\ninitialising.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Mark an activity to never show or allow the use of the\nkeyboard.  This flag can only be set when an activity is\ninitialising.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;For me, temporarily hiding the keyboard is not enough.  On some devices it will re-appear as soon as a new text field is focused.  As my app uses multiple text fields on one page, focusing a new text field will cause the hidden keyboard to pop back up again.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Unfortunately item 2 and 3 on the list only work reliability when an activity is being started.  Once the activity has become visible you cannot permanently hide or show the keyboard.  The trick is to actually restart your activity when the user presses the keyboard toggle button.  In my app when the user presses on the toggle keyboard button, the following code runs:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;toggleKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;{\n\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(keypadPager.getVisibility() == View.VISIBLE){\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;i\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, MainActivity.class);\n        i.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Bundle\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;state\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Bundle\u0026lt;/span\u0026gt;();\n        onSaveInstanceState(state);\n        state.putBoolean(SHOW_KEYBOARD, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;);\n        i.putExtras(state);\n\n        startActivity(i);\n    }\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt;{\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;i\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Intent\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, MainActivity.class);\n        i.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Bundle\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;state\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Bundle\u0026lt;/span\u0026gt;();\n        onSaveInstanceState(state);\n        state.putBoolean(SHOW_KEYBOARD, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;false\u0026lt;/span\u0026gt;);\n        i.putExtras(state);\n\n        startActivity(i);\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;This causes the current activity to have its state saved into a Bundle, and then the activity is started, passing through an boolean which indicates if the keyboard should be shown or hidden.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Inside the onCreate method the following code is run:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;(bundle.getBoolean(SHOW_KEYBOARD)){\n    ((InputMethodManager) \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getSystemService\u0026lt;/span\u0026gt;(Context.INPUT_METHOD_SERVICE))\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.showSoftInput\u0026lt;/span\u0026gt;(newEquationText,\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getWindow\u0026lt;/span\u0026gt;()\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.setSoftInputMode\u0026lt;/span\u0026gt;(LayoutParams.SOFT_INPUT_STATE_ALWAYS_VISIBLE);\n}\nelse{\n    \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getWindow\u0026lt;/span\u0026gt;()\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.setFlags\u0026lt;/span\u0026gt;(WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM,\n            WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;If the soft keyboard should be shown, then the InputMethodManager is told to show the keyboard and the window is instructed to make the soft input always visible. If the soft keyboard should be hidden then the WindowManager.LayoutParams.FLAG_ALT_FOCUSABLE_IM is set.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This approach works reliably on all devices I have tested on - from a 4 year old HTC phone running android 2.2 up to a nexus 7 running 4.2.2.  The only disadvantage with this approach is you need to be careful with handling the back button.  As my app essentially only has one screen (its a calculator) I can override onBackPressed() and return to the devices home screen.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Alternatively to \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/9494042/451962\u0026quot;\u0026gt;this all around solution\u0026lt;/a\u0026gt;, if you wanted to close the soft keyboard \u0026lt;strong\u0026gt;from anywhere\u0026lt;/strong\u0026gt; without having a reference to the (EditText) field that was used to open the keyboard, but still wanted to do it if the field was focused, you could use this (from an Activity):\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (getCurrentFocus() != \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;imm\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Thank God its officially supported \u0026lt;a href=\u0026quot;https://www.youtube.com/watch?v=acC7SR1EXsI\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;after 11 years\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;First add dependency \u0026lt;code\u0026gt;implementation \u0026apos;androidx.core:core-ktx:1.7.0\u0026apos;\u0026lt;/code\u0026gt; to app gradle\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Here is the simple \u0026lt;a href=\u0026quot;https://github.com/sergchil/KeyboardTest\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;project\u0026lt;/a\u0026gt; on github\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-kotlin\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.app.Activity\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.content.Context\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.view.View\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; androidx.core.view.WindowInsetsCompat\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; androidx.core.view.WindowInsetsControllerCompat\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; androidx.fragment.app.Fragment\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; androidx.fragment.app.FragmentActivity\n\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; View.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;showKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.context \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt;? Activity)?.showKeyboard()\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; View.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;hideKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.context \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt;? Activity)?.hideKeyboard()\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; Fragment.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;showKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt; = activity?.let(FragmentActivity::showKeyboard)\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; Fragment.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;hideKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt; = activity?.hideKeyboard()\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; Context.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;showKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt;? Activity)?.showKeyboard()\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; Context.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;hideKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt; = (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt;? Activity)?.hideKeyboard()\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; Activity.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;showKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt; = WindowInsetsControllerCompat(window, window.decorView).show(WindowInsetsCompat.Type.ime())\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; Activity.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;hideKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt; = WindowInsetsControllerCompat(window, window.decorView).hide(WindowInsetsCompat.Type.ime())\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Thanks to \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/7696791/1617737\u0026quot;\u0026gt;this SO answer\u0026lt;/a\u0026gt;, I derived the following which, in my case, works nicely when scrolling through the the fragments of a ViewPager...\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hideKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {   \n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Check if no view has focus:\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;view\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.getCurrentFocus();\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (view != \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;inputManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager) \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.getSystemService(Context.INPUT_METHOD_SERVICE);\n        inputManager.hideSoftInputFromWindow(view.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n    }\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;showKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {   \n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Check if no view has focus:\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;view\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.getCurrentFocus();\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (view != \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;inputManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager) \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.getSystemService(Context.INPUT_METHOD_SERVICE);\n        inputManager.showSoftInput(view, InputMethodManager.SHOW_IMPLICIT);\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Above answers work for different scenario\u0026apos;s but  \u0026lt;strong\u0026gt;If you want to hide the keyboard inside a view and struggling to get the right context try this:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-typescript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;setOnClickListener\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;OnClickListener\u0026lt;/span\u0026gt;() {\n    \u0026lt;span class=\u0026quot;hljs-meta\u0026quot;\u0026gt;@Override\u0026lt;/span\u0026gt;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;onClick\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;View v\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hideSoftKeyBoardOnTabClicked\u0026lt;/span\u0026gt;(v);\n    }\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hideSoftKeyBoardOnTabClicked\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;View v\u0026lt;/span\u0026gt;) {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (v != \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt; \u0026amp;amp;\u0026amp;amp; context != \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; imm = (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt;) context.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getSystemService\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Context\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;INPUT_METHOD_SERVICE\u0026lt;/span\u0026gt;);\n        imm.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hideSoftInputFromWindow\u0026lt;/span\u0026gt;(v.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;getApplicationWindowToken\u0026lt;/span\u0026gt;(), \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;HIDE_NOT_ALWAYS\u0026lt;/span\u0026gt;);\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;and to get the context fetch it from constructor:) \u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; View/RelativeLayout/\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;so \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;and\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;so\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;Context context, AttributeSet attrs, \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; defStyle\u0026lt;/span\u0026gt;)\u0026lt;/span\u0026gt; {\n    super(context, attrs, defStyle);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.context = context;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;init\u0026lt;/span\u0026gt;();\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you want to close the soft keyboard during a unit or functional test, you can do so by clicking the \u0026quot;back button\u0026quot; from your test:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// Close the soft keyboard from a Test\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;getInstrumentation\u0026lt;/span\u0026gt;()\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.sendKeyDownUpSync\u0026lt;/span\u0026gt;(KeyEvent.KEYCODE_BACK);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;I put \u0026quot;back button\u0026quot; in quotes, since the above doesn\u0026apos;t trigger the \u0026lt;code\u0026gt;onBackPressed()\u0026lt;/code\u0026gt; for the Activity in question. It just closes the keyboard.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Make sure to pause for a little while before moving on, since it takes a little while to close the back button, so subsequent clicks to Views, etc., won\u0026apos;t be registered until after a short pause (1 second is long enough ime).\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Now, almost 12 years later, we finally have an official, backwards compatible way to do this with \u0026lt;a href=\u0026quot;https://developer.android.com/jetpack/androidx/releases/core#1.5.0\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;AndroidX Core 1.5+\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-kotlin\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; View.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;hideKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt; = ViewCompat.getWindowInsetsController(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;)\n    ?.hide(WindowInsetsCompat.Type.ime())\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;or specifically for Fragment:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-kotlin\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; Fragment.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;hideKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt; = ViewCompat.getWindowInsetsController(requireView())\n    ?.hide(WindowInsetsCompat.Type.ime())\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Here\u0026apos;s how you do it in Mono for Android (AKA MonoDroid)\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-csharp\u0026quot;\u0026gt;InputMethodManager imm = GetSystemService (Context.InputMethodService) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; InputMethodManager;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (imm != \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;)\n    imm.HideSoftInputFromWindow (searchbox.WindowToken , \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;This worked for me for all the bizarre keyboard behavior\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;private\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;boolean\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;isKeyboardVisible\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;Rect\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;r\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;new\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Rect\u0026lt;/span\u0026gt;();\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//r will be populated with the coordinates of your view that area still visible.\u0026lt;/span\u0026gt;\n    mRootView.getWindowVisibleDisplayFrame(r);\n\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;int\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;heightDiff\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; mRootView.getRootView().getHeight() - (r.bottom - r.top);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; heightDiff \u0026amp;gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;100\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// if more than 100 pixels, its probably a keyboard...\u0026lt;/span\u0026gt;\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;showKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (isKeyboardVisible())\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;inputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (getCurrentFocus() == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) {\n        inputMethodManager.toggleSoftInput(InputMethodManager.SHOW_FORCED, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n    } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;view\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; getCurrentFocus();\n        inputMethodManager.showSoftInput(view, InputMethodManager.SHOW_FORCED);\n    }\n}\n\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;protected\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hideKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (!isKeyboardVisible())\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt;;\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;inputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;view\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; getCurrentFocus();\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (view == \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (inputMethodManager.isAcceptingText())\n            inputMethodManager.toggleSoftInput(InputMethodManager.HIDE_NOT_ALWAYS, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n    } \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; {\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (view \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;instanceof\u0026lt;/span\u0026gt; EditText)\n            ((EditText) view).setText(((EditText) view).getText().toString()); \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;// reset edit text bug on some keyboards bug\u0026lt;/span\u0026gt;\n        inputMethodManager.hideSoftInputFromInputMethod(view.getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Simple and Easy to use method, just call \u0026lt;strong\u0026gt;hideKeyboardFrom(YourActivity.this);\u0026lt;/strong\u0026gt; to hide keyboard\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/**\n * This method is used to hide keyboard\n * \u0026lt;span class=\u0026quot;hljs-doctag\u0026quot;\u0026gt;@param\u0026lt;/span\u0026gt; activity\n */\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hideKeyboardFrom\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;(Activity activity)\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;imm\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(activity.getCurrentFocus().getWindowToken(), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Just use this optimized code in your activity:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-kotlin\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.getCurrentFocus() != \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt;) {\n    InputMethodManager inputManager = (InputMethodManager) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.getSystemService(Context.INPUT_METHOD_SERVICE);\n    inputManager.hideSoftInputFromWindow(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;.getCurrentFocus().getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS);\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Add to your activity    \u0026lt;code\u0026gt;android:windowSoftInputMode=\u0026quot;stateHidden\u0026quot;\u0026lt;/code\u0026gt; in Manifest file. Example:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;activity\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:name\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;.ui.activity.MainActivity\u0026quot;\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:label\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;@string/mainactivity\u0026quot;\u0026lt;/span\u0026gt;\n            \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;android:windowSoftInputMode\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;stateHidden\u0026quot;\u0026lt;/span\u0026gt;/\u0026amp;gt;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;h2\u0026gt; \u0026lt;code\u0026gt;Kotlin Version\u0026lt;/code\u0026gt; via \u0026lt;code\u0026gt;Extension Function\u0026lt;/code\u0026gt;\u0026lt;/h2\u0026gt;\n\u0026lt;p\u0026gt;Using kotlin extension functions, it\u0026apos;d be so simple to show and hide the soft keyboard.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;ExtensionFunctions.kt\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-kotlin\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.app.Activity\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.view.View\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.view.inputmethod.InputMethodManager\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; android.widget.EditText\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; androidx.fragment.app.Fragment\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; Activity.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;hideKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Boolean\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (getSystemService(Activity.INPUT_METHOD_SERVICE) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; InputMethodManager)\n        .hideSoftInputFromWindow((currentFocus ?: View(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;)).windowToken, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; Fragment.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;hideKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Boolean\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (context?.getSystemService(Activity.INPUT_METHOD_SERVICE) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; InputMethodManager)\n        .hideSoftInputFromWindow((activity?.currentFocus ?: View(context)).windowToken, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; EditText.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;hideKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Boolean\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (context.getSystemService(Activity.INPUT_METHOD_SERVICE) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; InputMethodManager)\n        .hideSoftInputFromWindow(windowToken, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)\n}\n\n\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;fun\u0026lt;/span\u0026gt; EditText.\u0026lt;span class=\u0026quot;hljs-title\u0026quot;\u0026gt;showKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;()\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-built_in\u0026quot;\u0026gt;Boolean\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; (context.getSystemService(Activity.INPUT_METHOD_SERVICE) \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;as\u0026lt;/span\u0026gt; InputMethodManager)\n        .showSoftInput(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;this\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;)\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;h3\u0026gt; Usage\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;Now in your \u0026lt;code\u0026gt;Activity\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;Fragment\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;hideKeyboard()\u0026lt;/code\u0026gt; is clearly accessible as well as calling it from an instance of \u0026lt;code\u0026gt;EditText\u0026lt;/code\u0026gt; like:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-scss\u0026quot;\u0026gt;editText\u0026lt;span class=\u0026quot;hljs-selector-class\u0026quot;\u0026gt;.hideKeyboard\u0026lt;/span\u0026gt;()\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;For Open Keyboard :\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;imm\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.showSoftInput(edtView, InputMethodManager.SHOW_IMPLICIT);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;For Close/Hide Keyboard :\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt; \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;imm\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\n imm.hideSoftInputFromWindow(edtView.getWindowToken(), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I have the case, where my \u0026lt;code\u0026gt;EditText\u0026lt;/code\u0026gt; can be located also in an \u0026lt;code\u0026gt;AlertDialog\u0026lt;/code\u0026gt;, so the keyboard should be closed on dismiss. The following code seems to be working anywhere:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;default s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-java\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;public\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;static\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;hideKeyboard\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;( Activity activity )\u0026lt;/span\u0026gt; {\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;InputMethodManager\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;imm\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; (InputMethodManager)activity.getSystemService( Context.INPUT_METHOD_SERVICE );\n    \u0026lt;span class=\u0026quot;hljs-type\u0026quot;\u0026gt;View\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;f\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-operator\u0026quot;\u0026gt;=\u0026lt;/span\u0026gt; activity.getCurrentFocus();\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt;( \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt; != f \u0026amp;amp;\u0026amp;amp; \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;null\u0026lt;/span\u0026gt; != f.getWindowToken() \u0026amp;amp;\u0026amp;amp; EditText.class.isAssignableFrom( f.getClass() ) )\n        imm.hideSoftInputFromWindow( f.getWindowToken(), \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt; );\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;else\u0026lt;/span\u0026gt; \n        activity.getWindow().setSoftInputMode( WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN );\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"id":505,"title":"How to close/hide the Android soft keyboard programmatically?","content":"\n                \n\u0026lt;p\u0026gt;I have an \u0026lt;code\u0026gt;EditText\u0026lt;/code\u0026gt; and a \u0026lt;code\u0026gt;Button\u0026lt;/code\u0026gt; in my layout.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;After writing in the edit field and clicking on the \u0026lt;code\u0026gt;Button\u0026lt;/code\u0026gt;, I want to hide the virtual keyboard when touching it outside the keyboard. I assume that this is a simple piece of code, but where can I find an example of it?\u0026lt;/p\u0026gt;\n    ","slug":"how-to-closehide-the-android-soft-keyboard-programmatically-1657388217420","postType":"QUESTION","createdAt":"2022-07-09T17:36:57.000Z","updatedAt":"2022-07-09T17:36:57.000Z","tags":[{"id":2512,"name":"android-edittext","slug":"android-edittext","createdAt":"2022-07-09T17:36:57.000Z","updatedAt":"2022-07-09T17:36:57.000Z","Questions_Tags":{"questionId":505,"tagId":2512}},{"id":2513,"name":"android-softkeyboard","slug":"android-softkeyboard","createdAt":"2022-07-09T17:36:57.000Z","updatedAt":"2022-07-09T17:36:57.000Z","Questions_Tags":{"questionId":505,"tagId":2513}},{"id":2514,"name":"android-input-method","slug":"android-input-method","createdAt":"2022-07-09T17:36:57.000Z","updatedAt":"2022-07-09T17:36:57.000Z","Questions_Tags":{"questionId":505,"tagId":2514}},{"id":2515,"name":"soft-keyboard","slug":"soft-keyboard","createdAt":"2022-07-09T17:36:57.000Z","updatedAt":"2022-07-09T17:36:57.000Z","Questions_Tags":{"questionId":505,"tagId":2515}}]}},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-to-closehide-the-android-soft-keyboard-programmatically-1657388217420"},"buildId":"D-Vv5KfwuaE883xCdWfex","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>