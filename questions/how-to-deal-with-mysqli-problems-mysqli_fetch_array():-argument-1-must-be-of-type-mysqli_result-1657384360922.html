<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>How to deal with mysqli problems? mysqli_fetch_array(): Argument #1 must be of type mysqli_result | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="In my local/development environment, the MySQLi query is performing OK. However, when I upload it on my web host environment, I get this error:

Fatal error: Call to a member function bind_param() on a non-object in...

Here is the code:
global $mysqli;
$stmt = $mysqli-&gt;prepare(&quot;SELECT id, description FROM tbl_page_answer_category WHERE cur_own_id = ?&quot;);
$stmt-&gt;bind_param(&#x27;i&#x27;, $cur_id);
$stmt-&gt;execute();
$stmt-&gt;bind_result($uid, $desc);

To check my query, I tried to execute the query via control panel phpMyAdmin and the result is OK.
    "/><meta property="og:title" content="How to deal with mysqli problems? mysqli_fetch_array(): Argument #1 must be of type mysqli_result | Solutions Checker"/><meta property="og:description" content="In my local/development environment, the MySQLi query is performing OK. However, when I upload it on my web host environment, I get this error:

Fatal error: Call to a member function bind_param() on a non-object in...

Here is the code:
global $mysqli;
$stmt = $mysqli-&gt;prepare(&quot;SELECT id, description FROM tbl_page_answer_category WHERE cur_own_id = ?&quot;);
$stmt-&gt;bind_param(&#x27;i&#x27;, $cur_id);
$stmt-&gt;execute();
$stmt-&gt;bind_result($uid, $desc);

To check my query, I tried to execute the query via control panel phpMyAdmin and the result is OK.
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"How to deal with mysqli problems? mysqli_fetch_array(): Argument #1 must be of type mysqli_result","text":"In my local/development environment, the MySQLi query is performing OK. However, when I upload it on my web host environment, I get this error:\n\nFatal error: Call to a member function bind_param() on a non-object in...\n\nHere is the code:\nglobal $mysqli;\n$stmt = $mysqli-&gt;prepare(&quot;SELECT id, description FROM tbl_page_answer_category WHERE cur_own_id = ?&quot;);\n$stmt-&gt;bind_param(&apos;i&apos;, $cur_id);\n$stmt-&gt;execute();\n$stmt-&gt;bind_result($uid, $desc);\n\nTo check my query, I tried to execute the query via control panel phpMyAdmin and the result is OK.\n    ","answerCount":1,"upVoteCount":500,"suggestedAnswer":[{"text":"TL;DR\n\nAlways have mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT); in your mysqli connection code and always check the PHP errors.\nAlways replace every PHP variable in the SQL query with a question mark, and execute the query using prepared statement. It will help to avoid syntax errors of all sorts.\n\nExplanation\nSometimes your MySQLi code produces an error like mysqli_fetch_assoc() expects parameter 1 to be mysqli_result, boolean given..., Call to a member function bind_param()... or similar. Or even without any error, but the query doesn&apos;t work all the same. It means that your query failed to execute.\nEvery time a query fails, MySQL has an error message that explains the reason. In the older PHP versions such errors weren&apos;t transferred to PHP, and all you&apos;d get is a cryptic error message mentioned above. Hence it is very important to configure PHP and MySQLi to report MySQL errors to you. And once you get the error message, fixing it will be a piece of cake.\nHow to get the error message in MySQLi\nFirst of all, always have this line before MySQLi connect in all your environments:\nmysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n\nAfter that, all MySQL errors will be transferred into PHP exceptions. An uncaught exception, in turn, makes a PHP fatal error. Thus, in case of a MySQL error, you&apos;ll get a conventional PHP error. That will instantly make you aware of the error cause. And the stack trace will lead you to the exact spot where the error occurred.\nHow to get the error message from PHP\nHere is a gist of my article on PHP error reporting:\nReporting errors on a development and live servers must be different. On the development server it is convenient to have errors shown on-screen, but on a live server error messages must be logged instead, so you could find them in the error log later.\nTherefore, you must set corresponding configuration options to the following values:\n\nOn a development server\n\nerror_reporting should be set to E_ALL value;\n\nlog_errors should be set to 1 (it is convenient to have logs on a development PC too)\n\ndisplay_errors should be set to 1\n\nOn a production server\n\nerror_reporting should be set to E_ALL value;\n\nlog_errors should be set to 1\n\ndisplay_errors should be set to 0\n\n\nAfter that, when MySQL query fails, you will get a PHP error that explains the reason. On a live server, in order to get the error message, you&apos;ll have to check the error log.\nHow to actually use it\nJust remove any code that checks for the error manually, all those or die(), if ($result), try..catch and such. Simply write your database interaction code right away:\n$stmt = $this-&gt;con-&gt;prepare(&quot;INSERT INTO table(name, quantity) VALUES (?,?)&quot;);\n$stmt-&gt;bind_param(&quot;si&quot;, $name, $quantity);\n$stmt-&gt;execute();\n\nAgain, without any conditions around. If an error occurs, it will be treated like any other error in your code. For example, on a development PC it will just appear on-screen, while on a live site it will be logged for the programmer, whereas for the user&apos;s convenience you could use an error handler (but that&apos;s a different story which is off topic for MySQLi, but you may read about it in the article linked above).\nWhat to do with the error message you get\nFirst of all you have to locate the problem query. The error message contains the file name and the line number of the exact spot where the error occurred. For the simple code that&apos;s enough, but if your code is using functions or classes you may need to follow the stack trace to locate the problem query.\nAfter getting the error message, you have to read and comprehend it. It sounds too obvious if not condescending, but learners often overlook the fact that the error message is not just an alarm signal, but it actually contains a detailed explanation of the problem. And all you need is to read the error message and fix the issue.\n\nSay, if it says that a particular table doesn&apos;t exist, you have to check spelling, typos, and letter case. Also you have to make sure that your PHP script connects to a correct database\nOr, if it says there is an error in the SQL syntax, then you have to examine your SQL. And the problem spot is right before the query part cited in the error message.\n\nIf you don&apos;t understand the error message, try to google it. And when browsing the results, stick to answers that explain the error rather than bluntly give the solution. A solution may not work in your particular case, but the explanation will help you to understand the problem and make you able to fix the issue by yourself.\nYou have to also trust the error message. If it says that number of tokens doesn&apos;t match the number of bound variables then it is so. The same goes for the absent tables or columns. Given the choice, whether it&apos;s your own mistake or the error message is wrong, always stick to the former. Again it sounds condescending, but hundreds of questions on this very site prove this advise extremely useful.\nA list of things you should never ever do in regard of error reporting\n\nNever use an error suppression operator (@)! It makes a programmer  unable read the error message and therefore unable to fix the error\nDo not use die() or echo or any other function to print the error message on the screen unconditionally. PHP can report errors by itself and do it the right way depends on the environment - so just leave it for PHP.\nDo not add a condition to test the query result manually (like if($result)). With error exceptions enabled such condition will just be useless.\nDo not use the try..catch operator for echoing the error message. This operator should be used to perform some error handling, like a transaction rollback. But never use it just to report errors - as we learned above, PHP can already do it, the right way.\n\nP.S. \nSometimes there is no error, but no results either. Then it means, there is no data in the database to match your criteria. In this case you have to admit this fact, even if you can swear the data and the criteria are all right. They are not. You have to check them again.\nI&apos;ve got an article that can help in this matter, How to debug database interactions. Although it is written for PDO, the principle is the same. Just follow those instructions step by step and either have your problem solved or have an answerable question for Stack Overflow.\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/9fb80f4eb9e2d3c9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9fb80f4eb9e2d3c9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-25e5079ab4bd6ecd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-18d80dcb3110b1ad.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/532-fec3344a80918110.js" defer=""></script><script src="/_next/static/chunks/495-bb1d5b202c02d7f2.js" defer=""></script><script src="/_next/static/chunks/817-363561828babdd16.js" defer=""></script><script src="/_next/static/chunks/81-89fd2eaadd8354ed.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-16d8c84aea765d4e.js" defer=""></script><script src="/_next/static/D-Vv5KfwuaE883xCdWfex/_buildManifest.js" defer=""></script><script src="/_next/static/D-Vv5KfwuaE883xCdWfex/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.5">.dlbxiY code{padding:5px;color:hsl(210deg 8% 15%);background-color:hsl(210deg 8% 90%);border-radius:3px;}/*!sc*/
data-styled.g5[id="sc-344134f6-0"]{content:"dlbxiY,"}/*!sc*/
</style></head><body><div id="__next"><div class="sc-9099c029-0 cIPEih"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo.svg" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-to-deal-with-mysqli-problems-mysqli_fetch_array()%3A-argument-1-must-be-of-type-mysqli_result-1657384360922#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="sc-c5440139-0 figLul question my-5"><div class="sc-344134f6-0 dlbxiY flex question-header items-center justify-center"><div class="rounded-xl border p-5 shadow-md w-9/12 bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-to-deal-with-mysqli-problems-mysqli_fetch_array():-argument-1-must-be-of-type-mysqli_result-1657384360922">How to deal with mysqli problems? mysqli_fetch_array(): Argument #1 must be of type mysqli_result</a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/mysqli">mysqli</a><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/error-reporting">error-reporting</a></div></div><div class="question-content mt-5">
                
<p>In my local/development environment, the MySQLi query is performing OK. However, when I upload it on my web host environment, I get this error:</p>
<blockquote>
<p>Fatal error: Call to a member function bind_param() on a non-object in...</p>
</blockquote>
<p>Here is the code:</p>
<pre class="lang-php s-code-block"><code class="hljs language-php"><span class="hljs-keyword">global</span> <span class="hljs-variable">$mysqli</span>;
<span class="hljs-variable">$stmt</span> = <span class="hljs-variable">$mysqli</span>-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-string">"SELECT id, description FROM tbl_page_answer_category WHERE cur_own_id = ?"</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">bind_param</span>(<span class="hljs-string">'i'</span>, <span class="hljs-variable">$cur_id</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>();
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">bind_result</span>(<span class="hljs-variable">$uid</span>, <span class="hljs-variable">$desc</span>);
</code></pre>
<p>To check my query, I tried to execute the query via control panel <a href="https://en.wikipedia.org/wiki/PhpMyAdmin" rel="noreferrer">phpMyAdmin</a> and the result is OK.</p>
    </div></div></div><div class="sc-344134f6-2 EUowZ"><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h3>TL;DR</h3>
<ol>
<li>Always have <code>mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);</code> in your mysqli connection code <em>and always check the PHP errors</em>.</li>
<li>Always replace every PHP variable in the SQL query with a question mark, and execute the query using <a href="https://phpdelusions.net/mysqli_examples/prepared_select" rel="nofollow noreferrer"><strong>prepared statement</strong></a>. It will help to avoid syntax errors of all sorts.</li>
</ol>
<h3>Explanation</h3>
<p>Sometimes your MySQLi code produces an error like <code>mysqli_fetch_assoc() expects parameter 1 to be mysqli_result, boolean given...</code>, <code>Call to a member function bind_param()...</code> or similar. Or even without any error, but the query doesn't work all the same. It means that your query failed to execute.</p>
<p>Every time a query fails, MySQL has <strong>an error message that explains the reason</strong>. In the older PHP versions such errors weren't transferred to PHP, and all you'd get is a cryptic error message mentioned above. Hence it is very important to configure PHP and MySQLi to report MySQL errors to you. And once you get the error message, fixing it will be a piece of cake.</p>
<h3>How to get the error message in MySQLi</h3>
<p>First of all, always have this line before MySQLi connect in <strong>all</strong> your environments:</p>
<pre class="lang-php s-code-block"><code class="hljs language-php"><span class="hljs-title function_ invoke__">mysqli_report</span>(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);
</code></pre>
<p>After that, all MySQL errors will be transferred into PHP exceptions. An uncaught exception, in turn, makes a PHP fatal error. Thus, in case of a MySQL error, you'll get a conventional PHP error. That will instantly make you aware of the error cause. And the stack trace will lead you to the exact spot where the error occurred.</p>
<h3>How to get the error message from PHP</h3>
<p>Here is a gist of my article on <a href="https://phpdelusions.net/articles/error_reporting" rel="nofollow noreferrer">PHP error reporting</a>:
Reporting errors on a development and live servers must be different. On the development server it is convenient to have errors shown on-screen, but on a live server error messages must be logged instead, so you could find them in the error log later.</p>
<p>Therefore, you must set corresponding configuration options to the following values:</p>
<ul>
<li><p>On a development server</p>
</li>
<li><p><code>error_reporting</code> should be set to <code>E_ALL</code> value;</p>
</li>
<li><p><code>log_errors</code> should be set to 1 (it is convenient to have logs on a development PC too)</p>
</li>
<li><p><code>display_errors</code> should be set to 1</p>
</li>
<li><p>On a production server</p>
</li>
<li><p><code>error_reporting</code> should be set to <code>E_ALL</code> value;</p>
</li>
<li><p><code>log_errors</code> should be set to 1</p>
</li>
<li><p><code>display_errors</code> should be set to 0</p>
</li>
</ul>
<p>After that, when MySQL query fails, you will get a PHP error that explains the reason. On a live server, in order to get the error message, you'll have to check the error log.</p>
<h3>How to actually use it</h3>
<p><strong>Just remove any code that checks for the error manually</strong>, all those <code>or die()</code>, <code>if ($result)</code>, <code>try..catch</code> and such. Simply write your database interaction code right away:</p>
<pre class="lang-php s-code-block"><code class="hljs language-php"><span class="hljs-variable">$stmt</span> = <span class="hljs-variable language_">$this</span>-&gt;con-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-string">"INSERT INTO table(name, quantity) VALUES (?,?)"</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">bind_param</span>(<span class="hljs-string">"si"</span>, <span class="hljs-variable">$name</span>, <span class="hljs-variable">$quantity</span>);
<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>();
</code></pre>
<p>Again, <strong>without any conditions around</strong>. If an error occurs, it will be treated like any other error in your code. For example, on a development PC it will just appear on-screen, while on a live site it will be logged for the programmer, whereas for the user's convenience you could use an error handler (but that's a different story which is off topic for MySQLi, but you may read about it in the article linked above).</p>
<h3>What to do with the error message you get</h3>
<p>First of all you have to locate the problem query. The error message contains <em>the file name and the line number</em> of the exact spot where the error occurred. For the simple code that's enough, but if your code is using functions or classes you may need to follow the <em>stack trace</em> to locate the problem query.</p>
<p>After getting the error message, you have to read and comprehend it. It sounds too obvious if not condescending, but learners often overlook the fact that the error message is not just an alarm signal, but it actually contains a <em>detailed explanation of the problem</em>. And all you need is to read the error message and fix the issue.</p>
<ul>
<li>Say, if it says that a particular table doesn't exist, you have to check spelling, typos, and letter case. Also you have to make sure that your PHP script connects to a correct database</li>
<li>Or, if it says there is an error in the SQL syntax, then you have to examine your SQL. And the problem spot is right <strong>before</strong> the query part cited in the error message.</li>
</ul>
<p>If you don't understand the error message, try to google it. And when browsing the results, stick to answers that <em>explain</em> the error rather than bluntly give the solution. A solution may not work in your particular case, but the explanation will help you to understand the problem and make you able to fix the issue by yourself.</p>
<p>You have to also <em>trust</em> the error message. If it says that number of tokens doesn't match the number of bound variables then it <em>is</em> so. The same goes for the absent tables or columns. Given the choice, whether it's your own mistake or the error message is wrong, always stick to the former. Again it sounds condescending, but hundreds of questions on this very site prove this advise extremely useful.</p>
<h3>A list of things you should never ever do in regard of error reporting</h3>
<ul>
<li>Never use an error suppression operator (<code>@</code>)! It makes a programmer  unable read the error message and therefore unable to fix the error</li>
<li>Do not use <code>die()</code> or <code>echo</code> or any other function to print the error message on the screen unconditionally. PHP can report errors by itself and do it the right way depends on the environment - so just leave it for PHP.</li>
<li>Do not add a condition to test the query result manually (like <code>if($result)</code>). With error exceptions enabled such condition will just be useless.</li>
<li>Do not use the <code>try..catch</code> operator for echoing the error message. This operator should be used to perform some error handling, like a transaction rollback. But never use it just to report errors - as we learned above, PHP can already do it, the right way.</li>
</ul>
<p><strong>P.S.</strong> <br>
Sometimes there is no error, but no results either. Then it means, <em>there is no data in the database to match your criteria</em>. In this case you have to admit this fact, even if you can swear the data and the criteria are all right. They are not. You have to check them again.</p>
<p>I've got an article that can help in this matter, <em><a href="https://phpdelusions.net/pdo/mcve" rel="nofollow noreferrer">How to debug database interactions</a></em>. Although it is written for PDO, the principle is the same. Just follow those instructions step by step and either have your problem solved or have an answerable question for Stack Overflow.</p>
    </div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;h3\u0026gt;TL;DR\u0026lt;/h3\u0026gt;\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Always have \u0026lt;code\u0026gt;mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\u0026lt;/code\u0026gt; in your mysqli connection code \u0026lt;em\u0026gt;and always check the PHP errors\u0026lt;/em\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Always replace every PHP variable in the SQL query with a question mark, and execute the query using \u0026lt;a href=\u0026quot;https://phpdelusions.net/mysqli_examples/prepared_select\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;prepared statement\u0026lt;/strong\u0026gt;\u0026lt;/a\u0026gt;. It will help to avoid syntax errors of all sorts.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\u0026lt;h3\u0026gt;Explanation\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;Sometimes your MySQLi code produces an error like \u0026lt;code\u0026gt;mysqli_fetch_assoc() expects parameter 1 to be mysqli_result, boolean given...\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;Call to a member function bind_param()...\u0026lt;/code\u0026gt; or similar. Or even without any error, but the query doesn\u0026apos;t work all the same. It means that your query failed to execute.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Every time a query fails, MySQL has \u0026lt;strong\u0026gt;an error message that explains the reason\u0026lt;/strong\u0026gt;. In the older PHP versions such errors weren\u0026apos;t transferred to PHP, and all you\u0026apos;d get is a cryptic error message mentioned above. Hence it is very important to configure PHP and MySQLi to report MySQL errors to you. And once you get the error message, fixing it will be a piece of cake.\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;How to get the error message in MySQLi\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;First of all, always have this line before MySQLi connect in \u0026lt;strong\u0026gt;all\u0026lt;/strong\u0026gt; your environments:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-php s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;mysqli_report\u0026lt;/span\u0026gt;(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;After that, all MySQL errors will be transferred into PHP exceptions. An uncaught exception, in turn, makes a PHP fatal error. Thus, in case of a MySQL error, you\u0026apos;ll get a conventional PHP error. That will instantly make you aware of the error cause. And the stack trace will lead you to the exact spot where the error occurred.\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;How to get the error message from PHP\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;Here is a gist of my article on \u0026lt;a href=\u0026quot;https://phpdelusions.net/articles/error_reporting\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;PHP error reporting\u0026lt;/a\u0026gt;:\nReporting errors on a development and live servers must be different. On the development server it is convenient to have errors shown on-screen, but on a live server error messages must be logged instead, so you could find them in the error log later.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Therefore, you must set corresponding configuration options to the following values:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;On a development server\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;error_reporting\u0026lt;/code\u0026gt; should be set to \u0026lt;code\u0026gt;E_ALL\u0026lt;/code\u0026gt; value;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;log_errors\u0026lt;/code\u0026gt; should be set to 1 (it is convenient to have logs on a development PC too)\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;display_errors\u0026lt;/code\u0026gt; should be set to 1\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;On a production server\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;error_reporting\u0026lt;/code\u0026gt; should be set to \u0026lt;code\u0026gt;E_ALL\u0026lt;/code\u0026gt; value;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;log_errors\u0026lt;/code\u0026gt; should be set to 1\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;display_errors\u0026lt;/code\u0026gt; should be set to 0\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;After that, when MySQL query fails, you will get a PHP error that explains the reason. On a live server, in order to get the error message, you\u0026apos;ll have to check the error log.\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;How to actually use it\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Just remove any code that checks for the error manually\u0026lt;/strong\u0026gt;, all those \u0026lt;code\u0026gt;or die()\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;if ($result)\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;try..catch\u0026lt;/code\u0026gt; and such. Simply write your database interaction code right away:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-php s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;$this\u0026lt;/span\u0026gt;-\u0026amp;gt;con-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;prepare\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;INSERT INTO table(name, quantity) VALUES (?,?)\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;bind_param\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;si\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$name\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$quantity\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;();\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;Again, \u0026lt;strong\u0026gt;without any conditions around\u0026lt;/strong\u0026gt;. If an error occurs, it will be treated like any other error in your code. For example, on a development PC it will just appear on-screen, while on a live site it will be logged for the programmer, whereas for the user\u0026apos;s convenience you could use an error handler (but that\u0026apos;s a different story which is off topic for MySQLi, but you may read about it in the article linked above).\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;What to do with the error message you get\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;First of all you have to locate the problem query. The error message contains \u0026lt;em\u0026gt;the file name and the line number\u0026lt;/em\u0026gt; of the exact spot where the error occurred. For the simple code that\u0026apos;s enough, but if your code is using functions or classes you may need to follow the \u0026lt;em\u0026gt;stack trace\u0026lt;/em\u0026gt; to locate the problem query.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;After getting the error message, you have to read and comprehend it. It sounds too obvious if not condescending, but learners often overlook the fact that the error message is not just an alarm signal, but it actually contains a \u0026lt;em\u0026gt;detailed explanation of the problem\u0026lt;/em\u0026gt;. And all you need is to read the error message and fix the issue.\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Say, if it says that a particular table doesn\u0026apos;t exist, you have to check spelling, typos, and letter case. Also you have to make sure that your PHP script connects to a correct database\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Or, if it says there is an error in the SQL syntax, then you have to examine your SQL. And the problem spot is right \u0026lt;strong\u0026gt;before\u0026lt;/strong\u0026gt; the query part cited in the error message.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;If you don\u0026apos;t understand the error message, try to google it. And when browsing the results, stick to answers that \u0026lt;em\u0026gt;explain\u0026lt;/em\u0026gt; the error rather than bluntly give the solution. A solution may not work in your particular case, but the explanation will help you to understand the problem and make you able to fix the issue by yourself.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;You have to also \u0026lt;em\u0026gt;trust\u0026lt;/em\u0026gt; the error message. If it says that number of tokens doesn\u0026apos;t match the number of bound variables then it \u0026lt;em\u0026gt;is\u0026lt;/em\u0026gt; so. The same goes for the absent tables or columns. Given the choice, whether it\u0026apos;s your own mistake or the error message is wrong, always stick to the former. Again it sounds condescending, but hundreds of questions on this very site prove this advise extremely useful.\u0026lt;/p\u0026gt;\n\u0026lt;h3\u0026gt;A list of things you should never ever do in regard of error reporting\u0026lt;/h3\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;Never use an error suppression operator (\u0026lt;code\u0026gt;@\u0026lt;/code\u0026gt;)! It makes a programmer  unable read the error message and therefore unable to fix the error\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Do not use \u0026lt;code\u0026gt;die()\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;echo\u0026lt;/code\u0026gt; or any other function to print the error message on the screen unconditionally. PHP can report errors by itself and do it the right way depends on the environment - so just leave it for PHP.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Do not add a condition to test the query result manually (like \u0026lt;code\u0026gt;if($result)\u0026lt;/code\u0026gt;). With error exceptions enabled such condition will just be useless.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Do not use the \u0026lt;code\u0026gt;try..catch\u0026lt;/code\u0026gt; operator for echoing the error message. This operator should be used to perform some error handling, like a transaction rollback. But never use it just to report errors - as we learned above, PHP can already do it, the right way.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;P.S.\u0026lt;/strong\u0026gt; \u0026lt;br\u0026gt;\nSometimes there is no error, but no results either. Then it means, \u0026lt;em\u0026gt;there is no data in the database to match your criteria\u0026lt;/em\u0026gt;. In this case you have to admit this fact, even if you can swear the data and the criteria are all right. They are not. You have to check them again.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I\u0026apos;ve got an article that can help in this matter, \u0026lt;em\u0026gt;\u0026lt;a href=\u0026quot;https://phpdelusions.net/pdo/mcve\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;How to debug database interactions\u0026lt;/a\u0026gt;\u0026lt;/em\u0026gt;. Although it is written for PDO, the principle is the same. Just follow those instructions step by step and either have your problem solved or have an answerable question for Stack Overflow.\u0026lt;/p\u0026gt;\n    "],"id":37,"title":"How to deal with mysqli problems? mysqli_fetch_array(): Argument #1 must be of type mysqli_result","content":"\n                \n\u0026lt;p\u0026gt;In my local/development environment, the MySQLi query is performing OK. However, when I upload it on my web host environment, I get this error:\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;Fatal error: Call to a member function bind_param() on a non-object in...\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;Here is the code:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-php s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-php\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;global\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$mysqli\u0026lt;/span\u0026gt;;\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt; = \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$mysqli\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;prepare\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;SELECT id, description FROM tbl_page_answer_category WHERE cur_own_id = ?\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;bind_param\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;i\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$cur_id\u0026lt;/span\u0026gt;);\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;execute\u0026lt;/span\u0026gt;();\n\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$stmt\u0026lt;/span\u0026gt;-\u0026amp;gt;\u0026lt;span class=\u0026quot;hljs-title function_ invoke__\u0026quot;\u0026gt;bind_result\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$uid\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable\u0026quot;\u0026gt;$desc\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;To check my query, I tried to execute the query via control panel \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/PhpMyAdmin\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;phpMyAdmin\u0026lt;/a\u0026gt; and the result is OK.\u0026lt;/p\u0026gt;\n    ","slug":"how-to-deal-with-mysqli-problems-mysqli_fetch_array():-argument-1-must-be-of-type-mysqli_result-1657384360922","postType":"QUESTION","createdAt":"2022-07-09T16:32:40.000Z","updatedAt":"2022-07-09T16:32:40.000Z","tags":[{"id":131,"name":"mysqli","slug":"mysqli","createdAt":"2022-07-09T16:32:40.000Z","updatedAt":"2022-07-09T16:32:40.000Z","Questions_Tags":{"questionId":37,"tagId":131}},{"id":132,"name":"error-reporting","slug":"error-reporting","createdAt":"2022-07-09T16:32:40.000Z","updatedAt":"2022-07-09T16:32:40.000Z","Questions_Tags":{"questionId":37,"tagId":132}}]}},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-to-deal-with-mysqli-problems-mysqli_fetch_array():-argument-1-must-be-of-type-mysqli_result-1657384360922"},"buildId":"D-Vv5KfwuaE883xCdWfex","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>