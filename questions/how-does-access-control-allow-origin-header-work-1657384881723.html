<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@solutionschecker.com"/><meta name="twitter:creator" content="@solutionschecker.com"/><meta property="og:url" content="https://solutionschecker.com"/><meta property="og:type" content="website"/><meta property="og:image" content="https://solutionschecker.com/solutions-checker-banner.png"/><meta property="og:image:alt" content="Find solution for coding, HTML, CSS, JAVASCRIPT, MYSQL, PHP, PYTHON,... quickly. - solutionschecker.com"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","logo":"/logo.svg","url":"https://solutionschecker.com"}</script><title>How does Access-Control-Allow-Origin header work? | Solutions Checker</title><meta name="robots" content="index,follow"/><meta name="description" content="Apparently, I have completely misunderstood its semantics. I thought of something like this:


A client downloads javascript code MyCode.js from http://siteA - the origin.
The response header of MyCode.js contains Access-Control-Allow-Origin: http://siteB, which I thought meant that MyCode.js was allowed to make cross-origin references to the site B.
The client triggers some functionality of MyCode.js, which in turn make requests to http://siteB, which should be fine, despite being cross-origin requests.


Well, I am wrong. It does not work like this at all. So, I have read Cross-origin resource sharing and attempted to read Cross-Origin Resource Sharing in w3c recommendation

One thing is sure - I still do not understand how am I supposed to use this header. 

I have full control of both site A and site B. How do I enable the javascript code downloaded from the site A to access resources on the site B using this header?

P.S.

I do not want to utilize JSONP.
    "/><meta property="og:title" content="How does Access-Control-Allow-Origin header work? | Solutions Checker"/><meta property="og:description" content="Apparently, I have completely misunderstood its semantics. I thought of something like this:


A client downloads javascript code MyCode.js from http://siteA - the origin.
The response header of MyCode.js contains Access-Control-Allow-Origin: http://siteB, which I thought meant that MyCode.js was allowed to make cross-origin references to the site B.
The client triggers some functionality of MyCode.js, which in turn make requests to http://siteB, which should be fine, despite being cross-origin requests.


Well, I am wrong. It does not work like this at all. So, I have read Cross-origin resource sharing and attempted to read Cross-Origin Resource Sharing in w3c recommendation

One thing is sure - I still do not understand how am I supposed to use this header. 

I have full control of both site A and site B. How do I enable the javascript code downloaded from the site A to access resources on the site B using this header?

P.S.

I do not want to utilize JSONP.
    "/><script type="application/ld+json">{"@context":"https://schema.org","@type":"QAPage","mainEntity":{"name":"How does Access-Control-Allow-Origin header work?","text":"Apparently, I have completely misunderstood its semantics. I thought of something like this:\n\n\nA client downloads javascript code MyCode.js from http://siteA - the origin.\nThe response header of MyCode.js contains Access-Control-Allow-Origin: http://siteB, which I thought meant that MyCode.js was allowed to make cross-origin references to the site B.\nThe client triggers some functionality of MyCode.js, which in turn make requests to http://siteB, which should be fine, despite being cross-origin requests.\n\n\nWell, I am wrong. It does not work like this at all. So, I have read Cross-origin resource sharing and attempted to read Cross-Origin Resource Sharing in w3c recommendation\n\nOne thing is sure - I still do not understand how am I supposed to use this header. \n\nI have full control of both site A and site B. How do I enable the javascript code downloaded from the site A to access resources on the site B using this header?\n\nP.S.\n\nI do not want to utilize JSONP.\n    ","answerCount":18,"upVoteCount":500,"suggestedAnswer":[{"text":"Access-Control-Allow-Origin is a CORS (Cross-Origin Resource Sharing) header.\n\nWhen Site A tries to fetch content from Site B,  Site B can send an Access-Control-Allow-Origin response header to tell the browser that the content of this page is accessible to certain origins. (An origin is a domain, plus a scheme and port number.)  By default, Site B&apos;s pages are not accessible to any other origin; using the Access-Control-Allow-Origin header opens a door for cross-origin access by specific requesting origins.\n\nFor each resource/page that Site B wants to make accessible to Site A, Site B should serve its pages with the response header:\n\nAccess-Control-Allow-Origin: http://siteA.com\n\n\nModern browsers will not block cross-domain requests outright.  If Site A requests a page from Site B, the browser will actually fetch the requested page on the network level and check if the response headers list Site A as a permitted requester domain.  If Site B has not indicated that Site A is allowed to access this page, the browser will trigger the XMLHttpRequest&apos;s error event and  deny the response data to the requesting JavaScript code.\n\nNon-simple requests\n\nWhat happens on the network level can be slightly more complex than explained above. If the request is a &quot;non-simple&quot; request, the browser first sends a data-less &quot;preflight&quot; OPTIONS request, to verify that the server will accept the request. A request is non-simple when either (or both):\n\n\nusing an HTTP verb other than GET or POST (e.g. PUT, DELETE)\nusing non-simple request headers; the only simple requests headers are:\n\n\nAccept\nAccept-Language\nContent-Language\nContent-Type (this is only simple when its value is application/x-www-form-urlencoded, multipart/form-data, or text/plain)\n\n\n\nIf the server responds to the OPTIONS preflight with appropriate response headers (Access-Control-Allow-Headers for non-simple headers, Access-Control-Allow-Methods for non-simple verbs) that match the non-simple verb and/or non-simple headers, then the browser sends the actual request.\n\nSupposing that Site A wants to send a PUT request for /somePage, with a non-simple Content-Type value of application/json, the browser would first send a preflight request:\n\nOPTIONS /somePage HTTP/1.1\nOrigin: http://siteA.com\nAccess-Control-Request-Method: PUT\nAccess-Control-Request-Headers: Content-Type\n\n\nNote that Access-Control-Request-Method and Access-Control-Request-Headers are added by the browser automatically; you do not need to add them. This OPTIONS preflight gets the successful response headers:\n\nAccess-Control-Allow-Origin: http://siteA.com\nAccess-Control-Allow-Methods: GET, POST, PUT\nAccess-Control-Allow-Headers: Content-Type\n\n\nWhen sending the actual request (after preflight is done), the behavior is identical to how a simple request is handled. In other words, a non-simple request whose preflight is successful is treated the same as a simple request (i.e., the server must still send Access-Control-Allow-Origin again for the actual response).\n\nThe browsers sends the actual request:\n\nPUT /somePage HTTP/1.1\nOrigin: http://siteA.com\nContent-Type: application/json\n\n{ &quot;myRequestContent&quot;: &quot;JSON is so great&quot; }\n\n\nAnd the server sends back an Access-Control-Allow-Origin, just as it would for a simple request:\n\nAccess-Control-Allow-Origin: http://siteA.com\n\n\nSee Understanding XMLHttpRequest over CORS for a little more information about non-simple requests.\n    ","url":"/questions/[slug]#solution1","@type":"Answer","upvoteCount":0},{"text":"Cross-Origin Resource Sharing - CORS (A.K.A. Cross-Domain AJAX request) is an issue that most web developers might encounter, according to Same-Origin-Policy, browsers restrict client JavaScript in a security sandbox, usually JS cannot directly communicate with a remote server from a different domain. In the past developers created many tricky ways to achieve Cross-Domain resource request, most commonly using ways are:\n\n\nUse Flash/Silverlight or server side as a &quot;proxy&quot; to communicate\nwith remote. \nJSON With Padding (JSONP). \nEmbeds remote server in an iframe and communicate through fragment or window.name, refer here.\n\n\nThose tricky ways have more or less some issues, for example JSONP might result in security hole if developers simply &quot;eval&quot; it, and #3 above, although it works, both domains should build strict contract between each other, it neither flexible nor elegant IMHO:)\n\nW3C had introduced Cross-Origin Resource Sharing (CORS) as a standard solution to provide a safe, flexible and a recommended standard way to solve this issue. \n\nThe Mechanism\n\nFrom a high level we can simply deem CORS is a contract between client AJAX call from domain A and a page hosted on domain B, a typical Cross-Origin request/response would be:\n\nDomainA AJAX request headers\n\nHost DomainB.com\nUser-Agent Mozilla/5.0 (Windows NT 6.1; WOW64; rv:2.0) Gecko/20100101 Firefox/4.0\nAccept text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8,application/json\nAccept-Language en-us;\nAccept-Encoding gzip, deflate\nKeep-Alive 115\nOrigin http://DomainA.com \n\n\nDomainB response headers\n\nCache-Control private\nContent-Type application/json; charset=utf-8\nAccess-Control-Allow-Origin DomainA.com\nContent-Length 87\nProxy-Connection Keep-Alive\nConnection Keep-Alive\n\n\nThe blue parts I marked above were the kernal facts, &quot;Origin&quot; request header &quot;indicates where the cross-origin request or preflight request originates from&quot;, the &quot;Access-Control-Allow-Origin&quot; response header indicates this page allows remote request from DomainA (if the value is * indicate allows remote requests from any domain).\n\nAs I mentioned above, W3 recommended browser to implement a &quot;preflight request&quot; before submiting the actually Cross-Origin HTTP request, in a nutshell it is an HTTP OPTIONS request:\n\nOPTIONS DomainB.com/foo.aspx HTTP/1.1\n\n\nIf foo.aspx supports OPTIONS HTTP verb, it might return response like below:\n\nHTTP/1.1 200 OK\nDate: Wed, 01 Mar 2011 15:38:19 GMT\nAccess-Control-Allow-Origin: http://DomainA.com\nAccess-Control-Allow-Methods: POST, GET, OPTIONS, HEAD\nAccess-Control-Allow-Headers: X-Requested-With\nAccess-Control-Max-Age: 1728000\nConnection: Keep-Alive\nContent-Type: application/json\n\n\nOnly if the response contains &quot;Access-Control-Allow-Origin&quot; AND its value is &quot;*&quot; or contain the domain who submitted the CORS request, by satisfying this mandtory condition browser will submit the actual Cross-Domain request, and cache the result in &quot;Preflight-Result-Cache&quot;.\n\nI blogged about CORS three years ago: AJAX Cross-Origin HTTP request\n    ","url":"/questions/[slug]#solution2","@type":"Answer","upvoteCount":0},{"text":"Question is a bit too old to answer, but I am posting this for any future reference to this question.\n\nAccording to this Mozilla Developer Network article,\n\n\n  A resource makes a cross-origin HTTP request when it requests a resource from a different domain, or port than the one which the first resource itself serves.\n\n\n\n\nAn HTML page served from http://domain-a.com makes an &lt;img&gt; src request for http://domain-b.com/image.jpg.\nMany pages on the web today load resources like CSS stylesheets, images and scripts from separate domains (thus it should be cool).\n\nSame-Origin Policy\n\nFor security reasons, browsers restrict cross-origin HTTP requests initiated from within scripts.\nFor example, XMLHttpRequest and Fetch follow the same-origin policy.\nSo, a web application using XMLHttpRequest or Fetch could only make HTTP requests to its own domain.\n\nCross-Origin Resource Sharing (CORS)\n\nTo improve web applications, developers asked browser vendors to allow cross-domain requests.\n\nThe Cross-Origin Resource Sharing (CORS) mechanism gives web servers cross-domain access controls, which enable secure cross-domain data transfers.\nModern browsers use CORS in an API container - such as XMLHttpRequest or Fetch - to mitigate risks of cross-origin HTTP requests.\n\nHow CORS works (Access-Control-Allow-Origin header)\n\nWikipedia:\n\n\n  The CORS standard describes new HTTP headers which provide browsers and servers a way to request remote URLs only when they have permission.\n  \n  Although some validation and authorization can be performed by the server, it is generally the browser&apos;s responsibility to support these headers and honor the restrictions they impose.\n\n\nExample\n\n\nThe browser sends the OPTIONS request with an Origin HTTP header. \n\nThe value of this header is the domain that served the parent page. When a page from http://www.example.com attempts to access a user&apos;s data in service.example.com, the following request header would be sent to service.example.com:\n\nOrigin: http://www.example.com\nThe server at service.example.com may respond with:\n\n\nAn Access-Control-Allow-Origin (ACAO) header in its response indicating which origin sites are allowed.\nFor example:  \n\nAccess-Control-Allow-Origin: http://www.example.com\nAn error page if the server does not allow the cross-origin request\nAn Access-Control-Allow-Origin (ACAO) header with a wildcard that allows all domains:\n\nAccess-Control-Allow-Origin: *\n\n\n    ","url":"/questions/[slug]#solution3","@type":"Answer","upvoteCount":0},{"text":"Whenever I start thinking about CORS, my intuition about which site hosts the headers is incorrect, just as you described in your question. For me, it helps to think about the purpose of the same origin policy.\nThe purpose of the same origin policy is to protect you from malicious JavaScript on siteA.com accessing private information you&apos;ve chosen to share only with siteB.com. Without the same origin policy, JavaScript written by the authors of siteA.com could make your browser make requests to siteB.com, using your authentication cookies for siteB.com. In this way, siteA.com could steal the secret information you share with siteB.com.\nSometimes you need to work cross domain, which is where CORS comes in. CORS relaxes the same origin policy for siteB.com, using the Access-Control-Allow-Origin header to list other domains (siteA.com) that are trusted to run JavaScript that can interact with siteB.com.\nTo understand which domain should serve the CORS headers, consider this. You visit malicious.com, which contains some JavaScript that tries to make a cross domain request to mybank.com. It should be up to mybank.com, not malicious.com, to decide whether or not it sets CORS headers that relax the same origin policy allowing the JavaScript from malicious.com to interact with it. If malicous.com could set its own CORS headers allowing its own JavaScript access to mybank.com, this would completely nullify the same origin policy.\nI think the reason for my bad intuition is the point of view I have when developing a site. It&apos;s my site, with all my JavaScript, therefore it isn&apos;t doing anything malicious and it should be up to me to specify which other sites my JavaScript can interact with. When in fact I should be thinking which other sites JavaScript are trying to interact with my site and should I use CORS to allow them?\n    ","url":"/questions/[slug]#solution4","@type":"Answer","upvoteCount":0},{"text":"From my own experience, it&apos;s hard to find a simple explanation why CORS is even a concern.\nOnce you understand why it&apos;s there, the headers and discussion becomes a lot clearer.  I&apos;ll give it a shot in a few lines.\n\nIt&apos;s all about cookies. Cookies are stored on a client by their domain.\n\nAn example story: On your computer, there&apos;s a cookie for yourbank.com. Maybe your session is in there.\n\nKey point: When a client makes a request to the server, it will send the cookies stored under the domain for that request.\n\nYou&apos;re logged in on your browser to yourbank.com.  You request to see all your accounts, and cookies are sent for yourbank.com.  yourbank.com receives the pile of cookies and sends back its response (your accounts).\n\nIf another client makes a cross origin request to a server, those cookies are sent along, just as before.  Ruh roh.\n\nYou browse to malicious.com. Malicious makes a bunch of requests to different banks, including yourbank.com.\n\nSince the cookies are validated as expected, the server will authorize the response.\n\nThose cookies get gathered up and sent along - and now, malicious.com has a response from yourbank.\n\nYikes.\n\nSo now, a few questions and answers become apparent:\n\n&quot;Why don&apos;t we just block the browser from doing that?&quot; Yep. CORS.\n&quot;How do we get around it?&quot; Have the server tell the request that CORS is OK.\n\n    ","url":"/questions/[slug]#solution5","@type":"Answer","upvoteCount":0},{"text":"1. A client downloads javascript code MyCode.js from http://siteA - the origin.\n\nThe code that does the downloading - your html script tag or xhr from javascript or whatever - came from, let&apos;s say, http://siteZ.  And, when the browser requests MyCode.js, it sends an Origin: header saying &quot;Origin: http://siteZ&quot;, because it can see that you&apos;re requesting to siteA and siteZ != siteA.  (You cannot stop or interfere with this.)\n\n2. The response header of MyCode.js contains Access-Control-Allow-Origin: http://siteB, which I thought meant that MyCode.js was allowed to make cross-origin references to the site B.\n\nno.  It means, Only siteB is allowed to do this request.  So your request for MyCode.js from siteZ gets an error instead, and the browser typically gives you nothing.  But if you make your server return A-C-A-O: siteZ instead, you&apos;ll get MyCode.js .  Or if it sends &apos;*&apos;, that&apos;ll work, that&apos;ll let everybody in.  Or if the server always sends the string from the Origin: header... but... for security, if you&apos;re afraid of hackers, your server should only allow origins on a shortlist, that are allowed to make those requests.\n\nThen, MyCode.js comes from siteA.  When it makes requests to siteB, they are all cross-origin, the browser sends Origin: siteA, and siteB has to take the siteA, recognize it&apos;s on the short list of allowed requesters, and send back A-C-A-O: siteA.  Only then will the browser let your script get the result of those requests.\n    ","url":"/questions/[slug]#solution6","@type":"Answer","upvoteCount":0},{"text":"Using React and Axios, join proxy link to the URL and add header as shown below\n\nhttps://cors-anywhere.herokuapp.com/ + Your API URL\n\nJust by adding the Proxy link will work, but it can also throw error for No Access again. Hence better to add header as shown below.\n\naxios.get(`https://cors-anywhere.herokuapp.com/[YOUR_API_URL]`,{headers: {&apos;Access-Control-Allow-Origin&apos;: &apos;*&apos;}})\n      .then(response =&gt; console.log(response:data);\n  }\n\n\n\n\nWARNING: Not to be used in Production\n\n\n  This is just a quick fix, if you&apos;re struggling with why you&apos;re not able to get a response, you CAN use this.\n  But again it&apos;s not the best answer for production.\n  \n  Got several downvotes and it completely makes sense, I should have added the warning a long time ago.\n\n    ","url":"/questions/[slug]#solution7","@type":"Answer","upvoteCount":0},{"text":"If you want just to test a cross domain application in which the browser blocks your request, then you can just open your browser in unsafe mode and test your application without changing your code and without making your code unsafe.\nFrom MAC OS you can do this from the terminal line:\n\nopen -a Google\\ Chrome --args --disable-web-security --user-data-dir\n\n    ","url":"/questions/[slug]#solution8","@type":"Answer","upvoteCount":0},{"text":"If you are using PHP, try adding the following code at the beginning of the php file:\n\nIf you are using localhost, try this:\n\nheader(&quot;Access-Control-Allow-Origin: *&quot;);\n\n\nIf you are using external domains such as server, try this:\n\nheader(&quot;Access-Control-Allow-Origin: http://www.website.com&quot;);\n\n    ","url":"/questions/[slug]#solution9","@type":"Answer","upvoteCount":0},{"text":"I work with express 4 and node 7.4 and angular,I had the same problem me help this:\na) server side: in file app.js I give headers to all response like:\napp.use(function(req, res, next) {  \n      res.header(&apos;Access-Control-Allow-Origin&apos;, req.headers.origin);\n      res.header(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, X-Requested-With, Content-Type, Accept&quot;);\n      next();\n });  \n\nthis must have before all router.\nI saw a lot of added this headers:\nres.header(&quot;Access-Control-Allow-Headers&quot;,&quot;*&quot;);\nres.header(&apos;Access-Control-Allow-Credentials&apos;, true);\nres.header(&apos;Access-Control-Allow-Methods&apos;, &apos;GET,PUT,POST,DELETE&apos;);\n\nbut i dont need that,\nb) client side: in send ajax you need add: &quot;withCredentials: true,&quot; like:\n$http({\n     method: &apos;POST&apos;,\n     url: &apos;url, \n     withCredentials: true,\n     data : {}\n   }).then(function(response){\n        // code  \n   }, function (response) {\n         // code \n   });\n\n    ","url":"/questions/[slug]#solution10","@type":"Answer","upvoteCount":0},{"text":"In Python I have been using the Flask-CORS library with great success. It makes dealing with CORS super easy and painless. I added some code from the library&apos;s documentation below. \n\nInstalling:\n\n$ pip install -U flask-cors\n\n\nSimple example that allows CORS for all domains on all routes:\n\nfrom flask import Flask\nfrom flask_cors import CORS\n\napp = Flask(__name__)\nCORS(app)\n\n@app.route(&quot;/&quot;)\ndef helloWorld():\n  return &quot;Hello, cross-origin-world!&quot;\n\n\nFor more specific examples see the documentation. I have used the simple example above to get around the CORS issue in an ionic application I am building that has to access a separate flask server.\n    ","url":"/questions/[slug]#solution11","@type":"Answer","upvoteCount":0},{"text":"For cross origin sharing, set header: &apos;Access-Control-Allow-Origin&apos;:&apos;*&apos;;\n\nPhp: header(&apos;Access-Control-Allow-Origin&apos;:&apos;*&apos;);\n\nNode: app.use(&apos;Access-Control-Allow-Origin&apos;:&apos;*&apos;);\n\nThis will allow to share content for different domain.\n    ","url":"/questions/[slug]#solution12","@type":"Answer","upvoteCount":0},{"text":"Simply paste the following code in your web.config file.\n\nNoted that, you have to paste the following code under &lt;system.webServer&gt; tag\n\n    &lt;httpProtocol&gt;  \n    &lt;customHeaders&gt;  \n     &lt;add name=&quot;Access-Control-Allow-Origin&quot; value=&quot;*&quot; /&gt;  \n     &lt;add name=&quot;Access-Control-Allow-Headers&quot; value=&quot;Content-Type&quot; /&gt;  \n     &lt;add name=&quot;Access-Control-Allow-Methods&quot; value=&quot;GET, POST, PUT, DELETE, OPTIONS&quot; /&gt;  \n    &lt;/customHeaders&gt;  \n  &lt;/httpProtocol&gt;  \n\n    ","url":"/questions/[slug]#solution13","@type":"Answer","upvoteCount":0},{"text":"I can&apos;t configure it in back-end server but with these extensions in browsers work for me:\nFor Firefox:\nCors Everywhere\nFor Google Chrome:\nAllow CORS: Access-Control-Allow-Origin\nNote: CORS work for me with this configuration:\n\n\n    ","url":"/questions/[slug]#solution14","@type":"Answer","upvoteCount":0},{"text":"Nginx and Appache\nAs addition to apsillers answer I would like to add wiki graph which shows when request is simple or not (and OPTIONS pre-flight request is send or not)\n\nFor simple request (e.g. hotlinking images) you don&apos;t need to change your server configuration files but you can add headers in application (hosted on server, e.g. in php) like Melvin Guerrero mention in his answer - but remember: if you add full cors headers in you server (config) and at same time you allow simple cors on application (e.g. php) this will not work at all.\nAnd here are configurations for two popular servers\n\nturn on CORS on Nginx (nginx.conf file)\nShow code snippet\n\nlocation ~ ^/index\\.php(/|$) {\n   ...\n    add_header &apos;Access-Control-Allow-Origin&apos; &quot;$http_origin&quot; always; # if you change &quot;$http_origin&quot; to &quot;*&quot; you shoud get same result - allow all domain to CORS (but better change it to your particular domain)\n    add_header &apos;Access-Control-Allow-Credentials&apos; &apos;true&apos; always;\n    if ($request_method = OPTIONS) {\n        add_header &apos;Access-Control-Allow-Origin&apos; &quot;$http_origin&quot;; # DO NOT remove THIS LINES (doubled with outside &apos;if&apos; above)\n        add_header &apos;Access-Control-Allow-Credentials&apos; &apos;true&apos;;\n        add_header &apos;Access-Control-Max-Age&apos; 1728000; # cache preflight value for 20 days\n        add_header &apos;Access-Control-Allow-Methods&apos; &apos;GET, POST, OPTIONS&apos;;  # arbitrary methods\n        add_header &apos;Access-Control-Allow-Headers&apos; &apos;My-First-Header,My-Second-Header,Authorization,Content-Type,Accept,Origin&apos;; # arbitrary headers\n        add_header &apos;Content-Length&apos; 0;\n        add_header &apos;Content-Type&apos; &apos;text/plain charset=UTF-8&apos;;\n        return 204;\n    }\n}\n Run code snippetHide resultsExpand snippet\n\n\n\nturn on CORS on Appache (.htaccess file)\nShow code snippet\n\n# ------------------------------------------------------------------------------\n# | Cross-domain Ajax requests                                                 |\n# ------------------------------------------------------------------------------\n\n# Enable cross-origin Ajax requests.\n# http://code.google.com/p/html5security/wiki/CrossOriginRequestSecurity\n# http://enable-cors.org/\n\n# change * (allow any domain) below to your domain\nHeader set Access-Control-Allow-Origin &quot;*&quot;\nHeader always set Access-Control-Allow-Methods &quot;POST, GET, OPTIONS, DELETE, PUT&quot;\nHeader always set Access-Control-Allow-Headers &quot;My-First-Header,My-Second-Header,Authorization, content-type, csrf-token&quot;\nHeader always set Access-Control-Allow-Credentials &quot;true&quot;\n Run code snippetHide resultsExpand snippet\n\n\n\n\n    ","url":"/questions/[slug]#solution15","@type":"Answer","upvoteCount":0},{"text":"\n  The Access-Control-Allow-Origin response header indicates whether the\n  response can be shared with requesting code from the given origin.\n\n\nHeader type Response       header\nForbidden header name      no\n\n\n\n  A response that tells the browser to allow code from any origin to\n  access a resource will include the following:\n\n\nAccess-Control-Allow-Origin: *\n\n\nFor more info, visit here....\n    ","url":"/questions/[slug]#solution16","@type":"Answer","upvoteCount":0},{"text":"ONLY TEMPORARY SOLUTION for Testing:\nWho can&apos;t control backend for Options 405 Method Not Allowed.\nWorkaround for Chrome browser.\nexecute in command line:\n&quot;C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe&quot; --disable-web-security --user-data-dir=&quot;path_to_profile&quot;\nExample:\n&quot;C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe&quot; --disable-web-security --user-data-dir=&quot;C:\\Users\\vital\\AppData\\Local\\Google\\Chrome\\User Data\\Profile 2&quot;\n    ","url":"/questions/[slug]#solution17","@type":"Answer","upvoteCount":0},{"text":"For .NET Core 3.1 API With Angular\nStartup.cs : Add CORS\n    //SERVICES\n    public void ConfigureServices(IServiceCollection services){\n\n        //CORS (Cross Origin Resource Sharing)\n        //=====================================\n        services.AddCors();\n    }\n\n    //MIDDLEWARES\n    public void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n    {\n        app.UseRouting();\n\n        //ORDER: CORS -&gt; Authentication -&gt; Authorization)\n        //CORS (Cross Origin Resource Sharing)\n        //=====================================  \n        app.UseCors(x=&gt;x.AllowAnyHeader().AllowAnyMethod().WithOrigins(&quot;http://localhost:4200&quot;));\n\n        app.UseHttpsRedirection();\n    }\n}\n\nController : Enable CORS For Authorized Controller\n //Authorize all methods inside this controller\n [Authorize]\n [EnableCors()]\n public class UsersController : ControllerBase\n {\n    //ActionMethods\n }\n\n    ","url":"/questions/[slug]#solution18","@type":"Answer","upvoteCount":0}],"@type":"Question"}}</script><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/9fb80f4eb9e2d3c9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9fb80f4eb9e2d3c9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-25e5079ab4bd6ecd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-88567075f6bc9c6b.js" defer=""></script><script src="/_next/static/chunks/29107295-fbcfe2172188e46f.js" defer=""></script><script src="/_next/static/chunks/532-fec3344a80918110.js" defer=""></script><script src="/_next/static/chunks/495-bb1d5b202c02d7f2.js" defer=""></script><script src="/_next/static/chunks/817-363561828babdd16.js" defer=""></script><script src="/_next/static/chunks/81-2e45c38dc6fe8298.js" defer=""></script><script src="/_next/static/chunks/pages/questions/%5Bslug%5D-16d8c84aea765d4e.js" defer=""></script><script src="/_next/static/d4czOeg3MGPNUI9SipfjN/_buildManifest.js" defer=""></script><script src="/_next/static/d4czOeg3MGPNUI9SipfjN/_ssgManifest.js" defer=""></script><style data-styled="" data-styled-version="5.3.5">.dlbxiY code{padding:5px;color:hsl(210deg 8% 15%);background-color:hsl(210deg 8% 90%);border-radius:3px;}/*!sc*/
data-styled.g5[id="sc-344134f6-0"]{content:"dlbxiY,"}/*!sc*/
</style></head><body><div id="__next"><div class="sc-9099c029-0 cIPEih"><header><nav class="bg-white border-gray-200 px-4 lg:px-6 py-2.5 dark:bg-gray-800"><div class="flex flex-wrap justify-between items-center mx-auto max-w-screen-xl"><a class="flex items-center" href="/"><img src="/logo-second.png" class="mr-3 h-6 sm:h-9" alt="Solution Checker Logo"/><h4 class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Solution Checker</h4></a><div class="flex items-center lg:order-2"><button data-collapse-toggle="mobile-menu-2" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu-2" aria-expanded="false"><span class="sr-only">Open main menu</span><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg><svg class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="hidden justify-between items-center w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2"><ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0"><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" aria-current="page" href="/">Home</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions?tab=news">Questions</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/post?tab=news">Post</a></li><li><a class="block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 dark:text-gray-400 lg:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white lg:dark:hover:bg-transparent dark:border-gray-700" href="/questions/how-does-access-control-allow-origin-header-work-1657384881723#">Coding</a></li></ul></div></div></nav></header><div class="main-content"><div class="sc-c5440139-0 figLul question my-5"><div class="sc-344134f6-0 dlbxiY flex question-header items-center justify-center"><div class="rounded-xl border p-5 shadow-md w-9/12 bg-white"><div class="flex w-full items-center justify-between border-b pb-3"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-slate-700"><a href="/questions/how-does-access-control-allow-origin-header-work-1657384881723">How does Access-Control-Allow-Origin header work?</a></div></div><div class="flex flex-wrap h-auto justify-end items-center space-x-8"><a class="rounded-2xl border bg-neutral-100 px-3 py-1 text-sm font-semibold" href="/questions/tag/cross-domain">cross-domain</a></div></div><div class="question-content mt-5">
                
<p>Apparently, I have completely misunderstood its semantics. I thought of something like this:</p>

<ol>
<li>A client downloads javascript code MyCode.js from <code>http://siteA</code> - <strong>the origin</strong>.</li>
<li>The response header of MyCode.js contains <strong>Access-Control-Allow-Origin: <code>http://siteB</code></strong>, which I thought meant that MyCode.js was allowed to make cross-origin references to the site B.</li>
<li>The client triggers some functionality of MyCode.js, which in turn make requests to <code>http://siteB</code>, which should be fine, despite being cross-origin requests.</li>
</ol>

<p>Well, I am wrong. It does not work like this at all. So, I have read <a href="http://en.wikipedia.org/wiki/Cross-origin_resource_sharing" rel="noreferrer">Cross-origin resource sharing</a> and attempted to read <a href="http://www.w3.org/TR/cors/." rel="noreferrer">Cross-Origin Resource Sharing in w3c recommendation</a></p>

<p>One thing is sure - I still do not understand how am I supposed to use this header. </p>

<p>I have full control of both site A and site B. How do I enable the javascript code downloaded from the site A to access resources on the site B using this header?</p>

<p>P.S.</p>

<p>I do not want to utilize JSONP.</p>
    </div></div></div><div class="sc-344134f6-2 EUowZ"><div id="solution1" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 1</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><code>Access-Control-Allow-Origin</code> is a <a href="http://www.html5rocks.com/en/tutorials/cors/" rel="noreferrer">CORS (Cross-Origin Resource Sharing) header</a>.</p>

<p>When Site A tries to fetch content from Site B,  Site B can send an <code>Access-Control-Allow-Origin</code> response header to tell the browser that the content of this page is accessible to certain origins. (An <em>origin</em> is a <a href="https://stackoverflow.com/a/19542686/710446">domain, plus a scheme and port number</a>.)  By default, Site B's pages are <a href="https://en.wikipedia.org/wiki/Same-origin_policy" rel="noreferrer">not accessible to any other origin</a>; using the <code>Access-Control-Allow-Origin</code> header opens a door for cross-origin access by specific requesting origins.</p>

<p>For each resource/page that Site B wants to make accessible to Site A, Site B should serve its pages with the response header:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Origin</span>: <span class="hljs-attr">http</span>:<span class="hljs-comment">//siteA.com</span>
</code></pre>

<p>Modern browsers will not block cross-domain requests outright.  If Site A requests a page from Site B, the browser will actually fetch the requested page <em>on the network level</em> and check if the response headers list Site A as a permitted requester domain.  If Site B has not indicated that Site A is allowed to access this page, the browser will trigger the <code>XMLHttpRequest</code>'s <code>error</code> event and  deny the response data to the requesting JavaScript code.</p>

<h1>Non-simple requests</h1>

<p>What happens on the network level can be <em>slightly</em> more complex than explained above. If the request is a <a href="http://www.html5rocks.com/en/tutorials/cors/#toc-handling-a-not-so-simple-request" rel="noreferrer">"non-simple" request</a>, the browser first sends a data-less "preflight" OPTIONS request, to verify that the server will accept the request. A request is non-simple when either (or both):</p>

<ul>
<li>using an HTTP verb other than GET or POST (e.g. PUT, DELETE)</li>
<li>using non-simple request headers; the only simple requests headers are:

<ul>
<li><code>Accept</code></li>
<li><code>Accept-Language</code></li>
<li><code>Content-Language</code></li>
<li><code>Content-Type</code> (this is only simple when its value is <code>application/x-www-form-urlencoded</code>, <code>multipart/form-data</code>, or <code>text/plain</code>)</li>
</ul></li>
</ul>

<p>If the server responds to the OPTIONS preflight with appropriate response headers (<code>Access-Control-Allow-Headers</code> for non-simple headers, <code>Access-Control-Allow-Methods</code> for non-simple verbs) that match the non-simple verb and/or non-simple headers, then the browser sends the actual request.</p>

<p>Supposing that Site A wants to send a PUT request for <code>/somePage</code>, with a non-simple <code>Content-Type</code> value of <code>application/json</code>, the browser would first send a preflight request:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable constant_">OPTIONS</span> /somePage <span class="hljs-variable constant_">HTTP</span>/<span class="hljs-number">1.1</span>
<span class="hljs-title class_">Origin</span>: <span class="hljs-attr">http</span>:<span class="hljs-comment">//siteA.com</span>
<span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Request</span>-<span class="hljs-title class_">Method</span>: <span class="hljs-variable constant_">PUT</span>
<span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Request</span>-<span class="hljs-title class_">Headers</span>: <span class="hljs-title class_">Content</span>-<span class="hljs-title class_">Type</span>
</code></pre>

<p>Note that <code>Access-Control-Request-Method</code> and <code>Access-Control-Request-Headers</code> are added by the browser automatically; you do not need to add them. This OPTIONS preflight gets the successful response headers:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Origin</span>: <span class="hljs-attr">http</span>:<span class="hljs-comment">//siteA.com</span>
<span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Methods</span>: <span class="hljs-variable constant_">GET</span>, <span class="hljs-variable constant_">POST</span>, <span class="hljs-variable constant_">PUT</span>
<span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Headers</span>: <span class="hljs-title class_">Content</span>-<span class="hljs-title class_">Type</span>
</code></pre>

<p>When sending the actual request (after preflight is done), the behavior is identical to how a simple request is handled. In other words, a non-simple request whose preflight is successful is treated the same as a simple request (i.e., the server must still send <code>Access-Control-Allow-Origin</code> again for the actual response).</p>

<p>The browsers sends the actual request:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable constant_">PUT</span> /somePage <span class="hljs-variable constant_">HTTP</span>/<span class="hljs-number">1.1</span>
<span class="hljs-title class_">Origin</span>: <span class="hljs-attr">http</span>:<span class="hljs-comment">//siteA.com</span>
<span class="hljs-title class_">Content</span>-<span class="hljs-title class_">Type</span>: application/json

{ <span class="hljs-string">"myRequestContent"</span>: <span class="hljs-string">"JSON is so great"</span> }
</code></pre>

<p>And the server sends back an <code>Access-Control-Allow-Origin</code>, just as it would for a simple request:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Origin</span>: <span class="hljs-attr">http</span>:<span class="hljs-comment">//siteA.com</span>
</code></pre>

<p>See <a href="https://stackoverflow.com/a/13400954/710446">Understanding XMLHttpRequest over CORS</a> for a little more information about non-simple requests.</p>
    </div></div></div></div><div id="solution2" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 2</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Cross-Origin Resource Sharing - <code>CORS</code> (A.K.A. Cross-Domain AJAX request) is an issue that most web developers might encounter, according to Same-Origin-Policy, browsers restrict client JavaScript in a security sandbox, usually JS cannot directly communicate with a remote server from a different domain. In the past developers created many tricky ways to achieve Cross-Domain resource request, most commonly using ways are:</p>

<ol>
<li>Use Flash/Silverlight or server side as a "proxy" to communicate
with remote. </li>
<li>JSON With Padding (<a href="http://en.wikipedia.org/wiki/JSONP" rel="noreferrer">JSONP</a>). </li>
<li>Embeds remote server in an iframe and communicate through fragment or window.name, refer <a href="http://www.ibm.com/developerworks/library/wa-crossdomaincomm/#N10120" rel="noreferrer">here</a>.</li>
</ol>

<p>Those tricky ways have more or less some issues, for example JSONP might result in security hole if developers simply "eval" it, and #3 above, although it works, both domains should build strict contract between each other, it neither flexible nor elegant IMHO:)</p>

<p>W3C had introduced Cross-Origin Resource Sharing (CORS) as a standard solution to provide a safe, flexible and a recommended standard way to solve this issue. </p>

<p><strong>The Mechanism</strong></p>

<p>From a high level we can simply deem CORS is a contract between client AJAX call from domain A and a page hosted on domain B, a typical Cross-Origin request/response would be:</p>

<p><strong>DomainA AJAX request headers</strong></p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">Host</span> <span class="hljs-title class_">DomainB</span>.<span class="hljs-property">com</span>
<span class="hljs-title class_">User</span>-<span class="hljs-title class_">Agent</span> <span class="hljs-title class_">Mozilla</span>/<span class="hljs-number">5.0</span> (<span class="hljs-title class_">Windows</span> <span class="hljs-variable constant_">NT</span> <span class="hljs-number">6.1</span>; <span class="hljs-title class_">WOW64</span>; <span class="hljs-attr">rv</span>:<span class="hljs-number">2.0</span>) <span class="hljs-title class_">Gecko</span>/<span class="hljs-number">20100101</span> <span class="hljs-title class_">Firefox</span>/<span class="hljs-number">4.0</span>
<span class="hljs-title class_">Accept</span> text/html,application/xhtml+xml,application/xml;q=<span class="hljs-number">0.9</span>,*<span class="hljs-comment">/*;q=0.8,application/json
Accept-Language en-us;
Accept-Encoding gzip, deflate
Keep-Alive 115
Origin http://DomainA.com 
</span></code></pre>

<p><strong>DomainB response headers</strong></p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">Cache</span>-<span class="hljs-title class_">Control</span> private
<span class="hljs-title class_">Content</span>-<span class="hljs-title class_">Type</span> application/json; charset=utf-<span class="hljs-number">8</span>
<span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Origin</span> <span class="hljs-title class_">DomainA</span>.<span class="hljs-property">com</span>
<span class="hljs-title class_">Content</span>-<span class="hljs-title class_">Length</span> <span class="hljs-number">87</span>
<span class="hljs-title class_">Proxy</span>-<span class="hljs-title class_">Connection</span> <span class="hljs-title class_">Keep</span>-<span class="hljs-title class_">Alive</span>
<span class="hljs-title class_">Connection</span> <span class="hljs-title class_">Keep</span>-<span class="hljs-title class_">Alive</span>
</code></pre>

<p>The blue parts I marked above were the kernal facts, "Origin" request header "indicates where the cross-origin request or preflight request originates from", the "Access-Control-Allow-Origin" response header indicates this page allows remote request from DomainA (if the value is * indicate allows remote requests from any domain).</p>

<p>As I mentioned above, W3 recommended browser to implement a "<strong>preflight request</strong>" before submiting the actually Cross-Origin HTTP request, in a nutshell it is an HTTP <code>OPTIONS</code> request:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable constant_">OPTIONS</span> <span class="hljs-title class_">DomainB</span>.<span class="hljs-property">com</span>/foo.<span class="hljs-property">aspx</span> <span class="hljs-variable constant_">HTTP</span>/<span class="hljs-number">1.1</span>
</code></pre>

<p>If foo.aspx supports OPTIONS HTTP verb, it might return response like below:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-variable constant_">HTTP</span>/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> <span class="hljs-variable constant_">OK</span>
<span class="hljs-title class_">Date</span>: <span class="hljs-title class_">Wed</span>, <span class="hljs-number">01</span> <span class="hljs-title class_">Mar</span> <span class="hljs-number">2011</span> <span class="hljs-number">15</span>:<span class="hljs-number">38</span>:<span class="hljs-number">19</span> <span class="hljs-variable constant_">GMT</span>
<span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Origin</span>: <span class="hljs-attr">http</span>:<span class="hljs-comment">//DomainA.com</span>
<span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Methods</span>: <span class="hljs-variable constant_">POST</span>, <span class="hljs-variable constant_">GET</span>, <span class="hljs-variable constant_">OPTIONS</span>, <span class="hljs-variable constant_">HEAD</span>
<span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Headers</span>: X-<span class="hljs-title class_">Requested</span>-<span class="hljs-title class_">With</span>
<span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Max</span>-<span class="hljs-title class_">Age</span>: <span class="hljs-number">1728000</span>
<span class="hljs-title class_">Connection</span>: <span class="hljs-title class_">Keep</span>-<span class="hljs-title class_">Alive</span>
<span class="hljs-title class_">Content</span>-<span class="hljs-title class_">Type</span>: application/json
</code></pre>

<p>Only if the response contains "Access-Control-Allow-Origin" AND its value is "*" or contain the domain who submitted the CORS request, by satisfying this mandtory condition browser will submit the actual Cross-Domain request, and cache the result in "<strong>Preflight-Result-Cache</strong>".</p>

<p>I blogged about CORS three years ago: <a href="http://wayneye.com/Blog/Ajax-Cross-Origin-HTTP-request" rel="noreferrer">AJAX Cross-Origin HTTP request</a></p>
    </div></div></div></div><div id="solution3" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 3</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Question is a bit too old to answer, but I am posting this for any future reference to this question.</p>

<p>According to <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS" rel="noreferrer">this</a> Mozilla Developer Network article,</p>

<blockquote>
  <p>A resource makes a <strong>cross-origin HTTP request</strong> when it requests a resource from a different domain, or port than the one which the first resource itself serves.</p>
</blockquote>

<p><a href="https://i.stack.imgur.com/zn3sT.png" rel="noreferrer"><img src="https://i.stack.imgur.com/zn3sT.png" alt="enter image description here"></a></p>

<p>An <strong>HTML page</strong> served from <code>http://domain-a.com</code> makes an <code>&lt;img&gt;</code> src request for <code>http://domain-b.com/image.jpg</code>.<br>
Many pages on the web today load resources like <strong>CSS stylesheets</strong>, <strong>images</strong> and <strong>scripts</strong> from separate domains (thus it should be cool).</p>

<h1>Same-Origin Policy</h1>

<p>For security reasons, browsers restrict <strong>cross-origin HTTP</strong> requests <strong>initiated from within scripts</strong>.<br>
For example, <code>XMLHttpRequest</code> and <code>Fetch</code> follow the <strong>same-origin policy</strong>.<br>
So, a web application using <code>XMLHttpRequest</code> or <code>Fetch</code> could only make <strong>HTTP requests</strong> to <strong>its own domain</strong>.</p>

<h1>Cross-Origin Resource Sharing (CORS)</h1>

<p>To improve web applications, developers asked browser vendors to allow cross-domain requests.</p>

<p>The <strong>Cross-Origin Resource Sharing (CORS)</strong> mechanism gives web servers <strong>cross-domain access controls</strong>, which enable secure cross-domain data transfers.<br>
Modern browsers use <strong>CORS</strong> in an <strong>API container</strong> - such as <code>XMLHttpRequest</code> or <code>Fetch</code> - to mitigate risks of cross-origin HTTP requests.</p>

<h2>How CORS works (<code>Access-Control-Allow-Origin</code> header)</h2>

<p><a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing" rel="noreferrer">Wikipedia</a>:</p>

<blockquote>
  <p>The CORS standard describes new HTTP headers which provide browsers and servers a way to request remote URLs only when they have permission.</p>
  
  <p>Although some validation and authorization can be performed by the server, <strong>it is generally the browser's responsibility</strong> to support these headers and honor the restrictions they impose.</p>
</blockquote>

<h1>Example</h1>

<ol>
<li><p>The browser sends the <code>OPTIONS</code> request with an <code>Origin HTTP</code> header. </p>

<p>The value of this header is the domain that served the parent page. When a page from <code>http://www.example.com</code> attempts to access a user's data in <code>service.example.com</code>, the following request header would be sent to <code>service.example.com</code>:</p>

<p>Origin: <a href="http://www.example.com" rel="noreferrer">http://www.example.com</a></p></li>
<li><p>The server at <code>service.example.com</code> may respond with:</p>

<ul>
<li><p>An <code>Access-Control-Allow-Origin</code> (ACAO) header in its response indicating which origin sites are allowed.<br>
For example:  </p>

<p><code>Access-Control-Allow-Origin: http://www.example.com</code></p></li>
<li><p>An error page if the server does not allow the cross-origin request</p></li>
<li><p>An <code>Access-Control-Allow-Origin</code> (ACAO) header with a wildcard that allows all domains:</p>

<p><code>Access-Control-Allow-Origin: *</code></p></li>
</ul></li>
</ol>
    </div></div></div></div><div id="solution4" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 4</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Whenever I start thinking about CORS, my intuition about which site hosts the headers is incorrect, just as you described in your question. For me, it helps to think about the purpose of the same origin policy.</p>
<p>The purpose of the same origin policy is to protect you from malicious JavaScript on siteA.com accessing private information you've chosen to share only with siteB.com. Without the same origin policy, JavaScript written by the authors of siteA.com could make your browser make requests to siteB.com, using your authentication cookies for siteB.com. In this way, siteA.com could steal the secret information you share with siteB.com.</p>
<p>Sometimes you need to work cross domain, which is where CORS comes in. CORS relaxes the same origin policy for siteB.com, using the <code>Access-Control-Allow-Origin</code> header to list other domains (siteA.com) that are trusted to run JavaScript that can interact with siteB.com.</p>
<p>To understand which domain should serve the CORS headers, consider this. You visit malicious.com, which contains some JavaScript that tries to make a cross domain request to mybank.com. It should be up to mybank.com, not malicious.com, to decide whether or not it sets CORS headers that relax the same origin policy allowing the JavaScript from malicious.com to interact with it. If malicous.com could set its own CORS headers allowing its own JavaScript access to mybank.com, this would completely nullify the same origin policy.</p>
<p>I think the reason for my bad intuition is the point of view I have when developing a site. It's <strong>my</strong> site, with all <strong>my</strong> JavaScript, therefore it isn't doing anything malicious and it should be up to <strong>me</strong> to specify which other sites <strong>my</strong> JavaScript can interact with. When in fact I should be thinking which <strong>other</strong> sites JavaScript are trying to interact with my site and should I use CORS to allow them?</p>
    </div></div></div></div><div id="solution5" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 5</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>From my own experience, it's hard to find a simple explanation why CORS is even a concern.</p>
<p>Once you understand why it's there, the headers and discussion becomes a lot clearer.  I'll give it a shot in a few lines.</p>
<hr>
<p>It's all about cookies. Cookies are stored on a client by their domain.</p>
<blockquote>
<p>An example story: On your computer, there's a cookie for <code>yourbank.com</code>. Maybe your session is in there.</p>
</blockquote>
<p><strong>Key point:</strong> When a client makes a request to the server, it will send the cookies stored under the domain for that request.</p>
<blockquote>
<p>You're logged in on your browser to <code>yourbank.com</code>.  You request to see all your accounts, and cookies are sent for <code>yourbank.com</code>.  <code>yourbank.com</code> receives the pile of cookies and sends back its response (your accounts).</p>
</blockquote>
<p>If another client makes a <em>cross origin</em> request to a server, those cookies are sent along, just as before.  Ruh roh.</p>
<blockquote>
<p>You browse to <code>malicious.com</code>. Malicious makes a bunch of requests to different banks, including <code>yourbank.com</code>.</p>
</blockquote>
<p>Since the cookies are validated as expected, the server will authorize the response.</p>
<blockquote>
<p>Those cookies get gathered up and sent along - and now, <code>malicious.com</code> has a response from <code>yourbank</code>.</p>
</blockquote>
<p>Yikes.</p>
<hr>
<p>So now, a few questions and answers become apparent:</p>
<ul>
<li>"Why don't we just block the browser from doing that?" Yep. CORS.</li>
<li>"How do we get around it?" Have the server tell the request that CORS is OK.</li>
</ul>
    </div></div></div></div><div id="solution6" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 6</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><em>1. A client downloads javascript code MyCode.js from <a href="http://siteA" rel="noreferrer">http://siteA</a> - the origin.</em></p>

<p>The code that does the downloading - your html script tag or xhr from javascript or whatever - came from, let's say, <a href="http://siteZ" rel="noreferrer">http://siteZ</a>.  And, when the browser requests MyCode.js, it sends an Origin: header saying "Origin: <a href="http://siteZ" rel="noreferrer">http://siteZ</a>", because it can see that you're requesting to siteA and siteZ != siteA.  (You cannot stop or interfere with this.)</p>

<p><em>2. The response header of MyCode.js contains Access-Control-Allow-Origin: <a href="http://siteB" rel="noreferrer">http://siteB</a>, which I thought meant that MyCode.js was allowed to make cross-origin references to the site B.</em></p>

<p>no.  It means, Only siteB is allowed to do this request.  So your request for MyCode.js from siteZ gets an error instead, and the browser typically gives you nothing.  But if you make your server return A-C-A-O: siteZ instead, you'll get MyCode.js .  Or if it sends '*', that'll work, that'll let everybody in.  Or if the server always sends the string from the Origin: header... but... for security, if you're afraid of hackers, your server should only allow origins on a shortlist, that are allowed to make those requests.</p>

<p>Then, MyCode.js comes from siteA.  When it makes requests to siteB, they are all cross-origin, the browser sends Origin: siteA, and siteB has to take the siteA, recognize it's on the short list of allowed requesters, and send back A-C-A-O: siteA.  Only then will the browser let your script get the result of those requests.</p>
    </div></div></div></div><div id="solution7" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 7</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Using <strong>React</strong> and <strong>Axios</strong>, join proxy link to the URL and add header as shown below</p>

<p><code>https://cors-anywhere.herokuapp.com/</code> + <code>Your API URL</code></p>

<p>Just by adding the Proxy link will work, but it can also throw error for No Access again. Hence better to add header as shown below.</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">`https://cors-anywhere.herokuapp.com/[YOUR_API_URL]`</span>,{<span class="hljs-attr">headers</span>: {<span class="hljs-string">'Access-Control-Allow-Origin'</span>: <span class="hljs-string">'*'</span>}})
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-attr">response</span>:data);
  }
</code></pre>

<hr>

<h1>WARNING: Not to be used in Production</h1>

<blockquote>
  <p>This is just a quick fix, if you're struggling with why you're not able to get a response, you CAN use this.
  But again it's <strong>not the best answer for production.</strong></p>
  
  <p>Got several downvotes and it completely makes sense, I should have added the warning a long time ago.</p>
</blockquote>
    </div></div></div></div><div id="solution8" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 8</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you want just to test a cross domain application in which the browser blocks your request, then you can just open your browser in unsafe mode and test your application without changing your code and without making your code unsafe.
From MAC OS you can do this from the terminal line:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">open -a <span class="hljs-title class_">Google</span>\ <span class="hljs-title class_">Chrome</span> --args --disable-web-security --user-data-dir
</code></pre>
    </div></div></div></div><div id="solution9" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 9</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>If you are using PHP, try adding the following code at the beginning of the php file:</p>

<p>If you are using localhost, try this:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">header</span>(<span class="hljs-string">"Access-Control-Allow-Origin: *"</span>);
</code></pre>

<p>If you are using external domains such as server, try this:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title function_">header</span>(<span class="hljs-string">"Access-Control-Allow-Origin: http://www.website.com"</span>);
</code></pre>
    </div></div></div></div><div id="solution10" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 10</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I work with express 4 and node 7.4 and angular,I had the same problem me help this:<br>
a) server side: in file app.js I give headers to all response like:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">app.<span class="hljs-title function_">use</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">req, res, next</span>) {  
      res.<span class="hljs-title function_">header</span>(<span class="hljs-string">'Access-Control-Allow-Origin'</span>, req.<span class="hljs-property">headers</span>.<span class="hljs-property">origin</span>);
      res.<span class="hljs-title function_">header</span>(<span class="hljs-string">"Access-Control-Allow-Headers"</span>, <span class="hljs-string">"Origin, X-Requested-With, Content-Type, Accept"</span>);
      <span class="hljs-title function_">next</span>();
 });  
</code></pre>
<p><strong>this must have before all router</strong>.<br>
I saw a lot of added this headers:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">res.<span class="hljs-title function_">header</span>(<span class="hljs-string">"Access-Control-Allow-Headers"</span>,<span class="hljs-string">"*"</span>);
res.<span class="hljs-title function_">header</span>(<span class="hljs-string">'Access-Control-Allow-Credentials'</span>, <span class="hljs-literal">true</span>);
res.<span class="hljs-title function_">header</span>(<span class="hljs-string">'Access-Control-Allow-Methods'</span>, <span class="hljs-string">'GET,PUT,POST,DELETE'</span>);
</code></pre>
<p>but i dont need that,<br>
b) client side: in send ajax you need add: "withCredentials: true," like:</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">$http({
     <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
     <span class="hljs-attr">url</span>: <span class="hljs-string">'url, 
     withCredentials: true,
     data : {}
   }).then(function(response){
        // code  
   }, function (response) {
         // code 
   });
</span></code></pre>
    </div></div></div></div><div id="solution11" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 11</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>In Python I have been using the <a href="https://flask-cors.readthedocs.io/en/latest/" rel="noreferrer"><code>Flask-CORS</code> library</a> with great success. It makes dealing with CORS super easy and painless. I added some code from the library's documentation below. </p>

<p>Installing:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">$ pip install -U flask-cors
</code></pre>

<p>Simple example that allows CORS for all domains on all routes:</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> <span class="hljs-title class_">Flask</span>
<span class="hljs-keyword">from</span> flask_cors <span class="hljs-keyword">import</span> <span class="hljs-variable constant_">CORS</span>

app = <span class="hljs-title class_">Flask</span>(__name__)
<span class="hljs-title function_">CORS</span>(app)

@app.<span class="hljs-title function_">route</span>(<span class="hljs-string">"/"</span>)
def <span class="hljs-title function_">helloWorld</span>():
  <span class="hljs-keyword">return</span> <span class="hljs-string">"Hello, cross-origin-world!"</span>
</code></pre>

<p>For more specific examples see the documentation. I have used the simple example above to get around the CORS issue in an ionic application I am building that has to access a separate flask server.</p>
    </div></div></div></div><div id="solution12" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 12</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>For cross origin sharing, set header: <code>'Access-Control-Allow-Origin':'*';</code></p>

<p>Php: <code>header('Access-Control-Allow-Origin':'*');</code></p>

<p>Node: <code>app.use('Access-Control-Allow-Origin':'*');</code></p>

<p>This will allow to share content for different domain.</p>
    </div></div></div></div><div id="solution13" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 13</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>Simply paste the following code in your web.config file.</p>

<p>Noted that, you have to paste the following code under <code>&lt;system.webServer&gt;</code> tag</p>

<pre class="lang-js s-code-block"><code class="hljs language-javascript">    &lt;httpProtocol&gt;  
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">customHeaders</span>&gt;</span>  
     <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Access-Control-Allow-Origin"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"*"</span> /&gt;</span>  
     <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Access-Control-Allow-Headers"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Content-Type"</span> /&gt;</span>  
     <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Access-Control-Allow-Methods"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"GET, POST, PUT, DELETE, OPTIONS"</span> /&gt;</span>  
    <span class="hljs-tag">&lt;/<span class="hljs-name">customHeaders</span>&gt;</span></span>  
  &lt;/httpProtocol&gt;  
</code></pre>
    </div></div></div></div><div id="solution14" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 14</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p>I can't configure it in back-end server but with these extensions in browsers work for me:</p>
<p><strong>For Firefox:</strong>
<a href="https://addons.mozilla.org/en-US/firefox/addon/cors-everywhere/" rel="nofollow noreferrer">Cors Everywhere</a></p>
<p><strong>For Google Chrome:</strong>
<a href="https://chrome.google.com/webstore/detail/allow-cors-access-control/lhobafahddgcelffkeicbaginigeejlf?hl=en-US" rel="nofollow noreferrer">Allow CORS: Access-Control-Allow-Origin</a></p>
<p>Note: CORS work for me with this configuration:</p>
<p><a href="https://i.stack.imgur.com/eDD7P.jpg" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/eDD7P.jpg" alt="Allow CORS options"></a></p>
<p><a href="https://i.stack.imgur.com/27QWb.jpg" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/27QWb.jpg" alt="CORS Everywhere options"></a></p>
    </div></div></div></div><div id="solution15" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 15</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<h1>Nginx and Appache</h1>
<p>As addition to <a href="https://stackoverflow.com/a/10636765/860099">apsillers answer</a> I would like to add <a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing#How_CORS_works" rel="nofollow noreferrer">wiki graph</a> which shows when request is simple or not (and OPTIONS pre-flight request is send or not)</p>
<p><a href="https://i.stack.imgur.com/BTFel.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/BTFel.png" alt="Enter image description here"></a></p>
<p>For simple request (e.g. <a href="https://en.wikipedia.org/wiki/Inline_linking" rel="nofollow noreferrer">hotlinking images</a>) you don't need to change your server configuration files but you can add headers in application (hosted on server, e.g. in php) like Melvin Guerrero mention in his <a href="https://stackoverflow.com/a/41723271/860099">answer</a> - but <a href="https://stackoverflow.com/a/46917668/860099">remember</a>: if you add full cors headers in you server (config) and at same time you allow simple cors on application (e.g. php) this will not work at all.</p>
<p>And here are configurations for two popular servers</p>
<ul>
<li><p>turn on <strong>CORS on Nginx</strong> (<code>nginx.conf</code> file)</p>
<p></p><div class="snippet" data-lang="js" data-hide="true" data-console="false" data-babel="false"><div class="snippet-display" style="vertical-align: center"><p><a class="snippet-show-link-chevron"><span class="expander-arrow-hide" style="vertical-align: middle;"></span></a><a class="snippet-show-link"><span class="show-hide" data-ishidden="true" style="vertical-align: middle">Show code snippet</span></a></p></div>
<div class="snippet-code snippet-currently-hidden" style="display: none;">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript">location ~ ^<span class="hljs-regexp">/index\.php(/</span>|$) {
   ...
    add_header <span class="hljs-string">'Access-Control-Allow-Origin'</span> <span class="hljs-string">"$http_origin"</span> always; # <span class="hljs-keyword">if</span> you change <span class="hljs-string">"$http_origin"</span> to <span class="hljs-string">"*"</span> you shoud get same result - allow all domain to <span class="hljs-variable constant_">CORS</span> (but better change it to your particular domain)
    add_header <span class="hljs-string">'Access-Control-Allow-Credentials'</span> <span class="hljs-string">'true'</span> always;
    <span class="hljs-keyword">if</span> ($request_method = <span class="hljs-variable constant_">OPTIONS</span>) {
        add_header <span class="hljs-string">'Access-Control-Allow-Origin'</span> <span class="hljs-string">"$http_origin"</span>; # <span class="hljs-variable constant_">DO</span> <span class="hljs-variable constant_">NOT</span> remove <span class="hljs-variable constant_">THIS</span> <span class="hljs-variable constant_">LINES</span> (doubled <span class="hljs-keyword">with</span> outside <span class="hljs-string">'if'</span> above)
        add_header <span class="hljs-string">'Access-Control-Allow-Credentials'</span> <span class="hljs-string">'true'</span>;
        add_header <span class="hljs-string">'Access-Control-Max-Age'</span> <span class="hljs-number">1728000</span>; # cache preflight value <span class="hljs-keyword">for</span> <span class="hljs-number">20</span> days
        add_header <span class="hljs-string">'Access-Control-Allow-Methods'</span> <span class="hljs-string">'GET, POST, OPTIONS'</span>;  # arbitrary methods
        add_header <span class="hljs-string">'Access-Control-Allow-Headers'</span> <span class="hljs-string">'My-First-Header,My-Second-Header,Authorization,Content-Type,Accept,Origin'</span>; # arbitrary headers
        add_header <span class="hljs-string">'Content-Length'</span> <span class="hljs-number">0</span>;
        add_header <span class="hljs-string">'Content-Type'</span> <span class="hljs-string">'text/plain charset=UTF-8'</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-number">204</span>;
    }
}</code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif1" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
</li>
<li><p>turn on <strong>CORS on Appache</strong> (<code>.htaccess</code> file)</p>
<p></p><div class="snippet" data-lang="js" data-hide="true" data-console="false" data-babel="false"><div class="snippet-display" style="vertical-align: center"><p><a class="snippet-show-link-chevron"><span class="expander-arrow-hide" style="vertical-align: middle;"></span></a><a class="snippet-show-link"><span class="show-hide" data-ishidden="true" style="vertical-align: middle">Show code snippet</span></a></p></div>
<div class="snippet-code snippet-currently-hidden" style="display: none;">
<pre class="snippet-code-js lang-js s-code-block"><code class="hljs language-javascript"># ------------------------------------------------------------------------------
# | <span class="hljs-title class_">Cross</span>-domain <span class="hljs-title class_">Ajax</span> requests                                                 |
# ------------------------------------------------------------------------------

# <span class="hljs-title class_">Enable</span> cross-origin <span class="hljs-title class_">Ajax</span> requests.
# <span class="hljs-attr">http</span>:<span class="hljs-comment">//code.google.com/p/html5security/wiki/CrossOriginRequestSecurity</span>
# <span class="hljs-attr">http</span>:<span class="hljs-comment">//enable-cors.org/</span>

# change * (allow any domain) below to your domain
<span class="hljs-title class_">Header</span> set <span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Origin</span> <span class="hljs-string">"*"</span>
<span class="hljs-title class_">Header</span> always set <span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Methods</span> <span class="hljs-string">"POST, GET, OPTIONS, DELETE, PUT"</span>
<span class="hljs-title class_">Header</span> always set <span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Headers</span> <span class="hljs-string">"My-First-Header,My-Second-Header,Authorization, content-type, csrf-token"</span>
<span class="hljs-title class_">Header</span> always set <span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Credentials</span> <span class="hljs-string">"true"</span></code></pre>
<div class="snippet-result"><div class="snippet-ctas"><button type="button" class="s-btn s-btn__primary"><span class="icon-play-white _hover"></span><span> Run code snippet</span></button><input class="copySnippet s-btn s-btn__filled" type="button" value="Copy snippet to answer" style="display: none;"><button type="button" class="s-btn hideResults" style="display: none;">Hide results</button><div class="popout-code"><a class="snippet-expand-link">Expand snippet</a></div></div><div class="snippet-result-code" style="display: none;"><iframe name="sif2" sandbox="allow-forms allow-modals allow-scripts" class="snippet-box-edit snippet-box-result" frameborder="0"></iframe></div></div></div>
</div>
<p></p>
</li>
</ul>
    </div></div></div></div><div id="solution16" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 16</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<blockquote>
  <p>The Access-Control-Allow-Origin response header indicates whether the
  response can be shared with requesting code from the given origin.</p>
</blockquote>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">Header</span> type <span class="hljs-title class_">Response</span>       header
<span class="hljs-title class_">Forbidden</span> header name      no
</code></pre>

<blockquote>
  <p>A response that tells the browser to allow code from any origin to
  access a resource will include the following:</p>
</blockquote>

<pre class="lang-js s-code-block"><code class="hljs language-javascript"><span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Control</span>-<span class="hljs-title class_">Allow</span>-<span class="hljs-title class_">Origin</span>: *
</code></pre>

<p>For more info, visit <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin" rel="nofollow noreferrer">here</a>....</p>
    </div></div></div></div><div id="solution17" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 17</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><strong>ONLY TEMPORARY SOLUTION for Testing:</strong></p>
<p>Who can't control backend for <code>Options 405 Method Not Allowed</code>.<br>
Workaround for Chrome browser.<br>
execute in command line:<br>
<code>"C:\Program Files (x86)\Google\Chrome\Application\chrome.exe" --disable-web-security --user-data-dir="path_to_profile"</code><br>
Example:<br>
<code>"C:\Program Files (x86)\Google\Chrome\Application\chrome.exe" --disable-web-security --user-data-dir="C:\Users\vital\AppData\Local\Google\Chrome\User Data\Profile 2"</code></p>
    </div></div></div></div><div id="solution18" class="flex mt-5 answer items-center justify-center py-5"><div class="rounded-xl border p-10 shadow-md w-9/12 bg-white"><h4 class="text-4xl font-semibold mb-5">Solution 18</h4><div class=" items-center justify-between"><div class=" space-x-4 md:space-x-8">
<p><em><strong>For .NET Core 3.1 API With Angular</strong></em></p>
<p><strong>Startup.cs</strong> : Add CORS</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript">    <span class="hljs-comment">//SERVICES</span>
    public <span class="hljs-keyword">void</span> <span class="hljs-title class_">ConfigureServices</span>(<span class="hljs-title class_">IServiceCollection</span> services){

        <span class="hljs-comment">//CORS (Cross Origin Resource Sharing)</span>
        <span class="hljs-comment">//=====================================</span>
        services.<span class="hljs-title class_">AddCors</span>();
    }

    <span class="hljs-comment">//MIDDLEWARES</span>
    public <span class="hljs-keyword">void</span> <span class="hljs-title class_">Configure</span>(<span class="hljs-title class_">IApplicationBuilder</span> app, <span class="hljs-title class_">IWebHostEnvironment</span> env)
    {
        app.<span class="hljs-title class_">UseRouting</span>();

        <span class="hljs-comment">//ORDER: CORS -&gt; Authentication -&gt; Authorization)</span>
        <span class="hljs-comment">//CORS (Cross Origin Resource Sharing)</span>
        <span class="hljs-comment">//=====================================  </span>
        app.<span class="hljs-title class_">UseCors</span>(<span class="hljs-function"><span class="hljs-params">x</span>=&gt;</span>x.<span class="hljs-title class_">AllowAnyHeader</span>().<span class="hljs-title class_">AllowAnyMethod</span>().<span class="hljs-title class_">WithOrigins</span>(<span class="hljs-string">"http://localhost:4200"</span>));

        app.<span class="hljs-title class_">UseHttpsRedirection</span>();
    }
}
</code></pre>
<p><strong>Controller</strong> : Enable CORS For Authorized Controller</p>
<pre class="lang-js s-code-block"><code class="hljs language-javascript"> <span class="hljs-comment">//Authorize all methods inside this controller</span>
 [<span class="hljs-title class_">Authorize</span>]
 [<span class="hljs-title class_">EnableCors</span>()]
 public <span class="hljs-keyword">class</span> <span class="hljs-title class_">UsersController</span> : <span class="hljs-title class_">ControllerBase</span>
 {
    <span class="hljs-comment">//ActionMethods</span>
 }
</code></pre>
    </div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"answer":["\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt; is a \u0026lt;a href=\u0026quot;http://www.html5rocks.com/en/tutorials/cors/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;CORS (Cross-Origin Resource Sharing) header\u0026lt;/a\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;When Site A tries to fetch content from Site B,  Site B can send an \u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt; response header to tell the browser that the content of this page is accessible to certain origins. (An \u0026lt;em\u0026gt;origin\u0026lt;/em\u0026gt; is a \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/19542686/710446\u0026quot;\u0026gt;domain, plus a scheme and port number\u0026lt;/a\u0026gt;.)  By default, Site B\u0026apos;s pages are \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Same-origin_policy\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;not accessible to any other origin\u0026lt;/a\u0026gt;; using the \u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt; header opens a door for cross-origin access by specific requesting origins.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;For each resource/page that Site B wants to make accessible to Site A, Site B should serve its pages with the response header:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Origin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//siteA.com\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Modern browsers will not block cross-domain requests outright.  If Site A requests a page from Site B, the browser will actually fetch the requested page \u0026lt;em\u0026gt;on the network level\u0026lt;/em\u0026gt; and check if the response headers list Site A as a permitted requester domain.  If Site B has not indicated that Site A is allowed to access this page, the browser will trigger the \u0026lt;code\u0026gt;XMLHttpRequest\u0026lt;/code\u0026gt;\u0026apos;s \u0026lt;code\u0026gt;error\u0026lt;/code\u0026gt; event and  deny the response data to the requesting JavaScript code.\u0026lt;/p\u0026gt;\n\n\u0026lt;h1\u0026gt;Non-simple requests\u0026lt;/h1\u0026gt;\n\n\u0026lt;p\u0026gt;What happens on the network level can be \u0026lt;em\u0026gt;slightly\u0026lt;/em\u0026gt; more complex than explained above. If the request is a \u0026lt;a href=\u0026quot;http://www.html5rocks.com/en/tutorials/cors/#toc-handling-a-not-so-simple-request\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026quot;non-simple\u0026quot; request\u0026lt;/a\u0026gt;, the browser first sends a data-less \u0026quot;preflight\u0026quot; OPTIONS request, to verify that the server will accept the request. A request is non-simple when either (or both):\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;using an HTTP verb other than GET or POST (e.g. PUT, DELETE)\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;using non-simple request headers; the only simple requests headers are:\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;Accept\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;Accept-Language\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;Content-Language\u0026lt;/code\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;code\u0026gt;Content-Type\u0026lt;/code\u0026gt; (this is only simple when its value is \u0026lt;code\u0026gt;application/x-www-form-urlencoded\u0026lt;/code\u0026gt;, \u0026lt;code\u0026gt;multipart/form-data\u0026lt;/code\u0026gt;, or \u0026lt;code\u0026gt;text/plain\u0026lt;/code\u0026gt;)\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n\n\u0026lt;p\u0026gt;If the server responds to the OPTIONS preflight with appropriate response headers (\u0026lt;code\u0026gt;Access-Control-Allow-Headers\u0026lt;/code\u0026gt; for non-simple headers, \u0026lt;code\u0026gt;Access-Control-Allow-Methods\u0026lt;/code\u0026gt; for non-simple verbs) that match the non-simple verb and/or non-simple headers, then the browser sends the actual request.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Supposing that Site A wants to send a PUT request for \u0026lt;code\u0026gt;/somePage\u0026lt;/code\u0026gt;, with a non-simple \u0026lt;code\u0026gt;Content-Type\u0026lt;/code\u0026gt; value of \u0026lt;code\u0026gt;application/json\u0026lt;/code\u0026gt;, the browser would first send a preflight request:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;OPTIONS\u0026lt;/span\u0026gt; /somePage \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;HTTP\u0026lt;/span\u0026gt;/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.1\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Origin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//siteA.com\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Request\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Method\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;PUT\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Request\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Headers\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Content\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Type\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Note that \u0026lt;code\u0026gt;Access-Control-Request-Method\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;Access-Control-Request-Headers\u0026lt;/code\u0026gt; are added by the browser automatically; you do not need to add them. This OPTIONS preflight gets the successful response headers:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Origin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//siteA.com\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Methods\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;GET\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;POST\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;PUT\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Headers\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Content\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Type\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;When sending the actual request (after preflight is done), the behavior is identical to how a simple request is handled. In other words, a non-simple request whose preflight is successful is treated the same as a simple request (i.e., the server must still send \u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt; again for the actual response).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The browsers sends the actual request:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;PUT\u0026lt;/span\u0026gt; /somePage \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;HTTP\u0026lt;/span\u0026gt;/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.1\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Origin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//siteA.com\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Content\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Type\u0026lt;/span\u0026gt;: application/json\n\n{ \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;myRequestContent\u0026quot;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;JSON is so great\u0026quot;\u0026lt;/span\u0026gt; }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;And the server sends back an \u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt;, just as it would for a simple request:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Origin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//siteA.com\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;See \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/13400954/710446\u0026quot;\u0026gt;Understanding XMLHttpRequest over CORS\u0026lt;/a\u0026gt; for a little more information about non-simple requests.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Cross-Origin Resource Sharing - \u0026lt;code\u0026gt;CORS\u0026lt;/code\u0026gt; (A.K.A. Cross-Domain AJAX request) is an issue that most web developers might encounter, according to Same-Origin-Policy, browsers restrict client JavaScript in a security sandbox, usually JS cannot directly communicate with a remote server from a different domain. In the past developers created many tricky ways to achieve Cross-Domain resource request, most commonly using ways are:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;Use Flash/Silverlight or server side as a \u0026quot;proxy\u0026quot; to communicate\nwith remote. \u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;JSON With Padding (\u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/JSONP\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;JSONP\u0026lt;/a\u0026gt;). \u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;Embeds remote server in an iframe and communicate through fragment or window.name, refer \u0026lt;a href=\u0026quot;http://www.ibm.com/developerworks/library/wa-crossdomaincomm/#N10120\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;here\u0026lt;/a\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;Those tricky ways have more or less some issues, for example JSONP might result in security hole if developers simply \u0026quot;eval\u0026quot; it, and #3 above, although it works, both domains should build strict contract between each other, it neither flexible nor elegant IMHO:)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;W3C had introduced Cross-Origin Resource Sharing (CORS) as a standard solution to provide a safe, flexible and a recommended standard way to solve this issue. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;The Mechanism\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;From a high level we can simply deem CORS is a contract between client AJAX call from domain A and a page hosted on domain B, a typical Cross-Origin request/response would be:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;DomainA AJAX request headers\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Host\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;DomainB\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;com\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;User\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Agent\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Mozilla\u0026lt;/span\u0026gt;/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;5.0\u0026lt;/span\u0026gt; (\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Windows\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;NT\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;6.1\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;WOW64\u0026lt;/span\u0026gt;; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;rv\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2.0\u0026lt;/span\u0026gt;) \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Gecko\u0026lt;/span\u0026gt;/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20100101\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Firefox\u0026lt;/span\u0026gt;/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;4.0\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Accept\u0026lt;/span\u0026gt; text/html,application/xhtml+xml,application/xml;q=\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0.9\u0026lt;/span\u0026gt;,*\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;/*;q=0.8,application/json\nAccept-Language en-us;\nAccept-Encoding gzip, deflate\nKeep-Alive 115\nOrigin http://DomainA.com \n\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;DomainB response headers\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Cache\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt; private\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Content\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Type\u0026lt;/span\u0026gt; application/json; charset=utf-\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;8\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Origin\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;DomainA\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;com\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Content\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Length\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;87\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Proxy\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Connection\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Keep\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Alive\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Connection\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Keep\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Alive\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;The blue parts I marked above were the kernal facts, \u0026quot;Origin\u0026quot; request header \u0026quot;indicates where the cross-origin request or preflight request originates from\u0026quot;, the \u0026quot;Access-Control-Allow-Origin\u0026quot; response header indicates this page allows remote request from DomainA (if the value is * indicate allows remote requests from any domain).\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;As I mentioned above, W3 recommended browser to implement a \u0026quot;\u0026lt;strong\u0026gt;preflight request\u0026lt;/strong\u0026gt;\u0026quot; before submiting the actually Cross-Origin HTTP request, in a nutshell it is an HTTP \u0026lt;code\u0026gt;OPTIONS\u0026lt;/code\u0026gt; request:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;OPTIONS\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;DomainB\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;com\u0026lt;/span\u0026gt;/foo.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;aspx\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;HTTP\u0026lt;/span\u0026gt;/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.1\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;If foo.aspx supports OPTIONS HTTP verb, it might return response like below:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;HTTP\u0026lt;/span\u0026gt;/\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1.1\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;200\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;OK\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Date\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Wed\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;01\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Mar\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;2011\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;15\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;38\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;19\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;GMT\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Origin\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//DomainA.com\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Methods\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;POST\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;GET\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;OPTIONS\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;HEAD\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Headers\u0026lt;/span\u0026gt;: X-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Requested\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;With\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Max\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Age\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1728000\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Connection\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Keep\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Alive\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Content\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Type\u0026lt;/span\u0026gt;: application/json\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Only if the response contains \u0026quot;Access-Control-Allow-Origin\u0026quot; AND its value is \u0026quot;*\u0026quot; or contain the domain who submitted the CORS request, by satisfying this mandtory condition browser will submit the actual Cross-Domain request, and cache the result in \u0026quot;\u0026lt;strong\u0026gt;Preflight-Result-Cache\u0026lt;/strong\u0026gt;\u0026quot;.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I blogged about CORS three years ago: \u0026lt;a href=\u0026quot;http://wayneye.com/Blog/Ajax-Cross-Origin-HTTP-request\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;AJAX Cross-Origin HTTP request\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Question is a bit too old to answer, but I am posting this for any future reference to this question.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;According to \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;this\u0026lt;/a\u0026gt; Mozilla Developer Network article,\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;A resource makes a \u0026lt;strong\u0026gt;cross-origin HTTP request\u0026lt;/strong\u0026gt; when it requests a resource from a different domain, or port than the one which the first resource itself serves.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/zn3sT.png\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/zn3sT.png\u0026quot; alt=\u0026quot;enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;An \u0026lt;strong\u0026gt;HTML page\u0026lt;/strong\u0026gt; served from \u0026lt;code\u0026gt;http://domain-a.com\u0026lt;/code\u0026gt; makes an \u0026lt;code\u0026gt;\u0026amp;lt;img\u0026amp;gt;\u0026lt;/code\u0026gt; src request for \u0026lt;code\u0026gt;http://domain-b.com/image.jpg\u0026lt;/code\u0026gt;.\u0026lt;br\u0026gt;\nMany pages on the web today load resources like \u0026lt;strong\u0026gt;CSS stylesheets\u0026lt;/strong\u0026gt;, \u0026lt;strong\u0026gt;images\u0026lt;/strong\u0026gt; and \u0026lt;strong\u0026gt;scripts\u0026lt;/strong\u0026gt; from separate domains (thus it should be cool).\u0026lt;/p\u0026gt;\n\n\u0026lt;h1\u0026gt;Same-Origin Policy\u0026lt;/h1\u0026gt;\n\n\u0026lt;p\u0026gt;For security reasons, browsers restrict \u0026lt;strong\u0026gt;cross-origin HTTP\u0026lt;/strong\u0026gt; requests \u0026lt;strong\u0026gt;initiated from within scripts\u0026lt;/strong\u0026gt;.\u0026lt;br\u0026gt;\nFor example, \u0026lt;code\u0026gt;XMLHttpRequest\u0026lt;/code\u0026gt; and \u0026lt;code\u0026gt;Fetch\u0026lt;/code\u0026gt; follow the \u0026lt;strong\u0026gt;same-origin policy\u0026lt;/strong\u0026gt;.\u0026lt;br\u0026gt;\nSo, a web application using \u0026lt;code\u0026gt;XMLHttpRequest\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;Fetch\u0026lt;/code\u0026gt; could only make \u0026lt;strong\u0026gt;HTTP requests\u0026lt;/strong\u0026gt; to \u0026lt;strong\u0026gt;its own domain\u0026lt;/strong\u0026gt;.\u0026lt;/p\u0026gt;\n\n\u0026lt;h1\u0026gt;Cross-Origin Resource Sharing (CORS)\u0026lt;/h1\u0026gt;\n\n\u0026lt;p\u0026gt;To improve web applications, developers asked browser vendors to allow cross-domain requests.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The \u0026lt;strong\u0026gt;Cross-Origin Resource Sharing (CORS)\u0026lt;/strong\u0026gt; mechanism gives web servers \u0026lt;strong\u0026gt;cross-domain access controls\u0026lt;/strong\u0026gt;, which enable secure cross-domain data transfers.\u0026lt;br\u0026gt;\nModern browsers use \u0026lt;strong\u0026gt;CORS\u0026lt;/strong\u0026gt; in an \u0026lt;strong\u0026gt;API container\u0026lt;/strong\u0026gt; - such as \u0026lt;code\u0026gt;XMLHttpRequest\u0026lt;/code\u0026gt; or \u0026lt;code\u0026gt;Fetch\u0026lt;/code\u0026gt; - to mitigate risks of cross-origin HTTP requests.\u0026lt;/p\u0026gt;\n\n\u0026lt;h2\u0026gt;How CORS works (\u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt; header)\u0026lt;/h2\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Cross-origin_resource_sharing\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Wikipedia\u0026lt;/a\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;The CORS standard describes new HTTP headers which provide browsers and servers a way to request remote URLs only when they have permission.\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;Although some validation and authorization can be performed by the server, \u0026lt;strong\u0026gt;it is generally the browser\u0026apos;s responsibility\u0026lt;/strong\u0026gt; to support these headers and honor the restrictions they impose.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;h1\u0026gt;Example\u0026lt;/h1\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;The browser sends the \u0026lt;code\u0026gt;OPTIONS\u0026lt;/code\u0026gt; request with an \u0026lt;code\u0026gt;Origin HTTP\u0026lt;/code\u0026gt; header. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The value of this header is the domain that served the parent page. When a page from \u0026lt;code\u0026gt;http://www.example.com\u0026lt;/code\u0026gt; attempts to access a user\u0026apos;s data in \u0026lt;code\u0026gt;service.example.com\u0026lt;/code\u0026gt;, the following request header would be sent to \u0026lt;code\u0026gt;service.example.com\u0026lt;/code\u0026gt;:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Origin: \u0026lt;a href=\u0026quot;http://www.example.com\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://www.example.com\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;The server at \u0026lt;code\u0026gt;service.example.com\u0026lt;/code\u0026gt; may respond with:\u0026lt;/p\u0026gt;\n\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;An \u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt; (ACAO) header in its response indicating which origin sites are allowed.\u0026lt;br\u0026gt;\nFor example:  \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;Access-Control-Allow-Origin: http://www.example.com\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;An error page if the server does not allow the cross-origin request\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;An \u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt; (ACAO) header with a wildcard that allows all domains:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;Access-Control-Allow-Origin: *\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Whenever I start thinking about CORS, my intuition about which site hosts the headers is incorrect, just as you described in your question. For me, it helps to think about the purpose of the same origin policy.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;The purpose of the same origin policy is to protect you from malicious JavaScript on siteA.com accessing private information you\u0026apos;ve chosen to share only with siteB.com. Without the same origin policy, JavaScript written by the authors of siteA.com could make your browser make requests to siteB.com, using your authentication cookies for siteB.com. In this way, siteA.com could steal the secret information you share with siteB.com.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Sometimes you need to work cross domain, which is where CORS comes in. CORS relaxes the same origin policy for siteB.com, using the \u0026lt;code\u0026gt;Access-Control-Allow-Origin\u0026lt;/code\u0026gt; header to list other domains (siteA.com) that are trusted to run JavaScript that can interact with siteB.com.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;To understand which domain should serve the CORS headers, consider this. You visit malicious.com, which contains some JavaScript that tries to make a cross domain request to mybank.com. It should be up to mybank.com, not malicious.com, to decide whether or not it sets CORS headers that relax the same origin policy allowing the JavaScript from malicious.com to interact with it. If malicous.com could set its own CORS headers allowing its own JavaScript access to mybank.com, this would completely nullify the same origin policy.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;I think the reason for my bad intuition is the point of view I have when developing a site. It\u0026apos;s \u0026lt;strong\u0026gt;my\u0026lt;/strong\u0026gt; site, with all \u0026lt;strong\u0026gt;my\u0026lt;/strong\u0026gt; JavaScript, therefore it isn\u0026apos;t doing anything malicious and it should be up to \u0026lt;strong\u0026gt;me\u0026lt;/strong\u0026gt; to specify which other sites \u0026lt;strong\u0026gt;my\u0026lt;/strong\u0026gt; JavaScript can interact with. When in fact I should be thinking which \u0026lt;strong\u0026gt;other\u0026lt;/strong\u0026gt; sites JavaScript are trying to interact with my site and should I use CORS to allow them?\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;From my own experience, it\u0026apos;s hard to find a simple explanation why CORS is even a concern.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Once you understand why it\u0026apos;s there, the headers and discussion becomes a lot clearer.  I\u0026apos;ll give it a shot in a few lines.\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;It\u0026apos;s all about cookies. Cookies are stored on a client by their domain.\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;An example story: On your computer, there\u0026apos;s a cookie for \u0026lt;code\u0026gt;yourbank.com\u0026lt;/code\u0026gt;. Maybe your session is in there.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Key point:\u0026lt;/strong\u0026gt; When a client makes a request to the server, it will send the cookies stored under the domain for that request.\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;You\u0026apos;re logged in on your browser to \u0026lt;code\u0026gt;yourbank.com\u0026lt;/code\u0026gt;.  You request to see all your accounts, and cookies are sent for \u0026lt;code\u0026gt;yourbank.com\u0026lt;/code\u0026gt;.  \u0026lt;code\u0026gt;yourbank.com\u0026lt;/code\u0026gt; receives the pile of cookies and sends back its response (your accounts).\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;If another client makes a \u0026lt;em\u0026gt;cross origin\u0026lt;/em\u0026gt; request to a server, those cookies are sent along, just as before.  Ruh roh.\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;You browse to \u0026lt;code\u0026gt;malicious.com\u0026lt;/code\u0026gt;. Malicious makes a bunch of requests to different banks, including \u0026lt;code\u0026gt;yourbank.com\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;Since the cookies are validated as expected, the server will authorize the response.\u0026lt;/p\u0026gt;\n\u0026lt;blockquote\u0026gt;\n\u0026lt;p\u0026gt;Those cookies get gathered up and sent along - and now, \u0026lt;code\u0026gt;malicious.com\u0026lt;/code\u0026gt; has a response from \u0026lt;code\u0026gt;yourbank\u0026lt;/code\u0026gt;.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\u0026lt;p\u0026gt;Yikes.\u0026lt;/p\u0026gt;\n\u0026lt;hr\u0026gt;\n\u0026lt;p\u0026gt;So now, a few questions and answers become apparent:\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026quot;Why don\u0026apos;t we just block the browser from doing that?\u0026quot; Yep. CORS.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026quot;How do we get around it?\u0026quot; Have the server tell the request that CORS is OK.\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;1. A client downloads javascript code MyCode.js from \u0026lt;a href=\u0026quot;http://siteA\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://siteA\u0026lt;/a\u0026gt; - the origin.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;The code that does the downloading - your html script tag or xhr from javascript or whatever - came from, let\u0026apos;s say, \u0026lt;a href=\u0026quot;http://siteZ\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://siteZ\u0026lt;/a\u0026gt;.  And, when the browser requests MyCode.js, it sends an Origin: header saying \u0026quot;Origin: \u0026lt;a href=\u0026quot;http://siteZ\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://siteZ\u0026lt;/a\u0026gt;\u0026quot;, because it can see that you\u0026apos;re requesting to siteA and siteZ != siteA.  (You cannot stop or interfere with this.)\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;2. The response header of MyCode.js contains Access-Control-Allow-Origin: \u0026lt;a href=\u0026quot;http://siteB\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;http://siteB\u0026lt;/a\u0026gt;, which I thought meant that MyCode.js was allowed to make cross-origin references to the site B.\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;no.  It means, Only siteB is allowed to do this request.  So your request for MyCode.js from siteZ gets an error instead, and the browser typically gives you nothing.  But if you make your server return A-C-A-O: siteZ instead, you\u0026apos;ll get MyCode.js .  Or if it sends \u0026apos;*\u0026apos;, that\u0026apos;ll work, that\u0026apos;ll let everybody in.  Or if the server always sends the string from the Origin: header... but... for security, if you\u0026apos;re afraid of hackers, your server should only allow origins on a shortlist, that are allowed to make those requests.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Then, MyCode.js comes from siteA.  When it makes requests to siteB, they are all cross-origin, the browser sends Origin: siteA, and siteB has to take the siteA, recognize it\u0026apos;s on the short list of allowed requesters, and send back A-C-A-O: siteA.  Only then will the browser let your script get the result of those requests.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Using \u0026lt;strong\u0026gt;React\u0026lt;/strong\u0026gt; and \u0026lt;strong\u0026gt;Axios\u0026lt;/strong\u0026gt;, join proxy link to the URL and add header as shown below\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;\u0026lt;code\u0026gt;https://cors-anywhere.herokuapp.com/\u0026lt;/code\u0026gt; + \u0026lt;code\u0026gt;Your API URL\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Just by adding the Proxy link will work, but it can also throw error for No Access again. Hence better to add header as shown below.\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;axios.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;get\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;`https://cors-anywhere.herokuapp.com/[YOUR_API_URL]`\u0026lt;/span\u0026gt;,{\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;headers\u0026lt;/span\u0026gt;: {\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Origin\u0026apos;\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;*\u0026apos;\u0026lt;/span\u0026gt;}})\n      .\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;then\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt; =\u0026amp;gt;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable language_\u0026quot;\u0026gt;console\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;log\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;response\u0026lt;/span\u0026gt;:data);\n  }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;hr\u0026gt;\n\n\u0026lt;h1\u0026gt;WARNING: Not to be used in Production\u0026lt;/h1\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;This is just a quick fix, if you\u0026apos;re struggling with why you\u0026apos;re not able to get a response, you CAN use this.\n  But again it\u0026apos;s \u0026lt;strong\u0026gt;not the best answer for production.\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n  \n  \u0026lt;p\u0026gt;Got several downvotes and it completely makes sense, I should have added the warning a long time ago.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you want just to test a cross domain application in which the browser blocks your request, then you can just open your browser in unsafe mode and test your application without changing your code and without making your code unsafe.\nFrom MAC OS you can do this from the terminal line:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;open -a \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Google\u0026lt;/span\u0026gt;\\ \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Chrome\u0026lt;/span\u0026gt; --args --disable-web-security --user-data-dir\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;If you are using PHP, try adding the following code at the beginning of the php file:\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;If you are using localhost, try this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;header\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Access-Control-Allow-Origin: *\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;If you are using external domains such as server, try this:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;header\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Access-Control-Allow-Origin: http://www.website.com\u0026quot;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I work with express 4 and node 7.4 and angular,I had the same problem me help this:\u0026lt;br\u0026gt;\na) server side: in file app.js I give headers to all response like:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;app.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;use\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;function\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;req, res, next\u0026lt;/span\u0026gt;) {  \n      res.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;header\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Origin\u0026apos;\u0026lt;/span\u0026gt;, req.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;headers\u0026lt;/span\u0026gt;.\u0026lt;span class=\u0026quot;hljs-property\u0026quot;\u0026gt;origin\u0026lt;/span\u0026gt;);\n      res.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;header\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Access-Control-Allow-Headers\u0026quot;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Origin, X-Requested-With, Content-Type, Accept\u0026quot;\u0026lt;/span\u0026gt;);\n      \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;next\u0026lt;/span\u0026gt;();\n });  \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;this must have before all router\u0026lt;/strong\u0026gt;.\u0026lt;br\u0026gt;\nI saw a lot of added this headers:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;res.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;header\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Access-Control-Allow-Headers\u0026quot;\u0026lt;/span\u0026gt;,\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;*\u0026quot;\u0026lt;/span\u0026gt;);\nres.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;header\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Credentials\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-literal\u0026quot;\u0026gt;true\u0026lt;/span\u0026gt;);\nres.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;header\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Methods\u0026apos;\u0026lt;/span\u0026gt;, \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;GET,PUT,POST,DELETE\u0026apos;\u0026lt;/span\u0026gt;);\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;but i dont need that,\u0026lt;br\u0026gt;\nb) client side: in send ajax you need add: \u0026quot;withCredentials: true,\u0026quot; like:\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;$http({\n     \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;method\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;POST\u0026apos;\u0026lt;/span\u0026gt;,\n     \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;url\u0026lt;/span\u0026gt;: \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;url, \n     withCredentials: true,\n     data : {}\n   }).then(function(response){\n        // code  \n   }, function (response) {\n         // code \n   });\n\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;In Python I have been using the \u0026lt;a href=\u0026quot;https://flask-cors.readthedocs.io/en/latest/\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;\u0026lt;code\u0026gt;Flask-CORS\u0026lt;/code\u0026gt; library\u0026lt;/a\u0026gt; with great success. It makes dealing with CORS super easy and painless. I added some code from the library\u0026apos;s documentation below. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Installing:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;$ pip install -U flask-cors\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;Simple example that allows CORS for all domains on all routes:\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; flask \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Flask\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;from\u0026lt;/span\u0026gt; flask_cors \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;import\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CORS\u0026lt;/span\u0026gt;\n\napp = \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Flask\u0026lt;/span\u0026gt;(__name__)\n\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;CORS\u0026lt;/span\u0026gt;(app)\n\n@app.\u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;route\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;/\u0026quot;\u0026lt;/span\u0026gt;)\ndef \u0026lt;span class=\u0026quot;hljs-title function_\u0026quot;\u0026gt;helloWorld\u0026lt;/span\u0026gt;():\n  \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Hello, cross-origin-world!\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;For more specific examples see the documentation. I have used the simple example above to get around the CORS issue in an ionic application I am building that has to access a separate flask server.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;For cross origin sharing, set header: \u0026lt;code\u0026gt;\u0026apos;Access-Control-Allow-Origin\u0026apos;:\u0026apos;*\u0026apos;;\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Php: \u0026lt;code\u0026gt;header(\u0026apos;Access-Control-Allow-Origin\u0026apos;:\u0026apos;*\u0026apos;);\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Node: \u0026lt;code\u0026gt;app.use(\u0026apos;Access-Control-Allow-Origin\u0026apos;:\u0026apos;*\u0026apos;);\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;This will allow to share content for different domain.\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;Simply paste the following code in your web.config file.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;Noted that, you have to paste the following code under \u0026lt;code\u0026gt;\u0026amp;lt;system.webServer\u0026amp;gt;\u0026lt;/code\u0026gt; tag\u0026lt;/p\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;    \u0026amp;lt;httpProtocol\u0026amp;gt;  \n    \u0026lt;span class=\u0026quot;language-xml\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;customHeaders\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;  \n     \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;add\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Access-Control-Allow-Origin\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;*\u0026quot;\u0026lt;/span\u0026gt; /\u0026amp;gt;\u0026lt;/span\u0026gt;  \n     \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;add\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Access-Control-Allow-Headers\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Content-Type\u0026quot;\u0026lt;/span\u0026gt; /\u0026amp;gt;\u0026lt;/span\u0026gt;  \n     \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;add\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;name\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;Access-Control-Allow-Methods\u0026quot;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;value\u0026lt;/span\u0026gt;=\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;GET, POST, PUT, DELETE, OPTIONS\u0026quot;\u0026lt;/span\u0026gt; /\u0026amp;gt;\u0026lt;/span\u0026gt;  \n    \u0026lt;span class=\u0026quot;hljs-tag\u0026quot;\u0026gt;\u0026amp;lt;/\u0026lt;span class=\u0026quot;hljs-name\u0026quot;\u0026gt;customHeaders\u0026lt;/span\u0026gt;\u0026amp;gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;  \n  \u0026amp;lt;/httpProtocol\u0026amp;gt;  \n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    ","\n\u0026lt;p\u0026gt;I can\u0026apos;t configure it in back-end server but with these extensions in browsers work for me:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;For Firefox:\u0026lt;/strong\u0026gt;\n\u0026lt;a href=\u0026quot;https://addons.mozilla.org/en-US/firefox/addon/cors-everywhere/\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Cors Everywhere\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;For Google Chrome:\u0026lt;/strong\u0026gt;\n\u0026lt;a href=\u0026quot;https://chrome.google.com/webstore/detail/allow-cors-access-control/lhobafahddgcelffkeicbaginigeejlf?hl=en-US\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;Allow CORS: Access-Control-Allow-Origin\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Note: CORS work for me with this configuration:\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/eDD7P.jpg\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/eDD7P.jpg\u0026quot; alt=\u0026quot;Allow CORS options\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/27QWb.jpg\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/27QWb.jpg\u0026quot; alt=\u0026quot;CORS Everywhere options\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;h1\u0026gt;Nginx and Appache\u0026lt;/h1\u0026gt;\n\u0026lt;p\u0026gt;As addition to \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/10636765/860099\u0026quot;\u0026gt;apsillers answer\u0026lt;/a\u0026gt; I would like to add \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Cross-origin_resource_sharing#How_CORS_works\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;wiki graph\u0026lt;/a\u0026gt; which shows when request is simple or not (and OPTIONS pre-flight request is send or not)\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;a href=\u0026quot;https://i.stack.imgur.com/BTFel.png\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;\u0026lt;img src=\u0026quot;https://i.stack.imgur.com/BTFel.png\u0026quot; alt=\u0026quot;Enter image description here\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;For simple request (e.g. \u0026lt;a href=\u0026quot;https://en.wikipedia.org/wiki/Inline_linking\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;hotlinking images\u0026lt;/a\u0026gt;) you don\u0026apos;t need to change your server configuration files but you can add headers in application (hosted on server, e.g. in php) like Melvin Guerrero mention in his \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/41723271/860099\u0026quot;\u0026gt;answer\u0026lt;/a\u0026gt; - but \u0026lt;a href=\u0026quot;https://stackoverflow.com/a/46917668/860099\u0026quot;\u0026gt;remember\u0026lt;/a\u0026gt;: if you add full cors headers in you server (config) and at same time you allow simple cors on application (e.g. php) this will not work at all.\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;And here are configurations for two popular servers\u0026lt;/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;turn on \u0026lt;strong\u0026gt;CORS on Nginx\u0026lt;/strong\u0026gt; (\u0026lt;code\u0026gt;nginx.conf\u0026lt;/code\u0026gt; file)\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;true\u0026quot; data-console=\u0026quot;false\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-display\u0026quot; style=\u0026quot;vertical-align: center\u0026quot;\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a class=\u0026quot;snippet-show-link-chevron\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;expander-arrow-hide\u0026quot; style=\u0026quot;vertical-align: middle;\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;a class=\u0026quot;snippet-show-link\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;show-hide\u0026quot; data-ishidden=\u0026quot;true\u0026quot; style=\u0026quot;vertical-align: middle\u0026quot;\u0026gt;Show code snippet\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code snippet-currently-hidden\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;location ~ ^\u0026lt;span class=\u0026quot;hljs-regexp\u0026quot;\u0026gt;/index\\.php(/\u0026lt;/span\u0026gt;|$) {\n   ...\n    add_header \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Origin\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;$http_origin\u0026quot;\u0026lt;/span\u0026gt; always; # \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; you change \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;$http_origin\u0026quot;\u0026lt;/span\u0026gt; to \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;*\u0026quot;\u0026lt;/span\u0026gt; you shoud get same result - allow all domain to \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;CORS\u0026lt;/span\u0026gt; (but better change it to your particular domain)\n    add_header \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Credentials\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;true\u0026apos;\u0026lt;/span\u0026gt; always;\n    \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;if\u0026lt;/span\u0026gt; ($request_method = \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;OPTIONS\u0026lt;/span\u0026gt;) {\n        add_header \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Origin\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;$http_origin\u0026quot;\u0026lt;/span\u0026gt;; # \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;DO\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;NOT\u0026lt;/span\u0026gt; remove \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;THIS\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-variable constant_\u0026quot;\u0026gt;LINES\u0026lt;/span\u0026gt; (doubled \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;with\u0026lt;/span\u0026gt; outside \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;if\u0026apos;\u0026lt;/span\u0026gt; above)\n        add_header \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Credentials\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;true\u0026apos;\u0026lt;/span\u0026gt;;\n        add_header \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Max-Age\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;1728000\u0026lt;/span\u0026gt;; # cache preflight value \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;for\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;20\u0026lt;/span\u0026gt; days\n        add_header \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Methods\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;GET, POST, OPTIONS\u0026apos;\u0026lt;/span\u0026gt;;  # arbitrary methods\n        add_header \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Access-Control-Allow-Headers\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;My-First-Header,My-Second-Header,Authorization,Content-Type,Accept,Origin\u0026apos;\u0026lt;/span\u0026gt;; # arbitrary headers\n        add_header \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Content-Length\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;0\u0026lt;/span\u0026gt;;\n        add_header \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;Content-Type\u0026apos;\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026apos;text/plain charset=UTF-8\u0026apos;\u0026lt;/span\u0026gt;;\n        \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;return\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-number\u0026quot;\u0026gt;204\u0026lt;/span\u0026gt;;\n    }\n}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif1\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;p\u0026gt;turn on \u0026lt;strong\u0026gt;CORS on Appache\u0026lt;/strong\u0026gt; (\u0026lt;code\u0026gt;.htaccess\u0026lt;/code\u0026gt; file)\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;div class=\u0026quot;snippet\u0026quot; data-lang=\u0026quot;js\u0026quot; data-hide=\u0026quot;true\u0026quot; data-console=\u0026quot;false\u0026quot; data-babel=\u0026quot;false\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-display\u0026quot; style=\u0026quot;vertical-align: center\u0026quot;\u0026gt;\u0026lt;p\u0026gt;\u0026lt;a class=\u0026quot;snippet-show-link-chevron\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;expander-arrow-hide\u0026quot; style=\u0026quot;vertical-align: middle;\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;a class=\u0026quot;snippet-show-link\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;show-hide\u0026quot; data-ishidden=\u0026quot;true\u0026quot; style=\u0026quot;vertical-align: middle\u0026quot;\u0026gt;Show code snippet\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-code snippet-currently-hidden\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\n\u0026lt;pre class=\u0026quot;snippet-code-js lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;# ------------------------------------------------------------------------------\n# | \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Cross\u0026lt;/span\u0026gt;-domain \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Ajax\u0026lt;/span\u0026gt; requests                                                 |\n# ------------------------------------------------------------------------------\n\n# \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Enable\u0026lt;/span\u0026gt; cross-origin \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Ajax\u0026lt;/span\u0026gt; requests.\n# \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//code.google.com/p/html5security/wiki/CrossOriginRequestSecurity\u0026lt;/span\u0026gt;\n# \u0026lt;span class=\u0026quot;hljs-attr\u0026quot;\u0026gt;http\u0026lt;/span\u0026gt;:\u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//enable-cors.org/\u0026lt;/span\u0026gt;\n\n# change * (allow any domain) below to your domain\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Header\u0026lt;/span\u0026gt; set \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Origin\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;*\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Header\u0026lt;/span\u0026gt; always set \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Methods\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;POST, GET, OPTIONS, DELETE, PUT\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Header\u0026lt;/span\u0026gt; always set \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Headers\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;My-First-Header,My-Second-Header,Authorization, content-type, csrf-token\u0026quot;\u0026lt;/span\u0026gt;\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Header\u0026lt;/span\u0026gt; always set \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Credentials\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;true\u0026quot;\u0026lt;/span\u0026gt;\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;div class=\u0026quot;snippet-result\u0026quot;\u0026gt;\u0026lt;div class=\u0026quot;snippet-ctas\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn s-btn__primary\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;icon-play-white _hover\u0026quot;\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;span\u0026gt; Run code snippet\u0026lt;/span\u0026gt;\u0026lt;/button\u0026gt;\u0026lt;input class=\u0026quot;copySnippet s-btn s-btn__filled\u0026quot; type=\u0026quot;button\u0026quot; value=\u0026quot;Copy snippet to answer\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;button type=\u0026quot;button\u0026quot; class=\u0026quot;s-btn hideResults\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;Hide results\u0026lt;/button\u0026gt;\u0026lt;div class=\u0026quot;popout-code\u0026quot;\u0026gt;\u0026lt;a class=\u0026quot;snippet-expand-link\u0026quot;\u0026gt;Expand snippet\u0026lt;/a\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;div class=\u0026quot;snippet-result-code\u0026quot; style=\u0026quot;display: none;\u0026quot;\u0026gt;\u0026lt;iframe name=\u0026quot;sif2\u0026quot; sandbox=\u0026quot;allow-forms allow-modals allow-scripts\u0026quot; class=\u0026quot;snippet-box-edit snippet-box-result\u0026quot; frameborder=\u0026quot;0\u0026quot;\u0026gt;\u0026lt;/iframe\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\u0026lt;/div\u0026gt;\n\u0026lt;/div\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;/li\u0026gt;\n\u0026lt;/ul\u0026gt;\n    ","\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;The Access-Control-Allow-Origin response header indicates whether the\n  response can be shared with requesting code from the given origin.\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Header\u0026lt;/span\u0026gt; type \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Response\u0026lt;/span\u0026gt;       header\n\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Forbidden\u0026lt;/span\u0026gt; header name      no\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;blockquote\u0026gt;\n  \u0026lt;p\u0026gt;A response that tells the browser to allow code from any origin to\n  access a resource will include the following:\u0026lt;/p\u0026gt;\n\u0026lt;/blockquote\u0026gt;\n\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Access\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Control\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Allow\u0026lt;/span\u0026gt;-\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Origin\u0026lt;/span\u0026gt;: *\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\n\u0026lt;p\u0026gt;For more info, visit \u0026lt;a href=\u0026quot;https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin\u0026quot; rel=\u0026quot;nofollow noreferrer\u0026quot;\u0026gt;here\u0026lt;/a\u0026gt;....\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;ONLY TEMPORARY SOLUTION for Testing:\u0026lt;/strong\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;Who can\u0026apos;t control backend for \u0026lt;code\u0026gt;Options 405 Method Not Allowed\u0026lt;/code\u0026gt;.\u0026lt;br\u0026gt;\nWorkaround for Chrome browser.\u0026lt;br\u0026gt;\nexecute in command line:\u0026lt;br\u0026gt;\n\u0026lt;code\u0026gt;\u0026quot;C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\u0026quot; --disable-web-security --user-data-dir=\u0026quot;path_to_profile\u0026quot;\u0026lt;/code\u0026gt;\u0026lt;br\u0026gt;\nExample:\u0026lt;br\u0026gt;\n\u0026lt;code\u0026gt;\u0026quot;C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\u0026quot; --disable-web-security --user-data-dir=\u0026quot;C:\\Users\\vital\\AppData\\Local\\Google\\Chrome\\User Data\\Profile 2\u0026quot;\u0026lt;/code\u0026gt;\u0026lt;/p\u0026gt;\n    ","\n\u0026lt;p\u0026gt;\u0026lt;em\u0026gt;\u0026lt;strong\u0026gt;For .NET Core 3.1 API With Angular\u0026lt;/strong\u0026gt;\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Startup.cs\u0026lt;/strong\u0026gt; : Add CORS\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt;    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//SERVICES\u0026lt;/span\u0026gt;\n    public \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ConfigureServices\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;IServiceCollection\u0026lt;/span\u0026gt; services){\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//CORS (Cross Origin Resource Sharing)\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//=====================================\u0026lt;/span\u0026gt;\n        services.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;AddCors\u0026lt;/span\u0026gt;();\n    }\n\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//MIDDLEWARES\u0026lt;/span\u0026gt;\n    public \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;void\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Configure\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;IApplicationBuilder\u0026lt;/span\u0026gt; app, \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;IWebHostEnvironment\u0026lt;/span\u0026gt; env)\n    {\n        app.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;UseRouting\u0026lt;/span\u0026gt;();\n\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//ORDER: CORS -\u0026amp;gt; Authentication -\u0026amp;gt; Authorization)\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//CORS (Cross Origin Resource Sharing)\u0026lt;/span\u0026gt;\n        \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//=====================================  \u0026lt;/span\u0026gt;\n        app.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;UseCors\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-function\u0026quot;\u0026gt;\u0026lt;span class=\u0026quot;hljs-params\u0026quot;\u0026gt;x\u0026lt;/span\u0026gt;=\u0026amp;gt;\u0026lt;/span\u0026gt;x.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;AllowAnyHeader\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;AllowAnyMethod\u0026lt;/span\u0026gt;().\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;WithOrigins\u0026lt;/span\u0026gt;(\u0026lt;span class=\u0026quot;hljs-string\u0026quot;\u0026gt;\u0026quot;http://localhost:4200\u0026quot;\u0026lt;/span\u0026gt;));\n\n        app.\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;UseHttpsRedirection\u0026lt;/span\u0026gt;();\n    }\n}\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n\u0026lt;p\u0026gt;\u0026lt;strong\u0026gt;Controller\u0026lt;/strong\u0026gt; : Enable CORS For Authorized Controller\u0026lt;/p\u0026gt;\n\u0026lt;pre class=\u0026quot;lang-js s-code-block\u0026quot;\u0026gt;\u0026lt;code class=\u0026quot;hljs language-javascript\u0026quot;\u0026gt; \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//Authorize all methods inside this controller\u0026lt;/span\u0026gt;\n [\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;Authorize\u0026lt;/span\u0026gt;]\n [\u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;EnableCors\u0026lt;/span\u0026gt;()]\n public \u0026lt;span class=\u0026quot;hljs-keyword\u0026quot;\u0026gt;class\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;UsersController\u0026lt;/span\u0026gt; : \u0026lt;span class=\u0026quot;hljs-title class_\u0026quot;\u0026gt;ControllerBase\u0026lt;/span\u0026gt;\n {\n    \u0026lt;span class=\u0026quot;hljs-comment\u0026quot;\u0026gt;//ActionMethods\u0026lt;/span\u0026gt;\n }\n\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\n    "],"id":181,"title":"How does Access-Control-Allow-Origin header work?","content":"\n                \n\u0026lt;p\u0026gt;Apparently, I have completely misunderstood its semantics. I thought of something like this:\u0026lt;/p\u0026gt;\n\n\u0026lt;ol\u0026gt;\n\u0026lt;li\u0026gt;A client downloads javascript code MyCode.js from \u0026lt;code\u0026gt;http://siteA\u0026lt;/code\u0026gt; - \u0026lt;strong\u0026gt;the origin\u0026lt;/strong\u0026gt;.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;The response header of MyCode.js contains \u0026lt;strong\u0026gt;Access-Control-Allow-Origin: \u0026lt;code\u0026gt;http://siteB\u0026lt;/code\u0026gt;\u0026lt;/strong\u0026gt;, which I thought meant that MyCode.js was allowed to make cross-origin references to the site B.\u0026lt;/li\u0026gt;\n\u0026lt;li\u0026gt;The client triggers some functionality of MyCode.js, which in turn make requests to \u0026lt;code\u0026gt;http://siteB\u0026lt;/code\u0026gt;, which should be fine, despite being cross-origin requests.\u0026lt;/li\u0026gt;\n\u0026lt;/ol\u0026gt;\n\n\u0026lt;p\u0026gt;Well, I am wrong. It does not work like this at all. So, I have read \u0026lt;a href=\u0026quot;http://en.wikipedia.org/wiki/Cross-origin_resource_sharing\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Cross-origin resource sharing\u0026lt;/a\u0026gt; and attempted to read \u0026lt;a href=\u0026quot;http://www.w3.org/TR/cors/.\u0026quot; rel=\u0026quot;noreferrer\u0026quot;\u0026gt;Cross-Origin Resource Sharing in w3c recommendation\u0026lt;/a\u0026gt;\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;One thing is sure - I still do not understand how am I supposed to use this header. \u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I have full control of both site A and site B. How do I enable the javascript code downloaded from the site A to access resources on the site B using this header?\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;P.S.\u0026lt;/p\u0026gt;\n\n\u0026lt;p\u0026gt;I do not want to utilize JSONP.\u0026lt;/p\u0026gt;\n    ","slug":"how-does-access-control-allow-origin-header-work-1657384881723","postType":"QUESTION","createdAt":"2022-07-09T16:41:21.000Z","updatedAt":"2022-07-09T16:41:21.000Z","tags":[{"id":663,"name":"cross-domain","slug":"cross-domain","createdAt":"2022-07-09T16:41:21.000Z","updatedAt":"2022-07-09T16:41:21.000Z","Questions_Tags":{"questionId":181,"tagId":663}}]}},"__N_SSG":true},"page":"/questions/[slug]","query":{"slug":"how-does-access-control-allow-origin-header-work-1657384881723"},"buildId":"d4czOeg3MGPNUI9SipfjN","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>